<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vue</title>
      <link href="/posts/c0add594.html"/>
      <url>/posts/c0add594.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#安装ui组件库</span><br><span class="line">npm i element-ui -S</span><br><span class="line">#安装vue/cli</span><br><span class="line">npm install -g @vue/cli</span><br><span class="line">#创建vue项目，空格选择</span><br><span class="line">vue create vue</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure><h3 id="vue地址"><a href="#vue地址" class="headerlink" title="vue地址"></a>vue地址</h3><p><a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a></p><h3 id="ElementUI地址"><a href="#ElementUI地址" class="headerlink" title="ElementUI地址"></a>ElementUI地址</h3><p><a href="https://element.eleme.cn/#/zh-CN/component/quickstart">https://element.eleme.cn/#/zh-CN/component/quickstart</a></p><h3 id="图标库"><a href="#图标库" class="headerlink" title="图标库"></a>图标库</h3><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p><h3 id="初始化css"><a href="#初始化css" class="headerlink" title="初始化css"></a>初始化css</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    background-color: #EEEEEE;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">*&#123;</span><br><span class="line">    /*定义盒子模型*/</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="导入全局样式"><a href="#导入全局样式" class="headerlink" title="导入全局样式"></a>导入全局样式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#@表示src目录</span><br><span class="line">import &#x27;@/assets/global.css&#x27; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="css"><a href="#css" class="headerlink" title="css"></a>css</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">min-height: calc(100vh - 62px)  计算属性最小高度</span><br><span class="line">overflow: hidden;               隐藏</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="主体框架"><a href="#主体框架" class="headerlink" title="主体框架"></a>主体框架</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--    头部区域--&gt;</span><br><span class="line">    &lt;div style=&quot;height: 60px;line-height: 60px;background-color: white;margin-bottom: 2px&quot;&gt;</span><br><span class="line">        &lt;img src=&quot;@/assets/图书馆.png&quot; style=&quot;width: 40px;height: 40px;position: relative;top: 4px;left: 20px&quot; &gt;</span><br><span class="line">        &lt;span style=&quot;margin-left: 30px;font-size: 24px&quot;&gt;图书管理系统&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;!--      侧边栏和主体--&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">&lt;!--        侧边栏 overflow: hidden 超出的部分隐藏 --&gt;</span><br><span class="line">        &lt;div style=&quot;display: flex;min-height: calc(100vh - 62px);overflow: hidden;margin-right: 2px;background-color: white&quot;&gt;</span><br><span class="line">            &lt;el-menu :default-active=&quot;$route.path&quot; router class=&quot;el-menu-demo&quot; &gt;</span><br><span class="line">                &lt;el-menu-item index=&quot;/&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;el-icon-house&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;span&gt;首页&lt;/span&gt;</span><br><span class="line">                &lt;/el-menu-item&gt;</span><br><span class="line">                &lt;el-submenu &gt;</span><br><span class="line">                    &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;el-icon-collection&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;关于页面&lt;/span&gt;</span><br><span class="line">                    &lt;/template&gt;</span><br><span class="line">                    &lt;el-menu-item index=&quot;/about&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;el-icon-chat-line-round&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;关于页面&lt;/span&gt;</span><br><span class="line">                    &lt;/el-menu-item&gt;</span><br><span class="line">                &lt;/el-submenu&gt;</span><br><span class="line">                &lt;/el-menu&gt;</span><br><span class="line">            &lt;div style=&quot;background-color: white;flex: 1&quot; &gt;</span><br><span class="line">                &lt;router-view/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;!--        主体数据--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;margin-bottom: 20px;margin-top: 20px&quot;&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px &quot; placeholder=&quot;请输入名称&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px;margin-left: 5px &quot; placeholder=&quot;请输入联系方式&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; style=&quot;width: 120px;margin-left: 5px &quot; icon=&quot;el-icon-search&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="springboot地址"><a href="#springboot地址" class="headerlink" title="springboot地址"></a>springboot地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#国内</span><br><span class="line">https://start.aliyun.com/</span><br><span class="line">#国外</span><br><span class="line">https://start.spring.io/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="application-yml"><a href="#application-yml" class="headerlink" title="application.yml"></a>application.yml</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 8089</span><br><span class="line"></span><br><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:mappers/*xml</span><br><span class="line">  type-aliases-package: com.example.demo.mybatis.entity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 数据库配置</span><br><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">    username: root   #你本地的数据库用户名</span><br><span class="line">    password: 123456 #你本地的数据库密码</span><br><span class="line">    url: jdbc:mysql://localhost:3306/library-management?useUnicode=true&amp;characterEncoding=utf-8&amp;allowMultiQueries=true&amp;useSSL=false&amp;serverTimezone=GMT%2b8&amp;allowPublicKeyRetrieval=true</span><br><span class="line">  servlet:</span><br><span class="line">    multipart:</span><br><span class="line">      max-file-size: 100MB</span><br><span class="line">      max-request-size: 100MB</span><br></pre></td></tr></table></figure><h3 id="enrity-放关于数据库相关的东西"><a href="#enrity-放关于数据库相关的东西" class="headerlink" title="enrity(放关于数据库相关的东西)"></a>enrity(放关于数据库相关的东西)</h3><h4 id="user"><a href="#user" class="headerlink" title="user"></a>user</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.entity;</span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class User &#123;</span><br><span class="line">    private Integer id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String username;</span><br><span class="line">    private Integer age;</span><br><span class="line">    private String phone;</span><br><span class="line">    private String address;</span><br><span class="line">    private String sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapper接口（存放数据库相关的api）"><a href="#mapper接口（存放数据库相关的api）" class="headerlink" title="mapper接口（存放数据库相关的api）"></a>mapper接口（存放数据库相关的api）</h3><h3 id="service（业务处理层）"><a href="#service（业务处理层）" class="headerlink" title="service（业务处理层）"></a>service（业务处理层）</h3><h4 id="编写IUserService接口"><a href="#编写IUserService接口" class="headerlink" title="编写IUserService接口"></a>编写IUserService接口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.service;</span><br><span class="line"></span><br><span class="line">import com.example.demo.entity.User;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public interface IUserService &#123;</span><br><span class="line">    List&lt;User&gt; listUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="新建impl包实现类UserService"><a href="#新建impl包实现类UserService" class="headerlink" title="新建impl包实现类UserService"></a>新建impl包实现类UserService</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.service.impl;</span><br><span class="line"></span><br><span class="line">import com.example.demo.entity.User;</span><br><span class="line">import com.example.demo.mapper.UserMapper;</span><br><span class="line">import com.example.demo.service.IUserService;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class UserService  implements IUserService &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    UserMapper userMapper;      #自动装配</span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;User&gt; listUser() &#123;</span><br><span class="line">        return userMapper.listUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="controller（返回给前端的数据）"><a href="#controller（返回给前端的数据）" class="headerlink" title="controller（返回给前端的数据）"></a>controller（返回给前端的数据）</h3><h3 id="跨域解决方案"><a href="#跨域解决方案" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在后台接口controller下面加一个@CrossOrigin注解</span><br></pre></td></tr></table></figure><p>#### 安装命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#安装ui组件库</span><br><span class="line">npm i element-ui -S</span><br><span class="line">#安装vue/cli</span><br><span class="line">npm install -g @vue/cli</span><br><span class="line">#创建vue项目，空格选择</span><br><span class="line">vue create vue</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure><h3 id="vue地址-1"><a href="#vue地址-1" class="headerlink" title="vue地址"></a>vue地址</h3><p><a href="https://cli.vuejs.org/zh/">https://cli.vuejs.org/zh/</a></p><h3 id="ElementUI地址-1"><a href="#ElementUI地址-1" class="headerlink" title="ElementUI地址"></a>ElementUI地址</h3><p><a href="https://element.eleme.cn/#/zh-CN/component/quickstart">https://element.eleme.cn/#/zh-CN/component/quickstart</a></p><h3 id="图标库-1"><a href="#图标库-1" class="headerlink" title="图标库"></a>图标库</h3><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p><h3 id="初始化css-1"><a href="#初始化css-1" class="headerlink" title="初始化css"></a>初始化css</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    background-color: #EEEEEE;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">*&#123;</span><br><span class="line">    /*定义盒子模型*/</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="导入全局样式-1"><a href="#导入全局样式-1" class="headerlink" title="导入全局样式"></a>导入全局样式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#@表示src目录</span><br><span class="line">import &#x27;@/assets/global.css&#x27; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="css-1"><a href="#css-1" class="headerlink" title="css"></a>css</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">min-height: calc(100vh - 62px)  计算属性最小高度</span><br><span class="line">overflow: hidden;               隐藏</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="主体框架-1"><a href="#主体框架-1" class="headerlink" title="主体框架"></a>主体框架</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--    头部区域--&gt;</span><br><span class="line">    &lt;div style=&quot;height: 60px;line-height: 60px;background-color: white;margin-bottom: 2px&quot;&gt;</span><br><span class="line">        &lt;img src=&quot;@/assets/图书馆.png&quot; style=&quot;width: 40px;height: 40px;position: relative;top: 4px;left: 20px&quot; &gt;</span><br><span class="line">        &lt;span style=&quot;margin-left: 30px;font-size: 24px&quot;&gt;图书管理系统&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;!--      侧边栏和主体--&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">&lt;!--        侧边栏 overflow: hidden 超出的部分隐藏 --&gt;</span><br><span class="line">        &lt;div style=&quot;display: flex;min-height: calc(100vh - 62px);overflow: hidden;margin-right: 2px;background-color: white&quot;&gt;</span><br><span class="line">            &lt;el-menu :default-active=&quot;$route.path&quot; router class=&quot;el-menu-demo&quot; &gt;</span><br><span class="line">                &lt;el-menu-item index=&quot;/&quot;&gt;</span><br><span class="line">                    &lt;i class=&quot;el-icon-house&quot;&gt;&lt;/i&gt;</span><br><span class="line">                    &lt;span&gt;首页&lt;/span&gt;</span><br><span class="line">                &lt;/el-menu-item&gt;</span><br><span class="line">                &lt;el-submenu &gt;</span><br><span class="line">                    &lt;template slot=&quot;title&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;el-icon-collection&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;关于页面&lt;/span&gt;</span><br><span class="line">                    &lt;/template&gt;</span><br><span class="line">                    &lt;el-menu-item index=&quot;/about&quot;&gt;</span><br><span class="line">                        &lt;i class=&quot;el-icon-chat-line-round&quot;&gt;&lt;/i&gt;</span><br><span class="line">                        &lt;span&gt;关于页面&lt;/span&gt;</span><br><span class="line">                    &lt;/el-menu-item&gt;</span><br><span class="line">                &lt;/el-submenu&gt;</span><br><span class="line">                &lt;/el-menu&gt;</span><br><span class="line">            &lt;div style=&quot;background-color: white;flex: 1&quot; &gt;</span><br><span class="line">                &lt;router-view/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;!--        主体数据--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="搜索-1"><a href="#搜索-1" class="headerlink" title="搜索"></a>搜索</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;margin-bottom: 20px;margin-top: 20px&quot;&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px &quot; placeholder=&quot;请输入名称&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px;margin-left: 5px &quot; placeholder=&quot;请输入联系方式&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; style=&quot;width: 120px;margin-left: 5px &quot; icon=&quot;el-icon-search&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="springboot地址-1"><a href="#springboot地址-1" class="headerlink" title="springboot地址"></a>springboot地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#国内</span><br><span class="line">https://start.aliyun.com/</span><br><span class="line">#国外</span><br><span class="line">https://start.spring.io/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="application-yml-1"><a href="#application-yml-1" class="headerlink" title="application.yml"></a>application.yml</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 8089</span><br><span class="line"></span><br><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:mappers/*xml</span><br><span class="line">  type-aliases-package: com.example.demo.mybatis.entity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 数据库配置</span><br><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">    username: root   #你本地的数据库用户名</span><br><span class="line">    password: 123456 #你本地的数据库密码</span><br><span class="line">    url: jdbc:mysql://localhost:3306/library-management?useUnicode=true&amp;characterEncoding=utf-8&amp;allowMultiQueries=true&amp;useSSL=false&amp;serverTimezone=GMT%2b8&amp;allowPublicKeyRetrieval=true</span><br><span class="line">  servlet:</span><br><span class="line">    multipart:</span><br><span class="line">      max-file-size: 100MB</span><br><span class="line">      max-request-size: 100MB</span><br></pre></td></tr></table></figure><h3 id="enrity-放关于数据库相关的东西-1"><a href="#enrity-放关于数据库相关的东西-1" class="headerlink" title="enrity(放关于数据库相关的东西)"></a>enrity(放关于数据库相关的东西)</h3><h4 id="user-1"><a href="#user-1" class="headerlink" title="user"></a>user</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.entity;</span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class User &#123;</span><br><span class="line">    private Integer id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String username;</span><br><span class="line">    private Integer age;</span><br><span class="line">    private String phone;</span><br><span class="line">    private String address;</span><br><span class="line">    private String sex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapper接口（存放数据库相关的api）-1"><a href="#mapper接口（存放数据库相关的api）-1" class="headerlink" title="mapper接口（存放数据库相关的api）"></a>mapper接口（存放数据库相关的api）</h3><h3 id="service（业务处理层）-1"><a href="#service（业务处理层）-1" class="headerlink" title="service（业务处理层）"></a>service（业务处理层）</h3><h4 id="编写IUserService接口-1"><a href="#编写IUserService接口-1" class="headerlink" title="编写IUserService接口"></a>编写IUserService接口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.service;</span><br><span class="line"></span><br><span class="line">import com.example.demo.entity.User;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public interface IUserService &#123;</span><br><span class="line">    List&lt;User&gt; listUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="新建impl包实现类UserService-1"><a href="#新建impl包实现类UserService-1" class="headerlink" title="新建impl包实现类UserService"></a>新建impl包实现类UserService</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.service.impl;</span><br><span class="line"></span><br><span class="line">import com.example.demo.entity.User;</span><br><span class="line">import com.example.demo.mapper.UserMapper;</span><br><span class="line">import com.example.demo.service.IUserService;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class UserService  implements IUserService &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    UserMapper userMapper;      #自动装配</span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;User&gt; listUser() &#123;</span><br><span class="line">        return userMapper.listUser();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="controller（返回给前端的数据）-1"><a href="#controller（返回给前端的数据）-1" class="headerlink" title="controller（返回给前端的数据）"></a>controller（返回给前端的数据）</h3><h3 id="跨域解决方案-1"><a href="#跨域解决方案-1" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在后台接口controller下面加一个@CrossOrigin注解</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自动化</title>
      <link href="/posts/c9b1d72b.html"/>
      <url>/posts/c9b1d72b.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="0294bf3ca9b292f150f671ec157884efbd19a73147a2fc054e523d0e90da7cf3">0f6532ac58bb070d8e2353cf86d7d6279710a46927a1658166acdcca7fcd4c30d4af1f6f539b78474e38245ed089af0c6eb6eaa97143913b59a0550b5ac9abc5af8841aac4964526354a32899101cd843bb31e53576c2daa93ebd198f9d2884e336031e25d508301799083e33878aa9169b3802720a60c25df77a42074105f32da162fe9c3161c2efaff61425ae79a8163190cf1dba06c061b6b372cb9449fc7144542e564cddc77cd11d0ae856a5a47ca0c8036b89ed715564d7fef608b625fa6d45b38a044fa1f59cfbbae2fe3ea2dd05ce6bc4a97179377e811945e75843bde9af11c5c6c743bff6d0859116774b926a81e37b1ec5c70d81da84060b5603b2f1e93464d93b01bfd2bcfef18a5f04f28e5b5d0071422d0238ef298f02acd7efede10be42ee806e9eee83e9b54de049266c9d0c82f93923c24554c668f6412347840a4f9aac2da2844e790865b21792698ca439757b1392dc73d14794c52d57729f6bec46a92e2c905c1e9814a20a5a297d1f2b8d0011949f264e6026b670c5dca54794c195ebba69f7865d54e126fa8981a8eda5c2259c0b94a56ab465b1730d0819ae84b8589b261bc26097db4621d60adf229a0d6324c0e6a9e4ebcba6a04d0503cec2818826c90e57f5d6819b203fb26935a14bd348c9b2c893a9708aec17221f5828feb174bfbd2141d27494263c5c6d299ec2f4f3cd4cb1edcd8248b5cae0c59bfcd17b329d6d5c825294545e2f37f0692a1f6940b093866699db05e1a22f1110f03e7ce4c8af95379d1ba2dac12e525ac15bb05af4f1e1c9aa3ae6d2cae8e9e9e7eb4872239ae1561b9a6332daca8d629ebfb37014393642d8cc0ac5bec91b52c5199054236699ca81e9661a76a0ce41f34a51d32651d4f6416de8d8458c6b8065f787b139df27ea06921c6d0723317b66256802f13bcc0d957b7804c5b060866d657a8f4ea8309dce7bcf1b1880a3a55e7eb42ee020881daf9f3d49ef870358009cac37698e46733cd554c5565a877d85209755c030b1be6c70e46cfaaff69b9f5d9c27f06e19ee5a09e7f2e03180bce7b6be3fa532dc1363d10a1c6ce4f6c9cb5f3109c1e849edf1388f4e7fcb3c56f1f4d0e697fd4884696c52a7b69d255b82f4a4e229e86330e484f6b9a194c0d8668b289ffc96ff18285104b40738067afcb583705ee5bdd3fa642048d04654387e9619323655707bd0bd52b443239e6111b6d88eac065d1256206f6d307f7ae1269113baa964b6fab9d121fa545f00b90221b8bcb5597a7bd38365d54e75d0a9d90b61e4f73e9fca24a430fd19386211d95ea1a3de54688a68613add3e4d2c5df8363f7a2e2203d56165c299cf3e9ed3b0222bb70c47440da194d5d0db2e0a29bb8647fffb1d067f3e566208465b6f41bc5ee69632f4added7c8dde29fb37c7f10dd3039d7a62a8ca42ea064c15d69ba1a1baecccbf6fe485881f38ef40382bff9974d8ac4cba99ed5c686d2823893b1275ba5b3572939bc3247f9280ac9d45e3a727d09d8a21d9fa8315c81c079e4bd00fadd4b19bdac705c5b69aa0b9da3acb0bb19a1b4b8b8a83c024b0dde4ad8df6401b07d106548de6736e0318c8559570e94422d523a092b0c2e126e77215d9b07e6c93a8e40e43d734ce11f21de6e88446b0534821136771cc08e308a65fe7893e902ec87bdae1008ade4dbb5030ae015309695fb589b67a6857530023f165ff1a768e74c59429f08fb0f5f96a538bd60fc35687d7510147f2e875b122223baa0542db35e586eaa7ff91e13e7caa3d9c0bc55c8b7ac26f5061a84b23a2ea0300d6d4013fe2b13ca2ce21140d5734bdde1d6aa7c2d968d8011f9fd0aff6ec7f4473851b759b62cdae62b917c2d1a8de338cfb15a5374e619c64f82f883f3572f0416d7231a05415d83bd66c625d898c7c7b7305e45753ec22d142acd5cb3365e849049477a48e1611dd4c018868ccf32ce39b3681c0f6969eb22fcdd77fb9bfb9296ede29d914e9524075a5c733d1c9c96b819d3b91269ab586a02a77b38a8ffb34e18103ca9072aac95209c96c9da5c3d3bd240fbc0ddc173721afb0365fefe1840a8a36a018b11cccc53f2e5f3a897b46476698f340caddffb318885d4aeaea8466463fd37330c86b20b2a68c9dc356ca73911692b3229720490a1c5f0aed45325a1990b338177e519731557fc95c83021a032142765bdb1c694fd49bc7c08b490505d1b203c980d708aab967819c0e52572e3993263962255910f2990224d954b752c8f6929a95740203227731f863289d2d1dc60dd433114fca7b092abae197c768bf68a193967d7ec645b847a098629ae8ef9d461d36f4224706ddfc9902d37e052e5100ac56a53d731bec83524cc57e4995d45cb9e141d77f0c82705cb092e97e372637c0337357f354e5c7d0f2465147f93ddf1a50f73935f16676996fb0556a7b606c4d8d4aaf2f713eb54e70775a8708dcd5307c383688f94d34a41890b890ab1ca0677e35e8bb07dec47e8908868b34b5dbcc1bdaf83b090aadde90a62188ea80bc8cfbb3efe6a957b7df5f80b9f299d10353d32fc1afbb2089b96c41ef3366cde84cf42f01ba806ee8779ce6f61bd37120b31a9a9c8ed3c3cd5dae3e1a806b8c3785446dcd950e49aae142265b222018dc1379160e009056bfc4c3863470128d3f8da906bc6a09914326c81f39f12f4e1867b74f30fc262fdc12594aea934c39412fac9d72f62d1fbe8cf6d127fece5cf76140b73a827cf6517ef84f54569738e9b7d4a0dcb7ddafee9d5b9898235e9ab31bd49bf2ef8396e7dfa4a17bd34bdf037d4ce52824260c54b697b43f98e6ddcea132c7628e329d68e3438fedbe8cf8479796039c6194284130ababe37e93ad36fefc3759f1b66065541eca0dd759c3101e5877475753187c1079181aac9f5a398cde98b8b6324126c74de2ef06899e6fe3cfc8211f45242b8de031bf24fa8aa3e131784ea6041f5625fc332c5edcf6eef4981466d9e2885b8fa10d07b24ad4072a534564276690a23ffb265de59a7d1cb7cf97d920d7d12667460e6624efe2de7776164184d69fbd4d5a06a5083020684ac9444b9c09e70f439dccb711364b6b4a6a2343f5fd2ca5bf07d7b292a2127328f4f046cf431d52348d36be27ecc72f8657c717acf903935e4e69bbb32499cf449c325e694c5be6b49fe7a95683c33ccf755fc342d547cbffe4d613e7b7bb224be08e5d8258ff01a0007445176440d574a4c058fe3e2f2b9e851b217f2496571a21ca87e8d73d3f96d7ce003149b57d29913eb3133a4db311be2f8c74ce870f96822479a5a26d25499027d8f632c7680b9c48aef74a140415f4da8ac1f99ac6b86bf89a91cb3a8f511624637bc158995c207736bc9b11c4b6d31874261f9c63415d20748351577e723b382e59d3a87e5c7cecf22924070b20da642dad5709c644c2574f20b18003c9f4c36f464ee02cc9a22437e607056ee54309660e8dfb44ba9ab7c7bf115d22e1c786c60faf99c42e77152d9fcc0f40f6a5e2d638d12d95a89b9648ce63c56ada9744406aa9e0df84518ec6eee51b489cf9b7a5ba1424c6a61cafdb1128b8ba0724cf40d2b894c6040567d9f213c9e94d3f60899d0aba0e155b5bc9957c1bdaa04a6ceaa434e93e9f7183cd485ecd6aa5ad7fe5e2045253142a228abdb5cc075fcae37dac9ca1cf4136ce137f2def1ac9ce0740cb02a7b513794f96ebf25be9fad07a8d1ee3d59093c370cfd12c30dd09186cbaad76d19a366774c4a49e4de9a44f996b3f773c6756a704417d44f6894eb41d341cca4af578667091b1c23109b84039d62a0c07ec31aa12caa79c2b79468b44d738fa4da85c25ae6e0a2e32763bee9de547352e6fb18a44834647ba2306c2a1c5bf3161ff7c40e97916f964855c11dacc6bcc6d79b4b63163c69c0e0bcafa51722596b090dc0b5dec047405988a3a46ef6498cbd2369e458954f11663095ebb5d480c8a117e525f9a00c50f717ea96d6376a5baac6f9083b5ac88c8953c385020af757eed1acd3f5dedf5b5e7528fce18ffb8ed72495be8865085d56419fb10ffb270f512acea602414dda98c69898aac32fa5fa020ef7d05b005544c95127c039e4e2839aada58364023f509c96aaa6467e8fc0028c116bdcc2300c08e047c309754de65750d11092a21aee8039f9606f80a442f14c57b2c9f42d75afe948342bb7f756d8a49ac38342b17fb04df1d374dfac5e9b0b93297e0eec3a75cd913588ea1e54ea13d97ee13b2ac3844dd3c662491017774b7f2bd6e9d1511c12f43948b24c824085e63951642565353f671580e22a0e68c5c0a1050b0c0eee2bd8af663e5ddd89c1978f1255ec454f4f2e2e6153d147ebc45aa5bb3bcd40e6ce90a02117c98e6f2659c07d8827f0f3c23b5217668ca8c19472dc8b0532b584be43c83f6d8d9341978eb64392ad9497339581ea1451f92ffeace7467117a78110750ebd1ed9bc3c9542076a7d56f86fc23947ed3967bb1eca973b9d03705f2ebe20fb8d231f195270dcf0ceaaae7637c361e9d9a6e50f4cb08ff78c4c26c3ba1fe6ca67492c4a7210d8ffa7958270a9149d96695af92700a7b25b3d7842ce4653d08358303c1b8abd7662eadb6f45b4a0ea68105e0335c7923116e4fae0572f36dd0da43f235def7df0539fc2e34d4a04355b346eef2077aea9624a096b611274f58216136576eccd6688848443e017f07bad7967a6e4d58c0dba3590fa7ffcfb703d0eaea41b79776cef27a84b5fe24eb672d396cbfc34ca90091c339c0ec9616c77316f665ff14df92ca4084785b4aa720bec95b8a3f4bc23e871531372785139c9660fb9527317f90aee934006260ecbab11a1379a40b39724754580e0d50551be662fffd6e0b4dcb6d0e926b241e6dd56cdc554793e66457c898c0575db5ac3ac3d298ae20aff8ae9f967bb650fba1c113fed16776700be0dad88ed22803daaf3ec702c6445a77d8d9746c692f375eda821ef1be668aced274f6f9ba695925d15ae8f8d5fb1bddf24cd2170a8c5333dcdfc0d2ec5a586ff9daed577ccfbeb783744590257ddd1696e4af6ed5515e7719032cc607eb6600066e5ced58c1f3c08b27f8d312cb3a6d84b249cae214b85762d315d3e6567298a796746a1118151e6af309de1c357f1a8b8611dfef1bd6980acc7f1802c19f9817d090bc0a8e9b50f225ba5dfb4c0d5072c1cfebd1bbe4a2b42ef34196d38e0539403b5ffd66410597a42d4544874419c05a63dbe35ead3841d1bcebd54b386ab3374530270b3dfd0d9fcdfa9080c99d8dc15976076e0e728b883740897f8062efb190c29572d5283ed6847b451fff9fb68b202b62b9daad7379926cf1fa0d9be5cebfc4a3b7ea5ad4fbb77e48ce6e62df853a18ba0dc5a192a07acaa220eb5cf41b9e34acc1f4f3858bf075c5b15f8adbfc290a6bab39bf3d7f36886655f243292a9ff83d20a13acfdfa2d109651fc3c45b18cd33a66ef9a2c10cf28b574827dfaa87855accaa737cfe2d83d475c1d464ed5c7f3ea1f3b7c7e2ba5d75c8920cee41d5cb0b8860ddff8d0fa22743958239bccb2287c8cfcf3143fe5b8b34e8993914827abe78397bbcf29308e8eafd924b8b29b1d1da52fa3479463bd683d2d6496bd05e70f923888716ce46b080237f67fc6ac24cd76c326918fa3ccf2c5eeae7e4af3d919487199045c0f74bf942b415d6470ef1ad83e5c7f450db5962bc23ca9cce5cda83bae7e9691fc26b70cbf14a54ed9dc67780daa89d137bf2524a171e6efb81c6f58a30631620afd569e56f2e0b6245019f889842a954aefe8bcdaa67097bc7de3d7ec774f736df7014bd91f3cf79f30a3af95e28600fc7704193c66c2da99264498922e52f08dd0776badddc79cfc7831bd2cb0de8d66af9d942c47db6f0fb2add8340ca9be08923105f3717b3f89864b1d0fcfc43f8af3eca2c6d5cff053f1cf0456ace4617963ec302bd3e8d30d4d0b704e0301308b576c27ab5aa13114280feed17b0251dccacfd08f6ea68a5ea31f29a3f9f8e8b2797b61d69a1f703441c1d65e7018d146a59cf88d88a51e802f73232553ccc8b5aeac28f9af040cd9deebcb720f976c9781ee41797d1d94825136f87d0109d49e64272f73840df45e61b5e2e71b2da5529ac8bed7e02cf3dd4248beea95505887071ed7a9a10ff0c1d2dfb2973e8744e53b093050e189abb49d24e4feff9375085d3d20dfa8f58e9b20b31355bbb60b3bf2a5043cdd8c66282a1f563dc5d1643cc3c35a2bc7178427fc511a1de6ab9e9d809d48852c77a7b6399cb243808db11b9035ce17e43e83bbdc8642a87a3848f6fb64ddab24f0b43e08a0567dea5149663f9641c82f785d7a8ba2a531aebbc1723b6a6bb0aec3d7c5e216ac593d663ec761b82da6d3b946974e4e827f52332b15dac455f00b9dd4c5fcc851119bae4e5176bd13ffa8b466bff9f3a5fec9cee1984804dad632852ee76b9148ae8a014edd9a2267c08c3a2b47061288541eacbf0e3f55402f1ac054e22cc0ec93c3d77de21455d2af69f20f12ca63ea4d2fec6a1d32e61c51cdcec3ebbb02e655137e55f66fc1a5d980f8e9e04c40bea696def20fe9a580eb0fb9c495a18c724a226f1b570612b65a1e895b2611522bdf62b5f5902ab1f73860e9680ee0aff7a41e1b4fbfc793c5773a247d89755231bf7e0eb212c9e4116c14b7370a41a43835243ae02b9c3dceeb64b80a59cc7cbfd6e37c34a63981e47d0beb7ea015d4c10026d2ecb22cc1dcf2f1cf906bb0592c4f4c7df08235490be1b6b6f4137a05e603137c48e649a9a0d8dae2b0a95ceadd854bb2f590778245fdb5bcaed661c2dd7239dd52838f1801a87f12ad472140a674efcb15df4d54480f5ba413aa4dca539713497f9f0b9ab43d695cd6e43844f92f36f9eead9eafa3c0e36005a25aeb5e9788eaaf1692777428298265cf689e73eb0f0dfab242bcb5a60bb92f82d316d7e57cf9cde92c3125021315da33ccd5716fd75cd3463fae5d443949fc7206df97ae0a23c2070979afcc8b37d70a5832310b64ae53155edfb44095608a68875788e68c55aa34b7b69afbb8733cccd38ab1b80261c068ec11382b5ef986972c72e2726041dbe7664d2f15b479790c6af2a425ce73e2ca2ce69e64a9dc07e496da35cc3b339b45642c1f96edf45733d40961e59822d08fafdf88d564911fa58f87ec04db6caffc719eef45e0b15369ebd782fb2c9d28b185229ba5a7e89b79cb6474761c5280b888d2ed5b5a354b460b8dab4e7cc6736f7eb59c41806fe6d596c175551f0640d308ba75ae12cb177b07bc036b4240e463fa3a98de8118804203759324484801df797df68cc7e65628f85433c56cb3b6cff96547a7faa5b5099e5b010be1b1c471bd7cd719c9fd5911be02f905e31136cce5828afc51fc368967d89ffa2c2b9a31f40b7c12e8aa3cebba00e03f15e1b9cf3e867d32ee2756b0b77b3113705a9926deda7684ce8e4383c35e682b9438ca391928daa6e235442894b5d4832df70f190a03fbd803dcc104f194b06f85fa0dfa5385d415c80b84b11b787b658bdbaae41abb50231e3744e42f802bbd3e6a82eb5a55cdc56f1cd3c2605c9b98360b32de50b341c921e2302c70de4c177fa7ac43ac3ca54d5562e9d3850d22724cc427f77e287e95a192a225406ebbfad8c99c6850c1cc62dfee72de0b4b2d27cd63c9e0bcee0e61776229777a62866fdeebaf8a26f623c39d05cdb0d25cebaf60daf699c33986f2e549a28b81dae10cbdfd5d2de3360602ee85c049417e55efaefa6b353db3986766942e5895ed5e81ee5358acca8b6db157c774f816cc8169905b28a1ac2a7fbeac9e70c61cc8ef312a491371d0b12efbd4302b7a9c12d3ed00cb7083597bf751bd75ead3d20dac5f78c034e93e135af0cc49e824b31849da674b71dfbc60d0f17e42b0432555be42095b50744c8612d1dbb90dcc2fbbbbc6ba8236d5be22c93120b1542dbfaa76678278990bf42eca6e39a209f2e6d90789cfce81ec434fb15c8fb665699cd1ed86c095a22c2bcb1c26096f687d510a052cbf436cb71a0983d45547be3135f277689c7bebb977963415781074bb8c2195b2a5f1a400eb9257ed77ba34a929b4b46062880a6fefb5450b8be7352ed7ffcd419cf8ebf7564fc476c3d03d65a2121203b5624a9cfec3f6fc6cd02f2580115cf9f1da81815b10327ac281c3194b90617f1b788313ec6666c28dcc506573776408509b7a72f88e9482f9698503e1a0415520b8d65b3718b0e07b6f85992537aa00a00b89980a94a7b5ece843c18b6d20e44a397ca48e9951f4beede350f9eb38d72fcb10f44ad555a23c42c056be9a08cabfe7fc1bcc5f74872058c731d8ab48553f1c9840a6b052669f4ee844c6a4660d1391dfe2ceb57cdb7783bf7be766dd1881df01dda2464b2bce273f6a60e53cfa9fcc5d94239a5ae52464d72ee40a232fc62b4a4874838bbda83b7e4a5b4a7578b9d195ad921b519de108ac31b4d695da7f1f7b1d6319a4d52a131a3414e8cf4c26b406e1e81cad75de26cec38d9cde26edfa2d92cf15aac1ce4ca9876032b12245117efc2cb2452fa6b0dfc06db9bb1c33fa30c929658294c4af004f08562b2bef25336e5d0f53eb7ecd662af8a8a626f04a79fd8f4f3a758675a40e9f956d23f9c491479eaf09f381fe7efaf90f889ac59429a3d4bcb298b138467b4ad03eba0a2e3678c7edd4f4074f13d957126974377afdfd1bbea3e079a5310839414d843d56512074d82b9639e45a4855ae32e6cf4cfee100fd65d7b61d0437c4af0f7951b11f71112aff87953868e906a53a832b5262ce42651fa0ac92e0ef7f96b13582ed5b493eb07c02d488bb4c635847d9d6170a3a8d804f02ba7664745872314320066494fc59c264c138ccc4b5f20c388e56935c8bd94444cbf0f3b27c846e2b80d7ce451b4936bbdfe173545b71b7bc2b324406d3c14198d81aa1477db9aac1191e752b661ce7337ded4144fa2f0e0c824c6e302ef3a796046d076d4d5bf30d976cfa0c302ea3586339bb854ef2e6576ff21293eac8fbe575c372dab21d4b8cd27e67826a2da500e767d061905e31326136cbc804b19544950ceb1349ef0e95d0b26f90ee2ca0b0d21d6c6ac20f84f6a1af235ac3979a0d15682808e96366ce90e0299e60501ff42bb224cb3502ae1be1a77eee4cf8cfeb4c0129de8296a64a195b9a07eb894206791129d52733ef8706da9ab3cf5003b441f9ff903859c98208b21f5980e3a9f497b2a90a29254c5a4eacb51f1bbebe08c7edfe5b9cffad7ab61a11686c0a1d74f0964e2962b78c462319c12b36d71127b233066f441c9660a48de0287f9c02309845915386c8c37d22e8bb7db4d2ca2da0b28b6a68d7e6184db82d37e1667cd1e4fddb92922d6b85d452eefae082088666f54ade12a2727dcc72abb5963be1c5a4c03ca07e2a62ab493e05312a20bb74d5172dd6c59e3cb7c2d1ece0c171eb0553f3ca78cdfc7f66b4e040b025c6014407e121335655f23520e12a98bd7ecbbb22ae8dabeee2a8b5b9905904e35ca06dfe4c1b27dbf9c3a35117a32339e48ef4de03f6bf8dbecd129e577d575ee23bd04d2360482276f0072c236dfba42e005862fe752ec1010ad410df58af0b8d9d7ddc843ed4508a94102c3e466bd5b42c552392c9cac3bfc920334e8319d22e6a12327b70d94169eaac77dc1bbcd17525e808a3a65b7ef05749312917570fb3cd649827bbe91c9ead9fb8bb6a90329167d221381367ee2eb43c3f4ebbe2506860456b3222cd5f9e160041d3792771cdeed85a75af3bc6e46ccebb9582a565c089992bf67fd3507f8492b0e947852a9012378175b4b3fb38594248717ffe283b34d201ed8d57d96e5b1ef2f91fe0f95cf4ee107ace789a5d1eea78714fef631213622b89d46264a936609066f401e5274c0f370deb34ab566a02432ea11a27d2505281fb08bc371d13ba2d93b1cb56246250bbcbdc9e766bbaa99774d0cd68957be6731562cdc25b6984dc8ada2886cdf9fdfe81d6a65252753a12114208bebb5af531a74f391ada6a43667ec5e92577e2471600f9b3129f4642644c53e861ce94d07177ab46e11f1610bc6e63ef7bc67e277628c01b3433ab4ca540e41da5bd2401130c99fb9c6910719111943bfffcd39ad35518fa6f1e6d11d84762620203dd6e9bdac84af396a1ef21c4d16d68f0bddb1a9a5a33f88a420484a483a06c3be24b0288f440c1915add77090a005689c39589d0833a812e42d973f1b0f953f6751859dcc4aa64f352a65a10278874f8507ae6dd0e52992f26cf88d5b8845df440b6fd604a490c0e24ab57088c731620ecfca42da2a7b242e8ac320a65b3f3148b0dc8149641fd60d63a1db518c3000891c84f262ac2feff7834b7622e4fad0880fc371edf33c26988a1f82d0adfedf28ab79a1b14d93cd30998ae1d539a16c11db986b36f57ee5e6331e25b70b0d10583d24570d4db5af19c12c1d957b141b1e1ba709c5e52c9ac301b22831f049defc514148f4455e95ffa27421bc4258fefa893392899159f22fcfb548a32f1b740d3b861357ab2132f7377cf5cc0b02d032e08683911ce075d73fbc2eaf966b0cf841c3c81150a8106dfa088ebadd227e1d93e6bbc3d75ed39ea5b1b3aa5523eb125383fd794b72060ebfc9f44afec2711a1d0f352972800ac5431d8b45a975e07ffc441eb0feed9326105361a0fd3a9d1cbc089642aff6d0325daded8394eee71629bc9bd2a14e801046f1ba0b22488d70bcba361aa8056ee4a0af7ec27fd2359fa8ca6ae9da79c6d3547f294ae5bf8aff28105385760da6af8d88804439c727a4f53aabc36658d66944f907ed51e243dd27ea054f2316e2caa59390894b374db52ca3450eec28a721e0044e188ab77513c4536b75c4ae74a2910f9d596dd1573036b0993197ef31baca3b548772793c64f01c3d6b071ce4c0d2444da81995d3394971ec415df90558d94b469843c56a853d38b33fe23d7cbe7c441addd7516f502683dc94068a2964fc768d32d6e16d5378f6b4cac8b49d7d74ff38fc7470152212d955c95975252816e84998c37fcc2a30dad959b777d0f9d521b6573e3424988daf4b766515efd7a5a15f78a6ebf5185803043e90d53712c74922d1ad3a2d9aa724bbfbb292fd27652bb2b2e2eaae229d8176e3d96fc552abfa7e32c92d2bc839d669d473bc7ab596a75f790040e72326d7b6bb29c7f3429f45ba5b01240b20f894dd9fdf4a22d7b91c6efe10fffc6dec3e0d0c1a73b202435555d103a3701d23a36a05c45257ff064181cfe4b3360d8574b7b9ac20a67de1018943343dff5884e295ab570620e3e429e8977d7373132dbf551f3799e24bd5a85e09eb8ab9d72b98de95d7a97a8ed94df61232336fc6691f1e53f723c9dbd1261431c17ce221e58f72799460e64d21b2f67b6c1ce7556c4e8a92af09f1cf65dee5d01352be4730af7e0e4e3fb5dea108da9cb64581197aa30b6a55b4e783f97e454a8207e6c392925a3e4b9a0f4f2fa0b8a315753214650c8d04c4d85da563813277fe8b3040520aeb8dbe4d4abf435b65f2e7ef51097decad7d1e767b729e8dc0449302aafeda20ebfc7703d76bb4c787e72a2503ace86c51a53f24c110a3f64195e1db0c3f1a845c8eae1e90795a80818e5394e5047404858a97b80b1a149554bb5e77fe49fc687487d6c0e3d5cece12582587632d8bae409d759882762e587150204068adf72268ae1e486452f76a759199056c94dead51ec00f2192b339b87d8845ed60d0292dadd350024059f2262600d2559c635dde85dfd5bb1c94340e33d2c5db08ee110360fe40ebef318ccafbd1be199f900939f4048e3d98de3b25e9493b341503e98c310b200b75007bad27c333ac3591fbcdd1da128be4fe5ab35103d2202544fff23ff1f91840bdc015ebbd57ef3b39fd10c8110acdc04487a129d3b47d868a566ca5f7c04f99887318556907685521b1e1fdba746daadad2845452bfd2d9308c229827d571cada0898f5137c74f241944be5609c75a1fcf5fc84724b66b052da08ffe5acc3aa2f45aa59be68c2c96c76149110d4a96574f15db567c7e3f6bb4cfeac70103d87f95faab5b083823faa77c68a36dbc370277b9425be5652588eae2aec596b3115bafa63abb80d7290d014c94583625a4e89d0d8bc18e316de0b3b28881a48ac4a1983363cedf007cdd0c69361f0221ea408670f5032957ea390af0140876966d90a2370855cca213cf2225f08ebdd8e4b0ee19951cdffe47f11fb03a82d70fdbe91a60b06d32128e03f874c15bb8625a00865ca10129994c01fcd0769d0ef624e56f77ebdf84254ea2dd8e5962267ac6371399f366667b6dff401caafc919920d0e45b2662f88ae3fc2c4f1418c0754b51a7320c85c26612345f344f1e922196819c693e66e2c8e90d38e59e3faac03876c03d6f02dce3778b69b270b5af2b1b28e60e665efdd596d5a072afaedfdcdaab4784ad36ce581fb4bfa71e817f4267130fe1f3c316a8021d6bda9d506532d5a8a0aebe585ce77df9a4ff2d098a3d83c01e8b65fd1c8fec91a05865d9fc560972fc84a441f4c46616667be4039f2051ee9e0842a4f9129aa2bbd1d6e2b61290df7c8c3ac5486fa9afb9357438d83cacac26344fb021fe7f168476d92e5014549f6e895c6b7c0643e0133f246da788f9bc901dc6e195ed38626d15acafdcb1f16ee78b42c2b3fe229ea4c06524272341f29ed302c8fb7d9024323d6b76b31495612bc6663a04675348ab96a8a57b720ef17881d59e5ebd84ac8443d244a9f75ee8f7bd1117e90c2c116f74561da2b8d4385c4d583367e2f8ed64f02424117060795101d94e06dc83089cade6d8b72ec4922d1b6b49c23850f6e0048cd329591cbebfdda049d30b19faa9a68159e753475b5950b04dcbffb2712844efbf6864b8d078a58961fc1873b75cab1d13e04593eb5d3c6d5ef825076cac5b0c148b937931787f32c9fb755e0278e866392bf3c73a6db6a83d17ae34124ceaa41f453e06742eee204e6d63b263f22e65c0282e81b44e0b2351cb6b1e195c328f1e6d5a6e775ab22c8277b111a45c0d254375c69c7254666bfff9340eaa10e263a9ce5b89a29382c5256bb21de7ada0e90b09ae4920f77699ff0062a904071bc81543316e1918efe214e98445461df8ad91e518aefe280b7b8349d932c5f082a65b9b3364889b44148c2c65427b4456854e79295b5993848bbcd3cd6d2adac7b50c430083b907970829e1e57d378d1686be83fac6070cc5401946e7f432244c35defa0b932b546d5db67308d07805200af541ade95cfa8b56ffddbd29101dc06ee5eb7f778ef0a9dd94a9833f92f802c8dcf70be818b63b710a323b8358da45230ab2071d9063b539f575a897f6b349f51d2d0e530769b2b9185635d6ffac8714cc13e7d6a22a3c5ca29a9a0b669042e60c5a289a7e19abbcd2f3218b133d6d75b650aea66b4c34caca41903a9d0079c54e0bf5a9552980d475ab71e7443bd4857c825eb85134fef628203a2d61622da679397cfd0475dbebf6d6e5da70e40f638eaeeebdb80ae32f667a97ceffd8be371b0f77c3aeb5537bdefbf03e732814e77dbf3ba9ce293cd7fcc25f48061ad2fc42ec9974fd3c4fc59ba9c85356632d1d6244e2da6be4ddd16d6a9111fbb019c0261a035deea824bc9d90a3077abf26a31601ce9abddff642464aff686ace2e4da44bcc7e45c1738adc1afdb08b2a355455059553e46d547f66756f3b95b4d8665f28f5f8ed28f6c22bbc556744b55bb92a9189c2b6f2effeb6547d0f981c0e5cd58612180512db607e44233145c6b19eaf3a8e877b79250ffe5f808ce221ef6c83bc9642c5da6454e89cffa526351f6b63e01996141020bbad33daed68fc240cbaf822f22471b33b9b135e1431bd43750981db6ff1582e7dba4d17d852675c20aaf22c73bb985f9fba25be3f6697ff48067c1dc73fc212c3ecca3f241127473684a761c3b2827b56bf018996f70fbe3fd3880ae29538b57424ab613c1adfc0dd80935f2144168557ccb45c326dc7d86df4dca9d9625b566cc545d054a6ce8012cb4a6d5cf5b48962a47e52f596c1590f7e24b477ad15409d48616bfef93292f56c747acae0d4738ad845e44dc740c0c9165b509f86de0f9c386c69137aa70dc7720897c4a19f4362cc6adc307966f925056482273588bf05db5c4e22b4a3130cd7ec683091b6f456945381ea7cf93df051e81452b8ea2f338051d266cb43b34c49baf1743527b00f5188e4b6760ddba3c9d3d8c9e34222fccb6c177bf2fae20056eb06e2b8fa47b61ac56fe5460129160a952ed3600e611f27a21d57be9ef8356cf9e095e84f8df662fe37148cb375f6ea5e0da34603adbcbab6da134b1bfea8ef9dc91ffb430e4d796db91c9790c3aebb2692764b5a3c5dcbd1cfeaa6b85c05651ca2c8ea94c6bfb91f61f50765a4be26077df2182dfe2bc42a7d2464b85d3a46e27cfad2924ea257b3b170b483452f6a384fa483b45061f86bbd31feb80637085a6e50a162c862ee747c0ffcd5106a19ccd84260626cd2494ae997b62f1c3c77e0aea1337374ade96ec725d461fad40e4118649467cac92f078681f5e2fedb2103c88cda46eecbdb7831c170421c7c27e51c2bc03cf447da557905f815a4bba49de3d43971795616881bbfc4a82b8f09bbb371e3858d6f44094d8be33f23623c5b3b0604e453fa34a98f17fb76d1b0ffefbef9a4d557acdf4d01b4cea74e81542e10d2a42c66d4a95fd92cb53ca660499aa0522681485bc93df61cbfef80a5e9a9b18b6b5fc9f3bf0a3cbc08549c2ad54aea8b381de3fbdcb90ab6dd5ee490e7cd6ca5600e02c632ff95f6c1d75d12f39a21dfa7fe0c6d48288a50374e17246a0b1830b2cf5a4c1d8c80526b14a539ec96acb27ec667a39cb126a44f45a8fb75815ccd72828d8e9a5b731bbe64cd3c5b62209ade021f11689213415c98cb9b709bdaebfd7956657e59fc51816b1061e078c24311bde64967ac0eceb9b8dad2e1677833d2a49b39a97a0dc1df60f351177b2f6987088101d211d205db7f453a2e85cf18968c06464405ed54d0bf3ecdeba9cb7edf64d7bff0dbaa81150239a141708fe91aa752a6778364f96d841b4143b92da627892c59f593c555105c4abdb62ac231b7969c65454ee66a061076e98a7109bf9ea14339dd22278adb87f0fc5db9359e6f25f87e8a4988e00c8fbefce350899d0211e04f22eb2e28bd36110269462f47a75c3fa04b81419ab66ee2bf2e008bbf60473a11caae60429eb017bc7159c8e288623238928e3cd8817511e46010eb54df725428a784b98768ad141f0cab6bc8f6bf1cdb28c8b8623f4ff299709dfee3184ac0efa9249c75661584f6c27a5621909ae070924693ab5eab527f9557656ec4888d1963848f228c32b82ae0d5656d0516ad4e102c43f9c89e3074f8183e7c1f87213bee71b451ac1c4a6def2f4bfa36ed1c78c1bd3125bd2ebda3dc3cc02c0167f3f9b40e4fb8976c405ea3c9c4707fabc40e81fc57b2a785a69b95d7ac06e35ee2841c9d90796e83e86c41e68ff0975fddb30e490e2590b04218366347fbac59b105aef8cf319f2a439d5e4a0c5b3f16d88ea05dd783335c852cf4f89d23a6159066bebfe1e3df4131783d8bf2fa108197da58fc3101a64dc564936cfb00ed512583d486b10130d24c808da4bac65836bf864afd5ec5fbb2d04aed1ce3f4c66b2bc62a1917d5909304adcfed30ca577587b48ece93a3e01a1436a8edf1e2dca1827a064ba7484962517201dd21f6c3c75a8573c0ffdaa38a3b59fc4d5966fb5d088b7e62c653ebf6c92389d4c91a175e6fc866c9f02ac3ea67d800311eb8d55d0fe4b1b407fc160e09a0056b6f562cf4d6fd312f9f0076824937e1d22f801a35bf0d7b3ed3c5c068f780a139ae51bba2ed7181de57762746af11c16fc3317d83324a8e8fc8e49176fbeb7e8dc98cc65cf475b51c33fca4ad01f3824be324b1b1c518ed0326f2e0a739f1a0fd7b3f6ded43ee7b14902437ca170aff3a1bdee6aea9ab19132bd31c0cc2d16c271477ec7d906551bd33b21615886be226500da8eda9f4f7f2bf8463cd5351e3abb18939a15c582101d332080e5f8ca576e16630049bb5e40c238df226dc1b4c4852723c61291793cc468a6e9822a954040ad9023586f9459c5a502aad85b0948928a69451dd3dc68076c4aef6b2eac7bf8f994bd6241a44f485ad63213664f90f0169b81dfaa8a78f9aaf3f6ba3c74cd46a3a5ac308cb42e6d4140886b0dd014a9c1a969053d97de9e562314f2a31bb516745021332bf3fdc42fe9a3f4318d076d6877c1bfca6e95aed58f5f1137e0255d9641c633531eb7591e3d0ea68daa77586bdeb44db87e7b4bb9231534841178ba7b42152a3509639191b70a898893980209ca5647a642be900a241b74700893ee25facd832c549a68e223e3a110d3867161aa56ff97a447f94932cc3dbebba051b759f9371e4719f07802a63e9a7825d9e6121100f08433fa3e280c15db8e43d1de876e95ef03eac5cd8232f8b0fa4fdc4713086f46afb91972c135ebd6d7827c4d5c18917d8a2b8cdc938c7246a20f870d244ddbf93b142b6703a8a57b21c01c68255f552bf3e7f38e9f455b4c7df91d0e1468217ea215ff436e3bb960a3db264dba3b29f83f612f895bd2663015f6eccf19c49ea543142aed7b15972716b34b3c5957b95c22a2cea41b8ac2a93ab4ca09d8a4908f8ffd08cb9a86e2a5ae65698231f66073178a7c9c6519a5089dcff6702b19c5584c1815683ca2af048bb2003312741d78a46d1d6eacc3af74a580561b3eb15c330994545112163c342e5b178774006c6401cc14bb291f09482f195024893bf1cbd5572b5217449f25bbb429b60303fe217e8d0731f9652f7b85eef72e7b62131be33817844b95d926eefe0c60f6bc7a39f48185fdd1b5c7beaafbdb83718d585a132cd011427a84c0b362192ca4885fba665b84af45a41f646f671259ddf40194377005cb89f06a661e46f031858f0eacfdd5878841fde715f2758b5a74e3dda3daa3aef4361864f9a24908fd3562457304bcd00153c625e5aa97dbfa5d14991e5dfd5d81ab0de5f7074846e7a8139a41e683298107cec1051cd0b8388bb175ad99e1b401a5f971abf2a58e9f211a7d22735219b561ed7cb8762c16f6a9ceaf578e34f228ca1f6cfd4e822a5fb4bbbafb6ac38e4e9627da8292a4b4a8bb8ca705f2f0f19959a7eb0459fe9f99eb5c9439b107622e4e24facffd0ccb1251f8f5069f9e666abbe6bfc20e51c6592ae466e6196913cac46bbe2ced62e77b4a2cb4142e304acafcd93cbd07f14bbb5628435be04ff878d47ef4884ccb3f0d8377a0be79a6e27364a0f7170a4dcd18b2546eaf165ded53d6c4500a29f8db5fc1cd33b4f7b7ba75f4864d861dace3c3c7e5e97e643f95f9a4f80a63ba7f919b9f2088ca0fb79dde294dd9b2521f23947e253e09d3a114467d9bee55eafa3ac0881c190cf2ae75cc623728590d65f42b406b63494338880915814da81ec6b04ac676b571ca556f6caacc15e79054e38c35065e85ca421348e1f66299cbab4d801acdddf81d8eb2b026430da35fe537c9bc977bb11d4f4f0c4265841f8ffe5ac7512b746d1d498de9c95f112cd8e93c7326c4caa16958091548896f075c89a8fc5c556c2d27d014ab39dae7f9294ad145e7553f4500a3d8668f5e3b669e5964517bb7fa193baae15ca7bbd4ab1a9304a8ba82089c7e55a22036a505ed3fde6b7f7c4b88ec05ceabf6adf928dbd86163bff9bb85d3c4b0f25fcdb64758a441273c821e076693c91c39856de8a5890272005b8f2768dee3671fda6f6c0a20c71303c1f9ca62f620f08685ccbd2120068ae4438727608668dfc6660336c41d5f51e007d3f72d7170c984bd96e743fc85ee39e4791101f9df3938e11281ff502bf961c02f8b7215b000eb076bfc88003c7e1a24ad1868955fab29e8b202482d8ebcca116267706a60f2e1923790d673cec5879b4ed272c3a08879802c46e7d51a4fed8279144a72e64f5b3d067c81ec845a925a6384103f2e56d11a3310f723f76e866ed34c2905e714b821f5dbc3b44bb8164f94cd8b6fa7e588732939f8705d00ed64da4d40463fc5c69565425660a5b3c21d2d1393f69b2517333714fa0438e60c7427c0457df0faae5a57d4bdc3d01b69a4e8ceb870f856e352e094dbb768cd5bc0860ba4997b192b1df05906b8bea5e2e3988d3ea8cd256cb2e273d583ef726f1eb72eb1cad8265c0eeba14d90bc9f61d2daffc8d5d8ccbe83ec1854316be82fa684605ea7a4db08a104273f3ea051aecc785dea0cc3a097722c4f44e241bebe2edd3bada5d992efc57a8fc02e2830c6f910bab88908358385e9f9ffa6e3f404d0834ca9a5439e8eb3be881a37df5de49f20987b631d2c1f91daacf109d821680b7ef3a97555cc0cf82481581da4c0e9601a7a726bd516d885432ee90dd2bc66ef42070e8d96dbb027ed7a583bbbf71258174bdf6f77929faeeace6e734b10ca8325639770ab7e05fae22c4f8efa1a3fe064f06a1a22065e47977b2075a1540b43e9de3f0cf2da284d111df0c4049e4d0b2ee4de33783f71fd5f994c23f92a8d590409c46c319cc1afc4e76b9648153dec41c92fdb2c09e0bdea643d97a509ad448f8a32f5850f41df2ad26582031d67f4de50de2baae8438b9c1d8cf0e6d6dd69eef803313e116bc505256ef0ede31bf8e828f0212d787178becbe16dfef37f3681c2272a43d7d690c12bf8f9bb7421b3967fdcbc9faac17508b27647a9ad3220dc3e16e841cc54c306575ebcc22cb1ab2319790a1cbfba864c8ba22e0198621fbdff1a2ff0b936ffb3a0e77411b8c6b8c0bb25764f208393a4c0e7326b8233de69d1592785ac850c56ba50a3bd613ab7fdb3708e1127aa51034ed6a67d8087e25349297bb78fd49bd34363caa78d85fb822f3e47b6c1c888ff7e1ccde8f1f4cf9f776351409887c03f76873fce4221338019c244b60b3296d297575f0130199976dff58f45d34da30f0ae5e0956a6bffef4c11eb24c2742cb5c2a7d9aa9bf05aa31cca7ecc911c4abc369e2b7038d6c1699ea444bd4c350c6d156f54971e98211aadb279c3efee6fd554653ae2e2742b2e91fea7bb000e497b553e5b95cfb580a79e56b03c2a196f00afbcb69f13c61979dcce74f380d24439ee75dd4dd7603566534f2c6f2265b8ffb1611d6f363b77d89f71a69d4e11dacca3668b2f3090bb4d33c3803104165343a23db79961f10436ed4fe4dd94270be49d996843ef591e38eb45c38cdfc2bf80898ef102ed9245cfb2025a9474caebca99b18d105ade888bf8d8418c68d54d7435a55a810897a0e80f2a5f2a3588f20c498495482a9eb4099908fa553fc867c269483cfae4434ac317ad1df34a5877ca5e5b559dd8e35faf698103b0abde6cd33c0187b496f15279bf12122412156d62690fd42ab157121a599ce19ac5546acf6d9a037b61e65401d1a644c47b2ff848f014a6bfab877140cb9b2cbe8d328caf95dfd0c7f04b00e3616f3fd974938cd84b25534d8d25b752151bd9a620a6ed8b23b3db410a0ffe430f9f9a778b86e3a9e3deebaec317cb486fa8eb8de44f2b1b0f14bd27bf8b02a9767b95c075575d51a3277418bf5ec01c4440c180b5017ba65cb3fdeafd98432682adb5ba28e85032564d9ca8b4b9326209cd126a766723a1d4e00eff0212115703142b2b4f16818c031a3acd178333767e3fcb66a2b683cc95d770ad33d10f788e9e6a756cc4b1a6a80731d3e974a08a1127d7673173c236e1657d9168e51528644f7c90fafa50e84761c29cdf8120247203ea7c391689fc5d4d0ac880d04059afc5d3a70ee8a10d60d142d938f4074b72311eeb0a57ee78dad51675db0ce5fc791e9b6071fc1bc50ee184ff603b40d6fba577b078e8ccd75fea665835ee835960cf9aa0594a94e889b1b626d9fa4ca545b1f3daab7a50cee7605e9d98413f23cf14dd1b72e6e5ed77cc1eec1053c11af83d04d53ffe03c6236895d9b386dec7ccb4d5b1d919a26e34e9b1a45c26659e11b368ed51399900b1208e730e77bd4a1c14285c852a5b31388c284fdbef139a4481c24df6c62ff4fce8b264342f494aafb00850ebcf33db3b93b15eeda327e8efa96e9fcd2501e05f421c7d071af7821397fb5d4a06e386a0e624712ca13d185513e615adeca5613ab45b87ac7ef210fff0f534ba69feecdd03dcc74e308b7b869e8b0b5eb5d5f964cad6c42962e8244f14587663de5090d9d9e4f8770f93a3cee8ed2bf88fffd5c87b82d8792bee980e4f4cc5e8e63311a8c4a5ad98a50ae1d28b2203be6aeab4159054be03512938dc16676ba15a04401b6bc51599264b83cb25e8cee6ef7ef91c3201f918f37f67399cd02958eb37dde01c5cb7f97683430b35803eba21082c84d7cb518d45cc0bf287186823128d1506ec4bf7f8e5b573c71bf9d5fc24e977fe588a586fb3cbccd2d3ff9bcb6dcfd5f59712c5208b3137a32fabb4feca8704dd3458ef827b9d499ff59eee6997b2a1329004b95b7c30d3ce921f4c160d278740cc960c1e1f87109e259d9aa57ee6e2accb1da3836cd6ee5ccf7fabad67025b8619cc2f88e8235485fd410e84cb8739c9dcc267d0d2820949a7886cbe7f102b772a07ecbb5b6df45c1468ed7fee47f2b4b6a80f724c124a19b80e466843f1e4e47a8ee59d5bc355a11e5c983f01f9c4f732546159b17fd9b94e4659fd6de71211db9b9d89b7f16d0a5b03b47196a8162ba19e5a80e947adddd8d737e68a4dfed8d1b0ac570014cbac0f899e6394e98062effaf4e8bd9b6b6bba5971355054c13c97b7dca11bf75ff7a5d7ba8b075cdaf19b1ad9e55ac5aba9d4236c92b2d3dfded0082ffd98cba09c11dd47d5d2aebcb84d82002b41ceec29151f7b94182d4ee01e7e0d423db5c6c0ce7d2758205ea2849405f0e0733f5de47ad3a0504169f0edc3431892a6b20ce7599eb69f3535b933d03bdbc30574bdee656bc29c73283d21bb1e3c005ceeb4f41469d320c699dced8a5921cd4de14f0a3e4a6899ef908640f54167403d238405e6d35c95e260865d3ea507123f52f8f70ce78e5e024e4c5e7f51c26ad5c3a274b3a8a2a4400d9c70ca8b565b07d735319dfeec617f3d2827d1bf45e8666e12d0891961d390c4db8c4da6fb9ee7e06546c7f291ceabcbd711922d5b14eee2b084fda88bdf229f1e9653c81bdde6e478bccdd38b9ac8d2b151a124f9fe0c477cc165d3e35706c2df1f00643bae137b17d9448b635dab3dd7fefc7c35e4e3ea9eef21483cb9c9cd840782f745a61975f7412ceac89330501d31cc9b5bb20218b8e0c4f7ba1303a04edd169b91ccb693ee97ec00bab82dd7f0491d0d30a252283940d91b4b973978df23d5d48cd6fd867d1d6df7ab429504548c122285f0786d149ec9b6ce44c22980cd03bd17a548af5711c7f3650f2d674d0d1848a055c73185008a39031ce4b6a2b3f9ac9aa8bb95ab1851e553995b7f9830d8426cd3d9e3a64216abe724a2c9c5a6558671522c026f3ffcb80f3ad3018da4d9da311d9282d855a8accb37b4e7cc75b88c0467f21e0eb97b4a27fa4aa862b5e0ee877a82e47c037f8a4a844ba4a0966dc57c6038606f79758cea69276e960dfaa2060cf75b73d4373d8d585c094a57ffa9bb81362402f31e387d8e80b7e2bc94a4d84a7e29e55baf707e41cd98f3d11704eb05457ad445eccc7b0f0cfd5bbc02adc12ff562d2d4afa2ff839ead0a5f50773f6ccb33f726733ed2bfeca3caaeeafb1d82f25fdd39dfbc66c8df279be11eca3381d26da8b7d2df1e7f7abfdf97cd829d4eb735913c2d494a819ca545e37685b4110e39cb14c927af1259bb195eb6a953e432ebe8e399bf8d754547e8313173d7af00b032770a69716d4932136ccf14fe9a396cddbd72e946b912cb7eda51c35d214c3cc3275e08be113d29beec383dc35e39f9ab6e7bc8080d14924f0d4203bafb867c1d34e2642981cc65cc741f80b0a045ee9d4beea2e8ae650fb39e59989171be92438699e6ae65ab1967910b5a55acabd37bfb04c375857777502d8b7dc13e0f8f0d38e9e525dce17607f3cc613a02fb73c5646fec812c3213394f99cdcac77b67cb0577a688fc471001252f5d9d2419521c3c75540ee4a9a417f604ac0cdb7f3fe903d14e0d8d2b864c648eb352f3e2c5c472d26240072773d2daa92e3364aecadd0f845faaa5061e639df27af2b05de2ad2eb317d419a685f88053e881a7f056c9d0d70cefa4f4d23f748dcceec74d42c6a107951dd87f18a5c6ed8ac5cb3322c8de6a5227a3df48b0dd8849b71d83a9c15b4fb16e5bc70544314bf9df497a7e2129dec42bf80c6b512118446c2a1893e70580ce808cccbb8698b7d70a966187cf3602b590d80602522df6312a39ee3067ae95a037c0bd9fc804edb5c9ddc716e94db3187d54548c3a11b984543c2f3fd0c37cadd3621d7ca6cfc03c9aaac3da4bccfa1c073dfe9b25ef85969f334cfbf93232a3371abe87289d4a07fd7254a5d956dec9da7a7d0b7193c5ca32317bac2c1afd485c160b94e1740f614037cc9974f6e1529acff4b1eed318321c92996e1af95070170c2981ed2efb02b4021bedd5de0755c50d65f56147de71336548f5738ba95ea1c0171282acba1c18f0282917d80963f2b233f6ebc92496521ccb2c0e523f0463093ba2a4fa43ac6378e40d8cf92a0181df54fbd709b3108aad7f94d85953b82a8d61a8ceb9447cd77580f9d34602c7e380b34a001a6f9b69092865f4a0974db6df69ec97ddcad43537e58ada3875d856f9e17bfc6c1c5e76e67cc7fe26b3b386d27acf1b3a36037ef2b140e56003c081d3cd5398c6904e0f4f9ff8792b8e7247e154f0ce0b339f253a70c6a99ce11e3925dafa5a2af49bce7488a5198948f3573bcc3f2f2491c565355fc73cb088b171f38d77b4d0f8497a1aa57f06393d783019e5bc39ef00464ab0fb1c4f94e47f8fc370fbc214c2befd7e01e3a8e3f1e1e2bb593d0f93c956fcdbda60f152bbaabc026646910c6ad5e7c3d601a32289397d41d7478002fb32edfa502bd3c0d04a377edbaa5304e9ee4d3c1bedcb920d7b66faa755d6b440cac5368a3367a076e3c5622077224f0fb17f5f2120302dd54b3f22a2f2d186c2606928eba6dd9c18449326c5e8675901c28de6dedae295fa1de364c1ff9526e416e7fc75406a6e73842530fa90dde818a67918c5c3eb4c4e81ee64545805beebdd23c6e9f94102573e6f2b185b9e07e7a31e030f449821a38b8d6d95834e96cd624ce732d2579f54cc114ac1de185cee14890565a23badeee7904cb3e79488c4dc5ad2bf63ce926db50e6343c2d8299ffedf7d43c7ef1b9ab443bf57941b3f3170f5c16d593ae8642f988c1a6f26d6f775cfeda28c5b9bdabeaf860081c6685dee11f7210c724ec57f76f36c365bccdd37208f41db3c2a031386cf633955474686757c64bb27a489b613d6db0c9226f525520c629c065e383ea15855f6c9c05389a780a18bd03134478be2e6a4d3bdc0da180b5f5a592c331ed5f93b1dc660d6a3fee941cfe381b2f6f8d89a328d089128bacb1a80490929a5070eb7e00e209eed8bf131ced98d3712703baa55edf1149a9b72dd4769fc8a3e716489839fea123a20d7b27985fa0a394e250805e17252e7ba5d72e491a9d8b9d006bfdad1d35d211f5a99b7d2a91073cdffb40e1d9803b1ca40ed66ffca43bf630da6085b69a770b204ad936980902b9ff9f632e0892ed5c9f28e137731e4583eef2d236e3baf46d28f961b0141705e6be74226d24bc52be7cdb3fd58a3321f5c376b2e4c6a305f30f735347dd682fab4fd1be13c07ae03c4a88250717039e24a177bf7a833ec4639c5068586b04c016d0165b43d151c762775f0a8c62080b6a8cad4fb1be7ae2bea6045aa062c9dfb3f3a86ca23bc95f4ae3aafcdb623202bcf15caded9b62859c4a0baf4b478212b232ed84270a811d179fefca78cac749a13f373f2747ee1a3fa789de99b781a4d16873f0d0356923ca3aab93eeb9e5367b9d02a9edbd9fa4e8af7ac12e7e698a1f2e7cf106f812be2adec17d19107712e8c44944a3b42e12aa3c32f4dd3bd697e32987ac97d457580182930f0a73a04f5e1159303f2f7f4a89b237a05724245353673c8f8b9890922e2c3e03b7ebaa7628e7f50980430adb19200044cf589086c92c6ba15d3188ec90c34a1b02a53e52f680801ce9df03cc254937ad96936462bce977edccd2e8366602546bdc729d89a2118ecfb996d3e4dd81e58d35f500f44f6b9a0b653f4b2d404434bb9b6c70b9685dd1bb275658bc0ff71005a75fe6cbf256a426551602e346eebda1df5354888a36faba7ce9d0ed3a6ef3a2b21949629452b4daaf6249da5ff9f8f951018b74961d2894fed177239cdddcbb0695ca0909dacb7fe0e8f041b1892e494c5325c67ea3241c32b87261139afa5288131f1bb5f910a116b870aaff7d67138d65ec33944abd1a0326823811fa3d94969fe38e39ffac342385eff1629e67c8d9745589345fd6877c6302904b209e3f23f586abcd31144614237bc9160f124a0a609cc02492a220280fe768c7198fcbf41e951ccc5bd61fd84579ffb9be22e05734f488a310fb4197245f5b62d3f73deb867fb468fb55ea37e08b8ec1b2fec88a63452fda1e47e818284534c31fc9f2dfad13271b654527fe9148a700019bde51d7fec71872801a518f045d9720904933a6335d2d9cabde8e6acab7af4a4d7c1bae0b66287d4187610fdd2de1a0faf323c926984e73551d7a0d4025488012baf68eb6f5b0333e3e5ca63a5af9a40953d83465030601ae8703aaa22e1b7f9b79d26ef391f8ea72fdb757a3075124bc4c7f4f83aa8b07566a2602fdc7fb9d70bc551196b660f8b7773665a6392d7f8b75e31527a512ed4308071c0f142519c9331c859477617c07c06fb163cb7be21e5bb6fe0816340ec6e697df7058fc61a8118d4d32c9abf4b45591ee702db99e3fb2c7feffd04a032bae31a1e058c1116379006a07abc8c1b4eb38928e90ced3f812f37b6ad76f773273dacc299fb9870064df59dfa0cb79523caef49e0e23839ba2e8c23f0129147d9110cf390ac513073314b2e162fbbdba23b1313449bf7ff6c4622bebb3758aa75f7920ab5d41f666cf112e8c35940ec009b08fa9592651bc73f9cdd67224b49570eaf713347329e6ce6240e9123f376a4274d029da903d489c5feb1411b5ea3fea9f2c0a0da246470f8ed1318fd81a15c13e6cdbbc1d654f41ea627d2e6c4dedfd5507c4a7ffc88c08b2b660fbf1db7d13feacdf4b31b52543ac57fb0edceef215e8bb26d53de7754a5ac07f5e421f6e7a6c5431bb10b3358df8355a5cbed67536289ea1dbf43b00d952767a6feb1e5c3cd26a500761afbe11a799b38b22267bb1f3cd74d00c0b78bad80623d4dd40ed9965ba9da59f07a4d2d4e7b165abcabe914e780a38802a9d480a703f5aef2ac81e8eeba11d577f000b6cec36fe23970634f49c826f9e8a0d0858f784322b5015056c74832398d4d66979ba5e0a33ba37dc49943a48a4e453ceadda83a949c67c785a68bb0678aabe6fdc53edb0d4558079842a3a6fc7d148c329807383e242fc5b0ed91b75cabd2b913a8567144272491d50c19631d86d025a4375a2d43358e50aee766ad99826b5fbff105670f6a39dcc25f465cdf9f974b1d0a8f7ab8d5865394f1d91d5503ec11795aeb7acbfee918dd3d4006fc900d083f9d2c12471848fca229225c0b63713a2167d652395efe3c7d7ad012ede03f6f5901de11f741af8f1f38ed2d0797eb082d2e6989495b4b012936b11652181c5c6cb78b25a9469f04bd16e20b795e89c77def57bd8e41796c0a79211ab7ae26c7a057a865c5d330eab42caba10c13f1867a5c463f70729eb5939aeef6b310901522f63971181b06f3d1e138d3e98bddb5a613d74260581ea98d895975e212a5b99a057761d7ba5d8d0af09289308140d9da1736fe2b99215cf560feb3474d7116c28399f2872fd1f386a05077f6e0f90431e638c9e0fcbaf829fa86457384034f31be0851b6692dea0d383445c4a6fbdf2e4b3975fd5ff750c927d60e34604197f603ce2227fc7eeef598983fef1b4df391b9417a3a15b284568578f9ee6b90ea1ffbc706ba3690c2fb1d26a11a006dad34a4b9a44bc0fa426d015bad0fbd3552e7f81e5c7e5b9bd4da26e23e51a11d96c0a0db86f17ac8c64b4d8210510a88dbfa1ee995d626b276497eb4f02855410fe6c68995bc64f901b43aa682d95d39eefdd4eba0a3b6bd93a7fd2a9c64b9e9bc724a5978fa04da60950749128b158a4b6716e58087563169d3b684e86baf1138d4510849735759290d405278a97d5a93da564290736030ed75383fae6a99dce98d3a4a7cf20e6c2011ea59709a3b668d35e1d87e86e3fec036a5513c217db9e443dca09a5e7355e0cdb17810ba138eecae42f3c8ef9eee60cf0367a9c97f7bd19d62a9f08f2ac96a1f295b6e10e9e6da0df5bda5c180aa1cda7f65da30f55dda975f1dbfd67e68bb7a9f649caef3bf9921ddd0b265f648b9c9e0fa7f35c585820369a31494e6ed41fed07e41d843d724eb0e994dd8edec168e0a4880dc2b1be0bddcd34c547ad9a7484ea6588553902f7bdf3966aa244782b20b0ceaf502571ce8e545fd9f83eabf5a59bc14d1242a4c47a8682c964fe43ed63bd763104d998fa2fd2d300fb3f5a36de1a706715b62bb8b223e59ac46d5762246c000f98650dc14d29ddb29a218f7cce458ba2674c68817a812c7fa6497cd8b6e2ede284d752f83594551276bd1d6b5f282dc555daa1f215342f51b5f916006fa278d78fd3348997fb27332766f577421c8678dd6642302472a09edfd06ccffb2fdba409a367965a1cb683ff51b3f9da4dd304e0a069480a47ca35184951c2da8c46eca5725467febfc6e9a7d47cb8795f9de3dad691f56438a72e6a3fe0d08859e267323bc755e9741f76371c17d54b3aeda94fea1db81444153b4026e029a1c9cf48efbc4ff3af12777b5811c31f279eb33cbe68a666e436db59ae0fbd1d885db7f832bd10b9f4c2554d26387e569941537a5de44750257fbee50b12ab4d96d45bb07253cdb0a863e11c4e90dcd269d244ac271f0b220a6735122c9a23437d961a5a37b26bc458c8c9ef76b700a8b32df2edaf650c7dd157cfbad43f8752947e754c4fc4bb8da22727a5301f61cd29e8e835e9e1d406799884cf6b5505e229886c15b6f4bde7afdd7ad965e8502ed3d6ac2715265018f40d7076174a25eefb26e9a426fc27339f2592da858b9facfd7f87752a97e588000dd32fd209746acfbd0d811ac94e3763c7589b52ac49f0ebcfd67694747b6eb6e5747e1c8bfa17621973a6c86de7982aa494733e6c6f4dbe230b81b027160f6f074690469c592c4e32da8ba1ef22f72f3c5ffdb122bd46bbfcc568dd9e6b22601b791666d2379fc6e31e55938a0686e27ae7e7d8a8fbd302860bcaa77b7cd46e697438c58b780fdf2a1c13d536c04c492c94e1fd7757bbe908116422fe16d881e17611b761905829b08dd71edb0a3421505d5d93b92f7706bd9d509ab06484b8e3aa35abdc885573e177d82c763ec2b698cc0105bca4216288ca0d49249937bbc15febba0c591b93d7fe601ae04390f8d05157bb3a068e2fed057f45fdd4e2856b80d9130872902be3c0380f5a66d5db7bce4e0110c25a109aaa9745b9cd1e90f4f6ca338ba39dd3f1d79cccd9539dfa0721a4f656dc7f0d09b3d9bf54cac3ad5388996671dcc35efcee2309f62fd0ea39056ce361250f7c43d327a5e39059faab776b3ef6fff38b4bfe5b56cb5ae1c8f4ff39d5eba14992f0d3578d9dd1542291a7312443a8dc3bcf34ae1fa591b6ae284a660e28def9bcc1566fb1639536076922f0ec1659ed6eadf6dc5d1aecee1af16642b7892dd4a96c9e1100f2ec4026ff5d5e077fc8d1c19c25f458b29d4d717aceab04b96cb73f9ab35267f78323ac715616bd56dc1721e96033e559c5b37af806b95e8d6eecac8e0068641cf81291565d109417c76c6637204bb55ca886814b46806ead5deb034c26a8232f5c2a69221c54c8812fde9e5c45912b82402655bc13a15af109c6d24e32d816622704325f0ff4a0d6388f951dc6308ce3115db9488d14ed1278292187a0adcfbb582587c1864c5f9a32bf598021eb6fa91e19d3bac98b3cc30a5b87d469bd8dee02cc339b68256bd392e03f257faccb8729c54109d067413f603338c35998f8ac7fc6b2a710cc863ed4c30915cf760ad5270a8aaf455bdfa3d1bf589d79134bdb445d56b0d46f405ee04c8e044727a9ea9f77130843c83d5697334d1228bb372d752c348e4220702f677d2f0d451bd41fa8d7570ce6a75be5cc113b7a37ccd20bc16843ebca50d43992a1a15d5baf798c55a0c1d2886f829a9b023da84e97f209c9e4e400c99dd320ca00bb722d5b43a3620fc4d07d8489d39ba91c93986f6e146e47b80913ba06c932b820444d485d6b799fa385813c52a9ef8e04c76ae847e7204448fe5ce20ad8e4760b3aeb4ccb81697120c7d3212ed6520d375dbee14711ef72f80d180b5e46ace0662ab6ca030b2d8c3e034014799ce3e5e1be4c23a5f2bc9cc4b1e70a410dde52c20da7b5de9b21eaa33f2126b2223b9f1ee55033737d915f8269bd035a788ea08900705f9da64fb1edfe9bb9e747c3d9dd712f0cf67cdcc9854c4ea5d585577e97c6f846e4ac8734dbcfc033b35ba06168c6eeafbadf7749a52929e2ae39aff2103f76b522f589f14c58f748dad32853a024526ebdf7c3a1280554dd99f41d99cf704b27c41477a19b8dc26a3cd52d6598cc9023da64983ec71e3bca69551e0056cb400abe8a6e6e28a5315c50203d8c44dd51658e51eee8f50b44b3a46eebdd11c970ec1e160450964ea9cb1e872f87c9e6af28a04ce9dd49af67c473a6d88975f8e66dae3a386984f69602c988cf8a129c6d3e8bf72663d1bb0eb79d6cfc211200b14a1b2e10cb2ccb86e44c42075e732ce18a4494d47b9e3201b89d1cdfbfa32c93fa3a6d17c3f0bbf1efe1673170d63cd7434fa2ac5e8a6b94057fba7768a69e62f1bae8e0d9e5a83963bb31d54e7658f9580a9bd24f01008dcccb9e881a2a4883ae410bb0bdbe15477665cd5d424390abf1cea5f899cf77d847c29bc4fe8202956490ec0caa7f90f8a90ad4b7fb496f362cde297860e05278bb4d8b35d190d7f999f44eff770c8eeb674be1306a1ef1e60ca45dfc0e464e29f99a860be462d1398301faf17befe5ea35644b92de31829436084c4103093cb890d176e23b7972a8ec99375e978f1f823db5dec4d05a972d07e1f165cac3a84947ff1d074b9aabef742ee9f3c2b5886711504c95e73ee13e351cecd57d5394463e23789e6981a030d141cf061c4b151fc23703f06f52a6fdd9cb51dcbe872e0f20a7e366ce4c1566194c7412ab5302e3f0cadc087ea70c42238b13794366b9bc66c3f7b844dc41c71df83c031c05eadbd5c7739130b314408b5d405b8e0fa800d0825e3c9123d3ed56e7f36a7a02296332969441e177f06286bd91288542efc7f82ee4b7d97c436c5a82d5b423ad24089993f5c5d9f9ddaa17a4de4f5a58ef1152473a7ba3a727c31ec159fb3cac23885ec286025b61a45bd4e727ea2d77d856dec8cd3bddff6999da72103145531807bc37d792ba1a5803bc1953fc6e0bf2d3bb974b20ab3eb8e40c4c827dfb07ed39026f836c3b721cfa033be4ff0202c40c66b151c8b1c9d0f79e8d78b34cfb9d029de74086b8192b4c2fd199d0b6ae12258aeee9f6de7ee0bcfa386c48dbd4edcb0863298af9ae36d84597773528ade558db70ff6b2fa25fe0e516bd4800d0bce707e6200f491401129957755d42daed0b6efbee0b5c56e89ffd62b6da907d7b4caa376498439020e032f5966671c2dfd92ba7f34a8d87abef2e107b4b64dc0c73bc84157ce95911c615dd9bd9e7e0dff97326b42667b20fab7b33dbb4d51d34141c367ea10079e119ecb3db53f3383b064e98571488ef878c334fde5ed2fac66d38ba5be6ac885b7adaed3c025778bf7812a55a1404054e9d7f9eab8da300a74bdf33d75b31a7be5065d7a36e1862f5b96c24ad587fdabb7421230408c024a8bfa868e446dba863868a8005f86485f58892d54cdc4b23c704c500a6e3d4a6849a3f3c7ea53bf0280c5ea680d856c38c8b08d0eccadfd5b8fdb642c3144926f04a1b8a11feb9282ea80fd55740c35739ed6108bb100352c058ec795dd04954cc8de3de7f6154a4135fb88e999d2c9e0a19b8333e09c9cb6de44cfe992d54ad1944d5955913471fb73963a8c714f9227f5c6015404b4392ecb8f9aa2aa8c712acd169e2136e483728359a7f5fdbdda193d6136bdd81ba4effa36bb12aafff337f05db8e341769b401cbc308476574d6c649c373c09bed14433d9e3358af0bad70ff4094df437a7ee2824887a79a21af67420b8e9615ed9c0523b1d08c56ad05decf948d98e30df55555ad6f2dcb020fb78688542461a8aaf080c41b172569779dbceb9b5fea482033eee4319801aa8db92f439d6fe055306b31c40790e01be023e046513deffd60f731264886c656bba1a4f335b35075d18bf49c13154a7f9c29e43fe6b2af0fc060e9533dd3ba747d6b6861fd5baaafa2a942363b2f29df96ea308cfea99344ceb30f45b47ea2a44b2e19099d25bb703c011bbb0bc063ef08134931d482492064cca72fe8f8249f7683081a0e95c2d51ac4ac0ed4dc9d0751acce6a091d030c9f200bbe7eaddd30fb99e78af9d816da20478d5cdcb3d02494261655f4aad40b0c68d3a3c090662cb6ca9aaa3aa54cc009e6379eed893d86f80d6f3aa81422f07b1bd158f97a197f391351f489c195462c7b2a2b70655fd3bf77d88abf7656fc4fe3dbad58bede5bc4d529b10147b7ec58315606e89f1afb5bd73f35670e73fce90340a6e8ac08f55563b6ab28842670baa7fb3bb98b0a8514e29d0b64d8e7c7c4d4245447b87cf10113cd4bb54b62e019956f675ff2e17986a5d3236096f5d33cfce2745eb2e84b8ff2a856da1bd69e19b599b51d8ae9d71cefb84aeda4b0c4907546f52b7f3b281cd402c6004d42c3afe727b1d5426415eb5191d2ba997bc1e336524e1034f5da2c8f2abc495b2efba8a5f2e73c49420115892204c9b2fbcfc7431a912d1d8532d89e0f1130b4f479db24f609aa06e9cdf8974b32d92ea3feac43e3ca7f8931576dcdf0ddd6da73aa83a91907e0a5795a7145d1e7059569171d29ae49bfa88aba3b93e1c2f560f8d2ed6e3f81d1d91db4fda4bb4075827c2f1227937d228cf5d0c7bbbd5ca22e232cd3a3c9f6ccc405eb3480875e7a0e325d8e9eda54c8afe518d625a235a4f811f729acf620324ad05641daf34b1cf0d3c560240d04850523d4ffba5403e9a45effcb916692ae3ea963f2cec443baf816af8e3a62a1828f4fac98f852743b5e28f47957c331476859c351461a646bfc568f4254f3374105b0ce0a93f88cc9c7befe7756861978d8649fed8b446519618cdaebb8b1ec6c956ab814d79ca28cacebdc5342d824b694543b0eb4279a5af1f346d829a92d8329fe0844d5cd33b451297eda9026cbedb80dad0ebc475efcb3ddc2ec7afe876cb2ccc171c96545a62e22d1c4e38cba8441679fea5a5a988d6b76fbcec8ab882a3598d7e5592805c65e5480f899596447e00c4a412df91c110ed0083920e295dbdf1ba79bca5ddfd7969df14e813811ba32bf750ae2876ce39b529085c094b9a82d1051cd9e2410e2fcf13991e04c4bc88bf9b90af0cf91e871f9b53cc75bccd6dbd7d359a1e73143ec3c79fd8ba181e91ca5755e2a6ed38c277a23ead2cc58a475d96f1befa384e94a5e27e37f0e9d5e613939d22a1a5194694bcc96225d459cf51eeff5bd9e5e94e129805546ce300efa22e7e952436f6fd680871d7a0c7003dc2511c7204508912b71318f9ae8c84f398ac4e18f1ea900c9f66b8057ac6e4042c88aaeb0d16d20d4c6df4c8e3beabfb91e62b5cec920c13625b494f9192c084827dfb633fd69c80716941009db36034613dad170183ea02904732798f7a0f563e3d9cee082c046899befe6ab72dd7158aca7649a695d066f798eb8bd16f566de83ca11d2e4ca9026d0505849788e8ff26edf5fdd7fed6353ea4e9f36a34be0c32a3435d513de894736ef2de3cf3fd8c81bd1f84637a129f32767cddd565de2bae5c6228f8bda078e06c1e9b136c317da38a9c8347a3ab90968d68f876448a0e1f562b6052467c85fd141e1ecaf965ab73afab743a848185497c364805f34096a7646b75cece67722693ad3af91cb43765c236eb57e19fd139904dc0c8c6c8a851d53d0552669acbda62a44876b7482f2969eca2fd1ea8f3a30705bb7cc3dd02127708d5291fd9bad66efdfa1cc24866560b3e128e296a0cd1d7a04e93d2689e5e164ac0a5d566f1ab3f69eef404228d726271493343e57ab9cb31e0492cf369ba02c45314bd5a26c30ce04513fd3255af2dbd96c0ce570cc69dfd7b880ace0020d270e67f5b7aa0eccd9de9c9f97747a2748a254a57f9c797a30e89832c0faf21a81276dc2efbec662112633ffb8ac3c17b99d198342faf320c4255e4a30faa2e8db9a357a55cbac469f3aa03e699ae0dc19128b9bdb3e7478ae82a37218f779ae813cf5658c8d4a4eb960c7c40f2a9d77d7589d4fee5bd712268f307bd2d7fe154d83e8367d6d3756318ce9a3fe67fa30a9dc84872f463e663b52a29c0ce39879820a2a9d338bd55b6b2c947ebcbaefb4bfec57bbb5064f8bf5b4775e8153add195c55aa3f7dc4de8d83d83193322c176656aa3701592aa10700e99d9d4847afbd62a0b2ac0acf54d36a9f3939574d888e38390337198b4b7c069e2ce3cab027774ac5cab9fe850ace6aa1f298c3283ca0242c10b01bd82f4737aa34994fee00dc6025cf0458c258ecfaf067c10a79441e28ea127812353e1333f4b86caba6d346a3a473a75f04819cf6962a03cb9dd553cfe668693258f42e4d36354cc345ee89202bec1999ff436fc4c8460b0e2628eba0645e2383a8b794dc4b909d922a3f5b8ec984985ec46195d71c5f25351ad5ac5f08f9f07826fd1644734e725d51ce7e827a0edcbbbf3d6f9ecf47505e6b4a250fe58eccd625f6f6ed079441dc9f36c9cded35e90c7db232009cd89bbb66b77e8335605951803bd06e8eef12856b36f516c00460211dc2843511cb7ce131876978e2d4688a44a1513f36af6a531e3b5203e061d53466cab7b8875b3ab7e43eb29efc57ebb852a5d516e05ab68c1260221faba5064cb13e015b82c73c0b7eb5b107dbe57609d014eadf86e8166056701ff5ef92445c8735a5b64166190807be9413ca75ae7978cf569dc86ce1d9b4eafad6fee40ef3eaa63c265a1152e23a5bee3e6960215018b4552f85be0bb862ed8b997a13cafaa922ae370c9435f3e6ea509e20d8c84eb2971be1dc498053008b622b8505c067e346e02846c516847c0648479cd9086c45ac7ee93d5e9f1ed088748d02535f297b5545ea16f24c90b2227e5d4d578235a54ca45c0e615b5ae7c19be23ae5437fe3f94f4ca8ed813951242ec8cf00a095c308174883accda335ea41f4527e273242b2ec71d87f4c0a9fd5fba9d741fa110be0753fabbdedd8441021d03eab39b8efa1f72d376c33e0aead90328100b59908a10e3cdc37872f9b797fc7b03457707d10e654ff3b8d4ce520fc4c47851260f083dcd680cee7bb9ed2f872e98cf1b866eb96c67341ed0b2e29994f03ea881bf177ffd5b667c990a21516dabd71f98ee18006deb97a5e377b6ad4d2a8adab15dfb8f2445955946e87c5bcdf74f0a1898517cb06af6adf6e1e73d8ce70fee7d73647c979fa06198e8b1ffc8464c1629efc8f25a9e1768af1da1c722419bb12d2c9e0d271cde3f0bc794e51ff68c71d200bb8e6faccab3c376a924829283f5671b14ad855fba5af6e49a2f5b8121d35ac0dbd29dcc226aa83d9ebbb196ed44a4e9bd05553f773835712d95eba30336295fd628889f887fad7477e0eb1da15d9ef5efdccb8d25eef90b1d73ee692d52831b1a55b04520006270b6f7447c64e981f26096e948300c2c559663f7caed13a057f7edd937ac31419a243551b1d852300c0106e07ae8e1716d9adc4f16850c3ded8fe44f46d78cdf098ef6ac81fb585da12a8de7f3d139e51b7f6dfa6a158cdd03f3f18c4a54c93e1803a197692d2311a76d89ef24628c0e53ab15be5cf1b1f73a01ea60086d2d7e2a18066ce55b71aaff8a246946301e4be647ed6099105df158742e903a64c3fdd512e9702583039a3e04e912e2c5045b127cd090b00dffa74dae3ff171e971e91cf5e155ce3845051a76b8420fcdb8b2aab7eb1370c778e6043ad2b2e9b9b8c75ebcd186a0e4dea8ece883b12eb01b2557f2482e61e30c0e40a2e8f3334b690cab5a9fe724eb1593932dca170bb2610f9b55c2610303ce5450c44d7f5138b1c493be655e8b52491a100fb7142187f1695230ee2139f4874ea489649af93b85889ba41c7341637b525d134f0a0ed10f239aa70add6299073c9bda5a4a6f76308e8a2da741dcd83db0422800362da5f598fcc99a10919633f6a8f9b3441eefb5e6d677055b5f0c995e1ad73bad0aa5bdf961efeb23c33e18a431eea0b6d6d81cb74111b501188bdfe934a13c4c69408d2c26b3459f0e057222a1e11cb868a654ed0c202a079b30c744bade82ec974a291125f4557120f1d68f9727f83f986dbd409d94c357a3cc65af1f6cd7b9e61120a4329a89156f7dc0b805f7f326caf0acdcc5d0a11b4368e486d097a456418a14a0b7f7b054ac37e60bbda4344af230767d21f03c4b721c87fda8b1ad4d848ffae741859bd7f04007ab2d913c99afc9f01d40deb1828145e5dbd7df5366ff0fd1a463892b8f64a7f32f68925d9ebb3a6866a7ed311c674f72ff53bf60910e60c01b09147528e825eae3b3efdcf8fb3f54020a1859d53b4e5632cd19535f9f503a14809da676ee750f30c2ba6a87ac33cab6ac6ee657c741312102188c4ea3315b3a1d570f0d863c7e7c115abab60b3e91f0c4b822faa117ac1738441b12db67204d5ae75734c81e657e4fb5e958a37aa2a2a08266640425ee9d739f8dfd711a741534395a1b1cb127622df807b1716ddeacc0218996d413561fdb5a0fc93b987b6761af6d20042b86b1a07271018da7dac2736b5591f9cf409f75ccb2b931a81d115004151ca389a99960bd376cf05156b248e153321e7dfd6130987e1943d232ea9b13248c11288b253ada42e01eb850b0c42fb0fe991b8e6b9b8cdba4a79a854dcde6538e29227e03db82aafb85d32e16d32d103137802a6184979989bb2515b5905a9a0a0fdf15eea720baf3b4f10fb83d5a5984707ae9557dd4ce8f82bbf245d51e2d21038628161ce9669ff44dce5a1d92519451d1c91fc55ab11c659c81347c8b2a56873eaf74eb858a5cf3025abde56229905a19b5ac10062467fc6def367a6906a66247d4cb767dc40d7e181eb42fa1456fcb8b1a9df95f0e040bdd4caf2a5158cc620f2560f4d4213c106b7d939c54f3079ee7dfd93473b5f6e30157b14750d9b35315753b68cc9bfed2150b2a4cbf7d47dd206e0ac20cd18f88f956a473294304986a68dace15214ee3291580449792065018f49e25f983f68597d54af426d0a312fef3fa40ce98d81408e0b82fefc73d4db0bc0a2d253e2a10294f7808b2426614a57833a7726cb430b1702f61ed7e043c85a1a1b41891bb1f456905c02be3b1bbedfe0a54cc959d7bb61f7de1f15a7a5fe218ced6bbb6ec5e561abf0a1be8bf34f5e247e02c3c0b3205f208d797512a3db0646289cd2b0d6651076a0a0b8958419c54087a1267178f7645c55a567a520aefb38f9faa4b550afbe7e67047fbef502456a1447bc10fe830898131e4e4e8fcf01b57fea4f63c9b83c7a229a3922beb95993b334e718e726fbf7e10dc8fb60dcddce7131de9332d2298a855232f16889849ec12d5556641c8229ae4f6f4c9aee29b0db4bf90e74aa8ca9896be6a1c600713ca61f9b53925afc0eccefedb438c68d6a34ddd35c43f8a669b862a6b266f69ae9409a356e24c96d516287f39cce45edfaaa9d2749afb6c7a68e8260cc1b2fb67f7ec515e6a21b6345391815bc370b1be3c00487afab2e866e307d179f23bb295a6445c220052444f17ff91e68478bb3337d59771a26450c46ea200398d5d153e5d40d2da36f4a88135bf6a093195fdd7583644d18c50ff50ba9d360a0ee2919358b397873e5027875b6cf9eea563720bc4413c02179a870d26fb46c52d8cd42f37c4783ac8698516aeeaebc9b7928e7ec1e92199c071083b16fa1462ca3adba63c1cc5a1a895163db9a61616dd7ad1ccd29dd033e233668e784291ec3e61444dc03bbcf6838d260bf20edd9e22832a98551b8ecacf384b3d719619059583413a278fb4b5f72d28e240f5a4220abe70f913f335e0a3e8b52fc7978f2f206cfa23cbf20c4731b23f0ff82b45400d9f3032ce36f7f29a98b5c41e5e7dca565945f240463ece7ccf4bb0800a7b99856b0651825d2105e4b33bc8251258fd37567a57a475ee1e604f7998d9fcd22f2fbec4339d78c5722673a0b83d1f969d1212ebf4147ecbf5dced9238d7cfd93d2815292b0c8ed8ee58584752e5651fbe9de77083874404a9912d0f88d2f9430e5a08966d210d4b9e3af91c2336a380ba03d44572b1433fa00240ae8746fd68571a2019d94974af10b5e61c5f446d3aabd43018c4cd69858d5534584cc6aea19cb7851ae0b353543ee60cbe5c482e865d1210288febb6e0ca7a34e8fad61b1e3fc97a94c7c04a49b51550d6466312ffe7b30acea0b03b7d0b5b39f9497b287a4ee21783ac64cfb556a13b2a2a4cebd8f9ea7a71221d36df0c6dac18261495b4ad1d8cb7d9a4c30e6c041c7d14046bb19ee1375b0a9565b51bf0761ded88e357b83fcdf9f27dc839f25b81c5ae7857e26dd8952bd7df6daba244e53c72feb029255384160b4b9d6f3d0c44fe46dd72bc08b3e022f318b99884164605b0a6a260720b84cf039b284ee937196eaa8c391080176fce1085fcbfdef511dfe1fc1d2ddb96c82be60de544feb5c7dbfea26c78f19573454ade793204b5d36699c510403741f95e916adffb81506b2f0ba99918ae6f145bcbf2515f05a4860e2b19ab749254a798bda1357aaa671a8ecd0fd33d136ac02feaa0f578d195945d1bb1952be591d878d6c5f28d0e716eafee06cd6b733133d94ccd5d6dabe6ac2037047bd7af0d1cf72d12d8a9a5877751493ef8abea3a3587f48a75653b1ebaa17de78414f83512c084ecd6da6c9db311f95503c1039ee38e8e9ac6fc6c3df390dacc72979578a9cb9127f398a5b165bf7306098521a38f5982eb316c08114a85c2fc21421e6b96a0ee41764a7a2a3a1d5e9a6f1e3c4cc4100b90fe0cd3cd48d77bfdebc587115aac062507c5c70c96d42043e80012328c5da26005146fc17a69f352232bda5d9f3d06d25d300daa357553863912d8c2e75a97286a8a0a87c99f8ba95b5e8df4d4f788c07bc5532a5ca00b51c47be201c734bff60d8bef5f38f39520f7984630d0353a78d16d69d0b72a97205d657f799df4c4d0ece1f3ee0ca4bf61c6ac92d1028d8f566a738106145810d2755072a81069b707601943b1736d80f936196c9b0c09bfd832228d4e72fc732ba8346f9a68a52b73277337101735441fe0a510f435b730c12095013b53685196bdd0f702bd4b910b7674db2f9fc206f8c46212e882b84dd07568f370a81d6909110bb7d1f3663ddc3053fef9c13b757d7fd689bbd5f033c1dec53592db6d6507101962fc88cca9a18ec61d794f7379b84400fc7f415e85767fff87ed9f34edef6e0b72d60fe9a7aedb87c4317f6dccf719125d9c40e0fb0afbdb843e660752e428d36a92e35e5975aa817348df07d4111795f331fa3163ad9565ca4a28e63fd19eb97171a84433eb76c2d61bf7920d14a1624e29f957189b37b4cc6932c49e6de6fd0f18db10dcbc4c59419eafab01402c77a6d5a2a30f2b1305c8e830c6f31ece51918f2db6fb8cb49ab2fc854a8a801dbcb94a8e2c6affb9235a07791499d33ffb6cc17cb8df91435e103245c19b6b06e044ef16d4e4c214bc15562c8362819547f699aa2aa51eba0659a9d0f96ea21dfbb85f677fd6c5440aae6ac95a550ec32693858a030588f8d5ce48b6d3a26dfa21ee3213863a95acadb609d87fc4049afd40980e026a58b96f71290ef1faf07673666f5c85228971b6c94113ca9bfd95291aadacf5ce962e6d0d7c3201059af069416288b4a823bde8bf35f2d7dff97cdd1807cb5f65a66d26529a52da38e3c1d10033c304da26ac49a8d69cb651d77b70664f4eca2734fa8b174cee4d1edcd948d3587660b2a9576f71d74bf3c798fe8cf934317519594b5fdb2ef4dd09c2a6bddf459c0acb82c490d3c5a72428f8adf96405ccf2d5ace7ff180978f02e105775e5377e9c1c24cb4b0a91fc733ad0231e82a4128e915e72001d7d54ea8681188a2319e108f922728fa196c712efc858005c71c29332cf04658a9474d9a7fc4ddd346a74ad8e677a466584221c86d39ae81b83ce5bcf97f279d4ea8d3df4a0acd5c015da41a2c9aa7e3e899cd5f1e07a76e574222cd7933bcce7c9ed740a62173b1c8759efeecdcfed22560aa2698b12c4d674162704580d66f4cb026ff41c0723a8aa57006e89638e776b7c076488b085aa1d278244e59a88d55019a801064fb4850d846255b251825d56bde51bab8c49818d466ad88b903a4d90353986578e181e15a81a3420a91b4d9259d98e583ee248eb05930570c0b2c6031831e3b0328d6a843fa73be55331d5fb2ede148f3ca78fefa7c98531b421e984c38085d36383d4637f26377dbd1cc7bfa569ffa1a5a703ed0f6b71919d4b0da9174c6a2472e3b97ff0ffe7336107a6fd0c192a06cf2cac8fd4f61d0e63339c4c690e22e3d2364c6662454695a8af77cf4316960faa0ae1ba559fd798cbab20163a89dfc06dca14a5348d5a021f71ee4856336fc3cf81774856c7bbeddc2cb5f72c1c6182fbcd5ba897ccc945c51eb1380f23b73cedf3db9f8306d61d9b12791ff66d55e1b1c457def2da5b1708f73a3fb2182466fe915d54b6307776f3bf0a60af881d032eee432c845cc18a58cc8f66aac54b6715892916d4c5230d349c09e97d83066bcd32d0f340656f13be374173df11f35dcc828b40168f2f889d79196d0a77f5b840364e221841a1f2da6a078b720b51d67e6c2dd65319fa6ff7375c18d1b7153a0f2384c0ba81b7d8b2508ae30c8e8413612ba5667b4d6e7228d3da426bf311602f443319e10569849c98d8ac0738d4379416495501220b188527092f352f01b136a46013ca91fc3dcb192ddf78a3f66942fc82080c135fd94456b5d70de94900b69aeb8a7c51994010738abe21830ab21e62dfc8cbc3668f6b88b4dd9908c31d9a9c0fbff1745dbc5a04278fa2015785ed53f44d66e05763264db16f2d9c817f87d30af2d3e0125c5060aaea76707a298abc65d277ce6e9d130399b43cf56515fbca5c74780a1a7fe474eaf6a46c19684e774e7400cace572757cf4c563f1670cbc5555749a03a5abb9791ff57c592bfbd1874345294f5c8ee0fe0c0c9564b842982b4ae6fac868599450f84599b4d0e622a6f0b28198132471a581d4a1ade856a688f22de6a43168d7c4a191167d56a6f774302a24547e9ee40b4d281103214fd2e59935238770d78efd1152db6f64a3068d05b19ee6361a5b9c982c07e39c92dbe952e0c0ae445afcad3bfc9001e462121cddc1a297383ac718b36bb8385687c85d0fb1d7c7b6736da5793087589e80f32686cdcac9a5b2a7234a35e9d66fe398eac92ac5c908adeeceb0070a6f036d2b5b73fa883f958c14d072f470e4e60d6fcede39e2597daeb2d68d2b97307530c4b79f94f4c880227b70d5f63931d306e92a0370b99a6c28b497bbf6b27ff8efe1d72fa2ed2c9ba75f44a4eb65b8eb81ad1e90a1a3409cd3bd7f6e3b9a2d5d0cf5de8bb3e948b0ae5b7b539729e0d3c2e2a55e1aac9a36a7d6b48db8b32a891fadb0ff5d96b04772f8a83168048dfa5e977b6d25fff6612966bdb83dda769a8e9a003a885dfe77233c3a98be85329e310a0b3b871b582448273791ff3a5859a8c3667012018dfb61f330def2b5a3407c8f2dc31703a4a2212ea495080e488e24e9c23062ecbb21ba822492cbde4314c9b280bfea902932fb4340c8cc02992d1f8b35cc5270d7e20a0081ad990743574e17057e981463e8246189455cd086c269f861c01dde318db6cada778a6026d090d5a9217a33bab3888459c4891467b1e03f6f20da6dcedc03eb268bc5af1ce66d17a88521fe9166cfaa60413e53214d37f93da394e174f318a94d9500322b7e978a18e5c395f1cb2991184b500ba5d14a9863344449ff6c20faae1455fce8e9d5732ce4d3b3134a8c37efcc3e51de99c0752560deb5f573a63b8b48913075b4f7b210e81de9b27b7d569d0faabdcce87251422a63b17cdf0176edf3083d84a1a28030b25b8687e3805cba41b7b314e612bd1c3938737be235861751964264fe7541b30a765c8d7dcb4caff866bb3956f2a4fb6ca67a1b780cb7ad4777a68941ea4504209950aa2921fe9f5c6331818ecd5c6c84476223acfe5b59f7b0c67bd6f1e49b53f90d1238fd79ba2e6017880d7140741dd56f98840987dc6a4e42bc1213ce2f1a32d1b410f34d11473450f5270beec41e5a03a8ea4dbb0e3d4e0448449449452c19a568efba8d00307c90a5ae03bc81842a2de1a5543b80350054082d2a24b4105269f92008a4141ae5877905210f059be49c5ddb5e8b9dc0745033f581661fa1c3aed74babb533af842de86cb835ffc734ca171d5658c53dbac8497e471c1000240d846d9b9bb34b13cfbc1be0354d0baf0ebd01152eda025a554c3dec7c8712aae7e477f1652208d2ad0ae512de88efb2c05ad88f8e60c443b3bcaafce375a8197865b0bb8dc2ff384245b1be81c3ef6e70dee7a7a65984ace27a84255aa7fb9783a5030b69e95ceffc1434a5ba042fe3b0c7de3c0e289287c64c7c9ec31c674cbdf4c0b5b8d18fb83df1c80e2cff85a8224be5639e2cbb2258923d94aa1f81879898a4c21c2e2b62ea1c057dc8fb5aed1b2f0d284881760f9759a177104dbf7a8f46785518867e24ae2b47dd12726a5cba20c5b25f951335348323a806ae1e9716fbf95423d380791e2aeb43c4934df1747201c206083158857f0cc90bac0582a09c79b15abe9294a4534626d3c21724896d16a9cc1532552056a2ca7a9272b2a1952b1d19fa8cfbcdd7b9af9cd7286d5aec8d8629b4be630c8f056b502e2c12af7da630381dab36f807118e3ae6aedd66d67c8775ae96cd766a3ff80ec884beffdfa4401954483d9e623cf70e93af412851497f13961ef0e60cd23d432bb2524e00999f48c7826e0342a1bab15295faaa087c8a3c47c6ecc80064f7a992aab7b6d711491dc656e2eed3a689852fffb2ebbc01961988f3985dea6914d2fda771ab9437178e9db02f2486c33fbc5699ed74a9c6b9d096d36bfd59af9fc630bfda331c82964f1e064fa28dd0f80266902bf699d8c8acb0701693454d8a31b98f4f5bc7ca18a493538d8f7a6ab5354e1f9404d217cbd66dacc9af7e62a087485da6d76b17370a48d35141098fca628511c9101e75e5da5aa353cc5fa2326f8cc38044e4bb72df46a4894d8d1a119bcd9825efdfcc9d32eeae28d6a6dd1a329fc704bdf8cde6247858ad8b6ff75631f7dbb90bcc833f49d3004053b1b3877856839f037712d8b687cfe169195366682847ef346045f1d127c2d5e0c13b2afb7e763a26ef80839fcc539080d0f59d7ede595bd9d79c8b049077471115214c2554c78a719f8c152503e77f696eb9cc676eb7cda9f31195588f9041fe078dae12fa05f5e879c61c21844ec44b8478a0b7604e98c4021c4048227c67c52c2cc602a1846a546f8b28e6b97bc38c183b70d8d1e002fff7e5373aad938c491fa6127f7d5b6262063fd841b46f83a39dcc208ff4a41439f7f7c22db8bdb1fe068febe86267ae20b1016c63dd3ec4f3c9d4a3883331c737da7b55aa4e91954ea2509f9a5969acbfbe1fd5dd6757f7601177cacb3a392b88256889c4a92687def68550d19c912f877d3a7000a2fee294f9455ae77f1d2e34cfbe98bf9ebd0fdaacfab435ef95e3b9d7e878c071e7cc21cdc409becb0c32783a5de31105c3df1c0ddbfbb4b09a412f284ed2b18df90077ad76271c4232147af511d66588e0cac50310b5b0126d9de0eb549159ffc199be2936bf3f8f89af937d841001806c18b55ac6393ed39f419f9ceb29bc5de701efa70e6cfbfb25ff78ef84b4914cfe5984fd10910ec35457b2c088e273487a1363bec5f8d8ca99be82004447b5610e86a40d8964c2de4e8a88e7c2ae5e637158c774ef8db06003a0506e388658df925c3d99052c3312b9369131065d3a2f938be27c9807093461d6ffde88837b42ba1bb60093f25bb9bcca37cf04d0f66a1cb955c66b6452e36e8781ab367f46ff8b9cbce841dab5e489ba7abcee74c59be17cb2e075c465003b19e47b76b8cdd214bdf294a8abc64a3cbd13a76bdc5ad9ebcfaa68509df518fa1f721afa3e728c37635f1877e4587c5fdf45dccdeefbb75cf856395709139c4ee2e098e1cce7301e02eb81be6bcba7c746586cff7f55534933ffc8e8d1fc48cd12d94233c9c9624edc5001155bee993d5831b139da36cd3cb7dd212afedd16cc579e90e585daa292a19fe4d37e9b48d6368e87e308e50dcb6074eec7bc9e21559e5f782fb54457c842f2aef17c6c061772518ccd8effbd2ae968e90859ae449e16e854c4cb43d7cace2d2af24b8fff2a45af8a9f85c10138ff5b8eea81817ae1c85da533d39c342499cfb3fe9da2993f234a3ca0246b135bb824471010286361508ac0794e3d3f946e6e32150a03d8e18951e4db4032cfcefabae5bfb0fe61e56c3f8f3da3f72d8eb26f0e16af3ff21177d7d58943cec51e32a4413798c46451b25b3d5d4f288d98dd30c059ed044e9d2ec936f2109dbd309c23e5f7dd70d9e9126ea8bf1cebd6dd66395518a6b1a405056a96a5e3b85a24ffc7d93fbc4a2b126a38b060d59605432952ec1d06b636df250a9a8fcbb8932e2b5c2479d168009282ec0463192b9f07a1de3dcf2d2c3511ca1f503c9ca29ce9ef2de839e02f61d2527cf8a50961058bd526addf227862460d1e87e5dec9c1c0f331a3450d90429c04ee0434c4c6399975fe200c9cad33d3c76a5714f8a79da8d85856c8fc674bdd64bb940205b44b480cf4d506caae7a22048114b9be7f980583022822b7bc683d0deb075f12ea88681b0544243e02d8009198c922c7fcad202e787e79895f5d6ab5937f7e5bd7df7b03d92a91859169f42ba4e709df269928d886c870fbc291c64338820d1a4e507e7d389d71b38d0fdccf05c5f8242ba43b4ce6f7f55fc6aaf098168ab3cfde3bcf6c7263b4879de672d2c7378018af83adf117480076991231efb82aaaa8dec95688e43bc3b671d3635f229fda3e150b0e617aa28668b00767e3088b26cbbcfc03c2e414b271fc46fb46e3bbb47ea12fb47af3b7ae708df014985228d2a57ec296abd681cd92dbe0f4ad459c82cd084673bea4f3ea22c68f4c330a24a04388ec29f6ca3b4867eac5d08f084b91ca16aef6f751c5378a850b93ff4bb1f54ffd5d7a3063dbbc0fd13fcd0f00c82056e905032870d5d0ce6810bf02a76324ec8b7849f9904ba1c3ccade62a938f065e3283bde181bd6bd588676674be6008d595116b8fc2b1ee325b6846a80abec7070853a4d662eb0a2bcd7495e682a97db39777af2aa4d2d6df6066c1260f9e13a004074476d6db01c834c8f4613cea7c4a6691bb1f1ec1e2cfbd4468be1a242bb23d81a9db9fbf2bb2224f5e5467a4ab126c184db9eff233728e60e253eb431782dd51f715d4fec90d2e21f882417edec50e9149b02ed765490e9f72d7263cc28ac10b3d74deb1849aaf4dc0b09172a50e3094347d1a7c77063dfffe73204e86fc60325708c89704ccdfc3469cd601b961a208d81640fa0007cf477b859d13a3d1d1fadf0656a484af71b73ba8ff590cb6937c73ba7b3a390051f74e031c7e4952243706d26bbc396779128006671297cd19e3e3ad7d180d739d00202b224ea285e9f6b437f46179c38149110e981f55823928733984ee6f9ca17079eb5c72fd52357ebcbd7c1d1245ee769734f0dd6936f386f0b4529f01831cf460860e840bb6ae9a2dbdd67a7aef352fbbf47976c067fb544e75cd28bb3265f6b57052f6d032adf699afa4f462a544b657593e606e6a188e02a4f5ec93ab3e35e2d9961f5118bdad4cb8c5fa432f517c3bb46b56b9218d9796254c97aeaeb91b2c8ed712fc3f0723de4e273c2a8cec9c0382f7a67554a65499520f0d66f51305479e2fb374012c253295c09707e764767f0330727c1b14a3071c69da0244465feca1d9cb1c88d70559356c3707ada7cf5d706c0540058ee63d5c17e11135d8bd0a5a4bafac14a1b8322f6c9f64835a11321004caf7be80398741ac0c80ee52af72ef532798be3ce17b0b74e51948d668da4bf5ad1ef28f9d6b27940110c9d36cb578be6b595e5987c6222be2a772339bd2563d5bb33a78618c6b281002f0b491299fb4834d589392ee1d68f8235e95e998039d92d08a86c6295f2146bfc2aaad8985b80663a834f7fe4e639cfca5322b1733e18b4b3566f39668e354f1ac00d99b2e593020602d3a91936adb204c323b7a280daedf988a710e986db5060f06e71f5a90ea5eef6a546ed878ab3a33573912c0571d1f67b4bc4a8c0246f087af0b626d5a240033d6bea9be62b482f6084ce980e9bb3eaf981e32cd8697ff2400d045ec158745673e3ce2937ad0cb6a1aba608ce5d0cacb805a89f01587b67e2a374304c96c6edb4c09b168b9947d0dd5fa8148628d8c1e6d1edc09ce2054dea29772dc02b0a60465cc66926a192906e0c6a058a3c56e312fffb098f15a0e1d7726c281052c2dca621c00459bb3566ba1914bd2beb035af089bea97f08ddf5f96787e06399b55d26ac26871961d4d5ad57fc85bbfbc417cdb20d33d26a99cc5da1558e1e071b80c4c0cdc475e5ad33a396691ff8465d32dac72c35a2bd868ab1a98732a6328c6a6f950a10540db5169ff95ebb0f024eb43b5d371d7b5faae1c37dc16b9a6bb6f947f21e9cfc09f32946de6e83a87d9d42e982fbef9a4ff3ae5d5c87201ce081fcfdb5e454fd53c5153b34c5549eb37c1ecbbcf2cc49013cf1fafaaa68b72f0c6b3a5d0060eef20ee1a5c887bdafb7575e36c4e4ed9ed553c2cc29dda8136f4341243916e4a080fa8370eb7aba3ed53cda8cb45e9d2314f2a0283c947136e9c708853e325bb4fc8a5b99cbe67b27b7a676ea6714dabc6a07fa4f82c1d3fa6789160d38316e5b196ad01069631efcf15c303df1343ec2fbdc51e78343c0582f4a7a08ca043ee7d7ed56e4ac280a693da8a5cb1867a047dbae961f4757c16e07645379cb6890c6d230c5f733226199d88976200eda6d689a1d973cd23eb85536e23a74123ff5bd234e3a6cb931449c4bfeffb35c42f5520a9b85319678689e38e37676ed387476efa538f74234ff431a5cb3e09f94150dcca59bddc898d9e62fa7f2695cb5cb802b6e6e5bf6fa73609d7087fadf6f3e3ebebf74046c8de30f6f60764e9fd8fd8491d96587044ce8634f399e5c5fc4797b0d6e1159541c2655a41a7421505ce2c78d7e4383ec92359d32070f750394b50939f6f4bd8a8f294eab7f8d39705dfeee1cd3c6f41959f98d2b8be243534eb801dfac880743ec653d825ccfe82808dcebf12b69e105296eb9a6a4fbd9aebeef5bdf45e89990a388486b2d15aac3b3193c972721e83c1ce702de281912a427aaac8b99bd844c0cf96a5ad24e1f6469c98d46c40080761ef47e4f36c870600f34b3b94af37c9ca84d7b68292b71ba6ef3333e02576913e326e88abdfc63dac6b94ba19190ad4f1e605a52d6646690fa02faffb724a7d051f53712d9f020d435dec2f80bc787bf91e208c2826347679365a546be2443bb99f91f3fb4476e28d52de3d83456e899834faeb686de5d323918acad0eeac1023ca9ebcadbd478d27bf59b63a3b1da1b9e07782d29e9ef121c8aa136d083cf5ff0e0dce14bc71e7fb3b5d6d5a662198b1e3a86849684c06f6306540e92103842c286b82e91ed4023537afa863d1143a876960f171d601f727f59cb9fc85df5d88591a261f17fa709c71f3c655ca8c5550666d26c3a525790e6fd6931d162ef71d7ea849fc142bc0256f1a73bc23ee29f069ca4e9d02cb0c55c481adfccfaa36a10278b904542d8d090ece84a1a5fd48d4c8b031866103649b30bba2a8d113c81d112bbea41d37e5118ad4a264290fef931e1fe0f2689548338e088b8b633217dda39e6567020aa6592dadd5714481d573beb56f4e6a08cbcff2039a2679eb83a66e842f59303f48235e9553f4e072ae7d513bf35445c27cbab731384af829e5a246de59f7accd77e1f7846be568816b9aeb0642ab739fa9f137f860a0be3802f6aa49ba8a18d042fa93d82fb668a6e49fb67930be2fabdcb6fe7ae0544cb08aa61144ad7ab4dfc0c911f69582961ccb62385740d664f0b1fe98b98e68a380a2530ef8c293c75e8559af42ad6ce4e8a7fcdcc9b3d3809cfddd8c8f45e1a4ca3e1c4a1570ac239928b3145d1104d688ee6a1d04ed3f0c13b5d10b1d0d533fea927eef5a2dbf4706d7abde639149160f1e845bf43c89247a514dce57cf5cbea6c54b788698ccd666cf57b98a57d0549f88f7e2e14b0d309f23bfd843f7265e942f5b56322a166f35c6722679a6b9e7e056509d80d1ef7697e984b7c3d15178a9a5f670578734005f6c5a54d6cb14bf239c52c1fcb357ce489111845944ac565b1b866013a89d81be7946f3e13910c4f525a5e2501d5027e8988df5e20497a2a9c773608ed215ee67ed4d5698c8f33347b82810fcaf66730028e8dfd722ee3ac7557a12698071e2a4597a172299aeaba523f6431b704a7b414ca0c9a1689645a967e96c2104570dbc2870defcee4aecc303377ab9df3d7af47e96dbb418a3b38c9d189f31c19342a83546b4e52fafd2725a94575d0f23859f126e9b00e3eccc48a661b51e34bafdf38715288637d4152ba8dbfa04e492a9e533d5ac00ce52c4cce19adbf17a0f6b960d985db66d2d3a397f02f1005cf5d8c862fe2e03185649f996d3b481b25077b394ab237001d0a46bb26f996e0d207f107711c07efb4a14be354eb228130f0325e8480b3ac3832315a2fbd4ab7f9dd5ecc387078682ced6e9227b8bb76b60329261402472e1440c1989dd2a670ff09d524ec09042f264ec825bae8e14e897ccbf270e492085286ac581619951c27bd85b019dec80b7adb1fb32e50facbc19aa131ffde2f06d2699f61ba9680f8b9a38c4e8eb86c18ac94f39cd6366ada30684466af5756e9e7d64718df36b65212df79b92f3630da3ad9161eb98b84067285dd69869bffef6250cc27efabeccac27f1ad37a7d01af50d9e673adf2b61329aacb016b0c163a767933a04628354123ed81512bf6d91f631ee59cc140e0797ad2bd56273e6fe0d41dc18cca31e3de2ddb520a7612782f8408b8aa1096330921306495b423970af076524d9445968619e254b953f01cde6e713c5408122a28589272b27ec053c01f90da05630a41026247a044db3b41cf86c0e42dc80261802ee18267e9a940e67879bc4d68f125dfe88a6378f91aa2a385f9935367c7c4c209a3e6a3cfca606d3fd0f72e3f06a4b48738ccd8c7ceeebda8e0dcc0a5bd76a8fdd05fcf22adec9bd1789039925a3183706213921511f197e05c27665b2436061d6bcf00ac5f673d87b9749ede6c49dd286fb76b497cdfce76c47c966fe7107d8c847b642acd51f3e7147a1507721a60cff17fbeb810a6dab5432a1aa501b3388fe6a93503e1d16c348b18edc662d35f7c9c5d1bf67597b86c0161232e738ba7b464fae25a2ccbde87256c56f4569f6be2a8a0936b69421ce606fbc07903f597291c3d51cbcf8bdc9f2b66eba580ffd09f122a8826acee46c894cafab7711d8960a071faa53cbaabf1188815a2fe4f51a60f9dea5198e43029f21b091f40300a7b1c07b2777fd24908cdf4c8ffcd33c7860951b95899c04fe2a6490108984a0bc7508eb3b9075647923bd60daf651e710f4e98843ae6f3eb72071eb53d23f9128ec2b513f7a62d65543fb7a709471a897a4a1a1d0f2d25fc5441d9f431261bf8f67932ba0aae7f76773547897527ee9ed8fb8b50c9478bbcc434a3f359e4640685e04cf3da9e1bed5c2a94f0e247e79ed4620c9bed08e122a4a1e1a3d72f7aba2375d81ee778868f3685df8ab52f7192a0852ab141dd582632fae0bd56c1c7bc4cb84b2fbb9e332a403363278519109d8bbfae250e93826d2ba6506f80a27fb63aa9976be84b9fd8752c1136a85c07909ac702d2f499bd2da1371216bf38dab5858fcb7456c4f08db9ead6faaef4f58a1dcb3c709df4f91a99268f91d2fe418dc7507446fa863534d3c58b56b7d1d9b90ea576786c55d83c63247b6b6927e832f962b1aab65551bb096560ddf2c1b7d1366f2f14dc9ccfb1e0f510e632b3b17d71e791175a858340cc091fd73316a0fdd4f359f8617e6afb18b16fbf057c4f31693c03087bc52db245392a62b0b7162940bcd1016a9744c442e68ba8432b8e0c0163089534dec26a9f316b0665a4eb56b6f96d0138b34054682539937e00f516e0187c5ce0eaa1eb7309aa7846c5ed84139ca24e32175d0f9e4d9a5e46d7708a34f14a8c67e3cf7e4953de416370a10193a53ed04c22d707041766a932c8fd408cc6e950bcd177075436f10868f031987ef90c3b19dbeff27095d8f0c2a4117f7c729c8448d01908e7babb076100c79da527226f3fc798d4481ae64486285e9382dc55e1f5b2ee94b5ddb31d1b66e533fe6be7f74b44c417d299a819c71c0bb77071ea79460391a9cd0818dcc1409ebbb17fa11f408a796d1a32b54539ea187040fee4fabac0aee487c775f73498381b3640c20d55eb2d30198db08087a7d32eed9e1028b04c13a36a7cfd6f72b7e4396d764ff0fa2244e599cfd3392dedba1e402dee4010c5bb7cf454917cdde86192fa8d0bdd2c81ce5dfb7bbcaf186c382af16e77a23162672c793184c7dd5775278245f192bd7df0eaec816a2bd794e3e9782d84e250528ec679b3946705a72efae8fa20503620fd7ac4d6928d476e9a92ec847bacc9a1a2e365bff236787c1b168bb68764ff12bb694fa55fc403df473b70b73463eda427871e71bc0a6a4be5bb8028c61652d0d28b13294f0c8b8f3915e969cc5f5657998d4cc500a60ed913642bb32ae8cbabc972b5e81f9d9218b162ad9a611d772110495469aac35cc00f2de01eec40e780a919c9d04850c7ced71798df705c53ece0c6b4957788d73e2b8e44e0eccadaff13f075ad5d0e713cfff3e5b8bf89d590b2d249e3214f7392962c38253c61b929f490bf2dcd77733cd718a53904a6787f8396627057a08f32b79b7fb9f84e32ad70f7596c37def24177df5c6b130f887245bdd6fad71503fb8e7bfea2d3d1ce480be86057a975c0aefa241f3e7a10dc135eede0e2eb0dda67db7224e5c35c346bcd929319ab84d9dc9f5d6c777372183188e250bda75215fa7b933a896d33df438792f0e204b28d27041b968c3f426330cd42c8987d9ec95e4224aa5f66e9ac61bc9f4a438cd4dc0d4e696612523067e343fcf3a2b7da73e05a03ecc3a6f38f7daf634c91581e191660c6868d695204c3772532c5a534a5c61d95543bba1175479f935047a7384bff5274ea58b4dd799a41cd69bdd76142280b2a91073a49bbf7a93c9c21a5a6d9c9a3112b7af15f6fda1fcdcdb6e1599350e96b3aa651012d5b1f85c11423213a91100d6fb151db067f957b9a8c2bf4c792d11447b4127c3459899355b9817c350e8ca0e6a022c31cee54e34cd0d747b7c14feed7685e9358b76265950131f89ea36e161aa272a5dac7bbfc8e9c1f5245ee8d1de402cce235d55670267aa0d73dab3ea0bce82b4fb6adb37e4b9e4dfb431f086626771e2d27033b4def89f01f2a130402ece0683bae62ca97b6ed74acb60091b906a78def929315cce162152eedc5b22e876eeb577d83d31392a0cf52a216eff2eb3f005fd94c04ef97f391f57de7f9555507d281e26ecbbf626232fa02273fc5010dc413d1301669eebbcc4f0f56224dbae592e48194ab7b8efcdbf837f50cc5d3198e5ae1be532add47fd732d9e9f25f25c3f8e83dca60d57c1c3df9738f70e01def7f6cca7498878abbe6d2d2777bba0d65e4d83fbd1c469b1b125a155974805a37f992f13d1e17fba496110a2fe12b44eb5a350c977ecc2a239441eb3360854d723f52ad00cc58803f4145cb067b34e4840c8221ec27927622236c262883894aa55e15ffe627c09c0e9c8ed3ac35f6079a506b5187cc65183be64da28a498fb83be15141d3450fd864ecc9fe39b438afa048160723d72d1263f31f315b62218af111c3664d311e6e17d1b12099975118de4b2531bd8f31d2866501199997b942d3bef0980cf1917101de18e1b796340152a13f6d5d2879155fdab9f1d09a10df04fc33056025b337f40237695719b4aa6985f08dafb1ccc25596c5e0f222e1871ad28d9fa9228abb2e1ccde99ba8d1d79b3867a2d2e420733041acfd69936526fe83bc750325e4735000bae3f1976deec72d735feff635c69239f96a64ef85c44bf24950d41483da307958d907b13014be257185ba34d1738f742940ffc6a3431d09c792a548626498a9f993bbaf4fff6fc12f186882515444016a4ba196e502764af53e21946a7c088509e8464c7ffbc7d1d032bc088ce962667ab43c0897b631a317f1661e03bf5fffe0d48b392a9dd8bf5edb313c3173a5591d6b9d11eced7181acc9adb231f3817f3a176a0451b4f2adb7719f9fa6e19b0a4a590f5f992575a524aad4ce552bce1c49c00ab1c82c053aa91cf33e34d1b5ac90470eacfb1048c3a72eca73f47248da1fd2725a6e87a54d72b6a7e92526029125f2254afa56062a15a7f63edccce5bfa1799cd3129eab6b912c7b9418a7c16908a9bba9664b411bd3488a62a6b328c45405d146fcf40fa1779eb113bbde65718002b52290b3d294aede32e1ea225a27084ac5dbc98b212ec35c01e82f005a41f26ed3dcdf8f529db97e01651cf089e034b417fe2fa997d36dfba88936f552c6a512666ece12f05092c80587f61c77ef3eb666e012d9b20e8f8322f8315d382dc80515dc59767bb0bcab7d2599d9ff912766605d4279f5d1d1c27b392dba555426be2c17b1d1ebefef7a69304ed5a8f535af7798c62bf6424402e74775d10a976e94fb0ae6720455c646747b55f60326e861426768623893f6d2f2ffc32f26940df45cea3f7d4ff7d760e4defc25346ec14916b757f9d41b6765c2ad6203a2ddd85992fd2b0b8cbaa607bec505d5de10389635811554a74c996facf0c940ec01c5853bc86d75227a8c4c08ce2a56c27bea60637695539af003685b3510a91c7cb2587aaa4d1dd97dba732f057299a82cd5570f5d38594fff34f3a123925e3140eefe3bf23ddd4958acb99f3e5b54211f60de42343db80a2a20cbdd0c6d2a0f64e1e6ac870d2d884da5407e34d3c9bb33360ccbc91151322ceac82768301602212a8ba7c59c70154152dcdb60d7720e43217235fe6d28c6a836b0d3c8abb57d042d2603719cd2018013e35f1cf019fe835fe7789b5ea4299c9aa5894e9de4ca9959c8f38a8771eb9a8213f9db4e46076c678bfd3ed744f8d8ebed9ae27dc96faddabab68ab66f75288a52c05059ef1af481f0e68fcde8928a6611b8dfd42eec1a2b6f3948b6b55317ffde3ecbfc20bef86394a36ff4a056cfb0cf6406e78db406f1166aa5414f6833f5c92461c812098e804cba4bfa2965447ba221ab8f2f602da652e2e4a73a453fff5187772d7ef1a8c23c3be6db925ffd844127411a9aa7280cfffc6ffcc4dcc3bfae608de22b563d4985fe922053c727fdb03e42e8b95a5ed6b916696429cdfbc2f09f8d9be817612c3211437b15c55b327abde53cac89e500688b6351fe7304d5368c0c0b5933e07b390d504fd3b06e6e01598423b1a20815bca66b621c84ce11942cf3490fb717583e13141913ff5b238067a7c466cab4f0d52e5a5c61db6f81f24fefa021503a06862867d00cf51376f095a664cdf6012210ff82f5b05e5cc1977f3bccd4f7d59581195d499a241a3eb6fe2c1dae8c2446ecb45947890b3af3d791818ba2d0203419026b130cd784840470deb108763b2043346ff4e2b1bf7d89d3fa5073609cc8da02a5d6ca145cc2ed0b6240549e1c7fd1d60462a5fd90b509a0601c8cb37638a13c9b02aeed1e970253e80c9058a0c250830eeb8ffbe2baccf80dc83a07ba8a316604b02b90f1738b2caba25055c0af2c01dbf81b2311c125442e9d4a60140bdf561921df6e804af363000c31a1012dbea7bad940315db6fd677d1b8ec2e8c90fc58caec176a8ee46a8d0e711b72e507b61c6b7993f5d53612e3a5d01d8385ab118fb9cc31eda60d0a6688c4291cf45be77491fb162d4a2a45e258c28b6f9f4cd63a6d8312eada1a30434cd9056b0b0f5846e32c305d8fdf204f6a1ffa4623d2bfcc15a698f0caab179c7b3e5f64bd23e2e5fba50c070ccd23c7e4b846179ba3427d31c3f2ae8a4de15230847c5e2628f2c94556576bfb58f3c46bd0e03128623f796c730ee25e537b1652057e1a121f825470173b2523b7dd486530c9a31404fd157caeeeac9ad021108c170a56ac405caf66d61ee9d45c0346f655654e535fc6c5adc7331bc4e7bee523dd0775c0ef40964deaf081cdde072ebe0f1b37830205fe4afe396663725454759bed8a9a1591581d71d186e2bd429e7aaf78c98196edbf33fb369e7ae24e35441c6f9c7eb1a121d4ddbf3212bac4d864720a959e543d509707245066aa881db2730fec16cf6c6ff7a0b49f784f7cda9e68a23c3a98800ddc68cca3507d151ec08a9943100e4acfbbd3bb6af241255d80adb45376bcbf0195d0bf636aee958ad506985d9359c999e38141fadccd499c0a86fe93cde91397a4145752b13801b31f269fcd4413472fcf0ed612fbe84c47e417f47d65a06268acaa18ee3041890cef10f7455d35007663957ed5c6107fa3c591cc7bfc989b7b79d53164bd643d7612a78989e7e2a7737016f5bc71b5197805f9e6edaea5cecb87b1bde7b60bed7d865e843b0b6811c9379bd61ddf0d0703a8ea8ad3b142d44fd6b1832a4e31f06a17322e12b37e586ba6f69d0865de7f165eaf441d112d7a8001e7087f0511241af0992c4fbc8ea2312384f31e475834b0fac4e6f72a4ec6f8c1e8a82b2edbaf1c76265c59eb38f8ee2f4b8268fbae7e9bbe8344cfc7c0bc07c08cd77021db4a641f765b0b861586cef37c8c3cf79adad74f0e7e4d943e86737f3cd31d1f1a1a44b06395acbd57341d117df162077a7ccf8c7b8c4442b875c480ffe2952d21f73118c59843f0b6ccb7b4c9019195bd6bd8d3cc6cb6529e5bbe64aabdcc11033bae8de58c4c23fa505a0e9836ba8152d5c3b84366249a38d8815bad9bc6567764a924c532fd6cf42691c93253107ff291ef9b371df730d1ab1e335a37b248e34272108b96f6b27fe71865fed1af093860bb10ddef01d277e9990daec8517f9c204e5a4c7be2344d7367e6b7cbc8735e6ab17eea1e9e1cf52218525c670bf2d62c6818fb0f945af6320b1f51b8f0804d457ca5a71ae1d7ee5af0dfcbb9f589296f14fe843c194b2e14c08450a9678431cb54ee5e749f2123b7aeb9692be176c734780f4bfe5affb32adef7d7b2e76d3b799748cf4b1db8853b38b867c2c1a3957d2a6c60d3fb78a2c3f927f0b1b168d2898d441bd29fd5b7e4f471ea07cc801ee19b2f92a12a46560c23341a7608da9d6f5f9cecc84edcc2ff7216d451b4b815e08ca6e2c648e3680a65e5288a3488a76f23deaccbc8c3c0bd671823ac136013cbe80531146db20a41495f002a050191a538ab0441d02d0459b111802afb0314423f4755a4b2966353324cce469c5f5906f7ddb75ddb32dd23d0aa1df5447871eb216ec31ce82a157def236a7b372c28dde1bca54312481ed354059c76b3b07795c7197f5c3ae49168432c2f0748b7e61aa0b444b347f940aed250de1ebda6af162bbbd64ed3c6a3f28b45191c601599884322c7cbc915a6155677ac25683965be0b8612dbee2e84560875a2e13fb422296f556a629775981621cc432af9859d9db49b2becf1608643052976c443eec1a7e898f68b22cd197a4bb17d25be685c1b3d28de7a0f5e447f08429260cd0089cd99e1bd21ee3d9d6d97764a14426d78b6877b337d71a0204d512e5078e3f9df570afd60ec30214500b28ec4d45c9ff2dab3d2970d122eee6ccd87a715b90bd0d96c6111dde6230d8541121596878ad1b4eb0237448712c901809afe5a4e2ff380887e9e8e6c6426e705f825106e14f32d09e63ba3439018319db7d34060ea98aadfaf8ef1d30c083f23e8266d71a12d97146064f4800b6752269b0290021b7fc731fc369d81487937a76a3d7bef1815d62bd7b75c52931b80661c69636fc55d5e4799d984929036e5554de49d0a06d4a99772636065977caef90c1759a05e4c66e3c71eb8685cc290f630895d80423e8913875d5640670b99ed1a91a71c5845fccb1ba87ea0ea38b59b90e9b81bdad120e8ae3885ff15fe3f2c789122cee860106b95db68e1a62ec648306bda77cb62b76da3c482ed89a494a27f037191f4c72c50059a496f80110268ef56ba2d2b507d8bb572fee4f7f62d9d1d151539c8a51908290baad6b7bea1a8a509a51e15fb833a461ad31a22c606c0ab5dfc7a98590c70e7a9e221c503f7e0132036e134976b3402b9bab58c65968513eff1c7b5308f5f694f03df8ef0d5cac2b2573e77dce2e59ae26f49ffd1a7f4c552db8e08455fa33d015f2dae8405daa5090eaf7df79aa3627ed86baeb5909ee26a420fe7c71da9b8c8e7bb9997a84b40898f7514773dff855230d6fd80dcb9f03edeed8c577420469ec8b914cbd80a8e16130caf3c3717802b0b2ff3531c45f1d1a334d06383bc8bff461afa0c15efb0adbb3d144e4e9a942f2d7723dfc636cd3b8ceab29ee2a80cf988e44a6cd56f64b1ac748556f0eba55b83694c4e312130870f7c23542535d09d25ab68f8420e452cfecd98f569d5005cbeca4b0684586c9128a758fbe8b5a83ccb22bbc718743d2b43865188b871292f65253930f6ce310cf0fa7071a86dd0d5aaf4f970b3ed71c05266069c11f8e676d128ec8226e01775d79e5e6e9e62018b226263e7900a1652bc5e178a36ee9ddf07537d85c864eff4fae7944c7e44a691608eb9a8e254b7ab89dfe6b3352af5ed835577a1464875a4c14ccc39397dc549c2c66016b18ddd9553cc9787d6314097517d762186d1290a68847182d625169c1e3972998afe344dc76c650b4fc9c0862c3e4a35746b2fb481d1f8845b530c7763ead0d0594985ec6084bde0a42781c2b1027c5ff494d2b6a44ea863abb9efdaadc4053c2d87daf5dc4474b330cad7f345f192f708dd39ccfcd46f07dea0bed983354bd03d236e61314c817e9e02b80ddf41d3d20323478735de3006524dd116e1f161a685f011ccae6a3959ed93b693b678bd94149085c5b9009138201e2a3e8c379363c921bba4118aa81f4ae5e50ab90ff56c7dcbdb9398200b73140a9181bbac71acbd6c115b2a7f99e12e60f54d75c3817e6e921d18aee84aa3c65638de52c8948090d978886c98bbb3aa5610a9d0ab48df4c1be685c509f26ba4b73116b4407b6af9feeec550bda7fd5384d27f040f6084657b832b2c83a96005efc37ce0748a834de7e2b8988c3848772a787dc248b18700a87c41241e34a1f3e7b97a45ccb0775e8d98e3c00663c95126e805c0e7b1c38437774012accb6833456ff5cb76d571de716f4e160ccd4122d669484e4691e172e5e474180dcb596908cc9a277599657ae59a8fe325072fa2edb15458d784a07f80e112c2a95ceb7b51f67495f63c7fa2fa154c4c3ff488b4a94b309dbcbec1f0a1f6a994db5037db676f86b45f6c7f5b83f84420f5f50a978e7873078ad8c132c1e2f21b4dca6f3f06611e8526c18d20b629d18981e23c8457883a126d4a525a4e2bc3eafbbfff6bc262e5c44dbd8cf76b6b0b2ef244ef5c76bd525a780efb7d7084e469716f6ecc85ebf6e97bd66230485b35c2a29ad1e842c6c7b16d44163aaf529ede7b9429e29f514bc7cb7dd480e1701770dd113bee1147394ec113b0df8b6b0527bb0702b38be708214095fe162c26805fd88d033a4bd0913a9fd66ad22ac72941259a516d7cefc48bf9315f4b8982c595c40e2244d64e21b38aef1d5da6f96e151d5abdfdc977616a3def79c63026f0595ff5599789daa5a3a99950bceb3405202a8e78ec867f9c497d76bccd04cf54b0cfed8b8423e49c3f4c42ff5b6248ca3c29d13366813e8d81f3fbf97b231c0604e87149c5d1b5583af0bbcdcc873d96fdd7f6f467831b3752abc633386bb40cc9a6ced1813b41b26911210743084fc6d606a9da73189980d64ed024921303a1da4c686582b9b9368d800d9e8faa38d5f9e137d6d5f8d818c1590a4e317dfcb96ac50bb4d07ed7907414cf03791881d2bb2e522caeea0b3f2a0f7e8b22d566309129322af37c13cbc0b695607ddcc518b0b89d04a23de2717f9fbbf971eb92839cf65e1d480b9af0eaf6022a7898e2af4e48d44a4c019baed1d0a950d57b1bcaef250fbacf3c77d4e1d3e467e50d544395d4a6b9cdafd87b40878076b48ddac409c8ffedab1b32a47e112e5269c5781bab5e9c56c4e16420bb46cd215e9ac57cd0daf314b76ff71e858fba4dc6a53a7a0e50312358520427f5b8f2d5ee72d15319ce0f10d5ff416475b9526ec75a8034a69e93469aae971cf88749fc89bad3eb12a3785b71528729ae906279db94c146377a34ad792b7abff1e4b06de742591693e884f55fee2675f310564f602568c2bef4bf5d1d6943c0697c5a1653ccf44e230fe2c48e174aca116808172f8f79e463c71a7173b2b7402cd1baac9a35478528099f02319ac428331a2c4855119e1b075fde5282d2c58a580904922b7efb82b88e16d1c66f40f93747f48d8e7998d9c679f7924727041678de70f4e01e64621006291b863c81b24bd77041075ef45d1a6df335d06b6b37237ac41dc6e91565d11f9d128532fb304fad08ab0513720867d339c8c821be9680346da1db64951e047b5cce5929262d0cd6e70415f5875fa394d534110f501ebfa7f042634cf275a81fdd58eca7d17d0f959aca117d6e105eeed7aee967fe793519b1cb394c36cb9ff9f3c19e4d67643976431ff63e3ef79f6db1e768d70cc1bda3a06fef3e5b6e96946294c95371ededc02ee264804319860dbe34113f7ddba1279e6f83028906c706e5cbe59d8c944b0fba6fce721a90f82e0d059976b1d5e179d50806e2ca48fdd31609f33a3f818a18f1de2fba91c14791ff0776c9069f5185e5d450a55f5414a29495b3bde27b272c5c36d47f1371452557a537e564853067af5db5b00e4d2c225b1e8abe26c340250e7f4d5ca3465481eeb720ece510b672c75fcce2587e4c9a487cb100eccb36cd486a2dbd053b5b3c3cbbf4ca2c43fce624d79de8a731195cdfb20cf4d36c23242ecbdb16ec7ca7a28185fce380a5548415f51b3ea57f00518871f056d3874dd59eb3a69ee6dee3160c76ad88fd6fca2861c19942931c4a33668dd3d5e090298e43145be4741a2d7e4e24e2a5a06b9f970973bf47675eb34b37e683909ad6bdd370677dd06e0760c85a878f8d7f526618ea6c8766ac48cc917d8d4ce0c2678330ef7f47d51e69c9b93e09e647de333a91c948b59128d38823b709629142a469fac86562fcd2482ea0d37c9a38b4fbc1d873d3c9660f4d0b4491242b32d444c36a6ec1269d79c2ab02f9b7838afa9659eaac352066c255e4137f9ed0555fb81e899a056b919a496b8f33f250a49f1685e376259ca7e5b43176cf69695b1769e8fe0f3876514d7c0d7cbff0f45f17196a776f432d8ceeb50c4dae81375669f50d6abde021014d552b05e22b8a21192178db2f75a4364f355e80ebbe7c0710eae3d7869b53713cd00062ba73744065e20774cfe5c345c2c3c774024911033a395360a361621da2f6f947ef03f927f9120cfb452068f6aedfae44420318be62f729d4c88eab7f0773afe6e6714346a44c382423811333ea452428747ffa075a23e6a8f25e15c8aaee813402bd4d700f95236f55dba149e2e255f294fc024de94cce90253931cf1b78fb3822ee68c2626c958d3104e874dcb30147b5a62f569ad564677e08cc5235a8f1aff3b35c19f0a55095fa3bbbd2bd0a1646be1e8a0b6f72fcd0afdfc16e72ffa626f7598eda083a0fdc94a079c791e28e5a81ae94e7f0288de39f010e9189a5fb769c6134c0bfb7e5d341f6589be11f1787c5d2bdd58f6d3ff08cb395cff0a86c5fa54f4eb938ce43fdbadcf42a13e3ed92b551c07212ef8ec5ddeaa4afc907fce3d0313d4c7e8c32db8574a6ad6de1a7d9f55b03fc3dec6f4354d35762fbc4f63cc90e6fdb9d6a59c054e2c87d4e5f18040ee88f0e5a0b10942f78e6059e45259a60ea326ac8115f574d096c8607e0616b6b0d28e918cb864481b1602a77f2f792061a89af847ab2bb1fab88b19f96ab46500a910ba4f0de43a0ef32592c18e26bd56e08ac64ba010ed44055a4e28cdbeb7726273abb30aee51ff808e218ebc3565287d6bd4cac82aeef8315840b5d5a72c3eb71305e0fba6ab45250aaa4170c440b5c41853fc2bd3e1e4dc8cece9424ae838805b1c0604a943adb94f5916760a0e7325d4d4dd6c734523572e89dc90c04484b922918ca845226c4713fefed05eeadaf16da76fe6dec5072c7ff7a38410fa871ec0ef2d052c3e23e8b149de5b9bdd660bde9717ef5f9f859735365570fd40884ebfae334a24a10b24780ecf13690179223096ed7cf44a6a412ed40834deef9c5e60cb4f08f99eaf64ddd9141d6a28f373cfe8b0cce3980bf605c2a057bb21958252e6e5d4c1edc87a1193bd0f4eed3a0bc3f592a5ffb7b04b4f2c7201b4b43bd65c71bf2478a2d66af2cc0ba939041d678ecbd6f14c31331ad06804891e7a372028ea1ef100f7411f9cc972702d34e48192eb9a5ead0cff796e33eb68132d3c5661a11a4caf47e06d8fd592c4e0857f95d4c1ec60b413620d3e0f1e518a2191bdcfb2ad35b20e8adc24b74c29d11457354a83e7461e5b4ad62728c85ee81ce0b418a94ddab4967df7ff3ef5778dc1d1bb87cea015b92b65f9f1df98916ef51efdbc76980c848cc5501ead116812fbcf05894b060ca6b855955bbafc813a8780bf396c56bbb24794dc1d77eecc8b9ca7f24f592229b37c41aa4a2db67d86a8cb2d12e6b6891114b2fa35fdff3336825e99539cc961071c21f7a3d6ce64ac6af0c9982f552f7572e796771088334295208791df9cd623d98d313940b1bbeeec1602aa05f52633ac0929d17534d8049a9e940e9762da04669f0d0616664d12a57de1d71fe44171a5b41110993e16802b372d34b1739a816b7e1b9a0d596a58bec1da39596c096957a72e471d12785a61c9ce343e43ff41179ce0b3976446f118124fe20c348a0fe2808e17bb2007ca7f358298169b578ae0352d2480f1952c1e4d1f79d0270a36f7c49b10c480c3ef32cb46f3b5ab21de12194e622d36066adc69b29476c12162d0adc1b136be04e873a87fca58fc763148d1c10292063205d48163d7c0f8ee819ddd27c3e2de8376f196c60e6a4a4233a3f34a98584f5802e912594bd8c718914aa06bb73036052d132daf43b15bafacc7d461ac45a31a7b8dbd203c0a59526716af0fbb975a9a76c57d5aa9b89a476c91f0efbbb0e1c8fcba3c790bdd36d62b88062e84821ed20c301efbd13675498febc71394f8e8efcb7e3e8f52221df9a96a9cc242e54c041c3f80ce09bdff24b78117f565846e96427111c716561961db75f9657575c3718be62e0c7f52970cf5a7c40fe2a0dac4403e80976fbd41df1302e8333f9f551673d6587647d07ad8b9d6949fc3bef64c75ae58d3a6f2072998230f865bbde2da296c0061283ecef9b4d9b710be65674de69fb2ded11cda4fcc5702e404dbfd3769eab12f851855a60fc359ddba6c1c75650e7fead970daac3812763bd19787a1c2c26902a9f51950b09f0f71c83f27ae73f524f44c30d8f9a75504bd817a2a102bf36d82ad1aa9eb5702d5fcd941edee81002b60ae1d7de9335120c76f84f63b89c778aaf74963d66183d170efede1ad09d08226e3ae9844f667924cfe74aefa4be062bb4fcf2c1da60da37cb7b88eed3730e5366bcf27c716f744c059f607bbb8e77f58d8079e0d224d206e959e1cb99b581335e097ed6c9beea74063ebfbbc20c26ae735aac35fb1d3244d217fc6157d37f50c68369638193ef4cbf54fffb7d7a75b07f943df7dc7340474289a162479d31173f1292d397b0825eb5928174046b385e92e37d015dd79bc2f56bb3c60c0ade8a16bc48c31fa988f442f951fff75858b97da7004e339c0b59fb50e1c5df5227a293ed502527ae3f74ef4d224c77da2478780a11b83da9db58c8d1f24ca89fa2795dcc1ac77a00022f2fcd22f34e0b36b13efe5a8fdeebffd12a9e1dcc519096027166ae372a8917c68322b3bfdd9dd666f21d0c5fe85ee7d65bf63ec15fcc93e8d5b83b7e02303e6f83e61e949c60718a8e51f5cf142d07a9be4cc84f14892a21479769516ff8882fd124e3bdf0475c240843f24c133626433e60f05b5564000e32a505490661aaf9d6709d07acca28fb7a857c51e9854efd805beda466931c115b750a881ca09e250f41a07191794e1e556cf290c922fbc977f5864e8bbd11fe61ae471131276f3a7ea4e8876fbe189e642f484cb3c8b970015c0fedfc393d3e4c627f26b170771df8ea0fd50b2c3a4d9d5dbdb12e7f905aaa4d2f90bff78469f77937d26304b3f169ad643c2f30f8fcb3e62e3eb61d3da323f06086ec7142ada6c8d55fda6ec836bfd634568dd9c2a55c6274101c74c3df8ecd8081dff526ff48ce71674b97c29a7bede65e1aeed3c32484dcb39eb40173d38519e88f66a2119c41823cae416f237f022a3a223ac647c7e61086128be8496c1561cea4356ac7a39848c65654c0f02d1ff5905235803058ef9a8601e67c26988e9a41a6e1e317fd13a2bd7cbe86ded90a2df237e49031da350ee9a14af2dfebf9df73be23473d83a64adc71b7d4139406effabd0ab58decd35e6185d58075507b33b5245d61f4e1c5be61e79738ee62067f3c506e0e665112c4a4343bb8e2f0608f658516d47b75689b6bdbce0d0fcab02df129be6d7adf7cab6ae58966d69b5a6664481c92b0f968fba00d8016dfdd728bf9b754323288b0947e4d9a4b67aa5da6a885dd651427c0af0ef11c490be091c288c7cc079da61da20780f31731e1fba62ab05dd7bb30a4d61fed5ea289566fe78cd5891e3b031ca7df01a47ac286ed0733d06fdbad2c7cb0de886e88179597b56cc941468321c3aa8fa9c472ec0c2df69242c30edb2aead9ff1b97d6177c0d07b8c8e0ba7d26d5e08de83d3dc3836e755a3013bb4a06b888eb7068b48e6597d0e2f0453a285f40aaf2bd78c7f7fc73a25b3d2f526eceace0040ecafb72fc4c56a5bbafe41eb5fe2808022737cde0b9e7a6d5e393e57a5f9dd8a3003c85b1c744b8eeecd22e6aa09f55f2098dfe35d710389e538d4da393aad05616598280381778efb477cd1c2769a86f8a426137cf23660b54bed48456af850aa366e8ebae9d98c7e11efd72025d7dcd7a9006c09e0edf1648c5a683574159310829894f3f117b13883e4f05e8a3b70e03e55a1434f64c03e20e1fd372801a4cce55b17e21944d155cca9e96df66e22ed445744b25f8266cb860186508d66f3db1115ac31d4a44a026fbde22670b133115c7bbaf7c82fa752ffe09b26a69ad7c1b02025f7c9506d4114a8e5772fa0aac724ef55ede5b6ed1bc0cb72ab7563b7ac35a58efe3116ca0ed0633f80d5203a6d08e26b6f1720d1693a6a49de03159f71f03f503502fb04890f3eddb0ab0bb96d10a8ad53f603bbf1ec7630eb2b8ae9e4db6afd21ab63075f857f7384613f1ee3510d6d212649114421d2dd4d95d77f11d32fa07b72380c6696a855b2b6cc01aa39e873b6904059f4d4e9ad619ac42d3a332ad39f52c0ff94e9e83266783795f20d69c7f68ea3643e7436d68d2a2ef71783bc75c0d5cb12bacc1d6bfbf35201df409ad488a3b7ef6b5db6f5b6fb80de070102b5b60ba14e60acd44ab64646d8005de1b562d12a67a7e1ccaf8a313684bf21a94ea1360349ed1acf1e66fd33da20a7054d71f11e66397cf8e07abd35985fe9ecda77c6045c52b6c125726b2459603fc5e078f530ae26f7a99488866075953b6c6eb43d6c7d606a3c22137dbc7349a56c1cf6f4cc959c1e93277515471281df008196a33dd2ba02fd583519337748743acd22a8be49c276c0eec885530b52a3af0c7125777457eaa8212b05f9d5b1737e4e12313968822b3cffd0eab294eb5c3f5e3ff746974378045bcda7061eff0ddc450f18c9f6723cd79d59f4e2092306b567e6101abbaa075d395b6546d770bd03d64646bb8918c514ff86617c1c3c8336c9fdc82476935aa753aae1e300b3b8c0ad8ec4ca03c6367a7ce831631aa51ae86ccd251d3fc936eed0a6a548c3821891f1039f83997e4c26223948789ee97501e0976f9425a98511cc1b8d9ff278bd456ae4920c2cc7a3ef71d41edfbc90c6010597ed2fee3f6733d140ce9fdc53705b4c9a076965b478b3a80164413fb6d86d969e8c048666b9e12f1be7a605207998fe3e0df7aaeb194e94666441c02e1410b4d6a97ea6f62db03afc75a78d6f3084ad3e2a919456e667c770e728c3f2d1fd0df9950016ed79514b0a73cadf39b2f91d6f95b62661e02e3f2a65166a1c1e963e05d51c23a52aa61f66111b1e0a645c31a402bf162599a67d3879984d6f831a27755745e24f192bd8230531916eaed3b2fda4989e358b7d30751dad56e237c29e824a4df49a1aed091c9e93f7070bd12b65fa74f5665f0c60179e56dad12e2901c9046d75ebae9ba4ec69220f6b728d74ac4d2b633127b77f84a059799cfe077caf18acf48732c93882718ac446dd9d92228afb5ac110f883bc10f375d58181cfa1db31bc73462a57306e5abf2aeb25fae688312000c38bc06f6f7828446b9741a1f735a9fa486c46aa2413afd346b2b4c39fce40b6968eca348509daa5f38d6fd00e4b2301bd6114f2337490d4957b707c1cb6fe74a60327d17164988d8b34b6e30e09776159b385e30ba7b3ff018e85fc26189833b5183fd5f5064677135250d6d35e8b6c5c7fc783bb0bcd346fb9cd5fe0d79873addb7f303d54d0c038661cad0b4774939fbf81744731a5f2d983463cc3fa04a5fa127255152a87aab4a753f5ee200dc973bf5811058f30f48ca81a38280c4b9464486a3f25031a43a1f5c02c2f9b1ea044ff5f5e76b51da8df6530da840e43fa0fc9b988d0305c40bf797af824ab9f6c83e5f34e9d816fb402e6d822c95c771e3986a16e5bded8692682c27b0dad9f7ab27cc7467a30a400e6df492c08590a47a19ca7c17dd3f8af65c3c51ab635881c9a995a135068de224f55344ff6258d79283fee03b6739701d3254f27005ef353a452b13ad4814845b7a1df0853f8f93144f5a9626176900a5e18371286093fb3f053d7b5a6b265912027e3696763a031ce41cd2275fe657609c802abdb8c09de2715cf576c08b4e05891a6c8f0b9527a2e0267eb5f28ee4e64e6b57d2eca9ee23e142344e0e21585e7f527be9188d483331fd14cb01470208b2565cdfba2ae5b103a7387651e4fb3db1c8c201fa60242b2e8c65b119035d1f43dfaa8efb267e5dcd271647fbef04571d66ad12f845ed36544e35e66b6a1c64187ac1b3f802da8e9af7037dee9bb2bff05af0058e85be4ae6bb8f916b6a6171d09905881435c442125c84e9ad068666ecf76d920aa0bc6dee82feb465bce9b76dfec104f81528d16e653653bbe1ce6eb59c23940cdbc92ae7eec0a68ba85f3c41b670c5cc6456a919d69c397d5986187b28af0c1d86a2fc0590cffd6246040fed6a314e2e44d217544776878abd96eff4fd06ad34c6181c43fbd00eac7cacbe3aebd104da18debc5fbba61a90c49266b528cfca6f25ffd378506156233beabf5f44da8483dfa1ec2c26675aa36f78265b6989483f359d71ed2f5f4da677eac28642fb3ea21d48271ebcc888a1dfa51aebab0f74fcd380caedc51064c710909da733de3cf08ea1653a7b128a59eb5562939ac345686a9a5f4e989d2da98274f1916bda36989c0df5cbdcd05f26cc885212cf8c46d64f3876ab3b72191954568f2045b6c26b967c4260f706d52798f67d87298c0cdc29b3568fe0e2ac37a0fe527326df78ec21f5a0760308cc2360cb075c856b7293627204ff91a1a06ca486c6b6e9936cf12405d626cd8b093e0d428cd51cd9a0ceb6ad2fa32b31bef00f078c66f6db78bbe987941806e2b8d46b0bc797b13a728ffee67dff0d7a5ad659c25a797daca02f73d1a96eaaddfc3634c765e28c4d78aeefb02391440c1b8a8861aebcd1eb7cc671a98ce34cb118072202bf87fd7252df4b70e303003fc0bb022c5e0aacdfa46fa755ed75150cc29eb2ed95186226a8cfdd099f2ab27809c0221315938531c9760dc4036f97c24c744af20f30bc13775c61e47982294af1677694dfab9917645c9912ec192569a928e197789433e6594836427c15491ab183826df1daebfe2f9f078da389d8df173e9289ef90af50014528445b4dd2276d6ae128fb0a096acfdaef5f8bee4f005b4ac7039791746b5ed5c97154d4d8a922fc66a3075433bd10b866d6c5b62000014d62d8802b2fed1f2e321b14b29e43812ee71919189c75b10b12d73112e0f55456bae5959bc3e54ab256840f32bcb8c430f8be81143f7567f98828baf7618db8f50b894fa0b1fe5e51fefa3b7d14ccb9ec6a711adb3d1976b9a3173566930cb4313ae70ebb7acd1cda82a95e217a7b7855748159fc62eae1800cf2f15e47ebad7cdc7d40e9d43fcd9bb7f7fec4407fb64db2e7b503fc7921159e0616aa3a909c6e4f9010063567a9727ca37aea99919f7a22566f89f5ebf99c549d88eb1659a46b56b51cbb0f27cc7885ede6e253d1451c7ebd10dfe5cb3749f21040b6092bc30608596a10cbbe3bd082db6b0168bc44d45289ebc5d6149008fcadeaa4d2e1336ba8e0fb757aa7704065c87502dd10d51dd9ad9185c8c3a2c7bd004d197f9a55a323663b6a3c5443981adf78f2ea647737b725298daf5d6639fb197167dc23cb6dc2415feae1c39255a3c4327109246ab596dcc131b180e9b44c92d6d64c02b5b006f88a7a4ef84a7005f4d519a7f056a364c0a340c7d7dd01135950fa545424fda30ef2040c5021c479811393f1d86cfa9014708ee694dbb5423893e34dca32536abd26384dffc5e4fb5bd3da8f91aa8fe44960cf64b0ccf84eb3598c4d8b9be43f8e4996a6017c49ec86670175ad37586eb8613c07f75706aa594879f835d7f62db1a98ac7db71977be402d2dec0d430e5c5e05f287b1a501eb82b9926605645807690cb05ed52fd464857ce2db810bffe286b5137c63bee9c0408a8ed40fd361dba96c8ec5da4ed8da702eaeb7678eda8afdb977e96ba7c321e09d4fcf25e1b7488fa727c1f8c870af6161ab5485455023fd003d633feaeb8ce845bed9e921fbd9a87072a148a79e9650ed59347da59a7307b2cbe7f265fe7a2d94ee239ebc4f47ad8909b204cb6227a40f2b332f4b06c2a94fcb16095187b18df71067b7075e58eca0ae04606cd242dbc984e00601f64574775945c6c2a8128bb8ff1989a027bff05eb48027a311a8f47fc71f1d6b1417ccd6e3691a0deded38c02e49d4ea920e64c763d2ee0b513b7869e31b485696fd12ff073430e31abfd0c50a32ee12e97314b663cbf98117c49feee5d5a58d324e8edd41743533dffedbeb1193692b06590d8b864cc4c0386c432383006907b0533b316c83ff6177f88f45be675b45e0ca7cd8724249fe91c86857b0eacc5520520f9b0b3f52a09ff07d8cc10ef02603a4f49da61d4666ae06031403b5d4e983cc73451aa4ffb35ea34beafed02963b871a7bb209229bdcecabaad6ec8e8d6f57e3c573feeb87a413f76fff4ad4c9adadc7b94b5e92cdee120621d914628ce8f7cd8402b8a966d87e4b57dd2d2241813cb1c183abc4bc52f2454817ce533eb0cf78d141c3966b3798010b88c5cc9d4fffb574bccff667cfa78c0926cf6d9545997113ab8fd29c8ff938f52a05eb3c246b1f947d9a13a7a945eaa1727843a74311e3ece583161309726e120451d072ef471760dc6682c736cf5b814621836471680e526e28c2a100958b97c67d2cad43c9438c5e3cf82ac7a852afd3df96986da0a0b48a638afd4e0de80c966567e9606e71f06b780bd3de7669a160bb8a3c0d2f4a2390ba879999add8c19a7f0f67eb636252a4204a3ccaee5adad8196392edac9aba9ef976ab82f6ae3641b5146f1e2f11b6ab5c7bd705218df6c1f5a73456bc0bb4fcee50302a8c10577d8bd6dd0f16e0a02997e3080cd75fecca0e7d123b05e1e5726f4811ff226d0185cd306b764a7063e43b7f63d5b5ead297d659a6c999f2b2a97e8ba39e923329e1d4a717b2d4f0b2f715abbccc735773ef90fee7efd778937ea3c64ce0b99a129d1b3fd06d1d6d97460981dedc82888cb67b253ceda8afeea8d2efb3b8f90e0e94f85a1f89b455453d21f38dd6bdea59212bf177925be82f3ef8130138457fdd9bbd43792bd6d1352da1d5ec47ed2e1594bca92afe0b923b061613a33e9d11424eec106bf235a4134ca59fac4d08c8d370bb2a7c2d1eefe7e39a0f56adba340e710f0af68fe38888e1a7d25eac7253e6d434447b3dc939ae9abdd9afddd3ba73950a4b24d3d0031a16f757f3cd86d3d29bbf108991a19a0b996c369810768a0fd7f67705b21b7f94b5d869a3e48c2c66cd7ea61e9f06cef00a889c14c16d2169b4b2c9933b789b3e0ff32bf8cfe3707968682d876b110b5580b0cdf60bd187fa10582c9323b0e3f7ee63562e13cf0163be91748dbb6f50eef010923bbb7f3f8260d4415e922037aca594beaac436219c1b9dfeee1b2cf2318d275d23a1317449fdc7fa22ca92420d4f7b343c6a492810a02376d2da2afc94265ff6a78983964dfe76eefb721b0f7248dc1772ab505d7ff722323881283b62985c1447460b34c64053101a4b5f0c4f946eadd1cbcb3550a1f4c0f9e547dfa2472a4d19f2a50359a6d38b5629516c855777d2d7e54413cf9afe7d3d812c7a7da68ef185b74ec6714b4b069aa38487b6475a3f26c2e21f5018dbc89736dfaa118f23c3e9a8849fda4e4a9edb582cbb5159df645c593cf99b5f43d9662efde04f511da0a80ec8e9bb926faa628f712bb0935b276eda0c6826a93462281330ee957ac95aa24422c2da38ae52d3109961ca15e4d704cdf8397a7379202de7aefeb0379c925fc5d2d2df342f1c1375f82f58f8abe16f1a1be46485fc7038510ebd7ac228b4b00ffaf7f596cc22d7cb08da8b6c8827f37f78712cde6f5402bbc1fa0bc65c8ea63b88aca679a3cffe20986bf057c848837d1a41f6c6ef2a478e58efb3264018361e71d09245765fabb791150967c82dfaf229464a1e72cf13fa8538b95cf2070310b366421bdf9e52a98cca86d11c631f9eb0c70bd6256a0a451c3224d7b86cfbe4f03827037c7d0ef255aa027c773daebbbd91fd477e38160c5136ad0ac3b5e59b40ed168538adc130abeb43b9ecff49bacdaff0923865ca1304e7b6992ffb97090ba3d4c55770ea561113716a02aeb98e9b53bd45bd3a75073bcb5f3de013954235195013a5b97bdb4ab322adb68024511e3e23327a3b176899ea6ea06f16456fffc75303f0af0d589f7a73459238417569bdeb60f9a1cd6c23be41f329a3e01bfd30fa2d680d5607c2b0ce340a60856c847dc0f54d04b13d628ca5b71be8315dd4e4c6c223c129f5a6ffe647491943672764d949bd85f83cbd33b079bfc68b27373f8bb3b5fa7a463293ae22f2a43f59b30a4d4faf16f710358a55e2cddc6d08b8286f4fe69006afcdfb04d5f40c51561e21292621f35e01a298092b35be87226a68a3cf6b58c7a7be1e47f512f4ab5d46e2989677ee91ca3357b9734317168cce9e0f6969d3702d6e00be20f2e59bb5440fd5582afc33615a2b0f2460a2fd74c62666a8cc4173a6cbe68e089b9e7d9890008aea4031e4ee9210237b026211a9e66137a9e5896d73e2915c8cb4f4c36436210e14ccd00e471efd140a42c2a2562e9d6207a9c23fc88bf2951668d2d15c4d9dc63a99d69edd09da0af7d81f40b5dcc95bd7587165d48b8ef4c55760ac54ee49c3c07a635979a8fcd4c46174e4315e6e65e45f56492daee8acb7ef153ac5769e37c048ed35e1147372dcf87a7672ccb972dfaf90960fa8d0b9845242720a02667daa2776f8ab05418726393a53470245f1a9311275db29992a7e461e328fc8cbd9f33760ce099c4ff0abc132da5b3ebef5e28a6cb065c85001ea5a8a2886603d122968196ff05de454dba4da8f9a3aa5b41884bd8ada253c593312527ed393de98db40e153724a0db0e0b2a27d85000a651f7ae276d191615c5bbcafbcc74dd540a823dca1f2f814d556a19bd9e2a71f54671512df04fe1e6d8b56e47136e01fead86b5400e023dc797ece0a70f52e0a0ae9b1da539bcbbc426956ab8ff05470a3615b4bcacde110a2cc0028537d73724ef399c464d768951587909c15bb806939314546234eb20c2680b43037b541971d58002e936e10ed279cd5bdb5eb9320b56cb0c5f9985ed34c0eb3f18d766d634ef906ac298d6a45f3692ca672ade88de223b9ded9f3e06f8deba47f8ade681e2b0390670122e8fedbd5ed0df89932a3aaccc7c1870e43dec0ae091ffe99d59b379bd3e9bdfd457f30ce7ddf370682c8ea7ef603c3271591d86183655d22fdaee52617698579ff51b79bd1c90ad4db87a02f07ec229f538643ef5fea617fefa467c217918dca2cdad13a89e9b278f47410577148a3bd6e88e26810faba0b3820320f14aa555ee340efc180bbe2205d755e4d56f1f8a69df8ccef09bfa8e12c896e4e32098fc5f35a6fdd60f91e054a2277985c62f6e4b0a2449adc6febf009a2230fff86976ca8dbdbd9ea36f688e2abc5a018812367726d12f4e9310c25944bf3ee866859acc0bb1180ad5d41eab59e84e7393766ce6ee76f04b9c9b7689bfdca45c9d13b022d96d231fc8ae9111e5613ae8593aeafd731c65605512e4cd6bc22c0430a4f2d145c0b953a97d7052a47ec8e0d48a79ed6acd06c1e7d05599f81289335245f423998c73a910eae71afc24f24e48e0b9b53e9a7b9bfdf3d494e8f6f5a5ada43a1298069d652b25e7a90e25853d6ba9cd4f613801d06e9d711db4f0381f8fe65c7c76d85882f48d6b6119dff2750baa9c2b3f5bc72d95f7f4772e86a127f4d72c778b7b146b10a5f8a5acd1f7d89c5dded1be03b963894ac9249d03dc66469f292bfe89d38555b8d4a069e0a2bd3cf476242e22f2736ed31cdd20cf3515095c98dbf0283c7752238c5e2712f37e5d76ae1d8b948422dab9f6a332f2b872ddc63afd7aec5d1ca6040007a3c6125d6a7b9a0ca62129487ec5cf40449de0ddb43894b2e47669461798183e8a0aad87774b7d9bed76064a8b3dd5e652b76d2cd4e5343a97af93c5a7053e931e284e439b4d4459f7c483a832973deece1e04dd04ea289481aa3bb2fdd2b271630369be37c06f79d828334f628e9959ead51a24b9e644197ff4043e1d326d077c6221d7d967998ca3a0424f2ea12345aa1ce0e44cfb756cbc5e0cf94c5f3858bb7e2cd5886727e214822468abb7d6ea6cddbb4a257a912f1a3db0d0c9c27890c8d0a780e1d840cb5adb80a8d011afb6a45533166c5e8d79b0bee3bc0ec009bb5ad2596b0bf3d31d82fdaeb307abf6f06b98861bbcd5fbd5c17f600e5ec9e46818ec982273a2105f6f28e138b6b075c109543b8bc30b03837c0211433ab603d7595966af724c74a6cb216c41b5f2745a9b28d954c629d8a4d154e1c5b38cd34cc0d4fb799ad5c137d502d61f0ff10463ffcb1a979df4ef3750aecd8a24b6a04b87a9210e093071be62859c6ef39066c6086b39e01e013c8b90a873f825c386d6095f3588b9680ae4187f9a9a944b72eda3b6a862202b1b8943204ee75b3a3a46292d1d7df5713ab1c70095f79a722815e6356a84d29f05ea6f3b4939106df23f7c82d402950027cd756408178b0885d080ae2a5856bd754be2119f7850f849572396767d70429ee1935fdc4ee8fe52c96c96c04905cb6851c67324b7c6b823fcece288528aab90f65f3ae2b40a661bcff67b155e6b0bdf97a6ff17c16fbebf01d6542bb440ee62efcf7f76a1e2da22da704173ce5dac80b7a38221548a4b74a38d1d2963d16c3de4cf4e7a20b6893609961d37f669bbe25110dbefc4e0aca80eb4c68bae585e9bc8e4c8303eaf59ef65a4649d0fb03b258beb4b476f24b03958777159295440598721c63ebee068e04d1368b02ccde9dce678881fe0e30b99f7167c909b5bc8935898678cd37a0485fcff8336eec37992f85d41410b840df409a3ed65a3bf5583a7f0f1e1551ae66133394220a7dec0407413cb0a5deac4e71b80f1a507a62d2133a3db08a1474b0813866e0059e21d21a6233f3f98fed63910c15274dc25a0db5c80ca7cfc0440fe77d0b50ab0246b9c1ec4ebe87fbcfe0728b5ee17066fec8c505d734ef9e03a746b181801129ede4487991bc98cc4d1a0eafc31a2b41e2899a7ef9e1333def7a4b297cc69247fee25951022b614be40eafeff0bce85a19e2e0f0ee32dd6a1b8031f53da53636c7c1f3d2c36b9ad9cbe029657ed3da0b8175f8ee3f042d5788365148dbb1b9418b5bebcba858137a6ac981008278c814612a7cbb156855a98623a56e8dc18c762d61ca3908cde1aac5f1b972002efad4c31c2d692dd48fb5c969688335380b7e28ccc1d923b4f1c46ad255400498e83a1fb966950a4702b4d86277d10aa6905d1e41935b8c354bc5bc4c5b4e9689acc0c8d51211c925d2141bce8b2a99b659f0dedbffc4ec18766e0fcb0a7fbad29c8b94bfc11473a69fddb95da953e21e36f9d0469189f45c68407d3c2b272067d6fd48956193732976f2d6717ea50658d27b0abb424a2fe593256cc25add66621a24b066e33d69c961bc05a30dea81d29adefcb4cf1e8b2d90fa60f37422d10608bd332901112ff919f0b432aaeb4b449bdb639a16e840f68487a5ac870005bee3b790f10dba43f922a0a7ec55983545da37ec227f90fb763bc84f6cd6b174db0bb5d56e519f633b2d568d58c1df6b8e2dce0b4a344c49e4eb0f69234a4aa6fbdda58085fce662c35f31af9c6582b204e16c3fa9186bc843609a5ab06dab3528533b659f8076ec2d1eeab9a988dad2d912550de67eb7e0d0bd9d4110c62cac3fc385094219c12caa0cdf9bc494e98673ccf58d82f6d4c99add66dfbc44a0f8a5149be554f99c477014748581d23044eff3901e43f11106286cdadc9250037e578a179f4ca3cd9bfd8f0caa0a0e478231f800e0582c8acb212bd4fbb51262085daf979e54774c4733746f037ade8d4ebfcd431698bea46cd96eab4bc5d4d0b8eadc3badbe35c9b5c60ce3279fce3bdafaff2020614b6972b509e6ca20f9ab6b6eb7714d971192adbbea4969b3b83d65c023526c18a024f2f40a71446cb908cd56525d12b2532eabb8e045c9cd34b22f0063e4600bce5c62e93d9e8c16610002fc439749cf5721edf742dc18546b803d0896900ea37b4bb26cdf17382e3c81bc693b7332250773248c4a1a2aeba562944d086f0c50d6fe4ce967f9bd6c08d35fdee1a38797ca017df78bf6f84d591aed65ca59c41a68a785d2439771d3916c584dc7eb99deace8a8422caedb1a42612c03e4e49d1a522e216a7b0faa5e8345d7847a75b3d7efc9e492b557d257f16b81c085bf4db38ea8daf1f59cf8468e9485c068b661d48bb356922796662ed05c85e7dd1927dda64ca693bbf8517c05f96b73cff62d1bd541cc57e4a4b0319b4da2581ccec5a6f718619685e839010b97735cb40b02512af0b3edefc6cb3531f52f11002993f3bf5e1741f7eb937254b72c81eb8d18880b1102754b4b5dd0c4b1d5ededc0330dc5082123e364c867b474e6c5f701ee744e01d81f0383d730407a8a1c8fddbe032ccb6036f384dacab265c43d3218bd5e1c6673581c50148da34ff2f0d669fd8ec323937038cee41fa0dbb544b588ab5a74935cc5a0a735d30896557b4451e6eba35775cebdf4192cc30b58ae470a1a28b17b66229f310f502508e25a8176f40543380bb47420841cbcff05a2a75093b148ffc00639c8816ef1a54593436ff059a448860ea386a29381792b20e3372f7c31d0a9f34201e1cf529d563b367cc881e947a68c126333cb67f026464102f50066a3499c7a9d2fa067af27e7d874159fc9491e009eb4dcf3a4216bbacb9f479e8e0bc42b97d71fbfb704b90b896d6df2782020806b04be1875ab5c2b89674bbe35c1849cef8abc1131e57fa150397c3bf113455b07c7b6aa5fb7544f243c44d562471defe0ae1b0950b476f2a30009f34fb69d4049c636ba87968a5f7896783897622c0597775822c9f6c153164153fea8847c671a6b16377d9a5e77ae3093accdba1f5bc99950544662e0613d586f249cbe239351174da926802babd47923b5743ebfc4d14097b48e430a299c1bc4fc7c9dbe87f1235882188118e568a02826a0b6f8dbb95064d71f5679abdd03608b5d645d014ac9339a68a3d3c39fe9c18576fe15c8d6e75b367a2135f6c81caee2f7787277bb6e937d6d1709f176018de168263be49721dbcbe7c1b7199ea6318f7162663f8f9514d68aa4f91774bceff2bbb70332aa8865e1aacb40f948e7558b3c239cc0eaa2d13c1e0ac7ffdae8675149061b7f9b2df51e16e04611e6c18866c03cef77b7b5ae169ab06f2cb723cd140293697c8c3d7b997a2a9391bd18ccf3e0cb4983209bbc42095b59eba4e8bce2194b34bfc6b2d009c339310111c03201e510f00df569f1624406d804935e16bdc61570e974ea027029ee9a4183684d0c463f7c46ee541b876d20d4de39bd00f5a47eb54c8f30c17bd134eeee2024e3aac11210dec18ac6431c86cbda1abc0dec04f88803a0b521bf9250f13245f47fdd1d80c1cf2ebab4a9d4d4324963cceca8637dc6341254650e3bfe291ad6c684fb57313cd4784229f7d20ddbaaf20b5778e5c0e20b565393dc42f4698cb7cb17ce51588b14f056c17aa010b784837485799b14a4f16ecda67c0a3c4610ee65a965ad38412447d3cd750b8f489ee86f8d169d8737a6372b2d9ca99926b6d39f18b5538399c97169716a91aa21bd8aa31dd5aa979e20a5105a411c6a529da676713ebcebbdbfc11b52acdc5d893a8c72ad347a2092c1c2fdb92186ef2521fa8a14a651d12eb904cac60deffc7f528fee4137c281388b34676c3c230e3c304bcea98afd6281bb934be9f21bd54935b224dd2fcd2e61adb826327d498a84763e1e1d3c8ff5dc65757b53aaf7057cef2214ae9fa658057065437b174098a9beb77a2e8fe4aa7b2c2f7f8edaf09b5a4d6b4cf4a6340e9b9458eff502b418a528e357c44c9ecc39c2c8ecee44f9cd91c27fc516fc2ae31dc2860ea7dfc18bd1c58c7a0991dd95d9384aa80fe129d52d354c17fbc8077faa8a9899b4753e72006e57e85d163e65669489d139748b2c6eaa7cae2bbb111efdca9f9916873716725567a2c2d0191fd5650107d1946318b2f2da5fd52de52c3e1a231650e17e2c0f3c1f3977e1af4b9cdc43e14b1c19fdfeb6fa7bb3f50c584a1fcee09e67fc298f3dfa099a53e3b9e5800f6e776805c7dd71354c186c3901269b7a1fd2c8a0871b25d345279deeb584cdb052252bf670e1c7b360f290785fe0c262c6b95b3ee743acad65f5d824fc25c20a96229696a98784fad6b33fbc05c5c31f4cbb2893849621445220bdd8b737b692322a66faf7797b917d84b21025c92b9f32642bab1193f6e3035600bb614bc75d47cd23c2990bbae95c8d525ed3e207b0d16d2e4a198a6696c66fdef6afa3ff58794a5e91922d2892a1790ff67c5d39d6068fb5233bcbcd1677467175b6458aa1befa132c22cbedba703ec47881dbebbdd74ab1118cf89e30eb863a2efaef72a6e3fd68d114a8bbf80266b8271194f9f4b1da5622e6559244d4afc8852fca8a4f3ce3e119c23cc43fd0c4f67264aeb6bd459bb5e1e72ccb1f917dc52aefc1c552497e3dc9e5b0a952b38b4a1a65970dac8ca1a823fb9768f52dfa1de304d2c4dab01ffae8005ff677edf4fb02cc469c7338a9087a644a934b0994de124a912546884567ca6e197132d87d190b1b7af17c5d832c5c102536869e5144f591a469686f6eec78b893c9f965636832fc228260ab5eed243c9d95de605015a22ed18160b3476ee50dc08ecea5db001c613e19e4433a4ba2e10a2c715293b7aebfa0dfa228b0a6eb4ce2fc6570dd8b9e86674dbd4c81877865939f611e1234759e3e6487be9f99c8f896164414e6e7864e5d241e62cc6aec7c2a9189ac24eab9c38022fd555239d0d7689367d76af5304f0220b43e5b6e4096b2addf8ef91ebbe6f4ff31e7b50e85a70c2970ecffe1d06fb92a7d6e757b3562f27ebfdcf807ac337274e1615ea842f0c9f615f8eb37dc96d123ce4cdacfcca69ec3136f3127c091bf87851b85f960e13745978e4dd516be5004029b81ebcef4a24a0311c1e81bcd7833777870e4b429958f666f2d6f34f3a8e1dca963abc1791cb5077cad2fb3a98ce783b0e73456ae80a905e9a427788a32da99fb0a0507f4e0f89e2252ae7ee05ad1659783950f8236f61163a7342bac27ba4813179f3d02a1c40da9f3b436e61abf67956b931523fd46e51fa2585d415c0fae8fbd3675d034c6bba71ed1eaec80b46fb7fcdfff0eadb602ba266e31be1b60516c4c5af7bfcf236a0d3899a30a1d7ab3f2cf6b89b6a3bb13e5049c72a3c5c53038d5de87e740005c1c3b106e45fc8e4090ab155f25f09862fe80ad3d41f3fca3582ede761c05de873fe8a219af6c4078cff47e0e79225bb6661a0c248be1627f2287ba81a66ec4a11c13bd1a7e9221157455b3e36fcda9570919cff87573a8c3b308e11569b1b53b79f354cb4cec7168b73b32fd64d143c3fb711a92fb3f8e6f2890e79ca50af2bd0985d7601a9d295b224af3d3e9a209674f68ea05fb200ba8e3cd3a1f9076981659205ecca1e0e45d2db3920fb4497ecedb183f9a0f1104838e2a3f09a94849f041526c7e1b587158deb022697351942712eafd12200bd7782bc8b89ccdde7856fe141f6ce562b6194afbf8def5ac0ecff89675035f9777a066baac4eb64a0bb9ae2d10e44bba550622262fce7075f62548a8dbf5d9f5f7382cec28303cb521ba49019deb71ee1993de07ed3697db513246f298e124e721c88f7be850d5d54f21d30146d644e1dea98cb80c06589769ed6a1e8b846e05b39112b62094f391ef850e2e731c530079c5cebeed09d589210c4bb96e12fe9503ec8368ac2bf0dc05386a5a929180990c47e031255f3ff13670b0c10e07df12a0fe873e38b031d7d61beb0fe0c0792d272f21df4773498144c8326118fd406e9359e8a010e7399dad92cb9d6e7622b134c4d0e5371584ba61f6b5261b160ba9956015d3d97662f4b61fb28d850231f434dfb31daff547931d2e4817ef437a4f5c1565f09cac3489cfc7c8b186e1505a490afbbc1f6d25efe9a8838c6b9876ef96273548929dfdd34217b4b20177a8ee6f18721377f5ece45f215464e7d24755009b8c6dfbb42d8fca39e67c5d3eb7fc4049846fccfb51a135f9976d999503fec06bbc5779fc2c70da10fad073347af846d5775965cdff6ed71388ee20d5d436f1fe555be55fc4289a36bc3927f9bc1e5b5c7b498c5b5c79ae544997888da3811b749d10d9a1369e5334f238bb3f0f1f914a80337077cd75fb77a49497bc439da36659e9a50a5fa2b9642dabbdaf1ba6fa3e6a1997b6b38c5072f8394c8fc06037a4d5f26b95a1b09c0b56f42274550a96c4ad15046ed572362170d8e456571394661f243cddf3398952ce70b2ee68accff3e9994da3283af897df3d704267d2d2f11d50c2af466a28abf495fa28e952ea40548a58d66fdfe93e221fbcb47996bdd5b0b39ac22b9866e4c320f7e6f77a09bd494e2e56f1122fc70aeb01f5352d12e042f2c18d64109abe4e8fd95d7ce26749088c7cf8cfbdca549f1b687939a15273ef89bf542b6efa2ac47db8de8a941bf9b7d73963efa054362750e7eef2fdcf19eed2ad4a8d7c920232e75194619965ca959ccb35f3deb10e5e7ccc1322204308b861eda4f8445ba7b610f4fe579a4f9c5d0e7151b1f0a6d8d729e08a84127167fcbee15145839448c7f249230b9d909f84a5f071aeb13c3bad4fd94b5bf5ade06ae3a7442cf58a39109941a32c72efafd479fa36ba3d921685d81cac32f32a4657232e9bdc793e534a926f48f06376164fcd42a6301e50727b3c2550423df2609b921be633bf89b214f0c878e6a72f9da872d9dd4248d363f944afdf8888f65e554e128bf3ed77b148d16c8fbcbcae7d6474e85701b72a46f8a29cfd2a1fabe65a90deed3e8aee4e7582565174d4eaaa0b7d0108cab4997f08e3a4930600028dd84bde893b3ea1ce30f8aa62388ba06b8d987899794c4c80fb754a8ed5d2e9dda0db0f726557af9b3278628f2106741945d85a3cd4b65c8d99d2306bdc860a2bdbd2fa22b7970dd1549be1177fa9571c54f9a09a8c9edf3e4df793eec2f271a62a568afc605b662efefff89ea9a3c0522de01b121a02b96cd80d67792f6736fa895457a60fb833b7640cdbbc9503adbfb2be93f19352ecb460c6d27e8fb8794d6b87ca0fe8b06ca09159f8e9fc9241661b6a56832e1677040ff0e667d326d4187978e713e90944779cfadf77008603840b501b3110e8e967ff6d3e8586c5007e75fbab57ccc50f644d380ebcad5ca74c84a534e0ac476980a4748116226bfafff1978697c2227435d5523dd9862ae7dff5106698ee0131eb8eaf9a96543d83d4d018f07e3acb13ee86c500547240e8337b680539bbb376e9a2b5d4c6d20d97b70ff5dce2fbd9ef38e17538cbfb67efa696692889734ba549273f1e82eb276e60f94c9c75175bf78dd9b2101deb8b9cf9e49f7405ffc9c5e3c554a8eaf536d75b7379667fc0b95c3038c150c0afb0db475f70426177be925667dfa9c9f775de7b312d46cdeae4b5c2741ab79de070d4a6d49d352de27cfb89515fefc736a0426aad84f42e7942953254c2f420adeab74be375a8aaffbebc96ce7ce2f6dc930ebec3531f07de4ae1dd9061dd6b72b90c14cede71d7b8fc761989de88b8667ceb9f6af07c8eff84b82f30c20c2e5f669942ecfc9a9b538f544c667e3f7af385f76d2c86576a347d10e7ee64ea84563948811376040bc8fa658e96ea5699c3824b18782781d9999dc430fad60d1ab09a2e7dfc7956e8d9656052f007aa4324afcbed741602afe2673b6f05e47cc6c7a3a7aa5be8e1a48ab701602614063df055ad2b49541ab8ae6148dbd071a2d5382b4636ceb34e16b572daaa89c400051dfaa16c6fdd593527c2953872310b53e0f97e4a1139a23ef94fb933ab5b73c11a4472571a98f974f5001402e652d9179bdd5fc9ced8d57d0339cea70575de3d4638eb087fc77d2ec68b7470db263cc1977c70768b803a9d29371ccc1c3591af11e4fa64ec968dfe23e78f59df9e87699cd524468fe9535d1440cd8545b2c0d59e3e7c1ffc0666f7aa8dc65ea552d316283f5d7243782695b7c9f757efc07aa83f257450c609f621f80fd4cb711922840c120662fd4de5649e2077a7b5a4305a94e93c09c7c5d96e1fcdcd66e3261ea0b358ed7b9b3e03dda6b05adda59a0ac06ae5d4ab05adb42c98d5ef3b9a6bb55624d9e7dde20060fd28322a9df899f6f09d9049f3408c21d5218c17a1822c90f253ca46f2baceed4404afb7e429c479b4259adde4ed6982f9d74290f625d76a7046095a99c97b9e20b8679eaf97de72ab2698dbb092bd590c5796948b773503352814b487416bde5be95d431d2cf7cb568d4429a59dd9357eb83c2e29145d40b1b24005bf8cf0fc37594ea67f7d6fb1742048b2ee7cbe0b67f21b3cb1c5ed0234a51a421e6d98a2b4e763cabb47305aa0e38e34bfd71cc5a667741e8a12fb974a19eed29722d4720bfc39bc6560cab331e96bef09127d3f4ed30b73b92127e7114d9a78a19ae595e77a93be1168cda90d9112297044bf4a52df7c92ac4483d6e98712614e5d4c1b616908cc4a8b21ce101be612d4b45cba6aa75872576d4defc28eeaac9adb21c45e80ce22cd7b08982bc263f3c9696a9a10713a7743cabc25c88a2aa9c12b398911057379282a603634413360872b62db026b6929f8a58a4d64c81b25f780dacdddd3d9ec352abeccb6011acf10e17eebdb84b9e4733585e6e8305f6bf356c99365a77427513725077b819fac231929c8a3b5f8a43a71fed91d330b4589464e1b28d8a4a9f2c9d19973a1bccba0d1f38cabfa765aae531cd7bf94e1d095c479a6a8d2a542b952217285c16d4c0ad839ed873e9ee03daaa8fbb0883031e5566ebbbda840783a4e49fed236fd13ed88796ea357f3e2a2e3a0113e8d3ff5f21ae544b3987fd606a26f8616cac53cbf2f9a45df0d441dce1e5865fc06b29ae1f887dd12ced5af8f15790ffee4e8d5321c6c7e26b9e90cbb6080561da8668d61cdce30dba5238502c2fb5dc65484a1faf1dda58df0fcd030ae4f3038977d831b1ac8a55128dd2a1348d72ae3294d86aec90565cd88ce5a025f1f95d21b68309d4b69a57356b82fd92f247313b91ac8710f5edc6754b0075e9458c0a5f58fb8c254bbf65b4e92ce844eae5ac9565d04525b7be1bdf2845dbdcc45a0927819181122fbd8ce06664d1c052085dacd8764cbfdbb577391ae56cf2ef5c8a5b22a54ca44415bcbdf643c9f21074e248aeb7d96e235f4153433fde5af520992a2570713cb703bb31f0f0d6d4cd7039992b6b8ecc4b2797ef6c173f9cb7801c46887518817e7e6b9a498aa3d314685aa4704e540342a5652824373f0887101d262b5183b68aeb50ca037fb24a91bad886dbc927c6dc53ce2b97980f57d5fe4eedd2cf1d992f841cc62b280b1ed8658e209bccca12e0b381c1f22765f8379d23433fd032d91c4883143a7188ea6f2ee061315bb1fec39f7b6d7aff86a304f3ce45784eca7f601334e6a4e33114927faac04e0d80d07413f19ee28ec2246bb5931c39e94bfe4984bf4f145a3e1018fd9398e15197b26390a4220c8f4b8890c9603dc8febd004c8668e2d3696810ee90d4ac3e9c3def8f14a1e4fa9ec9cc72b732e94aac2b63911d115c952d37eac7af0bd354e9bc4578f9a5853e28ffe3cfe388a3863e970f3b8a7a3645a6fd627e2b52e46e28b23180c1572bdb6594f37c56b7bc3d8efe7e39606ffc01bd01cf3ba5029f59b386d64a9e1eb39a375b5d0bdd9e585ec25b88cd7d6f8db9036a70f5162f41020cf055ff88303e5dbfadbe4b9075c83acd087ca4b1cd83c31dc3495568ff582fb5a00b569e3af4de5c283b15468fc071d9f1ff7b262bc77cf52a8887bb0f89cd6e3262d3db3ab023d2505f54b82992458b4fa48ac3cf494d29356b0cbaed485f8946f0cf2ffd422d3f32945885396c8cc0880ecc92cbfc63049aba751eb926fdcaf324107f135d558c4353cf1cdac10675308ea12d079930a92e12dc671bc20e79f3afacaedad29ccab11ca7a01aa422e327442a6d4c33416726a8ff0f28adfe8a1c29415db832bf202b314b219c1666c0c060b9becbe30ae1d50897f31dc0388b61d95310c9699bd7bd5b1e218549af16b3b5d4b70713969b6ac9faa0465ac3ba55b9a1512de40da2a2447187b5129c5a8f0da429255e7bcd8c07432a72a05e26568dc4977e05e721617467b5c84a81920731ba4c3a9641bc37c8a996f549cfc7a28737e1fd036fda51c0e538c487076fde8133aa05c6171424b9618831b6b1b1b4c7414c3ace404bb1c16575d35960d54ad6e87ce009b161b924486b4ee7c8b607bd6d33814648c24ee3e48f052695d04943fe05344675eef206c92edbf57b557e771516a15d88a394826e5edf9618b4edf4195d4d4cf2b1c38d747a78016a430407e420b3acca943b8490843f28df1cb06ff6f09faaaa55e5fc2c45d5e627d80cc7335109a2ab9f384deb1b81c6d0fa1546615a9f8179313546f9f8d022d455dbf17ad5701d319d084e0f55935a73b42ebddc9d52a5eb777ae9ec9995f7ee54bad001a11adf637a3969785091eec9ca2a548eaa10d36554da51a064c113b5879a028ecec75101cde8b44d6b48b740ca0dea74e1766cb7c2ae6f249d40b73d0a09155020c5acf8dc91b29e03736af2d7d44715d06737a55c34368391707d26a0b384bb6782dd2abb0470098b57277976056bebf9b6d81117dd50fcbb8b7a05a270a725d5720910e1a118a70a43b57166f8e27d2cfd2ff8fe16aaa7303faa8e9862f4a4f2296b1605016c663bf03bf040bc14f9b252915b09b47e272856d0581a0602caf8c5b067bd29dfdea41a900f285968063fc817edbba772d462b76d1c800c2903fb3e383e1e76d5dad0cf0254486641ca2e2dcc8c660c35e20f1500f2be4b13a2cc825c051b8c33c06ab75fdfa03aae6334f2a7ae784a8b114c5853281ba92164cc67fda19ba4472584af8a2fd0492af399aa459c611065b01b3722baca0dc526d78cacc642c0ffb1dd934e90b28df68c2837bc9a48661935d6c985ffc3036212780ad1f7b0e8578628b25e4dbfa07b753af4c907390431001387e913a29bdf6cecc73349cd09055e2f76a9b22933f306cc807f31b5330dbc6addfc5fd29f7bcb2e7ac140944214e8000f656b27a697df1cfbcf522166ac7897607bdc5b4c58d160e3b03daadd75dc41b3a61cef9e91047c500f6194ba7b1ff32d1d7b6fa15492e4f2c2fb048d84572de6bc4d128f60da40790104539a16b055503bfec329b3301054f470b27a9f7a051f1e00f5cc5029d4639fd20c89c6772c0197c5a2d0d60f9a18cfa619200d6561b832793d768f9546526eb00ac2c0a51e37ca06de57eb6aa8ab4bf82be383d101497ceb55da135127424d0df6526c95c8d726775abc51f995fc3c74565efeeae4c0091aa108096caac9969e9bd09c96ced118744ac2e8cab87b4bc14521887d0478c68c440805a64483120336f102bc71e5441c1f7bd2916cc804acc5ff67883b813450c3c925eed82a9c1f25dc3fb3c970767616da63f2930262cdbb1d8c3e6fffc45dbaf7046af2bf82490d27370630967b61e6a0099ad52e7ef340104ba6b91a4ae75722e0d4e414fbf1e01d8ba6fd01cb1c552747ca1d3823fa6ceae2dc354f5f0e1ae42b47a2ec139ce5be060da5f44e209ec2ce748458c7942f503ed0490d4b19429cd1d2713e00446dd9fcfe14f6e8c5ecbfb7a0ca64843d92985d8ff60ceb43fed8b676d0e38660969b40bc1435b8f036e9a3e612b29a0293f72481ec7ea5e01d85e42f4380f1908713684e0c1a80bbb345daca74c29345e075a1d9d29664470a6cf3ba0909a939d2ec01b83bd5680187708e89f9e71cb75f5c12c2fe7a25d7b10a2f36aa1bd8c21caa88d3803387ed14e4f01dd0c091743ca0a2c25ebfccd5c465b79f716c0c9e5c00eaf4be25e6d7abbea2f62e215e80aec8999816276b369ecf5ae80c2bcd1fdc6b40a97c02e40818b69d278f127e556897b0616b7da0e7f2a21ba910683231a7e5cd068381bf4c10647209802bbcc0c59b7f860e5b514cb2c92c20c9afb1c2590fc489fc147032433920d25593145be8e74e7a3e14dab1a2d7c38d08cffcf1a6d1bd7b4c8420a1752ca7d2654a569b996e5fec14559c3329fb4ae7bce2e834262a04c24ae335a29d82361098f03f81e1f111f9c78bcc62e00611f2572f403bbb39ec9dfa11a1c46ae398f3641b560a6729a10b9a9309a8ab3a41b20101e1123774856d1cd4281146686dd921300f0b3f3b92ecc38c3a447a9ab7815c28f7208fcc1b82c3b13215c4695b7a3dd03080b503aa542430b1dbea5bc619d4b2d54830136b1a6b08eafa92c595112ab080793a090200af9aea1c4a63bbf6180298d96b9a3d03a40b3c7af9d3c239c2dddfdb9cf6f8000b4bdafa4c32baa8dbdbf00e01f3e485b1ce646dbaef261112c978a21ec32d6f54ac5bbcfd4ac5df976ad0677025c1b19fcd893a48e73240e7dc0e2c30557b92fcd9d9f9de4fa570fc9ab603eeaad5a05f2d9f6bdf93bab115d3cc896dcab4d5c4afbffb9d5ed32a439bcb5420d2f3597300487863e7bdbe6b15d7799faa9f9239f70dea6247b4c56585d32b7e83315673abda8ecbf83c55908301a9d07aba290c129bc4ee7596c8107d3b0fc9572e42f899138bd02dfad9c83a6dcb57f18da0b73ba5f8c1dfb2e7669221b3b0b7596f56dd68693eae016052ff28d54010b14241bfeff4eefb53a0527c601a9ba88df0b6f9bd005326bb157dc12bfd5c89d30c04e9e8e350ba45c8eaa5364cb9d2e1931fc6b8bc5f8da707a0704ddcc7a34e5bf73b2f8dc7eac9411fbdf08ef3bf38219850462f1b83a9ef5ae8568d0bbee98a447d14988d4d8da18aebaab464360d5d2a2ad0c8d6254ee4ac87ff217811a692115c9d42705109ed28866d8d8b8a1455760b17b4d746ee25bfc0bb12611b04ca49381f3fbae85e474e09c2eb325f4bcc740bd7aebed7c66e707105c2ed661e8702f1b00a9529e0654b7655ef148166199ae8c48e5cb874a211f6ff58135693934b646be60ddf3a04c8e98369be3a2db15ec361483d06f04f7192ac4630eb6a43b83fda26298fdd2a7cdec7f3510f8ce89614c712217d9aa4b6b9ac6bd2cabcd858e75bcef001c9913f15cce3e44bb78585c7823a4077a4e298837d9dc72bef1f6500fa83b48eaee0badc595af64689461bc0ca0bda2258c15bfda2cf51e7068abb471a872850037e2ba23b44ce26b69b8c479a4eb36374e117f57925911c766373695f1a656cf39a12d28814f7b033949b7782b8663f740aa6b993a7dbca9713509add5d3abe0d5e90856b932e3cb2a70548f0b8642c6ee6b0611dce7cc9cdbc2f23b631506e008cabfa0efa377544f302a64bbefd5a419ad37e136c52cd7b9821b4191b3cf38a7632fa00449ef71c70946483c047970c1eef3bae884db13aa60a64f5762d7d31e51ae7ef3f4810bdf142cdcef4130b3eceb87bbb9e587819e9a3f6f64b208739d8ba818ed57d843b96df00fab357db559b02996e5c19e4190e3b2645886f157619eeb53d700b1e5d7bbd2d42df128de400733a07a3fb39ed14ab88f79f0547293836744b823d75af2b2069149ad7ccf37d3265965583034eb27743d1332725f2cde88ea70072eb9dc865f007fa536a72cbbe6bea081ab8138721a01b8c7d6be14575a180e1205210048549a02f5a4be2fbccd62e58fd08d47ad92a1af6bbdb1397b6a3891c90ba1114e3927712270bb8afd520b79b47cb4109c72cc47e4ca6b8b12321008d9551f8f6618adfbb3d96bf9e48db3fdd866f21ef6399a6add88f942f5fba9a01d853f774303bc63f1607183c332e51ffdd1b624931442803f3566fea6aa386c98389b9da63d3c601109e41a5b21d356328919c1c004ef2428b60d7008ae1f5e8d437ba66368373a04b04be639c3d80f24eaae7259a4d8c9c814d9c4dd5bb2490e297be16f4b46b25d82d87e6570252ddfa287416dbd3c56b875e712978a15b8367edc256f7991f2910917fde2d9fa335a2b25b802fa7c89917361e5b089586c4b5a3ad66baa25bffc41bd6204789c3fb47d4b09c5af5fe102394d36a89b5ce40643b4c41a064af6721ddfa44783714a7f5a06b98012c216568e8f2408ccffbf58e8f9bf0bcd4c65c1879335cef94d513080449ea2f57058e145eedb5a902c5e23089e832f77e76648e570005de7f7e2a2fed719a9cb7cd8133641b55fad454700803545155e5c8acf68cfe51597825642af84e3ac18c8e461d0965f1e46a7cac94c126a24a6f448a750ed88712d7d7e8452b4be1558010973350933f00e7ab0cf20628fd8b7d961a3def1707f17813c7a433747ffd04fba800bdb061d3b5ae37c71effec14442a05c0be049b3d1b43c33600865038218c31d0ace70b2c524ff3e53fa350062b81f01e0f34b7dc329e471ee4d5cda8578c9398e85e7410a323ea3cdd1ecbd68894cf01df6e5942410a7078058e7bde97bdae96118116c33e976739b059e2f35c88433d996d8ac9068c2059f722424999fd2e5d31dd0b024b15875e5627d24bb4780f9cc2b3a2c1e8afce8ce11c694254a8ae4d1b135d0b3e846c0af175f7d74514b1cb5e71311db04ec75a249e232909570e19a494bdaf103d9d8970a69a0d867a7d94d170884db83a6fdcd4256ccc39631a2654770699cdc134f43878663c2a1edb495eae2051a7b308b297bb4d72ef737b8f5a4ace36056c8e52b0afa85f1f64b93a72ffc48bcdd137ea60a4c4fae9f322ef4d540e75d6f657d482ed848cc3c84a972430993c1d464c95bec14d7825525cad5ccf4fe8cac20f501c4a69cbb95637c43d82b1dcfce1309011f9820f749fe1c62ce2a80a75a8de7ccec53beaaa1c708a69ea7b0e6631a6c9d6f18867cbb38348b815b99747a32e676ab0854144fd946b36dcf4ec0610856332af16ee693c1fa4816c3ee139febe83642728eaa929fc8b22ae73a35cf545eae4e61220e085b03cfe8d8560b957f8b7b2c4b67c2b1ac61fcd019fed69d8322f52f23e16b309482c41696a42a1dfb1b6d4e0f6f24ba5bb3d92d79066d95e225e9a40d3a968e51cf0c0beb906fc53e34d7f2d5f14d3974b9031ead112738e392644e7885cce48583c3f9195a903c7857033e4048589a924ca14729bb8f144651512171f7233badac2da50d8413b743acbddaff53a217440c33608689ded3c9f6aa14c18b0f6f9ef8f18a459dca1ea9e44247acc83c974f835ee341bc94902ca39e945fec0b5ca99443d7451013c7d61bdd5a5bb4fda0b7c2bd16a5243846f8ebaedf6456fa1c3fb325979a755f2fc65dd850398267c6ab3cf8369ca821469c7203c1b16d0ae862ebbe7cdb2c07c058e6a9505544c1e3aa1322a77b6ade4d2c777bf62a91875f6edfc9821ed7f76aa993eb3b5557a8d484f44191b6b63a703f8bdd05ff0116f39e877587ee830d11c20dd75d4632f025891cea062d219821939027d3e4c296c619cc444010983aab5c19451142de3ff9a0be513cf418b26777f2c909679b68efe6152013e238d1674735d28b21028d02beca6ef1c52293c7587ce16178e0ed7c747d8c555b8ba1d54df1713a05221e0f977c57dc4a1958d6927aeed5cd5300173e4c232aafc304a8848f00a59d4a2bc22109ababf7184feda83946693c3dd3fbd6fcfb76e2d0a344fe7fa8af5ad3e88be2e34bcac1152a558b93369354635099167301b778e3346778359a41e4c0dba1f6b88fc6cf1057d0c3af618b185d02fec696e447db45a9cd4d443e8f7a54f9dea73123f5c57bf3da50771d58e4929ccf54bdc03afc59a3e44e3e78b91ed791e435bcb0bfed33d6b64d19d0dcbd51931b03a03bf5bc7f8ddbf12409f757c0c48444480f39786646204ba3c1feff801ff447ef1c04f7bbcf38fde08eb2d492bd4ace7c763b7c318ed6236845d10490aca78f47927cbad9ab4c053cfeecb426f5fec0e67adcaaa2f1c490afbdf1969a2baa43fa5d2074e85a7d1537d405bee0aa97c90897bca884dd61a6e02910ce432c04cf4633fbe6b53ff864dce5096f3df75eee2269e7a498b8b153f47fefad5fb81c6a43783e058d60bb7adf124d7cd8c766abf6977ca134eef5e227fabbdd3d431959f01e975173291e5cd7fb4b0be06935373b9ab624ac393c75539f5940a820b7686a8e7d9afbfa73f44b3b965a729d4a4e1ded18652f005fdfcf88de8e64304e1f66302842449731991654b587359243401fd7e117837c49f252a92c7c7ab1c4ed2c715013607037c74a4cc132edcc25f1d5361fa041a47884374febc4e7a6ec47c497ba5f9ec585a16a1950189f2f14a91025fb98d9f3471092c691ad759b0ad3fb4dd31e13b913058fbbbdd0543df737c81ac99fd824fa28a347cd9b631e0761b035dad7a0ab056be10c257f79afebf4d597df4bca60c589ea9e45b6f08bf9541bbacf73d3f026e54048f4c685fc20f63d08c32cab15745920b0ba67ea6e6b143003011c4110b8ee1348785cbfde5d3716b68849428035c3cd89a41fd8732628309131da35aad0944faa6a4e65a6e149cb1c2d02965096cb5b30389ccf990566a5911d9f625187d0502f259563ecf0894585e447363c59d7f0913843d52a4a05bf7cc9c49df57bb4a1aaeb19de2834b1c530243d79c4c2d7938d7536f74418acfe75e42d524389dfaa2889a88fd0863d2e45f9bebede80b861603c183780238b7811cc0604e57919c046db1079ddddae994ebe271ba4f0cc81fa4b8a23d41e83f592bfe28adba00366dde125b02d05970cf5949058b0c8724f2aa6f41b012a34b12e4da2c65eb2398081b1532e856766ab881c96c488b3ae92ebab3e18e8d63ff6bd1d40157f86549ded87793e897a5732fd190942243cca6020d1f90d33d718fca76d812eb843ebaecdd8d5bab95c8c19685e99cc88a53d079d73465513364d1f0067ca20eda0b1df6a3dfd1e7eccc3f3648b0415b2f440fb13144603a721ff8498849447db85864d27c525c08340f671332ef58f94f8c073316e289cb9fa8f0efa60ae5baa4a0d1b7966768a44d8b7d9beaf899c883f6ad2d3f2a27927f0c01e93bb384c08e681660daa704d72a4b32dba9ce037ac0a79ee62d7b5e14d33153aefea20b4c88cf6f4de288f13adfed4e17c63a2f01ce298673d8bc96ab3f623c10c0e16121ff00925e763019751bf9840b7e6933f8e8afa2a3c22a467a020fd190eeeb25c6f8a1dda03181543cfa95c5a3d3da18821d3097a8f408c5cd6898f07ac0e03e3e3a0cd694d49ecd5eb7e034f14d4e4367f9da5d94a7c1ea613520249264078472b85025f7b00c5225b381ff7c33752b095c63cb8de3385f24485b33a3622c21344e7b5c0192275b79942884eeece317a5bd442c099452b8665a97ccd6d1cabdee3cc84a4405836910662e4eac02ebdcd06cf35f2d3c40ea60cf26593b575b456d14aad5e879b6adb77e85ce6fadfd7160dc3a33a508b281919e190395de61ae998567e9d4eff6e36fe641ed16555e3d3d8f51cb1cb66e5794d148924ecbd991118b1cabcd9d0d6556cd0ad7497719fbdbfc4c226d7e13b96224548cf2361b9a7f8c33523242c55e9f82f5c17d8171aa4d05f7951b58d1047f51e717e6b57cafc92a39651f26bf92eb4075564ff6671e6294fadeff87ed9aa5d4877015a72c5691abe11719950dac17f5a77a92ce89cac77800dc6812c20bd045b630f2ea11b0ca64cc7af3faa73a0336a706588b2f262fa17a928633a038e189ea47a3aeaa3312ecab3d842bbb190fb24b1f830c1a575dba998583a40cba0ce2af44cccff52df8ab2ecfda88bbd6d3299a6f165af729947589f6cd499522cf7d7b8ef520e5ce920428ea302fb1dd83f9b036245288ec302ae9905f3c67d2708a66250cebd711d8ea7a48be4076cdaa69a35ca5e38c45a781b1c0607728daa85bd958ccbc6e383172662f4c7b115cc3ac3a6625c91356ec0536fda77910eda886f61a129df5f5ab2059a9a0d203930d8f31188fca1a41744bcf2d2d6a55d88efb9d269f2e77435275af70f688b048f3d99904cef28fca0c7f0dd111654ee16ed951052c52178b0fce272f200445ffd45178ab813b056d7d8944cb8ce1cd9b1ec06992abd3a3cd994d0690415f5dc9a09f8140f5592d88657d578ac0d3ef92bdb1d9a8cabd90c6e03554520058768db71ce413dda8f2151f58be70f852ae519a7ef1c5e3701ebcb9b6ff0d7d7811921b3075cd7141112c39453e4e39e01b876eb60e703aa52129096c607f319d6ad868a96ee4d8e97669c406c23238ba3c38bffa2e977854d10b890e98fd1f014b9d944074ec22d4791520d198b8b5352e2f94806f5d51bdf9563e054965bbae2a992ced5bcb72a966ebeeb7c9b200ecb0d850165950203e493a945c8a0188820af6208258250bac12bd68b68f148238fc71afc529f4a1b199515bff244d34e9c0832581d847885da3bc2d2a39cb8341b98287b2c85c942ef4a95566a7fa5fe1387343dba7a2af3f09e9c5b213174d5ace0f267fbff5c8f4f89e31f68fc26d3de50db250abdebf1d405eb949a96c7ee00fd8b03362ebc09a2eada6ab3e31c28a7915c838df466100325d39519fcf046e7b17cd14dd5235861cfc35d2c7822e607531fb407190ce0396c6e8f4ec8ae15f7c85b685451197a9cd8f6b63d2e9b15d402e6dfa8b9e8e2647ae4bdae70b24b1a632d9481354f88e17d96ffef9dc8b21226f0ecb0674621d451d54e5202fab9ce1a1a0ac78c4a0105ea07627c54173a0a2e840048c32dda2b682cba5094f211540e26fc722ee8a17f94fffeb0e352e88e3145e5b39b85b3349e80a61cd3b37ab947b0b198e2ec45f3e997bfb32e030eac06fb30dfafb61aa489a829226ba7c9af02af6cb442e257e26d2372c8a4646256feb2b600df7d4ecc94032ac6efb76b2227a288addde1a4c6897a5ab06ad692fe52e372f553c229e0d6246bca31acef067cf6adc3cbc401bfbb817ad044e1ed1ebf161b6b27dc92367bec97377612ebacf3fa9519abbb40e69cf2dd6e433b9c1b6f52725555261ffdd6e8af12b2f1e5d915b45f4e96d3da92bdb2e2228cf0a4899953bdabb0c708d44a0d704e239e3a17c9457ad2b0495ba5e20f6e6a6b692f940cb5b289f1a1b76973d25fa0e4c36ea5b15ff4ace59c5ac341ca72b32bf35dd17054b6250f8891f9fce10effd0eac89d41c4e9c982f1c9132a409d1a516be95eb630af21e91b9ca71fcde16cc4eb8e8b9637a33f069f4685c7e5590dab70dc6e823056439e6ae29dfb23cb44571d4fb0bd5673535c6da36f6c40dd6757012671a6faff4645423d592fe96f0066882e47916fa6d5b8fd2ceca64ad512293fa0af3c86e0094e5186e818a025e8786f755e5ae9e695d131b3141cd0d0d64eec60d3fa27b266c8ce150a8c2887febe2d30e279adf31e3c170326455b082ac659cfbebf35dcda8c226d452c6ec6fc34c0356c36b1900e5bbc39b5b9966a54578da18ceed1453b61316ae35027b373a7757afe8d3b54c2803ac6c2d3eeccf08a9b0e4b25caf3e05e6685ce67842929bfc54daff6e283ce2d4366b7744bb6af2a0338f35fad436741ac53747e5e680ad5061184b1b54a9d8bfdd9e8ce7789fcf617890ea1ccec5236867dbd5b361668b847d42aca0ef5589e2bc5e788c09c7a3a62b8b4b41a2cfcbd684425ebc45c0508e682e8e146175a1e192229e603c5bf6080ee3315becf1dbc5d4af419ca12bc4fc76e046c61579326e1109022c9fbfb84801273b5152b9019b474f5640946a6d53cffce80f4da39c3fdd96fe02b9e6e1665f436ec7f4260b0884515da9cb357b8a4ac90e3305920c7f4a4f0a8ae8db0712c4b3693b233d244554192f9fde1537e9e6d29c2289d972c260443a5ea3e99cb3cf696df4061c0300c7d2ca3065e5db71d1aca723cf877f9945adfda043360c8ca35677b305792252fde4665eb32adba514cf3663147fb72299957b0a1256bebd539baaf60c3d092c552ecd2653ef4c79704af285a4b3bf8b31c85cc720fb6f09b6ba60406e25c2434994ad6f9ce3f97e7e2a30a189ef188ac877940235dc15f0ddfc356a67f7328fd7ec153b2c4779b6e1d72139a5a62b37aabd1004907a5eb8ec3198dbea24198c7680b50b82d15758f218e85e266ed6987933446efb9ad8096f4ec43678ba670f7be1356f86a98fc852b5fbe7197f1be112859df3b2467b4d6c0dbc04f36a756ea74afd24c17e30c53bd1e18ce13dabb4a7d9889fbe3fc2f853d67407b3bdceb9467e04dc3f5003930731bc9c6cca0ab427e4ea4be1fe879b0d5637ead6b1a5696baf0a3143446e37434ea99023b24fc3bdd53ee7e82f6ced120c58a61a6f5b0852043ba402eaea59638d2effa7b8fe81e2261c071b6f15315b0974eae5da1509407dcee36802cc5bb790477403f8de6c24424b3c16833017093f8eac630ef9fb53c1ab1cc486e43d4ff559a7d349051e64675335ad7630fcbca09e47b0dd725f555fcdec15778d259ed50d7876c874a21ca07dc743d91cf3c1a5a7dd0b07dc51ee35ddb10313156d5a005b8a2fdb30255559a33cfdaf46c3799d123f514a56270bf33eb3ab0403b2a1e63e8ace49c6219491b14b8b7aaee1c976cbfdaf02d96b01d4afff674d28e10a25707ff0bbdd3601adb75ba96a51df2675ef6dd3bc73c3fe5d0be313abd6f08955f70c233c4fc3df91716dcb19a9cfbea9c58c82a067c16dc86293c0d46f798a15e159d4a149a8d95c77292074ed8a9e7d630a3222aae48e5f993f50ce2c57e2b0e651ee73be2636a192eadee49fc2d59d432404e43c126d4165abbd0bbc739f01d8506ff1ede48af550b6c7997abac482a981df3eb5cfba30b909b92fddf0db4bdc3fec41a39b54d37ed15c9743806b7890aaef42c11fd431f50991d34abe4c88919c30e9ce3862ca8453704b4bc59fadf80d1338e62b09ee357bdb6f0685034fbced340a91388cd7ed364004676abada1a929f53a64873f07389c58df00962e78dded60931c226346041aadb1f9d252df7ea5f37e69dc28874a149572e79c869ce0fa40a27dc623d62b56c86d144fddf31d7c76418c0af7b3a729d8c40ec38fe2defdf70d9b84495a46924e04e42d238acc93c2584c8c023a0b631642ac4d2cd722c4e4fdee703db21cae9c3746f731de5537ecfbdd9bb19c032ad6c0eda9537bbecccc5c669d092ceb3310f3dd1f06b7a05bcbd08a4717779f33a862e2a8553a506dd8a1773836fb8bdc4e990ef51fbc4a6783c135ead14fac293a0b9f6ba20b74907b6bad934fa1af543438890093f407d4feb6926120e7b2689f988de115e7ce18001a27713f9917826da3f716d73edf61b04ac034b3103487d2c34fe35d696b5ee34b3b586c92eba9cf2f12546f1e6c83fe24271657d7bbe3dfa1b576c2e358eb51b05c4ce0fead33b1e7d648ed8eda803907747a24ca32f308755dddb6a7d1e4dcff514db67cec7055bea1c69d93181a0ca989c102d4a53221a785878272129c7006d6e856c5895d799231ee41e46f60885c8a08088d49074c3a06fb6ba689e9efcdb45dbe643327249a42b0d7273c186149e72414de870b00bfa42896094f1f2baaa17df6954415a94327173d4fc5e7c395859c3c31787fb9ecada7367051730f1f8c659fa359f09bc5405d9de99bd444acc20805d5afd007871e4141990f861f07f520826e14b3cbf66618c8069c7760535ccf9649a4ec348ca6c8c93e07205ced3f2026df573e26d6d655ce63019a682a2c13f4bdf7db219d90725225a211cfb735e75eebb683b2f3950b4c7282103f9302950f485d0f6458b2c63557feb00e732126578f894d62647c3fd115a0851ea2409de261f5913c2677ff155e1a56e374c1fb323f53e6d32a839977448c956e1eda0ef71d505c98f1dae868a02e1677b99437d5c26ab65f86fc4f39cddf2c8ff0964690f2885b0fc06bd14cb769016e1feca38f73080a858952941bc1ad2d8dd211b8531895c6527f0092a50100e9fee0ae4e1691c7cc6766fe317b3ab776e8058733f788a5bc277bf008893362355bae6c39d6c69097e5180eee246474cbe0a3b03e9c1a5532d3e95361b3fe46071ab66a8616297a3f39263c9f525872b34636b21fbc50ef6ecf1582cb1dc6a78c461a77bb6bbdea0ac01968d849f3e8ac93173bae492788a7f73af09133ffc412f1f7c846080fda972f9ff956491c168f379b996a45d1a1cac453961c9241102ff823a8b9871a58711105b10fb7248915a8b54bbf2e3fc6221d7cbd9811fdafea66316f03c5162581d0d69b08b93eb04f55bd65501dac01363605cb7ac5d4618706074f00441c45c5b5e8c64b5417a216f4b0eaf16e9758235e081a44f8b991f57dcc75a7a93a6c9978d73354ca285476b8d6b5d75591ebc3a3f4236209768b2850d6aee08d707fbec59d186dd0c909f6e031fbeff37171709abbc8b097261358f68debb562076d4681f1acfafce8443a3889c66d47c80b0946419bd10f4299b77ff6174b22b0683be99bc746aed8576f6f571222b356a2f0b8b8ae655218196861f713156e5ea854495adc8e6b354d9faf3610548a191fbfd4c1d0e68357d23731d4914203b24452fe327e0925b90758bdabd5780d172370278a052f4e4e8b7c650fa956e3628bd558ceb38013310e23b9b24923ce35f2c80ec6842fdde63de32b041301b51b39ba3b3d79013edd59009c6bda1193eb6740a33561b24f78f619578fdf5b1dc569d2d0eb4a01eddb4c8e1720d2a8d37b875f0fd480ce8fab5c37deb590cbf1441a92cb54d9036d4484bc3909a60e2e4e0b33e5ef3e052da819ef9ba76ebe031a80132a57eb9ca68ce9706d216904e8d88577bd29fdebedbb6f65f7ebe4759c2473a152512ce22edd85fba6ad894f0b36ad5020c0349a142babd7041648bd47e37384117cf608f57f17a9355deae0ec6ed140fda3b4e2287bebcfde224a3fe3e207e107a2e0aed0423bf7081873543c164741bf6d37aa0c22f69e2ac16665ebc5724b112959b96afab81e6eccdbc1f01ed431030bb61c1ac1f49e324e9326aa711400dd8048e6efce4ef4798044a8952e200b7de8de5492ab74cc77a455032a82053022f7f6fdb62edd8dad5c861a890d10c0bbe4cf67047bc17d0df249a8fd323d3a13cbe45da3ce17647dca7be37067fecd70fc2350f96bbc758e20c777b12a65829ceab069c4631ad5fa1a4054614a7a2002645aa4a6527406dd9aff4c2c6d97adace1e407790528443c8c76de86476e650e37124c9cb6879f9bd7ae83c458af157dc3de00c840be0af087f85d575cb831cf7d17f3848f49206e9cbc41c5ece41e4ee6d775114b8196918d8a090b98ea55121608f80834fc39e6c0f4fdb60cda565380ef77b4deb810d3046bf36b5cc3fc4b2364beefc2937257ad2c3aca248677df4c08f1dbd29004fd7326e7f7021b057cdda949ca87875cfafb18244017d8dc605e7f45fd58fcf28288e0b4384ebbf93a03c0fd2fc0eaec499499fd92690fe700795987a0396b3a7598d599ff257cca68b79cd50aef7c163d42cbd8fb851dae6bd829b47cc5e9dbe2ad9fcd70706ac0bd17c4857a781173ef256461b1da03c5d4f172bc26354b125b3477ea55f70e6a64aed65c728bcfa8893a9faa0a8681fa2db43ee111ca53834a46bd7e1d9f7235231c5d23f8b641199514dbc084909489a89d2b93515864d469adbb0699edfcba5426dcdccc89f956952a2897652ed5d2856c61ec6f1a59fb865610c1e8d3bd9d584390aac42bf78f966fbe3813a0be8d116ae6e8120d0b4ae69b65167232865703990143af907bb9960b2432ab97ac2cd2e7ba4b1d584ae005f4d23401902183782aa1bba9196a52cce7b7d22a4b7bcfdb604a443df9144d702aca01667dc83d21ec65a3ed9ca42d6f253774a884c3a9feb892a39a2f2bb392a8ea4a82fb3209b1fbd525237e263d6d1db3d62b5518294e21f2a2d730a5a40d42be0fbe05ba53457bef85d3dfa274206ccdd6d23108dc0c22d55650e962e28cde1af4b9914f7b6a65efd8b6d86b9da15e69f1ffd5780a11ce2b721d010741ac0ee34cc2121bc4e3868a4ad9d16b4587b2c83b8e8c56d5523b521959c650d9b33c82b0ad67d9a3487beacc89cba28faa35bbb3c3c497ab9508b283e147751f0ca9b1c59de93b84d2c9a6494d680168df002b2831f63bf95e4945b8b4d8557fd7b7a8a3197d3b5d092043f9a209317eb4d14872dec5c9f23378af1357deb9c52290ccde3b665c45bbab5ab64f8c0c0de5ef5e2b190dcc2df10890784e09085466dffa7957384b73097781a0dcaae741f97374fefb90ae83a78f03e0c6f1bceb2fccc693e5101fe3388d0a934046b1866ada857c85ddd2bdcdb48a6337a0e51738cb01de972fb260bfc7753cd4bd617b91b35063ce5a3eb71fb5f6cbf1ad1cb459218fdbce791dd828a8a0e347ffbd1aa7056b6ddf5515fe4d08b1a5db5ca06479b0d007a45f8d22faded9acde79bb9e808e0ccae02e476441d505738b6e3fd2edd546923be319b5df9e9b4e48909ffe1d6c9cda7db05088c1fad5647856ca19b3ef945d43f0001facb96d7c378f6fc0bbeebffe3431968fbea1f9f6bdf0f43a0b922838e2598556a3f7ffd3a0155677e3a92368a8b3520a3f3762aea92d18691f70b3d084042b79afde657d0af4d3a2b695cc862a73647154539d0020bc1838a99fb2606b251c3e7c7f2d07a4ff74ef29d175782ad6251eba0ad13a18e2d3f4771205107d7eeac77e078b52a211a653eb3cfae220515ad08b8698d31ec7b23696d4ed0350e9f012e785dd51b3f814b0cee6c0604278dfc45d88cd21b31a8826e46c12894b22d1b8615e0e1fde44364e2873b6ee7528b2c81d9c1a3a35deb78532662c11bd901fa959018fbe45c3394926a6e56c89b8e08c17b88fe83b216dd613c68e0bec2cae59b6a2ba65b6cb90f25f7267559cc36232e0e0cf003f82af02b3f9b53f71dec2357ec4d6eab265926e1edf2f6435e7f9bdce8c239a90e0c0f0708b9c8f7922d886f8a3939c36c6cc9f78c6b1abbf997cf6e4fa8d0148196e5e6cf70ac75278ee155c637534b3a70a5d9d95cd7c083df8f652801be2806281cc4548bd21b3cf04eda1b740c77642f579063d294c0fa750a9d910c6c0b9fbcc082a4f4b31a299282ed5d86752c2c40200bb43b0727599f5a7620f4bf3ea976717b0217efcbc0687f6b42858a06e3f1d5e23ad4e6986437f2a7b9bdc1299001279664e694efc8830092c1c4c66d73f48e59377a47057c01b5f67daec6ec9b81be94e114623f379d5ae43d3a5c2655ca019dee1132ffcb213d30cadf0a60e8f8535d81e8b44f1773c472e003dae926c8735862ffcd3d69b5e702c2b1ac0a0bbc1cf4f9679ad1a2772e8520850851ffdaa6212933473d82fa399b14ac3404a74687b08aafb0c5bb62364c7647eb35ada729ddde5b2f82c9e7f0068704c68faea9aaf12bbd4e51412928f220ad7019695f0120bed3298d73b3986192b7f66576e8ad709d5fcf21b6dfdb93c040cb7f1493026cae6c727e98decbd99bd701f23f245cb1bf0f7e5dcd9013b6bf5cd9292648d56ffac4eea8961e10be3734a7ae9117ed7020c08ad15a778ea3ac1242ceba170af9c95b1af7a3173c0549a05203b8359b0a44956872814e64107e9801bfac0b28d2da124143b9b803c83e51984f67a8f1a3858ef2599e6b0fd2742dc44fb5b5bc4e2d74537d94fdbf7d21c95d9f554fb77e22d0f6e75ec4408764f81301eff93e0e4da381340ebfa86db88ef5a2c2f089c510b056ec4189120188c77e054ad0f5bd87728a73c5241ee64215d0303047894fd3455c07dafa5c9efcf71ee91822c5fb3fada4faeb1fd584520cd448ef3ea250a58d9e22ffc03f41b8db4860acec70519e1ed41f1f2c0c8199005b35d2716a157ece78dbb0f43f915681705b6939252beddd3e895873bc3a660eb586bbf145d7bea729290f355d7f095712df902de41af459e138b8045b75aa1bb372e228d4692e0f5d21cd717ff85f3d3f3d3749a7b01b873c95e9de82a39e422e497427b195153153ebf85cd89c5e4c4f651044e68f1527892bbfe7e33f543fb32c44b189304085c102da6e1d1b7f7d7437a73fb678e1420b4f8c8e47498b8239dce241085179dc323ef6d8cb649c10477746fdec1e286486ea858480bba3557b91ff5ae616699e0af253ee7260e8c80cda057ead756f924725d4af4ec394635e19d2bb96441522be449738511f07010b7c19241812359414814aab9112a4d5e803facc1b7835647e7808e954e62dfed06a4e5fa22684655170c35dc60b6462a38ff37976e3b0575cd0f7370a3fbfe8db96a00ffebcd47b64353da6cc28c41dcce2d80f417a37fc19675618dfbade54499a37d16528d243b5c77bd1009cbd9d8144f00ad7da1c15d74b84a245fdd7aae4ea1d1ba4c3d27ac26d8b8162589d77142e350ba5d00280ec263af29d2ba42976963ed06a46f8fb7d73a367e196b3b811893061583a3e64f90b8d0ea4d159b216ffe8f74bb20425fa8606a5143458aef5ed4a8d2ad381220fc677f3795c9106c121de4db07c4973589cf791fae975a715081a79674112f3ca7b22bc2367d38d6e3d33e07c65cef66ffd059038a47cb7dff272068868e4feef62e73dba6a4723c2c6d906d3be70e657d3a752a621420193e8016444ce6c7435f0fd15071b521d7d0558a372853b2cce7aa15d679316813eb4b826aef6eee648e979324e6c3c5b0bdce155a7a16267c9cd88a311218976524261ab7a8b8353022cf4ef0be26bb2da5ad1442f7b88a092e4cb830e378d1f22c2e03fbfb4a0547b4cc3e9d491b69fd618ffa56dface92ce6ddfff60d5118f85d0c18f53598925423e7db184c690b8fd21933b8de5307b450029ecb9280eac62f48bc45e65ac83d515dccf222d9ba4af45ba63c4188050601272e3b7ee799d086fa63d51902df0574bc2278a0d742ddd5119dea49311298a9193155935e36c3bd27b344abe4c2ca0b8acbae1fc6fd80d7d46ceb682fbf1ae5b8a904bc173ff8fba7a646dbcb521e4999744c1f51f5b87e76068571f03fc9da912a8ae85beb81ab190a76b21151bc2d8c96245eb9de87042c56f4caa5ca675a01df4ad72f900ad708fd5eed3281a2900a059863d9be5a9b763a6ecea5d9abdecbb0b4849c46d47dc0d7b3923df5e26becf8af1bb262d368bc8e99103e1187161d6cc65cd92cc3b4701221bbb8a96b4e41899e96d23ce7d71ba101b0af7f4a33df44f18f678fbbee6442daf3f34354cd4d196ec6c7f5b176e06c048304f041e34d8de6722b71b5b2ce5262e489f4703bc38505c60d8120fff71ef28f40dcacccebf3c5f70f67c906ad97ecd23a0b85bc6a56be89bde6989d3bc0390a48ccdfffdf25e62f733ce8597120b1f85587b92df4ae26dd8412f75adc93b1a51c003821cfbb42f61f211bd4218d58828c41bc9df2063ccde240e250ae8dd92182c2d33d2975f2d18684c66a5e45f1efbefa5757488e8d48320f4ba88a60825db0c3942b1c33d723d6e2bd06c0da28bb3052f5483ce22b0a53d75caa2c25edae859b8a746a9762032d2c4847f9a3f61506a6d6285fe865cccd4348d8ecaff4f87b85ca5de391cd636109db8274e4d6fe31d809f79ba0fab1dc297a8b46bd4bfc3bd982ab22d7e46700bdb1439b974156698f5fb541b6ef79af7160161520208ff2669cc2a4e396cbf7fdb25638c448206dbbc7157103fc5f12ae86b984a53d4a8360b7344cc7188658a84a996df6dd481b829f4cfaf6d7fa649950b9a32904d0134721cc0b4ad7e971f1f3af4c9bf6a069aef573602bd87033452d24df8d2c583b9360c31ca6aded0ddd00d6b696236e1f875ad110d15abf0703ed4c3ec2c5b1984648ae4e0caf8cd782bf36f7fa5950ee4d48adbc5b900e13485c0a1c63519cc6523373472bfbbe9f789a32751eaf0e5e736da542ab0071da11eb9f5db9a9e872a95853a067ad5ff8f3ade61ac19fe8f0634fdf9a820d92eb286e9161913dc6e5b7aa8c3517ef3305f18932c09bfb1fa305dbca5a25adba183f43d580521e1667e2093db8eeaa74cef9af9a3bb15a6e454e1bcac77f1de031db758db3bf3819f65d4729731560302a012245b3f36f47ade8b4b0eddb8c01d8b3f34f46de72a90681526ac5e65d1d4a4921df4e22b7ac1577795da3e0bffb5f030f9eb5924c213fb377170c4b2caa4a7400632239d7e54aa0815e69603ec59dbfac50ef215dacf960ca08681109f81154330ccf1463650d137785c018c0f175df642229c6e752d777c7f9e88219e5a2f291b438a6d79a5896cec9fa210268640f200755ecf0228ea560d0f5541fd34420bcef92e782241de13ec9856f4cc29d794b7725ec4342f0195b211e1a9cee30ef9e46c92cf7793a0108548f661b1d6d5dcbafc9b1688f844051a49262577063b913152df657ee971325855d36f203e867de82b2b99d8fcb5e2eaa0730b38257b66c7beba5e13980e1dfa32016c50452e0f401087c9dc020bb2440f3691ab53dea6489f6e68129256ef811909b746cbe46a8d98d988d3f3308c57f04f9571e1f466017687b92d201bd7105e8524f712a94503127de877db848a1dc80c0e7eb79d97ff779695b69e01c8e39d0015e4e398617c10d93bef8ee0c2cdf87698c2768c530a73d9572fbbd0d68bbaf352ce4d29a5e9201a8f358c5413a9bc2dea197f30a87e0c89948b246eb7cf6c61548a7bc4ac080a90aa3c23c398cf73f6294887c3aa24462c20f51fee67aa061a629bd91255d1789497c9398a0e4f3659c0f6edfa3894fea3ea18850ae9a82b392a812a7c73c1d46f82ba7385ed893991bbbdd74b27f19a8686873c010c6b2faad858385fcfa5036a0dc53f0981cf2bf850681653c97ea59dc9c0aa59194a129d0f3d52e48ba4b9eda218051e901dc865153e2005fea4a2ac5930dae86e749fa44cef425531f8e591063e02ac9ae0044ebc0492f6dda0c09a0ceb54f5eb548089d79bed41a1a7067edfe95aa7ab90e6488cbb0495f5c9400f61baeafdf470b3f027ab99d6e9bdae89eaa7fdc8314e336832cdf94002215fbefea014890c472c7628b2beb79d2c262e4a9c04cc8d3778db17686f10621097fc504aecd861dffd56c36566e394160b8fb45ef95d48eae5300c6c83201ad52586e65c8bf73417a3c61054175bdacb033a07929c4d802f55e2cebff5853e8e6ef62a512dc5c38d344088c948fd01169519ebd09d5ecc3f2bc35ee7435acbd97700a2dd5e7438026a2ffad40a6cd92b353ed81514d038c0d5934932e5b604c2aa68383595c496db5feafe7c71805615274377a72f67284ff8e5316f1bc37f2fcdd68f4148afde16cc4d96403903e5f4dde097b04d55ded75841a545c3aa5f3abc526256468ab756d94b9d15d4c1b137b0928c47f6755a9c48a99988e3c73ae922b25e7ab9015f4994e9d5263006445b93d06af69add3e9f6b606aa5b1e68232212b065bd74d922dedf190663d446f9c9ef0a94f76555ef02b60057b508e474412250b4d148bd04c0f72964b0f8d85c082b5c6fae3c446f1e396cd22f06f1db87a72c3674d9d77731a95c28f7222c557ba6fa54ebb6f4c18991c271f734001632d26b13411c941589b8299321640fd7cc6fd9e14e7d837cf64c5d276cc79ac74c47e16573836d1dcac54208ae4c3b0d071169cda6834dda7c8bcc7836d508bebc4d059eff840f75be52321c9fb615b9417330fd36895eb88e28cff0a0b0d6b9ce7bbd2e1169b134d6df02c7a8531e25c63a9802cb61e21a273720256b0c3a5470ef585a12238758c2503e3056d82bc8c5be8345e16c836a2973d1bc35c72ad3439747a40d8d2912239167ffc0a26331d315a93c3f978dc9d008b2d8d4eadaf2f687072c6710c894319a1fb327a280e82728841256e54eca923e7cc27f421c1e432b723abafdd30236a06794de8967b14e4cfa3f0990bdd0649fa387b72b1578a19209f5e6799503414d5f4429b86c24c66b9362c7a6bccf8c0c679b6ca9bf01034eca498858b1cad9589d3bfccf1d72c461bc62bcc43b9f2accc4c781f21b3936d3946d231660882c93b06792cfe418013afb1f2f250f87af2034765d0f6cd844ce7885086a0e811d045337f66b90fb332356eafc5c558d5d5dabd066bbab57a47b61d1e711bca105a8e03601839fd9d8639b7f9ed251a03c8c6d94f2a2e0ed4584efa657dcdbb1f9d2f99299859b59f8ecdad10f263ffb2584f56d6a7d16d7fdd4639f67b6001231b04b010540e9e20eca5a72387c893220d9ff7327e6fb131fd0e8b6849efa5d216d8a9726818c7e40a9dec8e2dbb236be9bf09ae0348ced1258f175c41eeea291873d0904aa15402a399e0b1bce3a6bb9cc6ffac9c9a0c097c330d0143579478fe03b63a5840ef234004eea17d8166dca43ae75cd71cc7c35bfafa2acae80e790283c4e28a5d1844d24040763548d5b955c41000fc114c9a863f4e7ad44b1badc0ea1c26a1dc1d63eb70f16d95f0675d4196d736a4ffb8537994c0f2b3da8e6307728cc9258c5d0b9ce96b6dcda415e6c390dd227d6c6b321ec71a7c74bf4a767fafe398c286a2aa6e405b58d0b60a10292ec42792b63d714ae99b99595601e65f941d2953cf1cb9a6a35b11217f1ccf75d41db2ee576c68c9605bf7b90770a54693651ef59f71d3ba070f1fd0b6b372846606f84e71322ca1a9ec882c246d58c8e9293f6e57b38d2506b3011d309a5c0176663f5fd17076f6f5f4c07048885780e98781d2039d2b3f1194ea7c6b3bb6c30e2dd814d1a15db09d472231c7cab750f46688f311722dca82f0541415748a7e9499ef54ec339cdee572e28fafb45d69ffbf049806853be42e708f6ac38e24709a1f9ae47057ee08519452ab6263f22961a5c1a41b73168da0a384458e501c3e32548923df7f574fda8686718a67cbf28554ed08beeee9fff7b1af48e228596b89cc82ed79c51143c7949de609848efab2202f190d193bf616a7c07c82a8f4c3e522f395f9cd1bb12a0a0ff4b3a546fed0be31e3125a504124979613cb950448182ff49152d7b279e8bc2b41944a3ce502c233bc3a76d0c36d013a4a4e68b912ebf6e153c77d4cdd51b94a79c4b8ba1a009d9d3e09a7516a380f3b4c0f8d61022b4b30ecc2568348fcaafb368ec3ab3d78db16b07938ece1073277d06dd335af5d6e8fd6f70552b275bb38c2064c2460b6f0f6f66e9578a7422feb81ce0809ae087b2957fd581c9c4a1271c635f5f7c749434e3f8b14c70e563af850582eebb0cfb1f3d570bc0da267f05dd1bb1b6d706a1b80e987e2e3f2aa38a217eb7ab8c64eb21e9514c4869f25bb6045fad03898a98d22f09c1f43ef38ecfe592923a9a261692b0c891063cadd630a6f815a577c082972de61536cdeb8ac36ebccc0def2253de3187bd1c0ff9b18c0f89420efcb13e10879c21fc3ac5caf1cddcabcb2b0ac997486fcdef03fb66e9cf747e53710317a62014cdca5faf64624034e781d6e32a31dc37d9959d6186c9798a72046de7e04ca0b1a73ea9d3f5bbaf75f015e69da9763bc39269804f977fb79a85f5a86a775dcc460669efe811edfe250a12e489e641731be514ef12bfc2843dcc685525baebcd48c4a63a143724d8451f44e2a8a0961597987fb3d29ca650a748c3f4f2e8d4ac8c2b0ea21f839527d2ff8582eb79ade1cb9cba937ec2bc4f37c7f2a1637bf8a19a00524a09e536a8e5b515e66497e0cf1f532b942bf99c8d3106503d6bb99a8971b20fb87fa0144510d48dbae8dead5fc1b3907d506ee11b5d964fc61765d44f2a826d07f61159bdcda71e1982c797e43b40c4e51fa78e14c80e5f17bc52c21b6dd2d45024d075b812204442e49df6d4ee06654838dffff82d432dfd97e11e0fcbfa2c219148a5dc2ffa9c8d12e250087e2bf1ed7962ce3e6cdea476e140ae473363819c99408576a3016a14ebd5858a2dda265bcdfa11a65157c7c7109afb1e4017980bcd0abd910eac8c1a016ddc608a31f596688ac6f5e19c8e3b9933468dd0af7fe271057df7d451672d46b7ff3f66f4dff8e49ea9ac5690c23d78573dbb8a79329d04177fb0957bcf6179edd63f514c0b7c33cd54778d50f81df7ea5dee875d2dfc3d53e68efc743da0b3a087fb7b709f6281338fa9d11f90c5d5260ce11c03b4062b0b45f97e3b4a82adae30d0e91a3798bf7c433c481d1ee96bfe1eb193ff595ab03d81eead366ff7067c3e0189732a5b09f66cd3f0c9b035d256dd010eac3cbb164455089c9530a0deb33eea2771d99d33612d2ee19b3258b22049f956cf3e793299cad6a5f1257950ff1997187b1ff0263c1d13f8445ecb2953ca366e6c46ebfae00af2bc3612344f73c7298aaea9c307641595ed0534a77f57a03b71d6aa8c196ff708c18fe6f9429d5206352e025a8707c18e75d362875b5569dde189e6a09b526cce89101f28e4bbe9220dce04b595fe64dd87ce7f4a3088019bc81a82510e7f2997c57213ad4dcfb315819875db1f520b0a2a625e4546b02b4a776cc3e250c29d2ae73b00c4279b764403c92ef49527fd3bad8558ec1d2f4558454103817eaafe48c8ee63aec74ee411583bc8f6ffccc0daac2f897c735dae9bb05b2a4b9d83e78bfd3837db3515bf8bd2e5986a827c562e79db6fe058e282c17ac6380dcbf3689759a09aec9a1bfcb980bfd5d9fc3521aafc8bf89fc79473cc329c69ee8039dfe4501894c232509536f7da05bdbdb5cee631bededc0ce9eae951478b7deb4cadd736b6f8494ca7fe0f0aea78fb61e99da8395a6dd0dcacfe578ec60d1430a353e7659910342bb962273caea7edf3d722eb596f15972a50a29b4dc3ec4d275064629cedd08288d4cd006b750ebb7dbd6d65f0493fc948bd0c600ff49299c9bb787a18204b369bea69eb6afb8e5442aef1883cfa0692276d7643196a8e436e80af93544c1e6616f1d5cccf4960a659f34913a01118223344f93c2a181b97a03358bf9fb09129008d9196c4597f0095cd5afe4d503b97d6f5d5cdf106b9afda0b63ad4317d7b45225e4040d57206d3e819327aa647d8694ddbaff49809fcca899b681176b758a333ee0769bac90005f2e9e6a40a185966a7fe2ceebc32ef1e26dee10da12fbd100fd54476aeccbc93c2928dd5dfdfc1e2ede90d257c3234f4a4a3c9a8bcba4f2b3a3e075ca5f60c3125b78c478ca11cd91aa1d91b50c5877113a718beb8a0533edc531daf485a30d57713a8d5ca786bd4a3d2a6b7d73747f655fa8b02de1187efd9d262172f0c28b769dbf9aadb3cd5e5799aea356e02a04f1d42c43764d5ea60a99bbf6ca46f08766bcddb6a579dd68d447318ee54a78965231df3935be9a50d4fa9f7b3d91de80cf24e5b12498a44046a9af60464e796624c04ec2fb673ce1dadf64367d6e17f2a9c01aac4da8eb99ab2ba136d6d35ae507b4fa6df1a0991d619b851f7f3a186edceb9995c8b2951a8dbb6710736d8a044e8dba54c819e85ad2de5f9e6e88f8db5184bf6a75f8ddc2553bf43162ed90de0a7d988a5ada93d43deb48413a59877082c8a6609a6ea934179f22bcb2ce0c578f77a503b6b2d5c638c05381dc0dc24a52cf8ae87f78462404c4d03e9d276b9480b9a619057fbd774c9b09d889ab5eb230c2e7ad487ad58d7a1edbe1f88e41a6e7cad1855783af9f445d6fb71d1301606f782967bcfbc5d0809e11a54cd2a5f71a592faf95f0c1ae2e17ebe550464361ca3c81ed6a673ad5c2a339663b6a9b64996d24e3bc370d981da899f2d26ad5381c0e9cca55bb5f00ac433fc8a0e47947c838148710584122f4ff12dbf1f7007e40fccb6812dd6ab19d33d7b7f222db82b05356a9fc864fa29bcef4b44429d0d125252d8546cd8f87f223e3e8a492ce52497b91aa4653b8d53fb57f6499c27b616262f7c4baf1142f93294ef2f45e288dfcc08e16d4ab00431e559882630d2bea545e7c05e7875c74bc9852917df57ff8999d0f7e8b908c82fbade5182856818fae27c6e3d00779b7f6d873b2cbbf892e548fd3c1424674358e6844375a69025ca1c2b40f5570bbabfa75b739ce3250fbeefb9165929ff71b4e67400bbd62745a06e1aec30d463ce12a84a6c1a665db14231d5437d1f2cc3cdf1fd25df1de56d401acd7832e2dfdc4fc260e16444af8106097d3bc445b13fec2be94b503e528ba9cfd8013944af5a2c59a4ce4d6ecf1f35191ecc17cc31bd984a93f3b27edd19e47dc7be85886c04013b2336988c6ba9dc870fd8f6b52b6fe837d6443f288e5deeba6f01abee8f57c2b7b3d4c6469dca781741a9a51f223c2e38d740b0af5563f4e68f6abe6cbd090e6e871657f999792c00ede1eb385ffac2ee376f6fa56a74ddaa8e4e8fae444c744b0fd4e46f69c8e64b917b1edb042210e1fd6cfba11da0515987680d08831f59cf675fe5e2582fdc32a505f3424447474e7cab0777d3095f0e286c0c1688cd71d87ba38268694dff7439fe90732262eea984fc53f5b070b7a9a1da1c86140a1a5f7ce98b0efef22eb8c3543dfd3ba6d14b11beceba3616dedf9111da69ad9c3270b6a4382ce57900a3c17df4a33523cb93f31df35f8fdfd95da5b65778b1c9a535ded3470113d82e9a96694d2c2f0f9fe97df78b31cfd6da21365dbde11f3c1d5da4d4a6e10d4b4b9306055bd171cdbf00e79c0d4c3e11669879d112e602f2a57dbd5fd00dd8c2230afce724cc37c8a3243728fb8480cf42452303569179a07c9bf7e2bfcbce3610139e4776ac0b4d60570469ad88c653504324dc3d6f103c094852eb3275b0a2ef181b119aa1adee10d5fa5716a685fc51605f5a37a02d4bdfbdd12671673d52ff5691858c1068822edda6ad94944c62d334b886647eff26a5a151ac6a5a7165732f41b978f6deee311fe09457ca2f7c0666cc2beb4dab967de614a91d854f54c5c89a0c449f018e5caf8930d1c8d0247c00f765340c4952502783425f8957135994825c2334c8897d8beb487f291c01dbd6e2fd7fc3704c29ed10f5650539e3bd622686f35c5656ec356624502339df9ea5c0cbf4a2711ca7e72d8b9d330e1294f126e57be2a6c054fcbac410710e328ea6fed5eaa00bf6bfa639eab1a97d4f0abfd453677e6263307acad6716a06ce9fc0b74e0f3601b5217f5fea80738533765050a32d65cca5c917b62309db529e0709bd687fb5e1e4b39fe7c85e1a60464ebd153fc166087f8ee4213b9f1e8225bc0c11d535fe280d4f311546f0f6992693a3f4165e9f1c460dfa38548c78a21721bceece294a957d709c213763b4addd6100d333db53a7d8bc95e00224c0367c61fee2b14a65cea6b02bb7b26434682947666396aefb40ceb0ccc086f5aa288812f01fc6267650ea244020d5324c781af559ebbb2e209b1db22e73a651315f732f50186ed0e0a6aab50d3b7daa1ca42334b0d3983687efc7eb2ee2a231aa8dc8e4c7517d6de027480ad977efe2f6a2116476d4ab02dc3cae06b4786390a6cd232e84b388dc30fc52c154a2b9cd2e630336bc81f2eb2e7e5a5aa15730ffd320133a4abd5042b04c36351d39a0f51033953a241528ac6f1549210defa158c1f3eff4d3a9076e4e8fe6863eb8586b7f653a599dc8f351ae07e20e93f920271fa268d243ba5d6cdfe7d92fe05c583d6abb6d7f25c03e2b88be4115f83b63d16de7255c67e0960352c92c92d9fbc7f815c38ab11fa6e78d33f513fd83117bc79443eeb29b3bca3b6f7f54d446fab2969b453d08fc7e00f503ff6b01413302f839dfd3a234acf667f94a7fff6ce1deef3cf1c0de77b5c0e44d1e3377d4b4c9ee21129d5e906a6eb2adad87ecdb4a16f5605dc2cf28dc0f574b707f345337d41492f9d4562a0133382e4fb660616e6cdbab4adb8c5fbfd099776a9b780b88c4a058510e549e60aa4acb0fa9a8a8039198786e0595389b17f0f6c7c36034941a4cc197307fccd29509e070394d7f76099a5e1799145c6c8f157f6252f11ae16cf3bd7d60c39d268702b67139876da5289a05cdc6e119e31d59a1963662a56a1b4712002682ac04b105c5131356c418f9969580227a86b74383d61017df41c00f916c8e81265e23edc4c49df678adf38b6ef40cf6afe56a5ffcd59e6fac3c1d2f2aa67d783a67de498a9446d57bd4f6e386e775a90583e7f38eeaa15a4af7d045bca0a58d0bd67b18372e91e9ef23cb89bba9923a5bf312fa953ca19407aaa393ec992c27f1702737d2000cbc8e177257c7eb95391857f06670c2e2c4c1cd62807c67e90c7ff9a4af8a744309e8077489e00bc979c22d585263b53bfa04f315c5f4152a9e60ecfb6fa130a507ee92a2198e2469fb5bc561e7546439166766d6a06a8728867aeabef4a7b34e9ea0a088368bddb9455ddf58e22d89a41c1f7f14f0199ea392c6913514db3f85277e9b47a3b0db33fe306211b8e659471a452083ba0d19714d43e6b238c649b7351813aa81d708aa62c43d292e531007e588a4844222c5f45596fa03a7e305a5a086189a2d6ded7a4c40ba4cea6448b947bedcae7cd430485f4fa0427e05d70599e557914b3735760edf21355e7e91fd8d0f992ab8f0fd3ebafc30e82fbdf8b58a92b5f2fbf381a978875d5636a946e34c3bf9ca535992e373b6cd4a56c38af801eb1497d054f4968c821d248349d69ad12cbc84ee3dd54190ff7d05c802b7620c55ef6fe69bce2109cc45ba15d68ff3000ed1b036a1f9e4f01f3eadc909b9a78e4ef0aa920f60cdbaf361a5a0482d699c42651d364a20689c93f299547dfaa4feb223d24a6387de3d3acf35e3385eacc7eac15b5b62c73b2e4b30b73dce0290ddbe4ac9b401e45345ac0760fe12a7126b07b4e4a438fba52d8b6d63b6153f6618644a9dd88e3aa8e54db49f9bf60d210d426bb140e65947811af04ca95b1f9358c51a88bfd09e9a7d46101d1980190173ba42bef2668a424644e3389ae87328dd6606e14f2d746f997b746921f937c2bbb53737c77e25c1a01ac227775aa973e5050a0e032de665aedae7caa1ef53965c1c8fc9918ed6986689d24e37532541c8e7e7689755392c9824164ce06ad4a8840dc501c1c84a37df03b2f8e7cd6a01d9cf0143c205da338977027755e047ca3ce98a1b3b8bdcecf50bcc9d086c6afe19d215c0a75be01bada31ccfcb7df6db8867698688c8763f8efc4fc1f35135b310fe20f416df09b6de8acb064945d1936bd2d74b0efd77d04fbac61addbd100c1f19213aace72475a4e1a2792e54986a9cbc0326294ac9630217261c92dd0f785544514619ac0666b40ea393b8e904964815d3c150b07c041c4e85e5b9ef98d4ccdd924f205bc276358502846b49cdab64a285b779f1af81c1dc6a23ac869f2bec759cc388a926a538c51b141d728caf2353ac51f08d798285be80644526ffc61f1d86ff50d42f7edf97dee0dacb96517b2e1d0bc39e2f64f1e6b09efb1692da3678b218f6bb41a48ef33a9224438a16dfbe4f84f497377e146b62123e9cd852434d75729dc0a7aae3d729bdefc5f544e773ea867955551fe21ac2961e30b5fde4b9035aa30f65821999b52b60ade112c2921a3f9a70333fc0ba7e0d4b6ae0d9e425075b83316920ccb6ce674d74524c3976257220cba5cd124745cf7fae89e7387ce95cf8a0cf0ea2f6ff6a6552eabbfd304bddd0e8dd0e3c7c63b45f6a42eb9fab485c8e6e5530997acfd5dd89b660fe9290ff8a4aaf043f5a346dae500746b3dcf5e74a5e919583c40eb73b5c4618960fda3131c4633ef0a67b4a9cd42eece43c8436d19ce99f36e919da3c69083f74489c12b1db18a18bdbc73676927a88921e73052ca00588c9df6b7b8b8e3201570f4258c4b356553cd82c5e4ac757447d21c6905cb35df561685536464a08f8c4920297a29b494c5ee276cb15c92090054aa2be8fc0ac1c5cd53f087f496c1dce2f524bffa0ca08e19bdb4d20da5390700973b3ef6ae0f1adeff96dde3c998546eb8370226a3e62592757565fe23dc431056ff750923787f23116c6d35949fa5b98a3a147f30955daea341fd2297c8ae4e3de247ffd7ab9213e5716204f6f47b8e14710bd88f18ec9a6513cc7c34c9c06562b6ff1e2020a49987a1ca4ce029c3b78820b020d51e6d08b2dae062563da03f8b588694ff9f623265dc2cea8c63673b35fd0ed4e1aaac58ac77f2b139c6236e9cbab703e4598374b848ac75dc8b9465b8539c1e147e2495cd64f4235e5d0dae08a810f7e25a392b698f7119b09c6de6a0f94664170792180849c3bc0c5cef230150d8b114e00c3906a25e25b2c6e9590cbd6de311437613f54ef3836449fd8153c8ff4970a8b8f1d949d7f5ebb6dde36de0065a90bc70f4201b0c6fbeb93b0efde9db7270626e2a72b8d1b3c2fb1172e0d166e63d722cfe7ac53bf342c3ba198d4ecba382ae2e2b2007a929b3a6d6c12833836eac4dd7fc7ddb0ff233e763ef8f8921ac41063aa5740c3f89be975007f7f640be9fbc6f9a0bcb22ca1fcdbdb9b12a25184b7de8164a23ffcfe57eb8f523662af7c7e7d601565c342e8e19c7a344e44821d8806a333be21aa8f74309d30bb680fa2bbc0a9ec47d51325b5e017cadc695f013a479d74edb4dc85fb84175606fc4d0c94864e2a9208404bc3a1758d3f225095cc9a904afd479e91c5697d14e3920b91dbffb45f296da8bac1fc4aef899b575cd1f5a45446e4c01af229f9c6c87f9eab2e4ba14e098ff91833c6edecbb1947b320dbfa0148eead3fd43dc41a9f1ab3cd9702e82ddd3ab9e333bbe63031b6434a31fb432a9a651d92e2f8c299861769cf59faddc2b81896e80a48db7c36603a8b77dc971ea657337170c3aa1f361dca7f0e525cb5ceee00fe8464e3d2445af52e8d8d960bd34e0336bd6b694da34c1913363c81c7afd49cd8cbf8947534031648f65e190923b6d1b9806a7b0f24bd36dfcace6d4b406f4cbbbe9266c74a86bb816e40e48f590a909e5749e204ccb4e54de082bd109b42206f3f14fdbdc3457a5bcad497f3fab41950ee2da0868830e7aa266e84abcdb22e00ee52669f7ebcc8a1cb7f602b6fe56ed13567760da90009c2bfcec37d0c8b64b15aa097d63c61074781bcc9842be375eee133cbc914c2e9e4133f1e59b89aa22d09b198871261c43280bca30b1047dd12cc68e851d619c6923aca05d19b5f376943859ec82021c87ba2c1615d00dfab06900fbac559d7f532567f60e3fcfa7d31f9e5b15415b3194b5287e08e6ddb7b030ac7e1eee4322377b9fe936cdd2f880ddcb34a285f4787d29345b75de9fa858edfa8a0aa6392f9670f5d5f26f1aa17837385ffc0b4f2eebde530a2620ed9b47b21b959075bd17975074c86f6264b837cdab3d1dca502382b2f31832171a5d093ab553a39acdb8a6e5a9ab601413c8eb2e336a81debaa8edc0eb0ad2d67be8074df3a23150b216e5f5be27e9465c106c0324fc4a978732fb6626c1bf644bfa084b6ddb3d6e98d6036aaff2e50ccdab1516146d256f4facf37080d08a3815492ee3a6b7984baf4f82d13f6ed1a87844d1a597a31dcc6bc23b70d5193ac9427ed8f41318ab622b2b8385927666adde065a5c2fd6c859483e2bcc6213d36e66f97fb20bb2152c284b778b6aacc8762a9129ca84c137ddb2d3b426ad2d2862a9cc6038a0d0f2a726bc44dbc36fe17afaeeb1586c226fae974cc077b3f52e85a4def869100bb81a1a98ee38fb13b2bea91fa389d4ee9d8e021f756f94736958ec8e79483503e6d7fc51cfca5f95baa864690a76ada36c2d1e0ed2032e5405c4da7a20d5009c24bc0f36a4a7e6ac3dbf87a374d44244e41aa6ca955fd8db275043c0f033723126870c07ddd3a06c9d122d89e71d2da26133624f1f68a9af1f201bc6e7fb422acf93274023379f93f0a03bf9f515d412a04cf822f346d0e020cb1d644ad4d13c137e32c971068c9b646537d0c093653c1668e0903a709b1df3dd2d4f65eff846a0444818c30cf5f6f0b812206e3abb0c078a5f9cf8b1aa15198c39fe82ec66f9873a74687523a85cb6b26069782a1dbd2289dc6bc2e3134c657ab3cb97ca1384d19f735f1eafa74bc9d028f06188fc155da58eafb1a2f6ff893b8b8bd519c34fcb5fe933af54d3bb1dd58c77ae70c7cfe8bf469c09ba6f63eac34e8a1f9127e4327ed09b0f7d0ba192ab2954e75ec8fe7517c0572c557bcec1af6e63a94b82b9c1050636b1d02f07dbadbb5c1433077d734f48df00e3a21486e817c06309b6ae7add212f70447eaf3d8f676c2ecb1a3aa7c5089dfe0abe9dd7065e6415bfbd68933bacc7f3a1b6d8e4d87979b63dfef1de6f0c0aeca0d30db5257cb44f3b38c4a7851820714647be0072381fa31c8f8da26bf9d19b79b17f0753135330de6dd3ea30ec4ea0b7d7607bc9eb67ec09c771f88b32765c5147169781168060f8a7367600f2e753a93ba300f1741ad0c0e9b26b30d6c5e1b86ae9886e0054c57804b8fd699e191f4ba2c424003da9cf5fdda7347560f1534ea985cb370e39dbe3d61a33a7381052110d7977b18639a550cd29401f1f282cddea6fe80afda960b58949201e5899515cf6fa3cdee7b0e1317da83040d0c85d6b3e2486afb1257635e8cad91dc32ce770500e5a4a501e9cd65e5e055b4de3c0d889a648b208653b7c02358591fc1e451659566819e40688a8bd369f1f520853ac71bad960b532c1f02a71ec75e21f3d4a8bb50b9c5b16270073f08cec6aacef703c16783c77907fcaa6afd120bae06fc3eecf21eb90d83a28e0c9500e139b9ac3e3e2225ad4ec2813904f7ecbd0dcafbf2a0bb5eca9c38f16295571be84792dbc59567e3da7ae3d299b0aa6d51524f24ba2283f62cdc4769d0fa29d510a8cba13903b29f751f20b17918fbb81a44e3003f3510da95dfc42f084a62a3d720983baebd6e10dd45bdde331d5fee16bc9ec462fe842187772880de513960ba2780114685244e44ae545c67621c68fe4ff3875073bcfaff4098ba4513a143b69042350d2a273b4fe75cdd9d77a413bfa3cac93798f83b9fe9626ca456eeaf8e14fe3ddb77ac85cfa5b46a1af6541768b713eeb5ddf11408f3393a4dabcdde64b5ecdd5f98b135eec6b0b00612415fe7908dd355e1fd7bc5b3a45db8529d73361fa80ab890f9b284d78ec0efffc5d710b2cbf125dcf62b28fa0e20e8a210690a06eb16215167ef63d8668718c1fe23efab925b8bec6db6fae7b1e5acee07d1341a5d862a236b20fcec895349f294ee5759a1c48424e3c1d3f7891889469127ee365d36f37f5bd757725ab0189e7a305ce7ff674ddc80023c351df5f500115f851a58c03bfca78f6a4bb7bcdbe5b119f8605392c8ef30eedea3a34fe5b098eddca034efdf2c07a517005f58a5f1abd9375786084f932d710bd3790c93178948b1062412a8eca5ffa59d8cc69a7cb060c8446f8bf995077470bf76a5c06b74fe2649bec57995126f98e460615d3dd4fa8d31da7eb6ee5486b2592b28e079cc68b0ec22bab1aa829c7440b9283f7a86ffec1ae3ee1bce2d946fdcc12f66e34fc56d06c3f18c0d856d731d184a7167d57a475235fc3fd4bdfc270427fa223ae077bf97b270ee231ac2e48913935dffccd8718d94ec4b75a1a987241e5667f0b887c53bd8497236ae5f6752e2b10b22e7bf7966daca9bb4d298d82a769e56c3badb929be74490ad3bd8dfd9a576b667248cbba5fc81b120e0d0ae3f6b0155f5fd07a0e4d6c86c261bc6cb34a50ad88bf65c93027b00cd7cb93024b07957cd2e47a35d87a9b4039c09ad7925f293e5dbcc7b48cb8ca9b89a8dd2b7db63218f9654da662786a809470231ef68919f906f22da99c187819a835ad9d7f652dfbd8c6b1e1828d63c1f07444323255273909983e6ff8299fe801952e919ea6d3ade047d998728a33d8457297949ba171370e98ffd4745ab9a70f6603c093480368e5d5c65323ac9c62d1ddfded81a92b9fad3c2cec9b042420e80e3cf253b9b7f6d42337e2441468835ce2cb94c94e10e93da49857ab9f4084f6180c80a380d5ea10f6d128771d50281ad68dc225a3d8f53ebcabda89f0b95326e826270a0d6e3c016d37b4eaaaa469d0cbd7c1cc1390546095865f137ecbcbe464aff9c8fc724905c0eee59a87ae24d0292c990d18d1dfb4473449b68ea03cfc4e928556d4235e115a29fe3b34e5ef23fb0ff440b9b41af7a98f66d137057ae4600b5bf4da9662ec8d950ba0bec10c962c1c9ae6f9431128472d583532a510c2d102e9c08473870114b0525e0ad88f66f0f9fe039a3fbee4c0a41f4a91a0c95f8d9c328b29635ba2924ce0a4c9628941bb81abe8f03eeebe2c7eb06990296027f6b0ff6ce6169beb48455404f5eacee83df2fb2f3d05932605baff0e9cc2d667dda680c7e7288106ebc19a6dda968d851026b9e7f64281d8e71b91758bc42d73b00e442d72d53842dbc1f4663026970c9a8fb738c79b51988a97a6e2bf3da885958ae2ed1f025d42dd0af0b1cc994da7040ec7cb2413a7c10355fb22e7b1ae8df663f6793a5a2751cfdfc2eb3e705edfba0e82499296abb138bcd354abf9117ea3268409982cba41c0abba0002e4704b49b14cb52aef47688e7bd749aea76c67e8385657fc52ff4134ba38b8b0d2d7b7642fac740bba5efe16a36fc26bee12f2fe306cd9ec8b970ad2e8ee38b433f010c444777692aa49f9e5d2ff907091589070a7066fc1f20c462befa05c852467482bdad03f27e10fcaaf50f2ad222d164095780919cafd9dfe0e1bfd757314c323bca402a406dbd188db39a4603d7f8287a67f57c5881cd5fc1d8f77f90d18415ad20547a06e528edf1a2d7ad3b5ba7c9093c228ef00eeb85cc727adcef6246a2464a9855727bef05055ce4cb57ece53d0173af291eebc3013ce23ff6c0dcbb3fbb5a4cf83c61f0735ed1cacc956f92c25101cb99085c9bc0e71ac32407f4d9f1c559b4b858f5e7712320d133615e12cf93c1a8dbba1c1926916e350cf9b54c4b8c087ea39621ee6458eadfb7b80431d9c81c2ffcc8a3a01a5503e3a256006ac8fdc9154b6e61676cdb11970562e0c147ab761d674aabcd7ad7e601f37f9a7aebde2a7dcea2ceaedec1576e26d1519be11f7e524c16631e8632046adb6ed9901ea65687411384f6af1c97ec74a15b8191006652fee32969a631e4f2ef01af89b42ad023ad46172f097b1f05fea9aa7b9ff988d808a911732adfaf86f304bbf142311de0ff7d36697079e4ac6d4fdc3b6055b4c60aeb61f73ec89bd5546eb749463579650a0dbe0344b6cb410da353ec2761e349d6bcd91ec209a3ba333dd6fbd8ceb19aead18e8eaeb8c7d761365c538696a55175a9c22c54fe29b9b2fa77d9040a9c8f1c269b49d17a0cb224f234ae9f04e48fed0f3ac0cf7f3ac2ea4bbc338ce3ed1b7c2447dca34f37abb6b8eeccb89ae2da2618c74e1de9eb6cbdd3c09949198df1e6e68e703e843994f00380afc448bf4d65d0de80f39603bbf0efeb7ebbec22abc0a46c400ac296ebfd7965bbfe7daaf3420f0a2af9542a7ef0131abb688c87abaa039aa65972b3b1d8e3388c539d9a770616a65219ab860613b9f5e9ab60a7cebe922538eb8ea2720cbca62334c67a534ee032c5a09839ecfdc5744bb35f54a223055fafbd3133413138c499c20dfbc1ae536a1277b9d5288b22af434d66f52cfa61de2aa4dc407559caffe91112622aefaab4a236c5f974da3ad9d8a479da94e96655221a27bbb869be184e18e631abd38fa565ccb482c112409c6984850e3b65670259b1ea66fbe6f4bdd02fa66a7f550d24110872f68f9b639aa7cdf470d0b418a62ab53e722525eebc9f47e8477355d816294170e8978cb62a4b0e68f4f1184f478ddfe99bef85b329b1a6b3583850c869f46bf62e9e8c2af7107f14d22587d8d2ec71e06ea59c46520dca005ad0303cfdff99da7d6fe8674dfc364b0a6c71710b85819e00d99a7ae48be75b5a690a16554a0b8ac76da33b609514d2a7943e83d77988b92f82ded7c0a6059640336c309b7d1b5a71b349812e1478c1f27b911db63d3c067f72effb4981eeb9b929a3bc7958acb22964e2cc4007f524b4e18fb81727c987731f3e2a0315870c994616c56813c12fff3c13499f8f3f7b4135c0ae23bf2d263a7e69378d8f0ac24fad8b58bef5425730f8609b9e2cbfdecc0af05021ae220e0bd343e0c6f281680804146706ba37e230a746fad9d83e57fddd2e7772120b69d236a01d58723e7cd6d07ea3e99a27c4569ae0da4e2f2f3fae67a9b5dadbde28dca8ef496cda047ec390cd2868e080bbddca3dfeba38703cd74f9141abcc5a76af172b6048dfda115d8fec177dd4e3e741f37a3e3b27bf1684b224b22d8b697453d7f9e7bfb8cbd819e857fe6eba96ef4846bff5b88a666bce4ed8951a4c11cfe27a80c6b9b99c1d47e75d5740515074d5fbc64a322fa97698340ec67ff265815c82cb55932e619a729e4198edb31b7137300f0a7fe41f31e2a6d89293c7fb1ab69abe5c052603a590ee8d2e88a7182347efa4aff50429aa76f079f50c844dfe7c3abbdeee99d8f8a74df87f69b42839364409f694a99d8b625b3847489e14b50d2f5c8173c324ff2a61bbc4056ce7bdbe5b8bd3d9de005a49a77ebd38d09069b390a94fbca2afc51358d15fc1848589bfe4b74285e09a31e2cd6e03c59bc6861dac17ed93aef72978c5e8ce511638865b6f794a858097cf98fbefc7bb1374b41881bf7228510b56e54ab5a3c4c007fd50dbac6be81a0210f7a8f65479b7db9610ec00bb087d815c0915ed3cf3a20ac1bee7ead3405c31acd3c1f459e9f730b9fd3b6978eba4d4bd95f6fc042cd085ff8e78522b709cee4fd337586e9cdf593d4c692aded2073e216e7ecf8013907ffa6dcdcc9540275b6db95bba0145a5a6cdb40d30046cfb474bc1f3b5fded9b6b4c9c9964ff1382f2b741805228fda4a2a1700a8a4fc933c8abc05f93fe656ed9592d2ed23668df0508d4d76070f2b7d29490ddfdd749702e69bdfefe705b93c319bb92c1d1eedab8bc71a3250ad9d675458f7b4081cb4e9cc7e2283ae6aefb9214c2f36bfac4a0db0235280980bda733a32f1f0442be2d08854b92930336a8e576730e4ff52943566eaa021abe7c8f5a2d9e5666c9d78f43e4af7c556a9440890778d26504f3331d8bc80b5ea50e62a048e022b87d6ace65c28c8ea256dba6463ab5f51fb1f7b387aac2b9394d7666cdf15908d0d11d7806cb5e434736242b3152ff80264bfeded281c14b96c0aadafe7af6b9428b40c7843869ead21c0290a019d5356eb134e7720d8217a7a4164751552d63683beed390d30cd16cc45fbf1adb688bcdcb9e2d26bfed1f8d16b08fbf971ed2259cdcc394f95524692536a940247719802f877a1eafa5722493740afcc51227d49bbc1589ebc28591a413cafbaa4c0e6ca21ec83f44a65206c47f46f01da3cb8d4fb658bfe2119b6dca51e1dcfed2adb48ad54069472bbbecc236c5836f9c11d0dedcf86bf32df95b4fa396c66a064a02d474ea1ce965d4198d41d957e496d668930c2e10b324cafefb9307df53d0e95a973ee20bc8218143c2e71850a1b62488e3a752eb579ff30b472acedd9570017020ebf421a81f5ca1a649b44a11fd52166a418980d58946c9498f4cba799d31bb806ebeb0475b6b5274ba71e19286ce0834b03c0fde643d94d4b9a6b68ba3212adce234734279925e79601557844f9cb46a464335ac9d815deecf61578a61c4b520cef298e22930985a982a040be35b600da2c3495860073289ad8056798fc42329f50955ab324eb92213684bffa3afc06f2662d44f5941fc281d531dc6f368348c83f7755705d5b0846938547b99970933bd75608ef882c0a6617aeb84b52ac49eb47da1942f6815b74cf40539a794ed1a355f410e8cca4b345f71cdfae4f255f887accf4eee6039fdcaa890b615cade6219c7ae7eedbed5854de984b5d4644f9dd392f277abc6f9c421ec1e4149c8d05b1b037f61631db8b241c06ecc7d61166b609e43e5b6ba57ee1474b648ee17b7135b87052490af3ad68599a884c719067ac76376bdf3724d85c6ab121a8e42a099f12b4f0302db0e930aa7991f04c757e1026f819a26a7fdaa9f4eba56435c3794f647f339580030ffb36ca6718426eb003656a2b562b39844775fd1cdfbed8bd49c409a2229ca94e05e1833250ddaea23f36f51700baa612039bf5c9b8ac1f0803f4fa9d16347c2921b1e26afe60a4a1020abb4c77907f55eec66a428fd3ab442cf7df2d1b87a03eef0d05e9d086fe55527c4f0288a7907e114f06e2145d37879f75737ee99b86e19d63a9950cf739ad3db9d619de71ca127926c7064d8e19a5341cdc21fb51a430497fdd1188f71066e6f76d0e34a45549c5bb28eb4e07eeda60e110322b41a4642c0dc6a163c0fb3c588aaa77430b39599991dfd797523b864b3986adc325430b9947f8e49efaac9affc7390619ab2b0e4ef60483708795a14a84b1d8d72a99874b68bfb1628b71efa63346ba236b80e6b70715ab51353854a53d2b974879ae9dc691a3333517899f58f9fd6fc28d8f49a6c7c7a6420ae871b8ab29b8b74ffc2f0b10c770bdd4886d701a5f7bbf204b0728c176216bc4d747b3d822478ee4016a8ddcfb9f5c9142ea101057ad6bf107f8b9eb1f6821e23a58776bea859da5bffddbf8db75fd069b32ccae4e532d2693fbf13013471037639e19e988ddb2b16c85c328537a2f5abfffd67b7b9f68f2256e59d5cfa9456b4867832f177cc1d1bd0f808a6088a00d49f257f853a54c9aae4c8214a7cdc63ddbe27ec9563e51c5311434fd997c51a7678e5afef962cd9049752296e60e2b835f4bf3689dfc99d74cc34d44b57b1c623d0d7dd33895e061a8838460a9b9ed779a09873b1b5b69f001f68afc9c3c86bf038720dc76cc50e57b7abb8ffcfd4338f450100dd8a59f215304911c6654cad6e4870c738a12e01c975528d29b303327d3d6bee4186bdad09c7ab5f68d1e00c000f4a47</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 自动化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自动化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python自动化</title>
      <link href="/posts/e21f0c12.html"/>
      <url>/posts/e21f0c12.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">  <script id="hbeData" type="hbeData" data-hmacdigest="2b9f38545a69a7571477d9593bedd62e36150cc9bb4d27a47a02d1751919be56">0f6532ac58bb070d8e2353cf86d7d6279710a46927a1658166acdcca7fcd4c30d4af1f6f539b78474e38245ed089af0c6eb6eaa97143913b59a0550b5ac9abc5af8841aac4964526354a32899101cd843bb31e53576c2daa93ebd198f9d2884e336031e25d508301799083e33878aa9169b3802720a60c25df77a42074105f32da162fe9c3161c2efaff61425ae79a8163190cf1dba06c061b6b372cb9449fc7144542e564cddc77cd11d0ae856a5a47ca0c8036b89ed715564d7fef608b625fa6d45b38a044fa1f59cfbbae2fe3ea2dd05ce6bc4a97179377e811945e75843bde9af11c5c6c743bff6d0859116774b926a81e37b1ec5c70d81da84060b5603b2f1e93464d93b01bfd2bcfef18a5f04f28e5b5d0071422d0238ef298f02acd7efede10be42ee806e9eee83e9b54de04914597169751cb93fe913a3aac7763df0eb48f66e59f1238722778d8ea093656e9852629b746868b19b185ff90caa220dc5a1149c442d82e2b88b5c1c23a226e955a81e34736f896bc9a0175c4abd7c9482d9fb357bef4e7d7ac1462490695a7e8f426178dc5cfd078c4a3f5705d4079b18f6f39ac79150b49282c91cb49156ae493f0047684ea84e4d5a0cd105cd17c57bac4ebe7e5a6b33f4d27b4866f9bfd64a8dac7a47e6e5a7d68c103bc6c4868ec8f448ea844e40a68b2e57154dfce4a003e0d9a876aa98a478eab0698e50ad869f4f3d61f00a86b4c05e3f0600a749eaf7cae25d39428420afc2415f0312565a2c5ed2ea7f40d6abf28f8d1de2c4d8560b802ba87b283b8e34d4358407cab320d21311b2de5c56c2ad4d2834fef365c35c4c5cd5af33a32cc205a9f4291d8e3d4e0323def967fc88d6eb364ab4a8f9d3c12eb47d19c38f82da0c16f6cb623ac15c829904818fd25b986bba7792cc2842c2d4c05eaa9ae543764f15a33de7b6239379c1fab0401d538a8029844e926d7e085658e842ac3eec9f47576444b926ed88539075ced49c14eaaefdc8d57f2f8aec80e4e79327a1720f00d0d5c79488c0ae920f2bb6c264cdcb0ddb57c4e1bece75b517b30f9de4e6be09cf48f85537c4484f88d6161cf3e852118557ad0d1ca197ffc15374f5dc4a6d405f71e9382c9b3e2ec3c4525dba1607d689d6cd76fe5f5e9eb3acbd489fd5b0323ec4c66a1fba9448d46f93e0ed09cc3b82da66ecf50fd0da63fd92077effdf98bef329f3fd7d1bdd75c0d04c2a5699d98af1270366f779a6defd7943381a2538b826e96fc7df28d8a79d1075fce56085fe29d448be0313ffc5674c376c18253a8953616847dfc9f22354f73884063b59bced13e32172b5d2fd9c13ab1b510543e548f6defdc2cd64bc054a3aa8c20bc9d07dd6d3a48f46f4cfe29c10f445651fffd81e7fe7be243a98f312f6e3dcb7f198ea84837767a727e819c7d7ba2a4e00524a5ea474d37db981148117ce29469abd6714c562348fc7191f0d86c8235ce34894671cf1a388875329ab9b16010db8c74b6bdea74bd5be9fd3dc8250eea6f552cb3e7eb0d64482a6f159373730e47a13f3877b61b15f2cdf2519b14dad1bc265dd93875d4e73da7325d3c18b23190dcfc7c2754bf94dedf71208f3b9a44282fb0c7c8bbe636ad37a501b94742d5d67acdde577ffb63eb582d2179c0c8126420e4b61ed885280e713453636ec52f95901473979c6f1132ac4d4cb8849c42023bf7142425e8beb572dbbc15a29a966c37e428810557c47510ab52d69c40689fb7aa5b1e417459498316a8a8f4607a51a5fb25c51d19f77e551b698333db26005a95b91593dfc4449d96689640f897700f8f089eca618550dbfa6066dbfbdaeaafa2bad1ca57fa8d80fe956e3471a00bcf3015f48af0f6b0e7e54124d79f15dfdc77619c99428dbed237eaca7cfcd698ea59796adb6f7360d35238524043dd725983ce51042ea3ac0f3f47873632d39deaea68c63849247aed4f302b0212a69dad08e1a0e9c3dd8de99fadf6984807ac65c7c69c75f23a8f2104b3f419142176c9fca5e219c8ce7e53025c9a705e43340eb4148fa20b9c5259988a4f9b61882ac9e14225ac54e2a24b1b969f0aa8ef270f264512ca4005740d30f3ff3d31ebee3eee17c92dbaaa8b55599955e1180808cd4b1a6203bd29f7025690808bb748c66f69cd55b365bc2919930f5fcf144f847c34286991b7f43384f6a234834a4cab4dda485fde186b7c2197979d4cbd25dcc1a703fbe061f076bf7a306c864b8614b162980d0fccbd311de1b554eb67df1e3cba1e39d7f47ec17c4244287f0fbc493defcc90c8dd372104bd7eaff9c7edc8ef2f71d14d50fc8a98264aebea276463554629f1152ab7d20bcc8f53f9b9a0de41938fa214605bf339f788a548fa12f9a759969b5c0cabf1dc4f267521428247d04270e55b5094e48ba29cc5da147391aeda4446aa720c85a6ab7bafd9bf432c7a2b9c16dce0ebcf8f5bea6ad8dd7aae1c15cb6ca4bbc8f60a804604105bfe35914cbc215e2cf99ab30b0ae3cfb7f20e0db36a63153398dacdc8bc09134dc2a1ee577b9d7e5112120a48e42731348a4d2f7cad510614a923717c48cbe33f1bd685899f7f32b4a53a3877b863cfedcb5e3b67776b438571b040e3fd162adca83efe744444272e93651a00601a6b50b97179e6b5482c109b5a074a838a6279da55b2a8363a1ad81d3a8f3b109e7188bc3fa1564d79d6a617266112f445d7037a81b8639590af46bab0bde921036ea2d7bd061c50f7bc5ebee8cca8bb254b91caf564b3acc282f88858858dfdbe61a1338ae85049340d9af7dc436b6a137fdd0af41459110245a6671012360560342b5cdc7575702984e4f42431510276b6059333df79fc022ba556e418382c2d3b9f83ec48d0dfe495fd2cd673fd6a547663a84c4757dce972b2c3a76a93868da5f032ed38ada218f80de4cca2ebb836392e3801b3251f7725f9cc1cfb74af9666175a35258a35343ec8f6adb3d2f2431e3b17a571f6d6aa2006860227f47ea73a77488260b7a25634d32394b0cffac42802da0e1d5584bfa1980647b7587e485105462fc6374a79b7ef9613f434e00491318dd52bdf07add9dc66dd5286794c0c6934dce600011401a5de7f9eee286f7b7ff9042e264418f5f57f2653fe320a3595b188555118c2d986709b98cbff38f04755e6c0e87797e5c990f0ba5399652cfe049aed2902df876442d32695c96b11e5177aed8ff420fc4950a58a15ae70836a8f83d09c11d1f8dff11e9c6c12f32fe6fb23ea0efcfc8e2d66cf21d4a8210ac2b0c6c591af764a31a4a65d441afb42b742054207ba9e7a952a02540724c6aed2f39d9e0df23a9d2f9430741ac69ec24a778095d45a3db60ac11a254ae7c9f451c0d3a6975d3101bcf40f6e60f4f896c3a3e392ac7973e5f1ddf6b1ae336fc85b9cdf564ec2b7ec63cf2690907d4edefa1c19b38842f4da3c47d18c11829c607ddd47e7c36623251f938290bd74ae360f88e9002e61cc31a284c827c7ed78b30f5705fddb31fbc18fd855d3c8aa4e7009a6ab73af3919d079a1d7f10253043bc2424a84cf062e27b3b2d0a59f00b646dc29f2769e37c2d4c8e4e83a72ac88125e12a47218a4b4b5affee2412d4e43a19c56f9f398cbfd1c20cacac70af8c1e59d5c4bfcb827001463d38d7ce83cd8da4c1b231d238a1bce2d3db371ad8526b5a7b36539c361a4b5d66b86d1bf0f0e56e9c4ee4f7a3d7f396963e9f1c9e52210b7a5c8b6ac19487157f3426613d32914ccff6b4978ae6b1183c7a305f0b3642dffb73af708964290a139648935ddd3125499ffe98f184e1efab6706acc2dc889fe41c051574eda7f42b960835eaa2c69d252ec6c1afd5632b92951af6c42e9921669be8040c420d5c02f6d05dd7cf5dc4db0f5cde497574fb3525f0141429d287ac2a4420008c947517f810ad5d39a5238234e2b65006aeb4a6022d77b4744240314e2bbca84be05e16b92141a3d99f040625b2eb957eab3c2194084b2f95a462eafee88fc465f040be40cca188dfe25c88c1a8a5cf2a0edf75a1f0b04bbff311261c0fcf199729960dc4e544639e6e757012561846b6425e4b89e38c0ebac13d025f00e00a8c91e6d084ee27f2c234965631174878717fc06616f7b47a8f508dc4bbebb53d1161cb42cdba4541c14207dcd75542687323519c9f1f6753c03a16a4b6762ec283ee72ef7751ac08b4da3e55dc7e6607fa4a96f72a50755e0c09a0ef42125b271edaf4ae5b94cfaaa0df274ac569b7fcbe266f62a4cd7b810756b88a6d433727f9deff65d76be958f3434fd77d7d12ba2de2b0565ee0e28f6a1931e8bc346d13fd92f982d16c4e73b74b432230377f3390e3281f1cff0a97dbd1e7b3525da8f71ca20868bac79b3c630e1403d8462bb4326e8fcd6233ee0104ce66e8c8769ec0dc443e8b3e4b44153742338959cc7ef8b9943e12e381d6e568f9d83b3d36c46c63d2f144777a10e7c3ddad910b013756e6b4bdf77c75d607bcf4b3e5fe6dba0ccd85ac3ad0b0c60337ca834243fbf6f2e6a05391edbd121b3b557979ef0948a9bfeba7dd6858fe07da4d55400221eb7ef088ea8e205547809ad776d70f1ee9b86429e4fa3b199b8a6d5c26661b043b460b8ef895400bfb6a43763436b113a44dbd7d40c50e2916a73cdab54c82dff729e4ed2f91a4e663f90adfad6c68820e9b6f6f0371636dc3196df89ed3672b047d009886baa9e850a73c97582a4cc48e08b8328a902fcdd4807db96cf586a70c1afde3aeab7b7e13ac301054565c357a82628e0403d53b2dc05dfdba1ec2d5bc6f984de4f4741c03ef3c1097f0b75ada478f29c0922dffa43e192b7628f9f275326622c48cc4b8c16e6fbcf206544ccebb32e0cb2a60ec458b02e9cf886e61d2df24d5a6e017754766dd77c57d9bc5060064ef113d3c2607ab91c9450794332726270655323c65dbff28159ea2c2f6c772239ea1c92ba28a4bdbcaf0050cb27660e2e8a4dac21e9412d01c755f27615ad868533261858b5413d99df192302b6f3738127798365ac0292efdfe2d2095be5c3f4be7531a0a36d521e57baf63a5caeca41ec410e6e1b61676f135ededfd6c6315c22facfe0ee1778893a135e9026fd0b4a0a4ce54958f803face594286a1a484cf3506bab6aeded4209221f2ced883dd2343e5e9f4f213728fe34eb18f019e5c8b8720c61f4b7e0aa7b134ab39a5d9d0ecf4a99b786f1d9db3be648dcf7dc73b575049c7a1281a550df5267b1767c34d0f2493decec818d84619b4d9f68fb6ab9c85a91d136ca959e03dedd35001184af258c03df3b0e779c71b3834ad5c5a6cbf9bda33088235c40eb1fc2411fffa9967cf9c6a3b0ee911f0fda13f41d44d807e605d56149e79f0a1e781a723255e959e8f8207ce072ec5a65d322b64e167bae1b6599b8edd912dd19163ecc4ac8def49bb801eb8652b45b4877ffbf3a83ea3b0f17180d4555717c6fb2ae2ed6fcd160ecc330de54226d111d5248b6b271c37f434825be93fcff7ed9beb772e5387e98d06773ed0e2446988b160b5c64af15765667b9fd96b29761a0a7359a6e7e14680268cde610aa3935eeea61a7e78c5b275a9db31c5836170f78492c8f48207ca4c4a8476eaa5481da917ed928510c516d54ed01455d47ff8894300792e8dcf0f37269ebc9c6556932aedd6a97da0c87fa12b608e4664361113c9fa7cd459aac908745c9d405e6f5e69d43aecaac2070dabf07fcb169e2443b4a41a1b6acac15cabe684144cfa4e8b5fed0dbbd37f6ed93bba281001ceb698d8fec0f767362819f3fe340b77b38d35e1c22a07c30fe61ec27b296a6ab0025e79e2437f2c5fc56cecf6d9a6e9ce8fd819bd7ff13db0e2922b24892f9f9706060c9805488753a8ca78a1d16e15e492dd3e042a8e6781054b294b73d8b9f9314053b457ddcbdf20bd5030226ee253c9de45f048c47612aded786d9624a478da0f68c25db14c9f5b4c8387f37bf113de3b9582d036ffe59d3b43d5b29639f587eeb02983db5667d2ee88b8d1808f6f0acda6c783e9761f6ae8141c4032b74dfab62b9599ccc0d5845cda7878685245d47094b47c4a7672108bfc9337f542fba7d1441f504d9937b6bb6e39f52f49389d417a9d8b8614309476bad8774a49ce0530e95aee7be5b158eaf9872fd2cc036b830707d4cf4740e0a1616ba600f599c75dbea1c47fba7bfe711a5ee2698c8b58c3d370fb9d62c63b458898f04dfef7271e05f4cf81b83c51f84644f983d97a4556a7231d8795de08676ece3dfda82807192d51d8b4f7ece5244fd809e6c8bdf0c58739188bd09d432ae21c6620f10c8786d99d341e1426a1228969687df65a7c18b62250bd84cdb3ca223c208a822bf08897c5b82e6fdbeb59a4b345e148f8fe4455746c08708e517024244e939a02411fe612682ac995c7980ccee7b38a8b03a2a1b018bcb06475a31ba9284c32c972c3e874882a55bdb922be3475f70c49a5be32a620947ed68344beb34a9a5c0b6ca9a6805443a2eb34fa65dfd9d0d49a17c050c66327fa09f36540d6cb2a1ce7c8dcee04065c5cecf32257ab24494359d717afb33b83470ba7626ab833ab6cddb353f346288f8e9b7782d5576f2c6e193d045238d781a3092f977192a97e2a1056e63d521c8dcc5ce0176dedf3d9701eeed286858780d597dc1959a90601c5fc46d1c62cc3d46db3c634bc93c67db36b65c72f5384c9a2a57e2fd4fa61dbdeb4c23f4478a62b4ae07f204b1832f5904264b300a0b1e91ee83231274150b2eda2f30b21628b5c3c080b813e692b6280f323f7258ca2a8c3ce59cdf1b9e0bccd07434088cd1ee1ad570c696658dc84c596628cf28fa6defc2932bd84a86274115d5c2cf043ec55b4f7e9759156721c55d11bc49b57428fc4b37e3197c5a69e0d9da089b91a85c9f988b958bc5ff1f7e84c94592133a3bc7e9a20ff18ab17c2586ade46f7316094067ef5937f6983b165adbc25c2c6b92617647b676a2259d6b1bdf83ab76af6b5057811ab96dbac7e87aed089069f4a28970a2cdfe1cc26e9ff2bc514c7d9fcf0b94c8eee7dfe4e7950b0bc907eb008a34f9a36977de8177087f80aed9181b6a3bb9acd5737cac443f49b9a47671a9faed33f3f6a9c8a0da4bb3058a92d68e40f1b109fad2ce748f509807612d7ce8b3539f1328f2f369a137873633a47d659fef699a5eab9c40bc4827b8a78c15c9803efc9be683af1a6bad9b305d237808187c01471f315218ace790e454100abc96c49df6de535e4e98b84563666ef52e7fae4f2fcbb717cf9678ffb4812a80e2b9ff467bd1d204203ccb0d4caef18fb9cc61bb3a80826d35c9106d182f569354d591b930c0bbbd41d9fb4442a3f95958d11968fd69eb351e80cd19128bf75e5da1be0011600196178caab516f3491ba5b255782f11609f457267956061cfff739ac6b360be6630c76c7a66d4ba79aafc9cddf5f154c5a23fafe51db0f5aeda78e581bda7a00aebfc78157fa543e3712b93bf7759e5ca4eb02d534640e7ad481f66fb4cf630bd4a0b084df4ea385e90366a7073294f6c3726b467e5f8c08ea86bf5e27ec1356f07ca4dcc0190099df2addfcb2dd9d085266a638a890d71adfb6ae272a69939defeb44c4ae7bcb9e6a19687c4712a79e2bfdfb97e9a3e39a2b97533e8bb526b0af2066061df172ca636bfba4f1c3a3fa0112deec15254fbf1db104eac98ebc1f45f553d173c0a0d227f5111e37d35469d66651beea451d93f6eb8999fd98302b15fa812d39928c98eeda182ceec742f752751d0b678013a6837289805cd84aa3f6f15040c54178d9e84e4091c06ffa43294c61f63fdc6e5e97ce47ce67ea2b3308f1425293bbffe4c462ed9ff0aa03319ff8745d5ab38615e41a25ab552428b481ed6ae95806f3e088dbc7b182c675c4101693d4dbf0e5469cfb3fdb28b517c047f9eda0653839c1f16a7ff373987ffd9bff49287322c4526a6239d613818df7f666f16f628b5724be7b0cb82fb7c03377ad6248b3bca4bb37e2278d0e5d1665033cab193d4ee495fb8056bb09e2acf8f626f20fd52d09b58f81378b42be61503374100e45ed48ce3146cd51f973b0d7b1311c6748d9ced5367a75fa4f129ff2a8fc3de1f5e24eaa6a16c57f7e2da1d6d54983fd4a1b5e913505ffe61660d9588caf4cd3208b19fd72a1a5fcc4c0b8a535b4250993e0dbf981335f5cf6cf0060d7a192ee76fe06f074b1736720cc6f169348543434c3aa987cae4ee8ea045a5330865416caf2506e1b86cecbd6e9ea547e8121635c5e62bee9e0b89afed135465c96932212effd6ddc914e474f7091a2947a3b4895e2063852b81828beb942cc5607b661eba7a769439c7194588b6787ff8298e3f9b0fd141f8b4f616d3d5a5207d62ebbfa53e0c8abdda969950aa5f0e4d0802c189220afe0126896206d5d34662fbcecd27ec159986531a08ce24ea3cf546ea40e953a63f5f75ae9e720dcd2a725d4eb9e492caa264191d872fa76e2a3e89c9fb33d042644d9e6b00f93143a77a010195dedc6dbb64d683458257001934aec87b2e49e140b41bf3ca1f1a57ae25a19cc5a759ec5b652cba7f3a535ec886dfb61709af10f43aefd5eea8e7b3ae09c1931315ecac05d119b634d519201f866cb2abacdb72a53769f6fc79168f32dc06372bb3feecdc84e095a4329eb915595cd502d294de967f804e0fe25cb103f4c9e06d49f839a3db5eaddffd97c65ea0ec2fab261d3cdc08233b1817c07151b27eae6b370c0519412cf9cbd56d7e5f273dd72afb04eeb92f9e3f78157332a23c45a113f6757cd1d181731ce38fbb9bf0a1e3c1e1928b7f6e762472189eabc2d58b2fc8317978649352dcff7aa9008d8da49f0110c89d23d5ba8be2990c849199d5feaae00356a51636c3a67a99f9412d4c220bf9ad64ba8001d64ad706d2d7e18b0d097473f33fdc2a853f37ef57f6b85b083b7910cbe3a533e0e5e16ce04f8cbda2200977025f8e980a583b01d5ab4020c67e9ac2e427deef1cc80416383fe8dab661c1997f6bbc939b1192303b89e6cd6d825322e91eb959bcae608676850d914aab3e10d56ffb7e55811fe8c0842656cb535d0691f876b97b3e70958b604bffea8f81f2d3ab1b233219b54251e71e75384f718650880f8764a80e02cf3aca7f5e0635a8f13edee1c9c617ca72380f207e66f8ed39d2b0b644be94c04efc560afc6a6e352c26ddc97e8ba874d6eebdb3834a5033a5c05198d1bf708208ba7dea500a27d4d1167a5204880fb1e6f6d6ce09260857d59f091bc16e6f66c4cd17f46f83b6a4a287dce31794137cf3ffc0609776f42b47138a78a158680cd3dca92610df126192f0dc60c356a5e8ff8c2399d119ab50558775ede6d155e09e49f4e24242ae8ca24f7d3b139afe8b0da6b46de47c015c38cc5fd47e9e0edab58a9cebe34740b2687b0f9f57260b8e4d6a0f91e45987125073f1b30fb38ef1a23a9b8855e594919960c713b6969113f19d8b44031a3f87da0f8657af27c291f547887f2823761fbf0181a123d73087a44c9bb13037025273f0fa891a3b0f40015e9fbafe1e5a6f9fb40e5b1771f98788da28c4e5d3b4a413b64139f39c8091544cab7f1924a84731d57dd6fd43186a79b1eef69b0660dd60f57132f82454f75ba5c2c424a7388b173d43855503c014e3813cdba4e3d4d69e8003e5e4f8f23ea4a741d2f56200db5cfdc25dc0f55316c72a69b81a98f733bb4ece8d37385805ea77bfd9343fb2e3de823538f442c8a88c2378646b43f528b15415f24c6cdb6d9f4594dcc0b8e0c352d4e14a8c0e18efd16d2dbb9df9d1e85fde60b7e5a2f2201ced8da049bdfb98345a0f9c8ea726c88601012e780ea8a1dfb1b3bf680fc998ac0596c8abbbd6e4c971167ea801c5ba8cee7faed913acb4df4a3d419142ee3aedb7ac7d818cc7ff7b511917c55ef938978be070afca7f07554fb1202f84d80a642479c131192e8b0bde960ad8bae8b9e728d89d5d6ad7172857ba726b59d7bfd920ea7b334d4cbcf7d3e4574190dc6280058e08923976b64b399bff3f4ec8a1e2ebdf644e202b1609c0e632c33a5391f21af50b5521a943014b2ed5a1f263e9bf618f90f45c50aedde7544e1c67b08ac96e3a78fae7b8b64266e761cfbeb07099d3ea67ad8f1228c7eb447086d2910863023be0b41e356cf831c4ded54b50c06aa9956f8f3f8ceabda3bca2202e90fc3fdfb334630b138366d6fdd0d07b57f3a176afddf4a4733c5b332608ab62b89858f01574182a274d91ab6e4ea0d9a48037cf12fff8a9e1ecd5013a4ea7a2f37f2bbdaa4559d298d2526a7f4c60b43db671c764f8fe6dda79bb86515e608271656e4a06cdf9d802aff956cb8247f653d6759d45e192acc05d8c3790e4a38b6f8f6d20666207e4fc50686000f665bef918d51b17453a9e65381b21439e5f3eed11a39fe0e0f56015ff25084566a834e8f9290472eafefad83080a2792d509bebe0c0d6bdaba836235ac126f6f59430f178fe88cb3ec67bf0f5887274ac0b38a765404775b95336912b3a1b5ab163857cc0a5c2a013eaedd6ca9a715956cc3b886b60c2ea9f0d9daaa2114bdea9923df7e47c0683634c9cceb5351e4ae34fd4c153ff210f7a95cffd7554c2b3598b8947736de6f5bd7e25b86f86c5a447df12c3f1e0e059e024a507bda058975320e67d11a5c29c797763207ccf0679c6f993beecbe00d5896f055bcc619ba2f4930e68ddaa89c9562bffd780492b6c815a80238a04422ef38c13b0883a0dbc1c6928d7e6c69d16c7442644a83027c2206fd309a7b42beb08a5108b0fabb776d32a51a30338ca5791bc2b8c5c979a55a76a9b01d08b9ed9058f7679a34ad3f5e8625385d25f8366d2688e4048877a507b18125472e9c5c6b78f95e8a0dce9542f70734cb97bbec7cfc21e3601294babf2ac0fadb79075873486ee56931cda4229852d7923555203887109f7c27640798cfbfeae668f834f3d8ced32260ff47a149061899031e2a8979e315e7d7f097f58e94dadb2c50061150c981895a9c77e04e2644b0d541650c9b3716d2dd646372c7eead3e06ded25f11354d3d49f4d71a7386ef1d78d2e62fdc2275bed1a14b200fe0c6524112aec94ba83d574ce21634cf840da00c352a4badfd2653f4a71e9a67e802fa0a58066673461d69640ad485e4c8d69e64619fd5c1e2bac49727dff0fcfcb8fed76dab225c6411d9cda5d24638d3dbbfd9d030cec09651eeebcc2dcaaaaec1805285c2ba2153cf0344d3aa2e87d087655236506dca2dbe34c3842770548b6296ba8bc49461daad8f6f47bfb5bd6854f878a2d5897fb686201ee5a2ca261cb8e22c8645bfd533d4fcf549285e9f54d28d92f1c83a33057f725904be25a772a0193e437f33a358a37005cee3805dffdf00a1f452fc45fa467c5147fd3166c768c3581245418ae858d3e6a265bb9159d6c5fdb7a53dc91bcadd57d2666e875bc60dff900beb2da933b27874c361d8fefbd43f8e2aa879b93e7a39efd460ff1e98b5667c562a3d3d39549284e6e0fb10faf5f794db0ae3be079c3d545de6850893bbb87f3aec801c368b33d8bc5e6f1dd2ef6e5b1969011c7afda73658c06ff7d39e9acfd9fb48187b58f61f51207439521a3e4e806aad60567594a8b656c9cb0268b7bfe93ea95682574dc5a5dd9158e5ab894fcdb0441f536b541cb76b815051edd85b7bd80fc9338119f5a2abd70d895e1a79444368b4ee393ad710bb82eb618a87dbced217855f7367aa5500db054b5fa41012d99ff8cc40a81bf6e7829db8f614e27d49f8ded151459aa0ede4d9b1c8c6837b5810588217dea485aa877b3195a24b7df41303d9fbd9c9b40d29c7ad56a140566e43edd323090ed3ea991fd8eeaffebecc36a23e28f6665fea997a91046a3589097919423136b77b57df19422296d3cd2fec03f0f9a12c24b680cea208f65e3fe15ca202db5957a306388522c7afe833ff263d37d12ff7f9e2690f5ad45902fece065778fc015e13e9c0a4ca6a048ab874964facd62ce4604268c7e3550cadb6b81dc9e4ad9883bde8389e20273e3b29007964aaa186601591648a3f34840f202922f2f79375df56cc297b450481794ad959bf01988397fb877b128e889720c73e180fb7c992023cc679f7c24337c27bbc7a7a3ab8951d28699971a052353e49d565767bcdeb427395b7fe9c87d329e98be9ff8b0b3fee115ed76c526c8205b5a809779900bc58b2a94bba1eb5fe2cdc21916b437019de0f902277a1293e94685fdb115e2bbbede6689abda8cdcf27f84328afbbc48d8effe4378b3453b522a1a45d46fb288efb5cd07a493c0fdd761c4dbccd0b7f052ff099a2a1c496fc4cfd70b6dcfe98f8184b2d72d96800d45e74659a9deea020b4cb8506e928cf9b1f670c2ce810df486ce0ea3a6b470c1e71dc3a697fc50622cf41a5fe5fa5bd76075f5599b9f18c70fa60645c77a9d493d9294de1fc41fa653535d1c7b2f1818c9e1de48ac3956187e877280189ef469849150288714750334c26bef9edbe8861f502e553ec12eff03ac819056b72d1256c2999422b12ffa4ea52109940f99472ba286ae9762ed989f0b54054513153bfd7dc91a5242368e8e7087b31064a973af537ddc9abc63a42f3a53a7cc8f0cbd7f6101218e4676a2cd6d71819163ddd4a9803c894f35894a69049787f2841441effa853bae4edb02f8ed032b919db4a5981dcd845a92a4f2827d072c725676529e57180d2dd2306f92cdcc58a5a89fc1c5be0cdeb0742230e6ea761cd6ca7bbf3f1803ee6be973c95098be580149979a389cb9aac63b14a173e0e59c9a6f6f00e28e76b586ceb8f5c77b342e5baac90d1ad79540df9f5ad88742fb69619649ee3fbdf848d27d11802e2ca60c4ab8b6335050c21ff4c1a29adbd2c4af34f7d7ae7e094a9db8d647b83b321ade1b6fd00ad090fdc147b93bbeab64e204afdfd102dde267cb3d1427605e753f9d10388c5d222bad2a19375826c5dad7109d778fa08273e2224d037335e4890a5923eab9ba445129a9514f58d8add904d44820be562ae6dfdca1c745776ef9f4fd4571c848bacc14ad0cd889d7c2b6fdc261c5dc9336c3f627dfaa973e17dae78079c2a19e9af9cfe82dc93bf4a310edb7333dbdf3c420d4fbeb3584bcd57a659cbf7fbf80c434a48ebdfb51ccbd8f479a094305480768f74568324b665b6276be3eb85c5294ccd33ca484d8f7a3359d00eead653e1ff13a542fc98ac788386f439ccafc34b966bf2126a91bf3489c5cf2b7b42154f5dd10af05f25ee238cbc62e305cf29dcd973cbb121228d7dc18f27f1e0dce3bdbd7b3e74867bde0957cc9e2cb243481133f1815b8d75cd8c29c5e61bf6d1ec940f1b39d4001294d1663058a7ddfdde47b505910e0b75f80b266f15a45d2e910f63dcae3af04c3fcb4560bbd383ce13edea35461299a123961c21a07da511b856ca720b2a1fe7bec0ed49644e2cc76f698bd9d1dee7c09cf9f93515d43239f7285582813680a1c4e4b306158f07b337004db95a6d82739852d266ef9fd0f48856b472ee075505cfe89d6540d01d215faaf5ebba99de36814fe7fefa487c89453e1fb41960b0d61b14ec3a73fb6dfe7b2295bb8bfb485b6d60fcfcca12af3061ff366b1c1794e09a837df9f51510022d419580f7ddc9ab37334e0710609d97e675a6cee4f555166e98136f0b4602644d4891db90e02091cc65e8c85450dafd8c49757138f882c2369657e10cac247530aee8b09d351fdd46bde26823abf0080d20e9a8b2b0f4f979accd1ed521c4e8ccc7b585ecc7c06d3d1d5c581a6a1921a9cceb6aff934b42aaa678791ab567dbc6c98d1c769c5e29fcf06577c662765e07f76c78f6e01240e3baababcef1d4d185a0e70e52afb25441ca77778a18f407ef3686ff1ba5fe243df5774b4eeabd7edef608576d2304ee088c59fbee106fe778743ec3c897ac47a5b2de3d048194335f1daa3543a04d80aaf83e9fc1e74fb69a2c37001d4d635412232ec82680c421b1587b55fb6e50cf6a01a96d7f2c2a6cab58c66e02f1b1f5989960491696b572161d27988aa844bc5e4e841dba8eb68e2db38aa552cd7af41f2d048f473d5e3097953e617f5068537e3d3b91633e98029f632d1187f9f908bd2e6566904affdabc0f308b26061f98eef1115368be8005f0458ac9f0c4988ddd2d8cead380325fadec717b4fbb89d7187ce852d57cdcfabf68d5d7383da9fdcc2f411bd2b50ac70084a2c4f007abed80a4466462c6bce9d851ff9c91fd2385ffa8f326564ef68baec2b32c0ab84b2fe5a9d5928ed882d4dbc053e235ab26b5ccb9623aab6a05c479a81b4822ae774e3013d40e4ad3a98ba910a88b270373715b17a67352a775c9c7829e232f1ce16381a41968a2183b28a3b4dab0b6b530f9269bcbb472bc1b6f786f1dc9a7964734a80d531796db357e89af486c9f71477d7742072e7f0c9a7d209668781dca9a0df20564049b56f490d6fed18ac30be3381200efc6ac6cc0c4febef0fbeb8b6c9a4806451c4cecc4b3ded866ff7e66849ea4dbe0851c03397505ad19011909b942b98fa01b802654b7a519d4de2515e9969e8d63c8553e126d8493f720f09466d98b9f831e6c21573640ac9dd718a81d98d306d1362040dd8e9bf43c86a97b26f49d557f821f44bc45ac44da8f40a22173f8fd0d55c7445bf721902b39375d51f41a89633bf7d887924964acd569da0bc19e1aab2f51fb619e476b67959822a1debe85d41db53d705bf93196624b8d2162340d6b76e13dd5c8caed236ca00ba4e9d735bd2619cc12557ab3be308a20c84a9590923658abd4f11a413d0c0104293d62df8b6d12b713c27120a58a1df9500af1dd021f72c26f8315f1e7736890607b2ea9c9ff87b58de27e9282c86c8c181ba0e41d7f4efc794aa0fc039ef6c1e7df24b9cbb7de061f5c6096807f0d97ccf9472cb2ee67a16131dadaab1cdb8da528dfdaf0425505998a4f50dbca0e4aae2d3e478eaf97fb0996bb109909265630fd03099c580ba815c336dfe46a3cbd50b3d704dfccc3b23658f639a8aafa239c716055d125f057a5033cd70367ad4888d4e2659000d06d91c6f9a4c46094d5d65e4f0859b7010c35b9cba6ee6afcf2b3a65d60ac65f5de98248176e1ee9efafddad9dd4b0c3c25d695fc3a97126dcd64295f9a9b64438ca84726f0f2ce59cc8e673a9ee027936528ab9a73df10093b03811afc754b8af1949e2f6e591f85ba82e1c7570b69af009e921e88b07816f53bdf04c3460f70813432c66bb91e0185a674a24399c5d22f859eed66c26d53a0a75c08a77d196897da25efd67e3e6170b398a55e414183fa517e80c0d7fb7708ee31dfe1614ed49e3f0303107b7d68b89b9c8372e9d34daeca3044c498efc2e04e4b90d2843cfd9fccfae7029cc7d5f47977d5752c5dbab6c239ae472c498e5449983ddaa439baf46e87dce462b0944f44a901ca8c3ed200a63e27de067f0971a008ab467a0da506312b220385e8299c7e44230113ea6b63980e2f7913e0547d64e98d185b20ab13fa2e2b73f8e2eaff055ec98a0bba7af545c6c70bbfe62ae9e7d54b0c1a46bcc455bb894e2192dac9294ac459c330eae4707347f3176834b8499891a02a28e0b21828f557897db57d5b9e98969e9e6d47b335c57ca35bd955f5336d10a35ebdaf6ae3ab507965c364f1fa4cc644e632de6a29c733f8a43edc837ff5460fef31141b07a045d9c58ff75660bf04e1702ada0206f3c937836225167bc824dfdad76ad86bb42e1fdee713405e7464c7c69244a367552b0cef7639e1fc7e179d1b9dc7ea657d770f2a2bca5c65832f39ae0e768281e5e75d1f06b32d6e6695cb1234298ba940f8b0d7badc86658ce898d88e2d3a56b71e104806b5919bf7fd6df6351ae427d0b7177ca18d6753d36afbc746b116ee6ef95e155890e42f3383b5d345dde373cda67587ac287dc54969f994e534d97ddd6f51f2c4afd181f85e002703b055ec1837848717baaf104c196428c7c2158d23e71fb5c2fbe528359226b914e43eb278536338a9081b32067627cba903f89ea69c67603d91a12b049f491f4607491d56cf173f00835f95366cafd706d46a62ee889e803d478f2fa46cb7820a118c3921b3dbb3184f012f37d83959ccf581de4ec555661395cb7f403ee970563771e93239456d6b5074ee36fd9df215e04d83e157abd0379a9a90756e87ca2414f3dc8c152d879e3be766c03c680906e410ef1e1377977b5cc6e04c6fed3f8de7aefd672bdbede883410e19564c4b73a9e82045e4f5e679840a2b56dd7fc297cfc53130a972f3a74f805bc86e0bf07cf08e8614857c82eb83dbdf26207717d8a2b536e05237900c0589c7cbb4579e923b7a1cf8a15d8ed17aba9134616f79cb05192f0dadcd6c0f104ad0aef59fd6ce2cfe4519f35d483bd35e57c11a88d06a746c5ccbdf27e013e0b6746dab0e6e349b15a0fc4827cf57d186b181230a311dce117dc59a3aa53c5f552077577ae1add515a5a723ab343292233acd0975590b88cb55de007ec4ea98a77460a475e3cdf70cce509de7d7be51b9036e7c1a637288eb06b467ca13376b30de7863490dece2b18264bd96ccb43c964f1a100a5c391295cfb961e6382807b755062eefd99055cb253f1f306e63febda63406e3c32284676fa9d639beab3c04c7c312e586475edc552da636580cf3b89e4152f7bba5db7c537681745a4002e66c52cf4bdf1690d91fe9c76d671c3d516b87da7d2ba7d80b3b3e6b928041adeddba318bb9bde03c874ee5d26bd04818e0cf8632b9ed3ec734355ecc2db084008d0903646d82807008974bc20865a91a42f38f9bac74d8eac3e7b654457f2fa9215121264fdc854292628548a6e7b778b25e324630a5217296b33996529c786a852fe59e1213e48a388c9926b4b1c26ab3f91688e82183420526bb963bdee0e7bfbd80df6f30ad35bbe680b1b6302af6380e23c27a7f6e12f520635fa7e0e8e832d7dd4a74b5952f90b0de88a15ac5d70ee2abef3f40693ea9d47bc9ba73269b84f54e343dfb174ecac42820b2e960136c65546c0fbac647395a3f495a532bc2899209cf6b1d072036e586d15e8d10e11c2928b2dcaab02de102d9b5adb84011078c9c9944ca625d171167410296bd8c71337b0fa9233ab9d6de30a5ca3180dd4ced75dcea64caba4fd953e46db9fbb595f3c393cdefea837c769501f10282a78b6e1405262d47734c8aa2193386a92260a412ef25e5fe5dd23b7bf5e9d30dbe29dc23d76cccf8b32c14d3e5b7cea889efd3057d008a2e14f8b0ad13fd03799bba5e8be17363abc1ec9cffb00c24325405f0228abbeb6872e93bf073a7f0228d1ffeef6eae9f9635a2c008fd851bf0186e7c29d83626262643ad53e221ac3a5e1c7f98f32a66e06be61784691a0a61c147abc4789b43154e49f805e3025d905d0d89ac52a3db2c48f38bec14e92fc31fe267c232248b602eb8a3795aa6e49cdfbebbf2a165967bdb2216c77072c15a91b320f5a0ecd73c039d2ccc36c7c1e6009e5d0f2c38e1c33fcc086ec3321329213125eb05f6c8503e1b5e468a28f2c59436af857741da8bab691a6e8986281948b3b88217434ea33f64e91d51f81cba4c5b7ce32d690d841930975a3119296f6ceae6826e9478f025544d0843bfc44e98928c8fbcb1f403ce0cc4093b17a02a450a59090497317a93dcfb030c1d3c989a1a612a6be1f3ad796055e8e2b8886fbd8fc0c62545d6cb344844fb9e0fabd2ca670e9617841183a6a8447bf8f1149d6d71443e0a4781737329a1567469da5c90b61e8a98cdaa326528ed36a63daaba99da20e1993e951486a035c536505e49d4f8f1d14e4984fa361126897804d6d7ca2b255c13db571ece38703cdd2b4af69a7482b25c120148146e7ef2843bf257b25c60f6a5e1dabb568f523b55e191d1cf5577eb4f77584b6f597266c263a4255863ed66bb1bc9064a88524ae2838ab464783f2aad0c69cf6933d5c8fbd24aa3dd1722ed5043fe038008441661bc2812546521565d1fbb4644bedd8fb58af1522077be4bd42b055b284490e4adef735257d8c7574c8fb46d5f89f3cf7246c13f3955f821eb1c61eafeaa864e97e76b81a7eed0f2323013263eb6988460679743d42dfa17dc6a05605444346d6955c5afdb593ebecaadad247f9c70a32905c43cbeed5d985bf51e816213b04110454354f02d5dfad84a4f3d3a64742b924ca7695da161ef2fdba7e385192406cfb82ccb91aed1b105c21cbf5dd1d0008a88d596c690ae2e5eb31e90544ef0dfdd948571007eb9925e1a6965f10f48569f42b9483fa2f639e7ac5ac1f5e32d2ebc509733b22ee708bdc9609359428325e5244632ad2cdf3b5eb72621f17f9d16524079b6212e36f146c3b6f8da982136ca9a5da11088916a92d68cb2e1ad5973de28fb93cea8597601fb0118a5f080f179c6de0815e7154016e61906a3d9143b674e4e548a0b27f3a572d896f87ff59823c9103033ea4bf6a872458e26b941ad0eae6b5438f6d12f3d94def6a88819480e6ccfa8058d8f246cd7fc6e59260cc400c8c8337a596766ba99016be85e0e0290e90247a9aada8280bd7e4540aca542e4754044fa46d652013fe861d449975b4713fdfdd1638df2ac394beeed8f3f23711aee932f0cbc7eadbfb25867c38ee4b7a08a3029b13acee8aea6139239631df1ed77176f5db616963885e62991dcab0d1d32a7d5451476f54ad3b3619609d93234350c42cb7073d9b33501e53863b291ea9b8c25d1b54300912a029a837ecaf1867c27537d7aad9b7683810aee217ba20d42503c694889341d3d9fa58ce2c8ca82fb9f88ad009182f094fce7b44dc73d401435e6fc8c7d9eb121b0d2bb6830f89a2d25d70a8f7d9c3cc0121ebcab931fff084c4bbe75aaf121c8deae0a4fcd82b9f65094a65d2354ae2eaad78a752428bd99340a1a9a0b4922d9d5e3c12f1e7da714816c6a2ea1aed281bac798b825398f9d751b97a6eb7d165cdaafa2bc5c36cae346be32df4d8e1b32a4d6e29fa862476bd673ac1356aa42eca9448d8355ce7853fbf3a2f76fdb8b9b665a577a4e6c7d8db07a724a3af65904b292856ab7da518e2f8f988fca8be09720a564ba277a1646dde82da54879a5005d30835a7f887122b6c6251f3d1c2c9194281d1fd73b3306bfd087d5cf6771090a5e6e7a667f51629897c7b0ed0c95d61038a54c9e18a0bcb669728ea8b2cba1ae2426eaa4ee9989c978acb1ca533cc6ad925ece65de7fa961456211a81dd2aad1d34ea58868f000e5e05f96b272f3b23454b5664868cf2adc511e0f324a3b9a771528b933d4e68814f9007d8eb8c5920c504c40bb1ac566dee5970693060495b4c218c9a9595171158ff0bed2a0bc47957eb620861a801a07d8390fd93a34083582796685eff97ec4d76b46bd9e9dbd7d8b8dbb857190033e7216e5117bab9f2acc3fa7c50d8dbea741f8e4912af18b0ae28836e1c029234f4c16afbffd45b24c397e0ee058e55dd5e7c5722327884a49cf1d93f6fee5362ca49a3b831f77d199c0426e62a7b11f45540a3904ac1698da1e119c75de2309d566e6053d6586c5ad5f8adc8b7871c866c0214d5bbaef2603bcb2893f38b7d54c6d30666feed6e2746a1727ca1ca196943dfeada28f484088d7a769a49510882c5a2f58674d69b03abee4283c45af0f0af2734d395ad0a3530b906b09feb4d6d1996092fa98af2a05a058b0c24ad795cc3aca297eac603a37dc534e0d18c13413b4aad90daf9fd9410fa0fb31295431bf10c88f3bf12788537db74539130af65c06b800952e8fa0b0a61b9ad137a71ef29c2ee5695c6c69aafc7d5fd4b1a2cdbcf8208234c8ec3fe338e7885d894fad9fdef9e5c8eed6a79c89bb15d0125ac8b4a19822abedca8b0a5c19423da4f025e2688b25affa5ce231349f0035e39974e2941a376be4659aabdfa91c9bc9eea3ad7ab587d487b4a9e9702ebff756c6037ac243e935e0ad5df1e18df287db3e7b6d2086638da38b590fb81b0dc6b6d38447927df31a957285617804fde0f2a1b9771023b1f03123a70570bcf29fb79782ec5259bc8b1b3bcfa776a53340d89dc1d68ee48fb1b929c4bd195987499eaa092d18faff0a5b073aeb1f29b08b837064cd1d7ff2c4c750b24b0fed621d61f277dca4af9ff5408313267a5918e20cb4589fe957abd5f7e74138055fdd33b7fc030bc7c2fcebce7861bde8c08b5e6ddee9b9e778d151775edd88f99653e6e0cec8ead280344e5bef94511abf6542ace45439504521269ffb4408b236db403beefc5dced79102e957e803c9a573bc0078ee8f2e6bf2d71be6cb9702897d496a99a4267a91da00b8adc60d2ca1413a6587c27a776ca05feb7969f108f760fe78bda776e6c9247a5808fec5968bbfb14fc702c41cd00a48454dab91942ed48bc3c81a1fd8391b377c053d8ce2f46eaa5b4b2b029c4edd4fce026d0e7f9a11a604298104b047d463caea7e06ae12c8f722f076b2bf94d9b49aa2c27495033eaea83bf379fdfffa9cf2cb7ad48020766920edba3859c755a4dde77ebde44d536cdb6614de091ceebbea1a12656e0e64e22f5bb9a520521a7013d4d1325e0a9d8f7ec784e6733d1d55988f6c325d5b2b63c2ef1af18f9b51ae47af57f0a576f51efefca7dc5d8f38afa6de5b1ae3a6ce57b8ae10a64a59b17bb71b656a44fe0370cccaa9c76698f909c01014fc25f62ac611995af69afa5b3ffa6f0347f1cd4eabdb91dd376ae3bcade9fde6a5607277ccc14e2df404be5074ce862af73114e52c4d7e8d3b0df767d32b8cfef1129703308286a473c56ec110ecb74e9396fccd7ec3630cb29caf0f36c741acf5738a791456b4ff7e88549a9759f149fed41eba83a4250f6689453280d55e51fe3a853d92bf90d11a0ce13e2550adf4e2aa79d2d3368cef52370aecb5c578fad2902b76c0223ff82cc6d14683c572185474dbefdf28129e92bb179395982dbb84b8b1d737ac22753eedaef4c88922c3f8525856487742c4be8c0eec973859cedbe8701dc7109ec0886b13797e6919bef285cd064afce87af664f329c0df60516cdba9079e1419c01eab168aebc05599c64a30f678c4dc1fc9e1c1362e69dd6cb4d0f8a9e23ce2130739557703741fe26a675e64dfdfe7311aacda362d99224ca846726d8e521a7e88840bb8d32b8da7a8985e86fd096d07e5c75b4a59731114595c2d8d8ebdadc7b4f3d3651515a189c5e9171f91a9b5952d12c8ed721ada020f8affb6cd36870695344c05c878124abca8340424767c4a4096593c5f2ba24253a095410eadaeffd83298cd71f440a6cdf184af58c71941741ea0b870ddf59cc8b1a975b966fc6eafa9c1920205f5022277753acd75e81fc6778fa13701692c3bc69649735ec16f9a932b0797bcfefdf06cdabc45d1290de6a67a5b6222f09dd7b084207508fda8e2d4d520f668ae1682fccf6fd5330bb5bd9e4e44b6c4eb4fb8fccf700b820f781451de96950509428694d4d87f0d161e5eb4e8f0f081ab35923b27b22d288815840bb3250adf2f85ec8351d3d2c5a78595fab508a7386e50eb68f48ae8910809d468d61fdb7fb7936cc267788e2107f52aa1f99c5f7ecebd1796a3919924460210dfb95ace0f40d5daf500f3d6173d8fb40832e3c357e18367a609287bf86acf9d5e3acad42184845ca2d0180d9cfdf8adbfddf06c2f9685db3e38747267ba8ed5fec245783ced9b888e96cb8507ae2c336b3d2fd0490ff790f0838f9b27d6b797eec4a396f8581bd01cd47a77c3dbae6179699103441cc0b3f4dad11be9c75af4b72d0db498e61979483d0223157e1448cacd590acebb46faa7a0d61da1decf4152c32bddc8505fddd58faaab75d019159fae192e13501a5859ab087d1137274dc0452feb0b1d6deecbdb96507ed27c98b34b25da79c1a81c164f2eec9be914bc6ace81e9a7790a8cb108a7673fc0322796a14d2b43cffb3ea2fbdbd43d6154c9e0bd8fef8c7a603ddbeecb1a371e54b69859d53a6221bf7ceed6eb3877deed1824fd21fa470777506c216c2665a070ef7fea3777cb2d839b4ee6fe1f5c9221406dde066ce6cea272260d6cc5f7037bc4b2751dad0cbb0d6031dee5d77d77ba864f631d13d07deac78d8f4bf0fea1e1bab1a327262aedd9df05e35adc8afd21f65efb12369fe7162aa8626a3f819acaea4a6dc6f8318236654bc59e8c7c54897fd8bcf011d1a47889aefdf9fb93eee15629648c44924ca7cbfb9fb8c5ea8071f84f78380ac6c6bf7dedecbed1773d6dce088a7bb8f7d7091ec582c963b36a2b4d2814c938ad505124a6b88395cd38214c8ff5b37dcf57644339557bf4571338307ee542eb5c3b5b527145626c03f4a6db76045095cc55a9e67c1f87a30b89d6afac2a678fe612fa3042b208dbb817ebe4b4cffe4337ff32bbb10cc70bf48903943bf2b4920d42cdaa9c5a00fd1a1044de042e8f743492dacfc80798501a28bacce473565e07aa96d1d535cca33f58982b5dc902cdc8104b3162ce8b05901ee938296bfabac5ba525a6f89303704878f3abf83921e97c2e1545236b4684c4925d397b052ac088276b498066f7f2cc90605738a0e43ddeb2cc262d5eb2dc0812feed7d18a30f09c187364286ebeb25b22efabe12cc9ea09ba5dbd89d13aded07add492aa287cc98ee04384567831afb8800e4aa744ad382aed81ea263a776c19e79c397143142041923185bcd5141c7c90938107252fc6de950278914e7d422ef6cb101e0cb149e5586335aa5fe9128faf63732d69ec1c7a3ea5bc04c914c09354389fad8fa6fb6a58c531eb8c63e9207c2f1d00ae20d06cb5d21a9ad1870f72616ec728a6344dd520eafbeb4ffe7b151a1f41adac7a48b6335f525e1b6936c5747a800db97841ceb834eab5f1c7e3614aab7e32d2bbdd02c6776a01bf17c465cb78e2d32ae210e58824489e1eda3cae0c6bcf819c9281a109dd8e447d163c79d670c86fb0107a5a27101cea6db5373d7d2e036a978ef09eb09c83f1ed494efa4c26321ccbc7a8e46c91c3e94e052fb3794cbe90f68bce38639f43e1d84f9ebcb1b2f286690cfc1b2a72704bc592ba1570eaf6c699700a88eff7726ac101976264007a022e130157fb5e426e134956852699ad239b9e73a5b1172c6b05e327147728b0d6101be51639e4d9a81fb25176137b37e35a65d64892689acbe8ae46aca0b77627aae03012f7f0621cc9bd5035fb766f44248bbcfc8f034e6279126f285a29325bb0071ac081e63879e650448535e651f7b3777d33d0ea93d6163d3687e7a882d1e203f74dbfc6d44cbdc4455cf747a1d06a6bb1ddb0079c1895a562308eb785c901db12ecff3c8dac8fbe3d91c5f0ed9393922edd0af7ac6e78865ec334ced4ace549aa41f1a1bb82898ad86bbffcd2636d9737295b829c1ab21f60f4c0e801dc825cda04a69a0aa385c9e2fb17e94b65da5ee8304106942e137320d6630aaa19dcde19f1f1c6673e1118fbe6f4e9ae4ce7a945b274c6812a6aa71eba41ccd83b883c1065c1783923741569f5b732d46f5ef3845e08015466b1de2ba4fd78274ed98ed7a493711b3a7d79232cbd1ca9050500c3773203e0901f01be5dab637e665bd5ff3b65a322cc6d6b0970ea447b07383efa2fe6459c882978cb0a1241342cd4148ee6e250806ff3131c12201ede346dd42e630bd4ef050c4689f6a0f7ad1f3a79cc04eaebfbc6632b96f844a26e99b0931da05c9fa4cecc0d8059c43f3b6136003a330f2f9920df89ffce621e3e66a0bdd0aa93f33a2fead01be65f1fa3cfb0d58b6bc4b197c5d6ede261de2494a54505b76ce5e69852731acb000f8a228015eccfb7f5a4651c685878e6de61db5bf18c590859e4c955a4941eaa30d811d8b861ece5d20eb172c28681fcb5b5977535045e125cd4d030903f374ebfd69fd005222a3a70a41ba50b0f7aeec6402fcf90fdd6dc7617e9ca1b8d7a528289bfc3a4aca9187e42504ef002a7f7d5a480097b1cc84fec7df74641172e8c03725435a4aeeb1ab032b84ce500c9aafd6d7823d8ce04063098ca8669e70596dc0b37dfe928e7b378406a50ffd1936636cd4c17b5020936d26917598d37e19963114a90e8aa374d4f2c76fd304869efee66313679a755548b508501b1567a25214a5b73a2ba12b4179ece241cbc3bce55df3b489eb9bff7071eb54d109137346d5d6649513be6e80342c1410e09b10d28d48155d75bf0d8fa9d9e138bc42326bce220424dffd2f566d5df0f54424d67bf976bf146735d3805c2f784ce8551263f383a1d0067145431c92e4a0912c777f236ed44c375af63ff509d473d114f5f637b165f638f1854ca26727ead574f5e1599b4ba5fdf379613f9b3c6d2b3965e9c41285c0bd4fe56c25ae8784410da2a71d897e6e2532b00c63f7f4cd0a6cbc532b0e0287be0e945d9b3510aa9fcb536832a2e2db9e1259f6f99a504532797577ad0f010df08f6ba81766030119f036c676f7c115714c678ec4bc078c291a937a96037f08350e6aef90655119d8450ab334871474e863d4196eb096c86297d5523c6f7c54075d3bb05f1d9da0f95ce9b64617a6dceea4581807cb9967b74e964fc82ae25914dfc66f97daa1858b58c5b81711a2cef52d9480fdf2233716edc691dd4e4e2df297cb97709cd406af762843781d273ae71d76d0eb49a70c73b7c5b73ef6f4e46122bc37f19466cf78a515304a6880fcef4751339e0197a32abb4d1b17c4b4e5bd7a9cbdd6b8dc36372be2bad9132719ba54b5f1c3d11bc3a6b4e4b9759e0452a25ace10f01283aae2e366c9f77ac3eb20339c42f8c233f5dcce7aa3e490fb667f78cad8ea5efbd2325ae1f34a710f29840052c3b2eb82e1699ae25713403d6ea7daa0edc87e02fc6e2e29aef462ba868dfb44ea4470ae8cfbbd8b30c79321d4020e4b1b4d59c35ddf8d7b2f2239cda587deb16ca3588df7d28a1997058c91eb1198d3ee181e185d997814313d7a5cd44b277dd5cd33202ccadd966c831be922a695afb211221af9b38d5858e8da99b14af8f55eb56f30c1d7ea7601f57b3ba67b7f7be2e6e05fb2fb6f449000e240279cf8b3c4d25904109c7f72645292a657569d221c5b92b7bfe0867c061e33e60b71dc27c042811687425be9aee2e80c189159a632edd38e1b75ab32fe3404d116d877d3617329b552a4d1f7953032518a178ff9edf2d8e19c98f1be3ed535f2e6ac36d0289d503715c4b6d4fb7375310d30176aaaaaca5db9fb57551fe3ee6f708e7181c8d7fa06d279e4317c86624e0178c8dfde5f656feee394a54f5ccbb3813b428bc475ccefb1a5ca58f3f48083430084ffb5cae95d2f0f039a4758f2b58045ba9bc933653f6ce39c3155a5cb607eeb8f949b1a04993cb410341fdceb28a795d7b84dc80df8f8bea7ac7d3481dce2f080c9cc866db9b6923659daef5d9d23e392be183cee936d448306ab3a2d417302a467c3599b30c9b77d6d01ebcea3d3ed559991395be539f9938c2b452f0703f362164c289433a38b9310913d6753919f0d0451875ea26f17fc7bc09fb02b74973ea999200f128fbc4a675f70f0da2a4163c16a2028c9d2c307cad4d0982b9488588d20e45deb4272563a071c80d2e52a7f9445653973e3ed61595b2d9d5528e5a175d0a3056b2a02042437b28369c22789095a7a55430e1f10c52b2883e81d5601b5d26c354394969f5a73634025c7cb1992b1a126d0fa4a008af6fa914417d16d78acdb975ded2bb0cc5c42b34bee7bfcac27569722a69db23283d9cba3462fe4e5afb19b36c87667bacbf5ce8776b07c6e43e26196cbabe46ed74e98e68e544c7359d32e5e980842038542ccbe5c8349374195d972cbbb78f8c9c567b6ac3992b2ed0ec7702df294e6e295772c6c37707f19008c15197e273bda079b636a3b176a31b4ccf7d64d9759ab2fae8ffc60a44eec10536b713b57840e8201b2ab2f241088219a86727d6db6945fb1c6f820f38472e840e8c4a9c4216b8c4527ad82b56af1cb26c9e151b514f77a72003f50c125bbe8786eeaceeaa6341dde0e9797c77602bdee0ffe366f72483e2514fc77364fe8816e8efe4fed6704a0dbebd4f2e9c3f3eb1c8b063850714a45c3d5989ba84613bebba74e7e302e5abf31b2a375ac239ca57d897c31a3f4b299a5f28dd4ae712155b426be0382b9134ac7b89f3614abd3b66d744eb26633152ae88fa6a5cd2048c128a9148fa4d48e92c6cb3b2085c86eaafb9bef745d548313ffbeb3c1b195f4f95dd1a2663be9143911a26ba551ba7e5fcb85fca6cd9d1098487ac4b9ab522ae0769414290a10e94cf8be96e5682820e77bae55fcfef92334c62485ccafa314332fd40f368f757ab4a6842c5007faa01fdebddd6e29f3d3d29ee0fd30315ffad42045aee25aa2fa8a6034397546b990a29f7626b0c51dde73f13beef44a77a0213ccedcbbdddd970fe5ef14a670b0fe25c8898a71afe2acf4e4de91f30c00e406aea865b768e2fd2c6450ce014f62161c3c38482be14a2f46bb6c2f3e081553b32954cda2ab0c8a4069bbfb24101ce796767cd459a00f6c45b7612f2dbeca08a15ca00b3ca89026779855070d8a09178553328c72608dfe48063d59aa39776508f48a99df0237894aae20449a51032fc7731d0c891db97819a0c458eb2f4af706dc66a22fb5376baf371a7b35d5906b979832f706518220f01278c134954f86e0706190241a7a09de5a6c70e1203c440d4697477ebef66dac36bb690e07c444b49b85437afcc7ad9cadec91224a8724dcea8c4045fe1f56962d97b45cd053ff82f10adcc0715ca0d445117598bad6401e792fcdc4ea8560a53ab7a5b3d20d5746bdcad1d9da18d7b06855215751df0454ae52f751ba4b5a626cc4f591f82c2f3089a0097174067432a6883eb10b1abe42c319c3bbe386ff42b8fa4298c9a8502a6538c66bbe4de459e463aa75ecee60d81ad859657a7d07e0d329597c13f11dbc2b8fe7777294a30b897f416851d0c80b7c463c3511d93381a37c37f8c8ebb561f6e82aadb3b7c8c08db3d4dbf69c725d9512cd886eec56ea7472baeb968867661402c733c36a1975f1f5338a45cf4443f7f13872c08c19e37b93a6c46015ff2137267ea821d1b477595d58f64f01f9577cc43437498a02e2874e70dc028e540546dbd34656ebbde71cf7241e63d3b657304b15f59bea4d6eef4c575e25499d38eff195ed967b61c24d290995af4f5732f2d1200d690d734375829bb34229196f2af8da3ab48a28a90f91e046dde825610f95abf92d99dc389d4ea563f6443bca019a4816691b7d22e9db0475bdc107041db5d2db138b3a1ff78e5c3e11e0c7b1a86a2cb00228ff4000d39fcc387fea16e6f4a9fbcc690eb78bcbb7b8d85d53afbaa700cc9cd993f1c1db62bb33f5c4d097fc1efbbcf8aca5ed26d1f6c0344343f6edf71f3e7ee1f31352f31479c6c8c6697e24188d7cb86b2f495ae37ecbab3d42d5415b80fa907fd2f187d8974b108d0cbf0764dc4bfd10b680ce51c384df3e1d2a6f8ba568e4cba930bfb8ac59b3ce822b596bf9240bda2009c861c6c68cf8b21bf6547ce14876b2d2ea3cc9cdf232613533b6dc4db206bfa50c48a7f68052b382091ab3cb5144f5121ce513f7ad54ceebcc139319648ef9fa5be5c6a5eef31301003013500abb95ca77b0b7986e1faedad7402bc80b564f5e09fe336d6111c7d3ac4b189187f399c693d0588ffdaca6cb8bfb3dd5dba8754baa772a662ffae2b7902f3d24a384b943bbd2f5a8210f726cf2d32a3427aaa2bf08581799dde073326fb3d057abf9d33c514442d665802a8cbc1a33b77beeb9a475a57ce5874316965da42aa1a4b391b9190e3980dcaa645240f520bf1889f51fd042afadf762b5f8d698774b4e3a53df21ef511b9fc6bc0e8a450facbe1ed85cf2534e0f2296e6b30ef0b5d00222a2522bec4abb3e908649f069451b37c203f9332d723184388db92dd2ce1afd7af61e1ee90b93609b15beaa47484eb33e0de9386265336ead14091ee1e4165633fd7ee8a37c745bb1824f7472be54f2e382f34158ca02f7f1a6a18fb8cb57b4d44420a5eb11bad142868fa77f7a748774fe1e63edc94f680393bcbec79bd1b3faecf906ce98844a3af711e671a0c4081375bd186416496259f0520ad4c005e8756db21c23cf7d6015a940a3e15082ae2a5f0fe5745b25ea9bcac95bd0d28004a2655af9c26e681a2e6785a7ecb53486d85ca3f49c9d89b482ce5d7518e3d697cff542624127fbfd75ef043e7492f259b1f70ba65f41324a625b78054780364884dfaa95b69dfbaefde9273e211ca6fc56971803cf91963f05d5700a344d708c39c5013408325714bed6f8050953a7c7e17bc54bbb8844e35791bb449dc1ca3c0c2f50207fcf9c13114b735d130122376fffc9d6eb4af84a51438a30c99ebd544d9ca3d292f82cffd3422c0719902f60b697c8f092aa7a6a7de0e85a77c20fbab63f12c7a66ee1b017c762e2e2221b65069de1ce935cdd6d9db317efe4696ecd29931542e8a4e0825a49a675a67004d2026883f6ba5856e3fbf7e2551aeae579306af24c533c7c278953c4baf9acd27d25d4c940a545e8d057c19c26d7ef79b3d1e3a89fc3df6149b659b399d82da8ff8e590e3fba672714cd34859f77a6fdd4e39772b8bd34172c244f0436db8c2fb44d7d9f0e420476a07e8f06c2c8ef96a00c9045ec99b3f4d345bfd7e1d1fe2e7b3d1f0d0237b9d4095352d5361df09a7d275812691433230db57da81554f194253522cc4dd22731f83041cf793cf79598893f054d958f7bee28ddc51b0db8a0e43d523d3ef1949708604059cd73a9e195d9be9ee68a189c13d6fd44ca5b577cc31e58bcb79bcc6a06de071cb5f0228e73be439338ebed790055bde3b2672cc3ddd88ebc2cf4102eba2d65daf7590e320074a44891fd02fbfba296d0cbd9e228615eab286212020c0c7c7a6d51d00464641db2b1eadfd03ff522427340ad5468d6ec02db029911ffd37f3577a4abb510aae3837f64045033f361bb4654fd1fdccaac974dd38366a60c27f296e10244621c966bde32c8448ab9479627797567d6aefe83bc8accc4b01f135dd2415765525f9e91b670af238fb7b03761c1388913cbf35954b36969e396c2b8ce5b528033c00389a9b3227c4f3cff9d4616ba8a5d245e689b05ccaf8b4032ed931e3a3c8bf8b3725bf0631c52aa84e614f856192e5067d2b54cd26313866c29928127205897175eed5f366c0e7f5123e956120ca72b5c1ef323bcd60afafbd82540ce40d41b83c93e6ea560aa18119817da7667f90813ce9285374e55f201f8f9f9750fb0bcb7f51e68cb70eb1826739ce04f63356d1784732fe16005088594844e582f21fe2e75584cf15b93e784192257a7e4b8e26e7d2a07b0002df893488ad21e5d21f2317b42eee7605e218a870dd82cdac79f2adf8034ad1bf696c7797fc32f6cb2859b349324e7344fc98bb406631768c111e41b9dc5415946d62ac9bca70ab23e1577234bac54df95a1cb7f5ae7ace718c1cf3a2ada452290657a8d03ff43ac1183ce61ed7645a9ac47c70940d7a1b5af09e3919b7dc82c81f5635a6c285738a9190c737870848eb9c9b8ccd1d784a774255d5891997a3b3e53a4a1324e25c31e0516eb0f6451aa21d4a3c58c2c2779f8153908372d3a28ac21725f3c993b6bfe57fb0df958fa8cde491b2709af6989be16c15b02bfb2180d3b22ba0e9dad5a26313f28c18568bae15aa0f0ca8d9cd15ae37a4cad3d84d312b0740e6dce5e047cf3f3cc3211acc8440bd9398695d47187cee2532f7723dda88e4ef3011f110087ce4969267bd2edd531423e0b41a8a769bbfb339747b3c84f417481fbccc7935fc75be2b4c54a421e8e282db393e158d2175650f053d3d96be951b81662223817e4a09784947ff0c9385b492cb4bbda80f000ddf579b901af944c59f896d46683f2e08e462ccb1c0f2c24c49e9e06681cb24ddafd8543d39304e764e8b7995cdd6d872576e1389420e2dcb1840dc3bc16d1d767de0f81cb6f9c2871c776cc185cc809d879af1a2b17c7ccd1f62ff8b219aaa4d85b8d11189455bd21c3c771529a85dfac0fa6360d1001f24c1b091d41e0e71b2c26f1eb41d4d9a737088151f034c8068a73e7122db7e2f82499534ef7fa6f2ac506fc636e12ccf03e73f075db1ab29554b99e2366e954955a4d8631c4256e2402415e1e43f887be720cf225ea419aec63f14965276b76864c1d7a7c163bdd7f7132f9f7f64a52c872664d1fe5c0698c1031a1a6d07993d39568f10c339175cf6c2890d347fdcc40b1e53798bef76eeedcb06bd6508754ad25f574e146d2de9574cc48a957c8d87d692891196454fd068963025d3ef32479d39640de1ec9c9052a927a09ab8963933b2decf0b6857bb1082c081b58945fa8c2e62ab0fae6a43838b008638875e5e9065229712932e809c74a71abeda594846eedb8994dfb2ea3fd62f18c3c4f19991cd6431835a43a9df0c024190b3df8603169e48fed1a53153ab39746790c322b6cb0b9348d49483b8571d2004e8892781cc4f6e47b9cd50eb86eaf00efe4e60038638715fa3d8734cf7bb05e397edb83df1c4ac0c38f83a5c505e84428b9efa878ec2d5df12d71f519f09dbac0ff33e1b23ea893715bc0aee3e8700b2b9719414d7a601011e8c69e5d8ee77458a4dfee64afe1808d9dba4f199a6583eabd243fecb7e95ccc40731fce8c1549ac8deeb5269f0a5d6deec9d6daf4402b7688dba851d4ee46804bd8b3a265fff6b55fe70008773a8c4dd2e9c06a2c25d70a254dc335e89f7362d7df59a8e4841c1dc59fc56f50bf93aa203be2a39e49546640296bafad85597df621fd1486326d17e0ff663e12997610e03a00115568758f4e62a6a3800d193762b90013c7c9faccf9114089282b20fbf2d2d707c8dc78c5a5f8160ab0934e9dc79c3f20183012c8343e8e93800cfc3f8fcf29f5c93958017ba43fbe7f2ca7159a742d4770e00a7bbdee46f645e0abd3dffc10dee936ebb80cfb127137f9b80c6ee694df860caed59e51ea92ec87d93012fb5cabaff352a058819302eab5da1aec09636bc4a02b66d2381d0ac97ec92616096ea08083c08e20a067d4b91243604b27550e0f60c8a962019e1888e01672b6757e42a444d46e3ecaff22288f4e0ee9b6a9d9b489a6628f38df5baa6c05159804d67636d0dff8c086fe7e1b4792b610f7fd65162fb1dac67f1d3d79f86c218d8d6796b4a93f1102ef768a1cfa3cf6ecec2119a016cc84bc689d195b3870ff5816e04f8bef6cb7d10c9e2f092e9979854059fbbf5457664f6650f2a81abdf75a518b83ccabe9c51aa9783120494ca5d04f2d8e9812e780de43db05caaee7a14e9174dfb874833c4d04fd9ed9c70384d6e1f70a362ba9baab73081aeae70960e9f79144cf992f0e3e462c56131bd677a5acaaf69e50287866ca375d870a1f140b52013d096af38721035a3f72a19489cf7da0ad9194d927a41923f5d20030dedb26b67eba5e6146dcdb40c7cc14528b5deb58486bc7b1614ee9434e75d8ec7139d64fba11b7ae2adba5d62c0d92fe881f2c525cd3960c244c1d729967f202a1a4050d679ed7241e2b6f1b5e5933a8bfde4cf0aed8110d0dabb364e232bbcfbb598de329d0d4de5dc5f02fef5ae263476798595ca8499ce21044e6320a1d978fe910f58d2ec7098c581c6d44c2590b45555d2d15438c46913d98752efd09b89d58fcb6f579a0552f6cebda3beb198fc03554d44058a50b71b6cfa5fb2367fd63ef72f18736be8fab46c67eea6839b7f8b2c6b39e5c588876234f94cb4759f08c3f15477f1432851b5b6cf8b1f8c6c171088bbc47fddc57f85dfd844c6d953a6a215213f019302f5ee91a90b116a2aba62f4331b5eb94877c39703ac40c042a83ba7423aed27c8a816436231bf0cbba8fd0634fd348ea0b9646a299d3b748e10ab4903181c48d9d748457c9fa1d862417c51b5dcfcce31c491289ab5ae7e59491b1a2cf1289774497471bbae92e85a68f85bf6c81fec2f90b9abd50448c6dc785bdc8c327292b7e00932556fa2b3ebf85bc40aa26d8ee63e1a566a66209ddbaeb3011f219602686ba6441b1ec9d6a4329d9c87e7a36ebf1af1516d86f57d1f4d19e3f0951ba1065812af2e016e83574130ea69738d416ac63a58a68dc61ccd952a085de67d591899d449b8ef78e0cb1da35cfc14dfab7a8bea0f677536caf66b22b86795bf4d639943f4327a184642bab9e6bf629d350c7c9b93091dc0d3348c0e6675067608972ab176146db2c2fa6fb0cf7f4b018061de4957346fdeea7fcb69356e51714aac3e6986dd893dfa726f5ffeca373ad28427409701aacb235f9b81d224204bb5e64cd46beb2ea0ba85fcfbb60d8c29592407073d1b142ae2f4a120b32512006ac907c6d78d6ee72cc4b1867d509ebd542e9f9cec9c898b610aaa347e890468295074bd3f148fc373e5c3af47c1a3e2815caf90dc29769d0af808ce727ec0d42287504dc63609c8248266dc37967e24ca4868d3132a82cec9fe264d3b9e12e80c49d2e877deaa9fd00aa66e9e4df4bfe5f811f8d185f44722a55c396ae6f817b5e3d45864fbb2a967ee6b35064d8d720d9ef40b84dd637db4c4e04a6fb5760a7ce7ae8b02c8351b0ed898d9d55d036b6e5d4e0d90f4d28bd98d89ef9124572de968527a2e637b444e1094ce2bd235775758c17600f17546dd98e366e63486f6f5b0bc99c2babbb00fe1e8eecb4703a023317744d046d6f70e748355cc21f9dcde8697faeceb96886b9760f2b0e301c23f68a9106a921b1ccf307d080bbd975e47a1b66e44b9573ede4617bbd96e9fbf1e0f73d6d483936a6b5c3ce21c0b7547573aba271d2f83ca93580a640dfb00e7cdd6db0a1d7dd05432f8276363cfbb602d44a1d46db33f47562eb3c5c0e0b2f3719a041fe343fd84652bb42940d83462fa3db502578d8317963f842138f4faf1314bbdc71c28328dd7cab7a01f476f852d3662338cd11fe0050d00b0a3e680250d51e5f849d9ad670941131e677bcc137ef3cd8f97888625cb1f9c3f83f2567ea902aff96ee8b2ec70db664609f2ccf2551df050e154dca9f8e1199798248eca52a1a4df9ca70197df86d6569fae559a8d140b61cc05506342ff4660946bd89839837f2c14430698700ed9c4fb7f426be55121ff64123824200c466a95caf5d5ea7725ee339ad92f0c1ce921a2bcd7d9ba40083ab4cc408b124300bb8d58e993aa7796fe143ff78657048cb095b87c531bc9e00ee14670d729174c5cf227fff2f12bb34ad150a55f37db7434d9b89fa237452a4328850bd9d76814c44184f343719a38d9cfbc9d5442f0718fb529a21686df526d4c9fe1e14592f8f49927572b10f3a202d69794b64091a5109b98ae4e6b92449ea2aa24318829074a8bc7c7775aea50892481b7cf7493d4952361baaf2c844da9a40379514c95696547347087b032be7e574667556facf1b15c30c3f0afc3f7fff77638454d388c62fab903ed3a3f5a628fcc7f5ced0289cf305defc19823f0287f27f123a8850ef1c32ec875dbada936681314e9b8b5cb9c3747b7c4ba11e8dbae93306aaf21a669b5993b7ad0016dcc767ea980b59fe63e21765cde35bcb8b7091d5c845c6f7d3fa58a0d9bae1a88643fa427af2747db31d3682b4fda0c177145ed216c7ecbe2d2461f34adbbf65183a6f17ecc66aad12b1f0c6e6613c2766abcc4c9c08d73263659ce64277f8cbf6cb442ffa88ea0292470e35bdfb2d2191cf8fbce6a167bf14690ebe88c7c98c9e811b60a7690e8921de28592a7e2a76725526dfb8f6527ebd926471cafdb0f9f89d25c24f3dae74a0078da49206e7094d7db1d5d721d877d5e33c422eee0e694135e9abe9320a37f67806f154e99f7e8b27797012be3d493a2bc1bfaa6e8e53fa6b7ea7551041f20d6e5744029d036bf2e42fd5472afa28fbb83a299b6c7f2e4a471c9207527c77f1837c4ae19da5389e9a5c78668e5f309cbbcf96d20a6912edb7eba7ce22b58d8846e7e421775a288759ba5f9f918cf448fc29bc78ce4251d33c64df5dba72dffd28fb73dd2ddec0500f62a1c4a2cdf4e06b442b2d1583fe7d243701deed118bec36a95306ea1918198418d950df351b614f4c4b09734c9c30c7a91aab8e0c043879d0d824fbcda57417ce001152667667182d38a729382af8aa5c324f955d5ea6b3b96237ed1d48e2542b3ded7e68adaba8e3594b71d7c52c35e62230c8577534267b7500029fd69967dd7b54179704f7fd3ad6ca843b1e185b46c42a2cdf96b731192588679219a4547423e89ee4f21ff1db245dae9b9f31b07cbf5e4db5834476866596adecd64c05e90d1c5b1f8e2f67503ca2abbb156ba3c48577f3063567d9c11580b58420d7d808b954a841c0675bae1ee52748cc5fddc7b0f368bd3a0c19b8148e61741541aca49854a489cd4d7a9248f4d54fbe3cdae1d4df2bdfb5a781db242c368b64730abba9173a3af039b07d53c861133a6c5ac9191e47045c36cb9edcfa57ac648c40f97f6acaee9b8f4dc2b4f1c8efaf9f43432a1a178a3a74e7cb0616643537f3481fbbdcba28de5c813c224cc83f06c520708d7d89daffc766698e8dd159cdf2fe7c69edb64059a6e47147e4f6c74b34de30f6587474a8ec5bad8d22de55a81344926ef7ecb11c4e271d2e975c96a4c7ec17151c6606725da20659b66d44fbd893b04e4594ded45c8a2826b51ee4110a9ebeb0b98a6d4735ea6657781bd98f8f5cd5a9f504d0286a052b6a4da17ed1074054b82c8672ae68e4366a1c8bf3f5cd27a8ce9296a14fd72b340bfa7be4ccf42cde3a06347d138cb8f1cb63c6c775b4a10a6da50ba87660412435ff318de725b78062ef5544b298c9b995fa4488693590417c9c156ce1f710d48db07ea930f9ece9621ec3785d3ccc6a13bc8653e4464b33fc4e049b25e7a4ce453b042ead99830c383fd2a1563733c7fd78a14dd0c6dede325e9aed0f78ded6edc0958a283471960a226fb2bc32d3b64a56fcc22559ac59fbf86a5ff0a25f421884270a4f0276318e1c075bb9bd226cba1162932f5cb9036998ecd08e764e2a38462cdd509fb0a6a2a493c6f65a775d65d26ef5ab1f6dd24db97853dc7c1b0899840bb5d57c7235081e53c5cec356f576d1a42fae8386de6022f59773b6818c441acda34ecea8f8d6fc2e8f31fd6eb915ed989e30cea7a5da29457aa292c8e0b28b1ccab3dbc8fcf19434179bd6cca63e191ab732a624a60b802bc8b9b690c6a5dda5a4b0a6e57368097f7448de8fc84fd84e6950fda87a663df490b5f656258d99657c283f0037a99c31f902b8b6b7ed86fc6639cd4ad2546cb82bff63cc296ec205fff1c3b6304249fcd30a58c6b81f7c6c56d4ff82c9c21b5c46e997e5ccb3a136307e0a6b66148e67878f402f8a65c75f2be632628ebd738963a65ea7f16109db5ad53686267c83ecdb90d4263f793ab00808a7306acb896f6f5c7554efd8361fdb7079c41b95bf8178309ab8160d1eea5bb80c6330cd35dee470dfe385b188e6e341507a4f626862c7818e27a7124e5b56a5c0a290e4857926115ec0525753f7e73e4c70bdcedb8edaaa86cc48dffba6a731ad2a3d5c01eced36c3af1c855e591a12a6747de0ba554f7f5df7ae6d9ab4543dc94c681343c47fe4ebf82de281f8fce4521d7b3aee0e5f4077e4938323c4a3f5212933d67b04a43f04eb261bc3d4129e0ac89e82dd04dd806fe5be1c47830f0dae1e7b5a7053c5132fa149afa0e4d2c560a6f011a17cdefa56720a3f4266c6b1e2161595aef87938825991dfc11c050c2cacaa0578ed47d2ff6bb33f6250a47feea044d798ffb2706b71365d70be2227861324e4ed64a69676e1ca0ec456982850621c37633921a25dd5bc93fa09edce5c50faa2dca33a107c28da66441659da8daa40680840f6fec0527f29e0891515eeaffcb74683f3972b9de079705da1a6c0e39d2cee317eb6b660b115d97b64408841c217bde8631058ba078149c07c0c53c84ce9e28e4ee6c779876ca839f32a8098cee0eaabfa0dd0fd99e4f1f91174884d3f810e642f8adda8c28c55331f136926035fe5e80065366223272179048213f9be0c878fdf807b0881e57374e18d24cebc700cbb7297fbdf5e57cab2bcb46e20440602896a6dc357edf0b450753a30caf65e8f362f6f20fbe5aae33322d241ef82c83930b338e5ad6a7ad670ab7885c325a91b192cd914433d76dc9d92ae1f0900737478d9c1878b355be559ba4da85afb03ef1fa4981d4027c11fdc6f897b8e782faf71d7c56c3a0f8cb9a2de6b4da8af947870030708af855f20bcc06d9a127d222880424b76625ea60a7a9760e962f2b239e8358622286fdf1cb12527784406a92f3828ec15660b92ef65c50bf6766fa4fabb5f7397df773f7c449cacf1574eff59be5665fec67061b10056fb33badb16779cde9b9b75360de7c09324f95d7a202c4078740444ca5e4737a71ffe645b978c1e966258c8447082893bb288b15286b4b91c8bf0729224a8e8cc16aa83e4574f3ad661060152ae9fd5815370e57b0d20aa3358cacb1d14ffde17179d68bd8392afb0505b9b011008bc0dae9d713a411ba98d3acad227051f8550c5df25dad129f7addc42d11dd309c00a1b3b4671f67fe26c1f8da42e8e8240b767aa0765f699efda7c59e08ece895efe5e075dc4c21b5ddc6714e6128ab6e0a7d398f383a0f35969bce1db6e4b3a4d903faba0c74587f815f318632336e036b9cb332fd60615e350da0c12ca87e7eb7fe636915560251de04add1bd7a47ff670a181e5962427e78301ee105f2a254c2e7da8afdd8e076dcb3364e96b4bd6aa94ffadc4cf1b7ef75ac3374c0c6478824cb749a2a40acfea8667474c7c1cac99a38a2c25b1bb1565de8f05078ada17d11de81fd37f0f535c002c154ba23f4ce662e0f39e9274e9d3834e56f897225e863ead886c1ffa674cdb12426dc5fabde3d4fdd0df3e586891971f6c29117f1c4b029c8318b738444b9f5088099091728702f7b86e1227ff1e68df76be6f0d181075ec8428117f200ca006a26f72435b3e7f1c89ffbf9997824a2016a0019f6517860d9b2ce985f1e3b2bfee29b704078e7e168763bd8a62a1d88ba9404a4127365d30221ca6bc0165617da0223f62629d48813da5ed4ab788a526eded7204b17cefe32364c4afc885b28ad62a8f9d002bd60c54f40ba14e990cac6c34c0f22afdeaa6cc4e6d69e7984cef64566399bd52d58e000e358d34e6253ffdf92ceae928df7b083b6a14f880250296caaf4e4f5b036fa17be9a3c39f58e3003d45a66316cfd9e8c7a5c080730419325dd311dd1b1396802a0b67859c604cd08224b36cc0d6618df6ad4650cabbcf6973f7382031a2200d8d95e73207da4081d3c173e496971c5f72b042b9d23a1c79a2584db2627d68053be4546a4f66b3442b02840ff1583ceee2a4550d26c95e6b438f0cc1254902d10e17b3c9557e2a38c88c7ba7fc6dce30e180d0917e70100abc0e7fea7b0f3bc8a7b3a963e473db416e1b523ef8492ab129ac64cf8c7ce01092fbba7db972c14467f003595972629785b365e5c4ca87e118367b90fcc77181a7c5d2e398f838bafd3056ac169a155bc022729934ec1df780d375e17d390b3cb384ec9202e285250d9f8183136580980331e5097b3b23b0873dd35260f29f0d3d1b29256bb8dc4accedb9c8bfb308f135f07da75e22a62976cfb1f85137aa271a48ac62b35de47360bbd8d2a0a83a6fede0934b38603abba05d2e940dcea3d70b0969c84e4ee782080bc5f94fa06a0634562b8b0cce34d9f02b9e2b042578cb8002a1890086ef038737959b2e69b92341c86b6c8f626f90ea0760ce0e81a40cff633ec3d17faf200bdb624826b75603e64eeff411441b7d7f6ddb035b55def1da2d94b02742d95ac0b3fcab42e5eb23e44d4edf66bdace424cba9e5df30e92eb45d578adc939dbe4866d4ee6221a7c541ceebf8a08507e2bc0f5dd2b5d311a48faaf56eab926f8cb2160fc9e6413d9f4c37bf1e29e6deccd9b96da3cc031929afaefcc011e1d9f869ccce94e3589629101fe8ba2d44bd5ac2244aed68b38faba90da95ebf51476ee9134010c1c5d8aed1e622f2dee66253e2b85552da41ee9fd816e178ba6745972aba3bf64eb2e3a6fec28d3b66d5f155ef1dde70bbb63fb22414c92500497cb346aed529b482060e78606866c3281476cd460324cd5226879326e918576d7165f16773ce6fe1cec9ebcf8edb2d11c6220c15de2c5f67d4f2f59b1375921cc1a99e631e73907044826609e94ec75ce69e6881e074d84eb2ff6674e0e2dd27df954195bdb58fc16bab0b7e009e2ea6533fab6c64ed061c0b8f7a470caac7308c4a5b69b139d37e865dcc7f94f4d68e4a5df90fbc852d3629ab08ecabedfadc475610c2fdfedbaeb773899db9ca729ea9b0d280a6a55c96c25bab058d25af94b539177bc8e26bcdcc0f8e3a283d4002b4539b470ce259e368cad53f18d0450ea3b6a0f7ae6d30b1df7b1fff38b4ad10856fceb15ea657516bce16d193fadefd47043129d4fc570b3d6ca8c88a92bed0ad40f97be4e5be9f0689ebce3f5e9b8f61d5796bf4f600cb1e51ab780f6ce12b52726c5515563c0a59e3d82048d36280530f439848bfccf8e2bafd434376642b4de990de7a131787e096d2d1d461e4c28e3db0e5d5304c13c0d5338f94533def1fc8f86278ed0cf9b5665646b0882f9d9ecd228dc2566a95544f2ff005f034b38f42b03dd7d82e56587597630d8a6c1251eabab825345573959431cb239d24e567d974c69c12afd645bf3e8353e8f51dcf324991746779aec04acd107f376258172d20eda15d79c77c8382c4af8fba17e8b1133669ef48118f9ed6e3910f0088272485db836eda7f074a30cf2c50255e43966e9f55acfe4c03ef33631c045ed26b2525582e442c3d7c4d37c1a65ee1f53ae42f9390330339eadc84476e23e50dc538025daef23fe645364f161bd384dbfeafa967eace9f3b9000d81af60f89dfa0b54341f9ff7e1eec67bdff042432466943049716186c8d12b5e7bdc015d55a00545df2d57b293db3308c81552a03a9c9de7d385dba510c955f18e9295aff1fcb5e2a11b5f5d6d800434533ed64d91fcc523d45e5a2e7f77aec898d96c5ad2f26a4b1ffce5f435ea61475592d81811b8121208f362716c07d244994941365f3afcba0fc9a494fa96944e42f22c2d5c3e36acefdbeaa3f0ab44c97f651bf4803b761b3cca8c36791122695cbc8ae147238862c19cdc290100562c05a93b0f5ef8ae7a506c10f5287078828c5226333ed44df1140e3a5a4c5567e20ef31301683eb477b9c87dd88cfcc962eb217919b287231c48a6084260e3b6accf57e7a371e09f593c784262a45d9996b1c62bc7c569a70926640a4395fc91786fc74c7dedf579acd68b12bd6aad4e50c6b808825ebe0efde9d1bfff94f7452a377708b0baee70107ff6c49c04addb8722587134b08dfc747a18c80fb751b880a2e842054886731a3d8a7fe783cf59823f0a3111ff45b1c00cc4736fe2d4f4ddc7acace8ad39db3ed6334135fa4df0aa5118ebf4186ed152f52d88fccc74e0150696138b1fea5342f113f7d00968fcf290cbda436379dee87e13e34cf976f3789173bcad466ecc2ddddda69326af15857c18117839b9d404a686f8ea89469c2e2a83a4ebe419a1e2192b15f6b6cb255594f74d780c4b2e414fddb308bceb63684bdf2dab2c5b4b13b7b46632c6bf74336d708985366f41b151ab56458db38dd894db9ca1cae3cfc411432f4e14646b8f71722c668c71fd6c0a8b7ae2591b6e7645e038fe5a94f5d08496729d59ed0086c0cc402916b35f1b7075143036a4708fa11183eb4413c9a229cd46bddf2b5d9aeae64b013e55f8b4e7c0eabb49195f22e3a88d534de2c2021e0c72d628796200fb4c9400431f8543f33e2f5fa83cc6f3c5a336d66afa714e03f38b17f9fd6913364f30bd521a2bd6c68be200869e84ec709428aaf604b95a41411be4da7915a2fce4899bb0406a59966d50532444ffd252e7f4c3f1008996ea17bba199a2d830fba0047bf26d8721396811339393cb35584a0b1addff06a59cd5bd07cc8ab3c4e95e45f00340e7631f109bb72020872f37d2230877fe4a224a3978f0fff680670f3d2c7428c00406a885135f1d3455c796435d2d2e216a002e301cee364797efcb4c878c4c3394b59b21762ff223d13a0f15320084a7cdd45aa5963cb1a3595350b45dcc808bb56ec0315fe6b98582cef6ed8f7ecf18078b6cf098cd7adb8807fd9888590022129306fcc4cb0ea842fd60c21a027ce2403244cf708638e3a7b6cac4c0f29aa73c09ab0d0668ae624b14312fe956f9e79ec8e37a9596cf8e47e91cea7c4d9cf562d66a3651a5deb584b8c106335db9d954e140ccebee9f1726d64fccdb3174562fe67f47bc5ca552876bdc2b40803138f2f0fadbc37c0e294584d6f858cf62cf2951941817ab2e66a08b670575f392c94754b66a32a7e60be456957abb154492f1cfdc9e675cceafe3407798b91ba16b7b57aacd0af7eaca1e2ce7a6e80c0ec62a76fd0b627dabb3c2c50e7431a4045fa041c67e6052e534da456ca63adb0c9610cdf756618a2fe3fc52875591eee79ee713dbfbeb5bf2f187a7ca5c645aa7b2901be53060160bf32c3f1a9dd6b9cee71334ce2797deb340b51d58024f4d2079765982c5c8db7c348e52e13b279fc4e1863139566c2ea29eb61de1621ebe7c958b231e719e882fd79c53114a585aa34fbd2b5d33737e43777b952f257f8f0a4ed52e9b74ed2928de0b7a57119c36a4636a432fabe9d7b7a6287fb2c1f3d82c9096790cb16e705545701a6878fc8ad706e911257e922a549bb123a6e2d7f1e420f7c68374126461b20474e850fbd27e72299138b126e6e3e66179505311749967d1dd75f862d2522c7c4cfe550e542e1cff7b19f63d27016138be99c5c4a10c6c522ab41d1048d24ccbac04b0dc7bdb673cfd555bf394cf5d092c53ca5dff0f8218ed85b5a21a04874a2d456f37fd7c6cec43031735d81049beddd6311bd99a52389a24899e1139292e65bd314e6b12bc9a7c3cedb2ceb1fb86a42f0401660eb8d2e7758ad42f89d758b40c3aadd5d340791c233878a2b1e0595ec8ba066317d31cf8c6c105a271ea32e098f1c16df4fc7ed86328d9f4e367ac6d296231edcd659f7436cba1e336ae1e96612f8395ee23c0cc5d15d21e2edfbf220917161e5b7ca79b85faec43a97eb66d5f6ed9be47a6079059e0f9a2c0f652ab5a4962d548645787241f3bc0d2891ef8c18d3facbf90650cf411770293d4eea1d4efdde365aa46cd5c51404add3a7b1eb238fcf4dcef1f3db449b3fab730acd8be23485b0c2e389b5919a6077b40c84ee5074644636c9f076069b00ee90dbd1a7a2fe53b5bd67250f954efe998114f6d36296840b5c149e4f8d0cf5a028b5ed7ba372ccc6d1543914be5e7b37f9e8bb4d2e4e31e379bcc7723903623b000bf594057906a7540b28e1f8c73d941b604e05a964ae8f357bba76b2a6809f5302084c01925696614dee6e58b049a5115a78bfaba7f68d7e681191284ba26d5dd59a0098f654eceecce119b6b584891869bc80c2d010644876d88924537051f341959b25f142d7cb3dc2dabbe81de5bee133fbf7a9cd4c09e84ca35453913ddc99cc8f0019d0db35078d650fa94a6a2f5e4598e345dabda4a42d4c85dfae8e6a87b6d026840fd856f40ef2113043d0de11187d76a3af49ceeef1bb107c02c048b93a8a2a20c648b819e8b80feebac3aea6aded740f59ad4a7d2d81e0b73036ef5f7041fa60eb55110847b0bc707ac374b8c7e4c52511d709dc5b140774ff3e38207e3eaca88bdc2c2b6d616e0e000c20babc605f6acb3398f60674d55050bec0c4817ddb77e29b71fcc975b3e00352d5fd92ea13c338a0df1776b1085e362829ec465274068b85d2ecf074a680a39a416a521116ed1e62530a2bf4f8077dadd59469eda0042c654f6a9dd7431bcc3fc5c718b7160395a0b58b664169d4bf46594e305c175cb65433d82bee0292beedf8e367f755146be7918788b6ead352f941da21d75a96d78ffb33fbd8233a18c71094d709e96c4b5f9fd5653f7e8de61b0874972319e84ded6d1f14df0b683b03493eb9db2cda3941309c9d63126fefe5973f8bed7ec1b64e74e4e3b74c8351ceb4c7871ae22dbf19679fdb4958bdfa4843c8413962427537de94d58865df4b0a203ea8ca6528985eef69617c512da978a52f886d216897499c97d6e24648ab23673cf4b18441c7d32114fe5d6deec658a0e46d563b00d66146a3035b74db77d3e4da54f3201b88bc31f65c795f11c7c82b13c5df69a56acee4f48df1e56a096824891914d3f072dce26aa6eaad21799cb05fe8acd6601bd4797eb02c7405060c7fa88d6446caadc1d2d0c4534a0370a12492531cdc21f0d09a7b55397509fd3c6a5304fbad3b78a96e6e8dae199e0afb5f36d906e0a520f48406dc81193e321e711e134f793442a522100e580462d605bef95b15e5fd19daa601eea327c17783cbfe40d55ece4572331aa41bfefa8063ecd1532f191090519494ca0024d1e0a7335118a351dcea391ceb22017c097a4ab8400714a10ceb5489f1e2f7fb3983aa79b0eb1cac8f45f5910f731837190e90956638228d17276b3c3d8693c39d39dfac066f7731cfb5d1a38a232d944121d2370309bc288fc81e981e8552833c0181acf790ddb17359f05303c8beadf15636a39f5fe5facf48670638fd8ed7daae95a1d7d14fd72057586712d01e9d4814492c0153f874dd1f25b5b6f2a03cdb68264b5f5cd0ea60709d92fbec05ccb5d38f38685044b6fe1bfb05daff2277a9cd8d65ded065a20919696607877ad2d2a1c9dc91895dc60585d0e2aca6f5be13ab237cb435fc5a7e8ad4207d4001df1443ca413a5ee46a4270d2b567a35f5cd843493446f3c27d318157bc1352f61e8a35f1f4c82a216a3e69abd0fd0310128e728cc67c9b8555c1eb810ac96eef6ea200946b7dbf801e74c6776a691520c048b5c77f66edf85818f961756d138fe4339eed99553bb151a0f46e1eb4f6910399af2ec3eee027f095a1deaee82f538355328267dada86b0c11d0f3a42572797ebe5c40d7fadcff8ec45f13fd2d3888f0145b61339f1e66a51e9cd6a1f82a015e6105e607166089f506b38bf1077d6d2606a9e8d37953b14ef7f9d9b6d784832821c07e73b96a548e374a2a1e351583c3b8d4f9c1ada3212e1478e6b3a02eb7265879bf308945e27d4739eaa2cecacc06cc24140238aad361644ea9faee4b372b7584be7940e6bd69d2b401582b022636ac3842e65a089649053d535ea0f563154822e99aa3d3bbbef9380373ba1c264ec9e6bd8b87825835b55ee6b658e1e8a19eeeeb0e8018fe85e6606a96525b48ab9a6362dad59fc0dd5b7ac8712647dbeb40521ec23479a9b8a47c5bdc1c1a359ad0693159c66cff3695a50d842d2a9a66126db352a9117ca56bfe1a0ce3763b1258784c2ebf672180af47fc67dc1f6704c05cfb1e0542a2212581bace2c277534856297e94773c94d163d8d60ee14e3214c1c71a91e074035689c237833e6c7e69725e62dda806c5d2c76ea213bb984260b31f6283e64e8cb16d415b165537c615ecab5358e66398cb484af42fc0d6559c42d666b844023d39d2b122917f94d0cbfd157c13d42321a22757844f099573e22703b747d62cae565171ae02d5885d862b66db960cefe07f1104845a698d51047007bac41014f3e25a8c049ced74fae501bf6e972605421acfb3b2176a5e5d94d83b300ca0699d80294164fe0a929dac7f3fbe01cb62ee481f0566a8c3e9b209dca60a0b686ff4864cbec77d9b077d232f9bf0a3dd8bb54369ee8e6f678f262524140fa10d8c492524d962383321603ee3fe309e8def6bfdf317462f772433c6467c380436bbe6178abe86c36eb8fb46938547e66adf6e31c2364e02868c8e92b7181358afd13f3ab05d493031201186461e9e9325b9b961ba1086f3cef82f30ba43abb2ae5043858c61b20f5e8ac9307a8f59632eec6b1588165dc45dc1c74a2c247d767e0c5071f1b688ac9e2f166093635d7eadaa493eee3b0df7e01addcc28d5c73ec0b81239d1c4f7201997b3c62cb3199a64bb399af94f1455de93752b39ec7d3453e169cc5b4671b1d6f290249bfb05e7bc4e253a852d31a9e7f14408c1660d1747c3e2100f470f84cb247e33f2e71516f06d2f8dfe99dbb432412fe5c8dccc97edda110cb399ad14850a2872de38c6edd26277b6db91aace1f9d4d190577cf22569af4c3b8c5c606fe7deb8aca3a9d7f3a6b80d3a3cb3a9f9f281b0f9c6019ac93d3caa1616ee0ff66086519ff5551ae10ab4ae01a5317d2246b8821b594bbf648df9bff2545b78958b81b977ca36136fe6b03fcd33a9c24a1f5039a621adcab8f1da23863961dd4df6fde9e4400246386fb04fe8de71427bf6a92eae3fab0c176f37fb9fb7821f959b88b0b5170fc3dae48e310373495ec7cb526c91b67cfa266dc17d25e8b22ded798bf0d4fa45cb2ae8e8bd261e6835ba6be103ba0d6f70f3c8e8998bd557122a32183e4531524b836d21390db58dda68bc894a866ec190d851a7ecd8e4ecf2ebdba149c47cf5e7c961fb0af498cb4a7f9bc7e874ab36d0951394242fe3b90e18707f86652f8bd179ac0f4cedb59ab97f9549b9a650093c7f9f3192d189dfb30c04d45cac81cea4c06a08c945ebe2b931cd79b60938f6ace640103b06b7d098425d722872910f042dd64d0d6794cedfe400faf4fd35d8e7575f3ee2efab469db8d3f254f7830518404613a49936120fe40c0b717e535b948190075dd99b7ecfe41a19ceeb9fd2100a5f893b03fd15bc89f06e1b3cfb057c06a6002bad48715d173cb238a82f77c2418ddd815b7e8b1c76245c934f50814b94374a10bd1e9673dc72742a7a9fc0630eae6db5ffb0af3023456d2451fd32d8cbc690dd79ab782f94dcdb4b8da323f3802261953a82541f4f6b3372a89521861a9a268923c51ed7c19686e43ed39fda7ba73eda6e5b81d84e959912baef1a08059f42911cd1bd66f903395eec58325a7036211093289569787302b80db0c36eebeb730b3b664a2284d69a2ee68005f4ccd113c7bc84f3e3d4aba6970163e6703d3db21bfd46516ae321f2c540d223e55e5108e65f8d0e1bffb2a97e48016919a3e7046a60151a59b03abc8d08b943d9b8c89c8a29fc3aeab825f711de79541e8f3285e8c9466123e4d352c18f9721ce73c2ad5398b5f716eb7577ed8709deeab5cc8eef4b62f0577cdf561567666b7b078b930ac293e2f9f97a00e870fb88b8377fa6e79122b08d115eac91d79e40f60649fdd4b5699ba29c51af3a3d17009a0163343fd442b4a60fb544b215b7b0322242509f188cee699f080066b720d977324139d167c6a13e29788142cf3dfa0186b04dfb2f381e227b6bfb371b4c25f403e30da345945a2cd40936bdee02da262433ed214190d7fd9d9534a10bacb29e03e78a7568b79451b3d5c38876cf4c84bcba7fc555e87b31325db0c85834e5abeacac276b7b4c936690b752c81c05c62d812a1cbf5e1edcd5c14f9a281a78405928b1175a69de76bfa3a9ff60f9b658c67ec6d586df6d5df27ba2c439962d7094406dc7c3c62abd69f8e616102ff41d7c9a943fc09006d1e6cf803248e8a9c13fdd616b4d6e18b6a0874d0e3b7bf94c8921e23e2756b63ae2445cdd11fb95efdcf6c8d8c76f2e2f5484f8527344b5f1f9344be80d5a656b8df4bfa42000136fa59020c4bc4c8dff17dca03f17972ba6a844eaee6feeaf97e37c08c1c2e4494ba50fd8db321dcb15b509e9414c7c64000a8d5c9be2445a24c44efc1ab56d5ed50d43c6087a81e7f651a7971c584b93e55a89271e194b6f3bd337da0b6f8b5adb207ce97520f1b171257de61e055496cf5c988d2959cf70031897121095d84dd2220fdcb6e3cbcad473d9a534b910fcfecf2acd80010ace94929df2ac3786a44616ba4b69a4a5c9a31753c0b4080643d7f044f4ada8b343cbc0be944a97b097f330455a97028deea03a51256b2f067b493023e08b06d9b3279c6cd554daedd1638c43bc087ff0b1fe8cb40b383dfba68a72eb7b49b78f78b2222b1c4d050282ee1985af6df7adefb6eaf8843cfb67c01cf5bfaf3d1fbfe18eae87f5171ea76c4653b4d0755264034039dbf3223b397a3d7620b95a61d7dd1b148b2a6fc42a8c2fe6a68b69d6253c5c4167abc90384b4bba14c529127eab36b21d59890485635f742c60665fc6773f29ea9610bea51e2205cca20cf2839438ff1adb1325883fa0666b048ef5f5d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 自动化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自动化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.基础常识</title>
      <link href="/posts/291cb8a2.html"/>
      <url>/posts/291cb8a2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><!-- @include: @small-advertisement.snippet.md --><h2 id="基础概念与常识"><a href="#基础概念与常识" class="headerlink" title="基础概念与常识"></a>基础概念与常识</h2><h3 id="Java-语言有哪些特点"><a href="#Java-语言有哪些特点" class="headerlink" title="Java 语言有哪些特点?"></a>Java 语言有哪些特点?</h3><ol><li>简单易学；</li><li>面向对象（封装，继承，多态）；</li><li>平台无关性（ Java 虚拟机实现平台无关性）；</li><li>支持多线程（ C++ 语言没有内置的多线程机制，因此必须调用操作系统的多线程功能来进行多线程程序设计，而 Java 语言却提供了多线程支持）；</li><li>可靠性（具备异常处理和自动内存管理机制）；</li><li>安全性（Java 语言本身的设计就提供了多重安全防护机制如访问权限修饰符、限制程序直接访问操作系统资源）；</li><li>高效性（通过 Just In Time 编译器等技术的优化，Java 语言的运行效率还是非常不错的）；</li><li>支持网络编程并且很方便；</li><li>编译与解释并存；</li><li>……</li></ol><blockquote><p><strong>🐛 修正（参见：<a href="https://github.com/Snailclimb/JavaGuide/issues/544">issue#544</a>）</strong>：C++11 开始（2011 年的时候）,C++就引入了多线程库，在 windows、linux、macos 都可以使用<code>std::thread</code>和<code>std::async</code>来创建线程。参考链接：<a href="http://www.cplusplus.com/reference/thread/thread/?kw=thread">http://www.cplusplus.com/reference/thread/thread/?kw=thread</a></p></blockquote><p>🌈 拓展一下：</p><p>“Write Once, Run Anywhere（一次编写，随处运行）”这句宣传口号，真心经典，流传了好多年！以至于，直到今天，依然有很多人觉得跨平台是 Java 语言最大的优势。实际上，跨平台已经不是 Java 最大的卖点了，各种 JDK 新特性也不是。目前市面上虚拟化技术已经非常成熟，比如你通过 Docker 就很容易实现跨平台了。在我看来，Java 强大的生态才是！</p><h3 id="Java-SE-vs-Java-EE"><a href="#Java-SE-vs-Java-EE" class="headerlink" title="Java SE vs Java EE"></a>Java SE vs Java EE</h3><ul><li>Java SE（Java Platform，Standard Edition）: Java 平台标准版，Java 编程语言的基础，它包含了支持 Java 应用程序开发和运行的核心类库以及虚拟机等核心组件。Java SE 可以用于构建桌面应用程序或简单的服务器应用程序。</li><li>Java EE（Java Platform, Enterprise Edition ）：Java 平台企业版，建立在 Java SE 的基础上，包含了支持企业级应用程序开发和部署的标准和规范（比如 Servlet、JSP、EJB、JDBC、JPA、JTA、JavaMail、JMS）。 Java EE 可以用于构建分布式、可移植、健壮、可伸缩和安全的服务端 Java 应用程序，例如 Web 应用程序。</li></ul><p>简单来说，Java SE 是 Java 的基础版本，Java EE 是 Java 的高级版本。Java SE 更适合开发桌面应用程序或简单的服务器应用程序，Java EE 更适合开发复杂的企业级应用程序或 Web 应用程序。</p><p>除了 Java SE 和 Java EE，还有一个 Java ME（Java Platform，Micro Edition）。Java ME 是 Java 的微型版本，主要用于开发嵌入式消费电子设备的应用程序，例如手机、PDA、机顶盒、冰箱、空调等。Java ME 无需重点关注，知道有这个东西就好了，现在已经用不上了。</p><h3 id="JVM-vs-JDK-vs-JRE"><a href="#JVM-vs-JDK-vs-JRE" class="headerlink" title="JVM vs JDK vs JRE"></a>JVM vs JDK vs JRE</h3><h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><p>Java 虚拟机（JVM）是运行 Java 字节码的虚拟机。JVM 有针对不同系统的特定实现（Windows，Linux，macOS），目的是使用相同的字节码，它们都会给出相同的结果。字节码和不同系统的 JVM 实现是 Java 语言“一次编译，随处可以运行”的关键所在。</p><p><img src="https://s2.loli.net/2023/09/24/ZnasRB7ulJOw39v.png" alt="运行在 Java 虚拟机之上的编程语言"></p><p><strong>JVM 并不是只有一种！只要满足 JVM 规范，每个公司、组织或者个人都可以开发自己的专属 JVM。</strong> 也就是说我们平时接触到的 HotSpot VM 仅仅是是 JVM 规范的一种实现而已。</p><p>除了我们平时最常用的 HotSpot VM 外，还有 J9 VM、Zing VM、JRockit VM 等 JVM 。维基百科上就有常见 JVM 的对比：<a href="https://en.wikipedia.org/wiki/Comparison_of_Java_virtual_machines">Comparison of Java virtual machines</a> ，感兴趣的可以去看看。并且，你可以在 <a href="https://docs.oracle.com/javase/specs/index.html">Java SE Specifications</a> 上找到各个版本的 JDK 对应的 JVM 规范。</p><p><img src="https://s2.loli.net/2023/09/24/RLFBN8fn4jA51lO.jpg"></p><h4 id="JDK-和-JRE"><a href="#JDK-和-JRE" class="headerlink" title="JDK 和 JRE"></a>JDK 和 JRE</h4><p>JDK（Java Development Kit），它是功能齐全的 Java SDK，是提供给开发者使用的，能够创建和编译 Java 程序。他包含了 JRE，同时还包含了编译 java 源码的编译器 javac 以及一些其他工具比如 javadoc（文档注释工具）、jdb（调试器）、jconsole（基于 JMX 的可视化监控⼯具）、javap（反编译工具）等等。</p><p>JRE（Java Runtime Environment） 是 Java 运行时环境。它是运行已编译 Java 程序所需的所有内容的集合，主要包括 Java 虚拟机（JVM）、Java 基础类库（Class Library）。</p><p>也就是说，JRE 是 Java 运行时环境，仅包含 Java 应用程序的运行时环境和必要的类库。而 JDK 则包含了 JRE，同时还包括了 javac、javadoc、jdb、jconsole、javap 等工具，可以用于 Java 应用程序的开发和调试。如果需要进行 Java 编程工作，比如编写和编译 Java 程序、使用 Java API 文档等，就需要安装 JDK。而对于某些需要使用 Java 特性的应用程序，如 JSP 转换为 Java Servlet、使用反射等，也需要 JDK 来编译和运行 Java 代码。因此，即使不打算进行 Java 应用程序的开发工作，也有可能需要安装 JDK。</p><p><img src="https://s2.loli.net/2023/09/24/NsBaweZLghkIVPC.png" alt="JDK 包含 JRE"></p><h3 id="什么是字节码-采用字节码的好处是什么"><a href="#什么是字节码-采用字节码的好处是什么" class="headerlink" title="什么是字节码?采用字节码的好处是什么?"></a>什么是字节码?采用字节码的好处是什么?</h3><p>在 Java 中，JVM 可以理解的代码就叫做字节码（即扩展名为 <code>.class</code> 的文件），它不面向任何特定的处理器，只面向虚拟机。Java 语言通过字节码的方式，在一定程度上解决了传统解释型语言执行效率低的问题，同时又保留了解释型语言可移植的特点。所以， Java 程序运行时相对来说还是高效的（不过，和C、 C++，Rust，Go 等语言还是有一定差距的），而且，由于字节码并不针对一种特定的机器，因此，Java 程序无须重新编译便可在多种不同操作系统的计算机上运行。</p><p><strong>Java 程序从源代码到运行的过程如下图所示</strong>：</p><p><img src="https://s2.loli.net/2023/09/24/ftLRVXKTE4BOoad.png" alt="Java程序转变为机器代码的过程"></p><p>我们需要格外注意的是 <code>.class-&gt;机器码</code> 这一步。在这一步 JVM 类加载器首先加载字节码文件，然后通过解释器逐行解释执行，这种方式的执行速度会相对比较慢。而且，有些方法和代码块是经常需要被调用的(也就是所谓的热点代码)，所以后面引进了 <strong>JIT（Just in Time Compilation）</strong> 编译器，而 JIT 属于运行时编译。当 JIT 编译器完成第一次编译后，其会将字节码对应的机器码保存下来，下次可以直接使用。而我们知道，机器码的运行效率肯定是高于 Java 解释器的。这也解释了我们为什么经常会说 <strong>Java 是编译与解释共存的语言</strong> 。</p><p><img src="https://s2.loli.net/2023/09/24/TmZdn2pMrSQcwyv.png" alt="Java程序转变为机器代码的过程"></p><blockquote><p>HotSpot 采用了惰性评估(Lazy Evaluation)的做法，根据二八定律，消耗大部分系统资源的只有那一小部分的代码（热点代码），而这也就是 JIT 所需要编译的部分。JVM 会根据代码每次被执行的情况收集信息并相应地做出一些优化，因此执行的次数越多，它的速度就越快。</p></blockquote><p>JDK、JRE、JVM、JIT 这四者的关系如下图所示。</p><p><img src="https://s2.loli.net/2023/09/24/4z6EB87wytZ2Yva.png" alt="JDK、JRE、JVM、JIT 这四者的关系"></p><p>下面这张图是 JVM 的大致结构模型。</p><p><img src="https://s2.loli.net/2023/09/24/RBug1LyEYlNJZIs.jpg" alt="JVM 的大致结构模型"></p><h3 id="为什么说-Java-语言“编译与解释并存”？"><a href="#为什么说-Java-语言“编译与解释并存”？" class="headerlink" title="为什么说 Java 语言“编译与解释并存”？"></a>为什么说 Java 语言“编译与解释并存”？</h3><p>其实这个问题我们讲字节码的时候已经提到过，因为比较重要，所以我们这里再提一下。</p><p>我们可以将高级编程语言按照程序的执行方式分为两种：</p><ul><li><strong>编译型</strong>：<a href="https://zh.wikipedia.org/wiki/%E7%B7%A8%E8%AD%AF%E8%AA%9E%E8%A8%80">编译型语言</a> 会通过<a href="https://zh.wikipedia.org/wiki/%E7%B7%A8%E8%AD%AF%E5%99%A8">编译器</a>将源代码一次性翻译成可被该平台执行的机器码。一般情况下，编译语言的执行速度比较快，开发效率比较低。常见的编译性语言有 C、C++、Go、Rust 等等。</li><li><strong>解释型</strong>：<a href="https://zh.wikipedia.org/wiki/%E7%9B%B4%E8%AD%AF%E8%AA%9E%E8%A8%80">解释型语言</a>会通过<a href="https://zh.wikipedia.org/wiki/%E7%9B%B4%E8%AD%AF%E5%99%A8">解释器</a>一句一句的将代码解释（interpret）为机器代码后再执行。解释型语言开发效率比较快，执行速度比较慢。常见的解释性语言有 Python、JavaScript、PHP 等等。</li></ul><p><img src="https://s2.loli.net/2023/09/24/qGiPZhyEQsRe8NM.png" alt="编译型语言和解释型语言"></p><p>根据维基百科介绍：</p><blockquote><p>为了改善编译语言的效率而发展出的<a href="https://zh.wikipedia.org/wiki/%E5%8D%B3%E6%99%82%E7%B7%A8%E8%AD%AF">即时编译</a>技术，已经缩小了这两种语言间的差距。这种技术混合了编译语言与解释型语言的优点，它像编译语言一样，先把程序源代码编译成<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E8%8A%82%E7%A0%81">字节码</a>。到执行期时，再将字节码直译，之后执行。<a href="https://zh.wikipedia.org/wiki/Java">Java</a>与<a href="https://zh.wikipedia.org/wiki/LLVM">LLVM</a>是这种技术的代表产物。</p><p>相关阅读：<a href="https://tech.meituan.com/2020/10/22/java-jit-practice-in-meituan.html">基本功 | Java 即时编译器原理解析及实践</a></p></blockquote><p><strong>为什么说 Java 语言“编译与解释并存”？</strong></p><p>这是因为 Java 语言既具有编译型语言的特征，也具有解释型语言的特征。因为 Java 程序要经过先编译，后解释两个步骤，由 Java 编写的程序需要先经过编译步骤，生成字节码（<code>.class</code> 文件），这种字节码必须由 Java 解释器来解释执行。</p><h3 id="AOT-有什么优点？为什么不全部使用-AOT-呢？"><a href="#AOT-有什么优点？为什么不全部使用-AOT-呢？" class="headerlink" title="AOT 有什么优点？为什么不全部使用 AOT 呢？"></a>AOT 有什么优点？为什么不全部使用 AOT 呢？</h3><p>JDK 9 引入了一种新的编译模式 <strong>AOT(Ahead of Time Compilation)</strong> 。和 JIT 不同的是，这种编译模式会在程序被执行前就将其编译成机器码，属于静态编译（C、 C++，Rust，Go 等语言就是静态编译）。AOT 避免了 JIT 预热等各方面的开销，可以提高 Java 程序的启动速度，避免预热时间长。并且，AOT 还能减少内存占用和增强 Java 程序的安全性（AOT 编译后的代码不容易被反编译和修改），特别适合云原生场景。</p><p><strong>JIT 与 AOT 两者的关键指标对比</strong>:</p><p><img src="https://s2.loli.net/2023/09/24/1UrK3NGhtSuyDeO.jpg" alt="JIT vs AOT"></p><p>可以看出，AOT 的主要优势在于启动时间、内存占用和打包体积。JIT 的主要优势在于具备更高的极限处理能力，可以降低请求的最大延迟。</p><p>提到 AOT 就不得不提 <a href="https://www.graalvm.org/">GraalVM</a> 了！GraalVM 是一种高性能的 JDK（完整的 JDK 发行版本），它可以运行 Java 和其他 JVM 语言，以及 JavaScript、Python 等非 JVM 语言。 GraalVM 不仅能提供 AOT 编译，还能提供 JIT 编译。感兴趣的同学，可以去看看 GraalVM 的官方文档：<a href="https://www.graalvm.org/latest/docs/">https://www.graalvm.org/latest/docs/</a>。如果觉得官方文档看着比较难理解的话，也可以找一些文章来看看，比如：</p><ul><li><a href="https://mp.weixin.qq.com/s/4haTyXUmh8m-dBQaEzwDJw">基于静态编译构建微服务应用</a></li><li><a href="https://cn.dubbo.apache.org/zh-cn/blog/2023/06/28/%e8%b5%b0%e5%90%91-native-%e5%8c%96springdubbo-aot-%e6%8a%80%e6%9c%af%e7%a4%ba%e4%be%8b%e4%b8%8e%e5%8e%9f%e7%90%86%e8%ae%b2%e8%a7%a3/">走向 Native 化：Spring&amp;Dubbo AOT 技术示例与原理讲解</a></li></ul><p><strong>既然 AOT 这么多优点，那为什么不全部使用这种编译方式呢？</strong></p><p>我们前面也对比过 JIT 与 AOT，两者各有优点，只能说 AOT 更适合当下的云原生场景，对微服务架构的支持也比较友好。除此之外，AOT 编译无法支持 Java 的一些动态特性，如反射、动态代理、动态加载、JNI（Java Native Interface）等。然而，很多框架和库（如 Spring、CGLIB）都用到了这些特性。如果只使用 AOT 编译，那就没办法使用这些框架和库了，或者说需要针对性地去做适配和优化。举个例子，CGLIB 动态代理使用的是 ASM 技术，而这种技术大致原理是运行时直接在内存中生成并加载修改后的字节码文件也就是 <code>.class</code> 文件，如果全部使用 AOT 提前编译，也就不能使用 ASM 技术了。为了支持类似的动态特性，所以选择使用 JIT 即时编译器。</p><h3 id="Oracle-JDK-vs-OpenJDK"><a href="#Oracle-JDK-vs-OpenJDK" class="headerlink" title="Oracle JDK vs OpenJDK"></a>Oracle JDK vs OpenJDK</h3><p>可能在看这个问题之前很多人和我一样并没有接触和使用过 OpenJDK 。那么 Oracle JDK 和 OpenJDK 之间是否存在重大差异？下面我通过收集到的一些资料，为你解答这个被很多人忽视的问题。</p><p>首先，2006 年 SUN 公司将 Java 开源，也就有了 OpenJDK。2009 年 Oracle 收购了 Sun 公司，于是自己在 OpenJDK 的基础上搞了一个 Oracle JDK。Oracle JDK 是不开源的，并且刚开始的几个版本（Java8 ~ Java11）还会相比于 OpenJDK 添加一些特有的功能和工具。</p><p>其次，对于 Java 7 而言，OpenJDK 和 Oracle JDK 是十分接近的。 Oracle JDK 是基于 OpenJDK 7 构建的，只添加了一些小功能，由 Oracle 工程师参与维护。</p><p>下面这段话摘自 Oracle 官方在 2012 年发表的一个博客：</p><blockquote><p>问：OpenJDK 存储库中的源代码与用于构建 Oracle JDK 的代码之间有什么区别？</p><p>答：非常接近 - 我们的 Oracle JDK 版本构建过程基于 OpenJDK 7 构建，只添加了几个部分，例如部署代码，其中包括 Oracle 的 Java 插件和 Java WebStart 的实现，以及一些闭源的第三方组件，如图形光栅化器，一些开源的第三方组件，如 Rhino，以及一些零碎的东西，如附加文档或第三方字体。展望未来，我们的目的是开源 Oracle JDK 的所有部分，除了我们考虑商业功能的部分。</p></blockquote><p>最后，简单总结一下 Oracle JDK 和 OpenJDK 的区别：</p><ol><li><strong>是否开源</strong>：OpenJDK 是一个参考模型并且是完全开源的，而 Oracle JDK 是基于 OpenJDK 实现的，并不是完全开源的（个人观点：众所周知，JDK 原来是 SUN 公司开发的，后来 SUN 公司又卖给了 Oracle 公司，Oracle 公司以 Oracle 数据库而著名，而 Oracle 数据库又是闭源的，这个时候 Oracle 公司就不想完全开源了，但是原来的 SUN 公司又把 JDK 给开源了，如果这个时候 Oracle 收购回来之后就把他给闭源，必然会引起很多 Java 开发者的不满，导致大家对 Java 失去信心，那 Oracle 公司收购回来不就把 Java 烂在手里了吗！然后，Oracle 公司就想了个骚操作，这样吧，我把一部分核心代码开源出来给你们玩，并且我要和你们自己搞的 JDK 区分下，你们叫 OpenJDK，我叫 Oracle JDK，我发布我的，你们继续玩你们的，要是你们搞出来什么好玩的东西，我后续发布 Oracle JDK 也会拿来用一下，一举两得！）OpenJDK 开源项目：<a href="https://github.com/openjdk/jdk">https://github.com/openjdk/jdk</a> 。</li><li><strong>是否免费</strong>：Oracle JDK 会提供免费版本，但一般有时间限制。JDK17 之后的版本可以免费分发和商用，但是仅有 3 年时间，3 年后无法免费商用。不过，JDK8u221 之前只要不升级可以无限期免费。OpenJDK 是完全免费的。</li><li><strong>功能性</strong>：Oracle JDK 在 OpenJDK 的基础上添加了一些特有的功能和工具，比如 Java Flight Recorder（JFR，一种监控工具）、Java Mission Control（JMC，一种监控工具）等工具。不过，在 Java 11 之后，OracleJDK 和 OpenJDK 的功能基本一致，之前 OracleJDK 中的私有组件大多数也已经被捐赠给开源组织。</li><li><strong>稳定性</strong>：OpenJDK 不提供 LTS 服务，而 OracleJDK 大概每三年都会推出一个 LTS 版进行长期支持。不过，很多公司都基于 OpenJDK 提供了对应的和 OracleJDK 周期相同的 LTS 版。因此，两者稳定性其实也是差不多的。</li><li><strong>协议</strong>：Oracle JDK 使用 BCL&#x2F;OTN 协议获得许可，而 OpenJDK 根据 GPL v2 许可获得许可。</li></ol><blockquote><p>既然 Oracle JDK 这么好，那为什么还要有 OpenJDK？</p><p>答：</p><ol><li><p>OpenJDK 是开源的，开源意味着你可以对它根据你自己的需要进行修改、优化，比如 Alibaba 基于 OpenJDK 开发了 Dragonwell8：<a href="https://github.com/alibaba/dragonwell8">https://github.com/alibaba/dragonwell8</a></p></li><li><p>OpenJDK 是商业免费的（这也是为什么通过 yum 包管理器上默认安装的 JDK 是 OpenJDK 而不是 Oracle JDK）。虽然 Oracle JDK 也是商业免费（比如 JDK 8），但并不是所有版本都是免费的。</p></li><li><p>OpenJDK 更新频率更快。Oracle JDK 一般是每 6 个月发布一个新版本，而 OpenJDK 一般是每 3 个月发布一个新版本。（现在你知道为啥 Oracle JDK 更稳定了吧，先在 OpenJDK 试试水，把大部分问题都解决掉了才在 Oracle JDK 上发布）</p></li></ol><p>基于以上这些原因，OpenJDK 还是有存在的必要的！</p></blockquote><p><img src="https://s2.loli.net/2023/09/24/5pPn43dcVU8wNIi.jpg" alt="oracle jdk release cadence"></p><p><strong>Oracle JDK 和 OpenJDK 如何选择？</strong></p><p>建议选择 OpenJDK 或者基于 OpenJDK 的发行版，比如 AWS 的 Amazon Corretto，阿里巴巴的 Alibaba Dragonwell。</p><p>🌈 拓展一下：</p><ul><li>BCL 协议（Oracle Binary Code License Agreement）：可以使用 JDK（支持商用），但是不能进行修改。</li><li>OTN 协议（Oracle Technology Network License Agreement）：11 及之后新发布的 JDK 用的都是这个协议，可以自己私下用，但是商用需要付费。</li></ul><h3 id="Java-和-C-的区别"><a href="#Java-和-C-的区别" class="headerlink" title="Java 和 C++ 的区别?"></a>Java 和 C++ 的区别?</h3><p>我知道很多人没学过 C++，但是面试官就是没事喜欢拿咱们 Java 和 C++ 比呀！没办法！！！就算没学过 C++，也要记下来。</p><p>虽然，Java 和 C++ 都是面向对象的语言，都支持封装、继承和多态，但是，它们还是有挺多不相同的地方：</p><ul><li>Java 不提供指针来直接访问内存，程序内存更加安全</li><li>Java 的类是单继承的，C++ 支持多重继承；虽然 Java 的类不可以多继承，但是接口可以多继承。</li><li>Java 有自动内存管理垃圾回收机制(GC)，不需要程序员手动释放无用内存。</li><li>C ++同时支持方法重载和操作符重载，但是 Java 只支持方法重载（操作符重载增加了复杂性，这与 Java 最初的设计思想不符）。</li><li>……</li></ul><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="注释有哪几种形式？"><a href="#注释有哪几种形式？" class="headerlink" title="注释有哪几种形式？"></a>注释有哪几种形式？</h3><p>Java 中的注释有三种：</p><p><img src="https://s2.loli.net/2023/09/24/6UnRTNmvOQqzI4d.png" alt="Java 注释类型总结"></p><ol><li><p><strong>单行注释</strong>：通常用于解释方法内某单行代码的作用。</p></li><li><p><strong>多行注释</strong>：通常用于解释一段代码的作用。</p></li><li><p><strong>文档注释</strong>：通常用于生成 Java 开发文档。</p></li></ol><p>用的比较多的还是单行注释和文档注释，多行注释在实际开发中使用的相对较少。</p><p><img src="https://s2.loli.net/2023/09/24/VSgKtHTdiZGwL52.png"></p><p>在我们编写代码的时候，如果代码量比较少，我们自己或者团队其他成员还可以很轻易地看懂代码，但是当项目结构一旦复杂起来，我们就需要用到注释了。注释并不会执行(编译器在编译代码之前会把代码中的所有注释抹掉,字节码中不保留注释)，是我们程序员写给自己看的，注释是你的代码说明书，能够帮助看代码的人快速地理清代码之间的逻辑关系。因此，在写程序的时候随手加上注释是一个非常好的习惯。</p><p>《Clean Code》这本书明确指出：</p><blockquote><p><strong>代码的注释不是越详细越好。实际上好的代码本身就是注释，我们要尽量规范和美化自己的代码来减少不必要的注释。</strong></p><p><strong>若编程语言足够有表达力，就不需要注释，尽量通过代码来阐述。</strong></p><p>举个例子：</p><p>去掉下面复杂的注释，只需要创建一个与注释所言同一事物的函数即可</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// check to see if the employee is eligible for full benefits</span></span><br><span class="line"><span class="keyword">if</span> ((employee.flags &amp; HOURLY_FLAG) &amp;&amp; (employee.age &gt; <span class="number">65</span>))</span><br></pre></td></tr></table></figure><p>应替换为</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (employee.isEligibleForFullBenefits())</span><br></pre></td></tr></table></figure></blockquote><h3 id="标识符和关键字的区别是什么？"><a href="#标识符和关键字的区别是什么？" class="headerlink" title="标识符和关键字的区别是什么？"></a>标识符和关键字的区别是什么？</h3><p>在我们编写程序的时候，需要大量地为程序、类、变量、方法等取名字，于是就有了 <strong>标识符</strong> 。简单来说， <strong>标识符就是一个名字</strong> 。</p><p>有一些标识符，Java 语言已经赋予了其特殊的含义，只能用于特定的地方，这些特殊的标识符就是 <strong>关键字</strong> 。简单来说，<strong>关键字是被赋予特殊含义的标识</strong>符 。比如，在我们的日常生活中，如果我们想要开一家店，则要给这个店起一个名字，起的这个“名字”就叫标识符。但是我们店的名字不能叫“警察局”，因为“警察局”这个名字已经被赋予了特殊的含义，而“警察局”就是我们日常生活中的关键字。</p><h3 id="Java-语言关键字有哪些？"><a href="#Java-语言关键字有哪些？" class="headerlink" title="Java 语言关键字有哪些？"></a>Java 语言关键字有哪些？</h3><table><thead><tr><th align="left">分类</th><th>关键字</th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td align="left">访问控制</td><td>private</td><td>protected</td><td>public</td><td></td><td></td><td></td><td></td></tr><tr><td align="left">类，方法和变量修饰符</td><td>abstract</td><td>class</td><td>extends</td><td>final</td><td>implements</td><td>interface</td><td>native</td></tr><tr><td align="left"></td><td>new</td><td>static</td><td>strictfp</td><td>synchronized</td><td>transient</td><td>volatile</td><td>enum</td></tr><tr><td align="left">程序控制</td><td>break</td><td>continue</td><td>return</td><td>do</td><td>while</td><td>if</td><td>else</td></tr><tr><td align="left"></td><td>for</td><td>instanceof</td><td>switch</td><td>case</td><td>default</td><td>assert</td><td></td></tr><tr><td align="left">错误处理</td><td>try</td><td>catch</td><td>throw</td><td>throws</td><td>finally</td><td></td><td></td></tr><tr><td align="left">包相关</td><td>import</td><td>package</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">基本类型</td><td>boolean</td><td>byte</td><td>char</td><td>double</td><td>float</td><td>int</td><td>long</td></tr><tr><td align="left"></td><td>short</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td align="left">变量引用</td><td>super</td><td>this</td><td>void</td><td></td><td></td><td></td><td></td></tr><tr><td align="left">保留字</td><td>goto</td><td>const</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><blockquote><p>Tips：所有的关键字都是小写的，在 IDE 中会以特殊颜色显示。</p><p><code>default</code> 这个关键字很特殊，既属于程序控制，也属于类，方法和变量修饰符，还属于访问控制。</p><ul><li>在程序控制中，当在 <code>switch</code> 中匹配不到任何情况时，可以使用 <code>default</code> 来编写默认匹配的情况。</li><li>在类，方法和变量修饰符中，从 JDK8 开始引入了默认方法，可以使用 <code>default</code> 关键字来定义一个方法的默认实现。</li><li>在访问控制中，如果一个方法前没有任何修饰符，则默认会有一个修饰符 <code>default</code>，但是这个修饰符加上了就会报错。</li></ul></blockquote><p>⚠️ 注意：虽然 <code>true</code>, <code>false</code>, 和 <code>null</code> 看起来像关键字但实际上他们是字面值，同时你也不可以作为标识符来使用。</p><p>官方文档：<a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html</a></p><h3 id="自增自减运算符"><a href="#自增自减运算符" class="headerlink" title="自增自减运算符"></a>自增自减运算符</h3><p>在写代码的过程中，常见的一种情况是需要某个整数类型变量增加 1 或减少 1，Java 提供了一种特殊的运算符，用于这种表达式，叫做自增运算符（++)和自减运算符（–）。</p><p>++ 和 – 运算符可以放在变量之前，也可以放在变量之后，当运算符放在变量之前时(前缀)，先自增&#x2F;减，再赋值；当运算符放在变量之后时(后缀)，先赋值，再自增&#x2F;减。例如，当 <code>b = ++a</code> 时，先自增（自己增加 1），再赋值（赋值给 b）；当 <code>b = a++</code> 时，先赋值(赋值给 b)，再自增（自己增加 1）。也就是，++a 输出的是 a+1 的值，a++输出的是 a 值。用一句口诀就是：“符号在前就先加&#x2F;减，符号在后就后加&#x2F;减”。</p><h3 id="移位运算符"><a href="#移位运算符" class="headerlink" title="移位运算符"></a>移位运算符</h3><p>移位运算符是最基本的运算符之一，几乎每种编程语言都包含这一运算符。移位操作中，被操作的数据被视为二进制数，移位就是将其向左或向右移动若干位的运算。</p><p>移位运算符在各种框架以及 JDK 自身的源码中使用还是挺广泛的，<code>HashMap</code>（JDK1.8） 中的 <code>hash</code> 方法的源码就用到了移位运算符：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">hash</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">    <span class="type">int</span> h;</span><br><span class="line">    <span class="comment">// key.hashCode()：返回散列值也就是hashcode</span></span><br><span class="line">    <span class="comment">// ^：按位异或</span></span><br><span class="line">    <span class="comment">// &gt;&gt;&gt;:无符号右移，忽略符号位，空位都以0补齐</span></span><br><span class="line">    <span class="keyword">return</span> (key == <span class="literal">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在 Java 代码里使用 <code>&lt;&lt;</code>、 <code>&gt;&gt;</code> 和<code>&gt;&gt;&gt;</code>转换成的指令码运行起来会更高效些。</p><p>掌握最基本的移位运算符知识还是很有必要的，这不光可以帮助我们在代码中使用，还可以帮助我们理解源码中涉及到移位运算符的代码。</p><p>Java 中有三种移位运算符：</p><p><img src="https://s2.loli.net/2023/09/24/2dejKyhf7Q69ilR.png" alt="Java 移位运算符总结"></p><ul><li><code>&lt;&lt;</code> :左移运算符，向左移若干位，高位丢弃，低位补零。<code>x &lt;&lt; 1</code>,相当于 x 乘以 2(不溢出的情况下)。</li><li><code>&gt;&gt;</code> :带符号右移，向右移若干位，高位补符号位，低位丢弃。正数高位补 0,负数高位补 1。<code>x &gt;&gt; 1</code>,相当于 x 除以 2。</li><li><code>&gt;&gt;&gt;</code> :无符号右移，忽略符号位，空位都以 0 补齐。</li></ul><p>由于 <code>double</code>，<code>float</code> 在二进制中的表现比较特殊，因此不能来进行移位操作。</p><p>移位操作符实际上支持的类型只有<code>int</code>和<code>long</code>，编译器在对<code>short</code>、<code>byte</code>、<code>char</code>类型进行移位前，都会将其转换为<code>int</code>类型再操作。</p><p><strong>如果移位的位数超过数值所占有的位数会怎样？</strong></p><p>当 int 类型左移&#x2F;右移位数大于等于 32 位操作时，会先求余（%）后再进行左移&#x2F;右移操作。也就是说左移&#x2F;右移 32 位相当于不进行移位操作（32%32&#x3D;0），左移&#x2F;右移 42 位相当于左移&#x2F;右移 10 位（42%32&#x3D;10）。当 long 类型进行左移&#x2F;右移操作时，由于 long 对应的二进制是 64 位，因此求余操作的基数也变成了 64。</p><p>也就是说：<code>x&lt;&lt;42</code>等同于<code>x&lt;&lt;10</code>，<code>x&gt;&gt;42</code>等同于<code>x&gt;&gt;10</code>，<code>x &gt;&gt;&gt;42</code>等同于<code>x &gt;&gt;&gt; 10</code>。</p><p><strong>左移运算符代码示例</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;初始数据：&quot;</span> + i);</span><br><span class="line">System.out.println(<span class="string">&quot;初始数据对应的二进制字符串：&quot;</span> + Integer.toBinaryString(i));</span><br><span class="line">i &lt;&lt;= <span class="number">10</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;左移 10 位后的数据 &quot;</span> + i);</span><br><span class="line">System.out.println(<span class="string">&quot;左移 10 位后的数据对应的二进制字符 &quot;</span> + Integer.toBinaryString(i));</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">初始数据：-1</span><br><span class="line">初始数据对应的二进制字符串：11111111111111111111111111111111</span><br><span class="line">左移 10 位后的数据 -1024</span><br><span class="line">左移 10 位后的数据对应的二进制字符 11111111111111111111110000000000</span><br></pre></td></tr></table></figure><p>由于左移位数大于等于 32 位操作时，会先求余（%）后再进行左移操作，所以下面的代码左移 42 位相当于左移 10 位（42%32&#x3D;10），输出结果和前面的代码一样。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;初始数据：&quot;</span> + i);</span><br><span class="line">System.out.println(<span class="string">&quot;初始数据对应的二进制字符串：&quot;</span> + Integer.toBinaryString(i));</span><br><span class="line">i &lt;&lt;= <span class="number">42</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;左移 10 位后的数据 &quot;</span> + i);</span><br><span class="line">System.out.println(<span class="string">&quot;左移 10 位后的数据对应的二进制字符 &quot;</span> + Integer.toBinaryString(i));</span><br></pre></td></tr></table></figure><p>右移运算符使用类似，篇幅问题，这里就不做演示了。</p><h3 id="continue、break-和-return-的区别是什么？"><a href="#continue、break-和-return-的区别是什么？" class="headerlink" title="continue、break 和 return 的区别是什么？"></a>continue、break 和 return 的区别是什么？</h3><p>在循环结构中，当循环条件不满足或者循环次数达到要求时，循环会正常结束。但是，有时候可能需要在循环的过程中，当发生了某种条件之后 ，提前终止循环，这就需要用到下面几个关键词：</p><ol><li><code>continue</code>：指跳出当前的这一次循环，继续下一次循环。</li><li><code>break</code>：指跳出整个循环体，继续执行循环下面的语句。</li></ol><p><code>return</code> 用于跳出所在方法，结束该方法的运行。return 一般有两种用法：</p><ol><li><code>return;</code>：直接使用 return 结束方法执行，用于没有返回值函数的方法</li><li><code>return value;</code>：return 一个特定值，用于有返回值函数的方法</li></ol><p>思考一下：下列语句的运行结果是什么？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">2</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">4</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;xixi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;haha&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;heihei&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">xixi</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">xixi</span><br><span class="line">3</span><br><span class="line">haha</span><br></pre></td></tr></table></figure><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><h3 id="Java-中的几种基本数据类型了解么？"><a href="#Java-中的几种基本数据类型了解么？" class="headerlink" title="Java 中的几种基本数据类型了解么？"></a>Java 中的几种基本数据类型了解么？</h3><p>Java 中有 8 种基本数据类型，分别为：</p><ul><li>6 种数字类型：<ul><li>4 种整数型：<code>byte</code>、<code>short</code>、<code>int</code>、<code>long</code></li><li>2 种浮点型：<code>float</code>、<code>double</code></li></ul></li><li>1 种字符类型：<code>char</code></li><li>1 种布尔型：<code>boolean</code>。</li></ul><p>这 8 种基本数据类型的默认值以及所占空间的大小如下：</p><table><thead><tr><th align="left">基本类型</th><th align="left">位数</th><th align="left">字节</th><th align="left">默认值</th><th>取值范围</th></tr></thead><tbody><tr><td align="left"><code>byte</code></td><td align="left">8</td><td align="left">1</td><td align="left">0</td><td>-128 ~ 127</td></tr><tr><td align="left"><code>short</code></td><td align="left">16</td><td align="left">2</td><td align="left">0</td><td>-32768（-2^15） ~ 32767（2^15 - 1）</td></tr><tr><td align="left"><code>int</code></td><td align="left">32</td><td align="left">4</td><td align="left">0</td><td>-2147483648 ~ 2147483647</td></tr><tr><td align="left"><code>long</code></td><td align="left">64</td><td align="left">8</td><td align="left">0L</td><td>-9223372036854775808（-2^63） ~ 9223372036854775807（2^63 -1）</td></tr><tr><td align="left"><code>char</code></td><td align="left">16</td><td align="left">2</td><td align="left">‘u0000’</td><td>0 ~ 65535（2^16 - 1）</td></tr><tr><td align="left"><code>float</code></td><td align="left">32</td><td align="left">4</td><td align="left">0f</td><td>1.4E-45 ~ 3.4028235E38</td></tr><tr><td align="left"><code>double</code></td><td align="left">64</td><td align="left">8</td><td align="left">0d</td><td>4.9E-324 ~ 1.7976931348623157E308</td></tr><tr><td align="left"><code>boolean</code></td><td align="left">1</td><td align="left"></td><td align="left">false</td><td>true、false</td></tr></tbody></table><p>可以看到，像 <code>byte</code>、<code>short</code>、<code>int</code>、<code>long</code>能表示的最大正数都减 1 了。这是为什么呢？这是因为在二进制补码表示法中，最高位是用来表示符号的（0 表示正数，1 表示负数），其余位表示数值部分。所以，如果我们要表示最大的正数，我们需要把除了最高位之外的所有位都设为 1。如果我们再加 1，就会导致溢出，变成一个负数。</p><p>对于 <code>boolean</code>，官方文档未明确定义，它依赖于 JVM 厂商的具体实现。逻辑上理解是占用 1 位，但是实际中会考虑计算机高效存储因素。</p><p>另外，Java 的每种基本类型所占存储空间的大小不会像其他大多数语言那样随机器硬件架构的变化而变化。这种所占存储空间大小的不变性是 Java 程序比用其他大多数语言编写的程序更具可移植性的原因之一（《Java 编程思想》2.2 节有提到）。</p><p><strong>注意：</strong></p><ol><li>Java 里使用 <code>long</code> 类型的数据一定要在数值后面加上 <strong>L</strong>，否则将作为整型解析。</li><li><code>char a = &#39;h&#39;</code>char :单引号，<code>String a = &quot;hello&quot;</code> :双引号。</li></ol><p>这八种基本类型都有对应的包装类分别为：<code>Byte</code>、<code>Short</code>、<code>Integer</code>、<code>Long</code>、<code>Float</code>、<code>Double</code>、<code>Character</code>、<code>Boolean</code> 。</p><h3 id="基本类型和包装类型的区别？"><a href="#基本类型和包装类型的区别？" class="headerlink" title="基本类型和包装类型的区别？"></a>基本类型和包装类型的区别？</h3><p><img src="https://s2.loli.net/2023/09/24/ZP19ijMSEyDIfYa.png" alt="基本类型 vs 包装类型"></p><ul><li><strong>用途</strong>：除了定义一些常量和局部变量之外，我们在其他地方比如方法参数、对象属性中很少会使用基本类型来定义变量。并且，包装类型可用于泛型，而基本类型不可以。</li><li><strong>存储方式</strong>：基本数据类型的局部变量存放在 Java 虚拟机栈中的局部变量表中，基本数据类型的成员变量（未被 <code>static</code> 修饰 ）存放在 Java 虚拟机的堆中。包装类型属于对象类型，我们知道几乎所有对象实例都存在于堆中。</li><li><strong>占用空间</strong>：相比于包装类型（对象类型）， 基本数据类型占用的空间往往非常小。</li><li><strong>默认值</strong>：成员变量包装类型不赋值就是 <code>null</code> ，而基本类型有默认值且不是 <code>null</code>。</li><li><strong>比较方式</strong>：对于基本数据类型来说，<code>==</code> 比较的是值。对于包装数据类型来说，<code>==</code> 比较的是对象的内存地址。所有整型包装类对象之间值的比较，全部使用 <code>equals()</code> 方法。</li></ul><p><strong>为什么说是几乎所有对象实例都存在于堆中呢？</strong> 这是因为 HotSpot 虚拟机引入了 JIT 优化之后，会对对象进行逃逸分析，如果发现某一个对象并没有逃逸到方法外部，那么就可能通过标量替换来实现栈上分配，而避免堆上分配内存</p><p>⚠️ 注意：<strong>基本数据类型存放在栈中是一个常见的误区！</strong> 基本数据类型的成员变量如果没有被 <code>static</code> 修饰的话（不建议这么使用，应该要使用基本数据类型对应的包装类型），就存放在堆中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BasicTypeVar</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">int</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="包装类型的缓存机制了解么？"><a href="#包装类型的缓存机制了解么？" class="headerlink" title="包装类型的缓存机制了解么？"></a>包装类型的缓存机制了解么？</h3><p>Java 基本数据类型的包装类型的大部分都用到了缓存机制来提升性能。</p><p><code>Byte</code>,<code>Short</code>,<code>Integer</code>,<code>Long</code> 这 4 种包装类默认创建了数值 <strong>[-128，127]</strong> 的相应类型的缓存数据，<code>Character</code> 创建了数值在 <strong>[0,127]</strong> 范围的缓存数据，<code>Boolean</code> 直接返回 <code>True</code> or <code>False</code>。</p><p><strong>Integer 缓存源码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">IntegerCache</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">low</span> <span class="operator">=</span> -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>Character</code> 缓存源码:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Character <span class="title function_">valueOf</span><span class="params">(<span class="type">char</span> c)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (c &lt;= <span class="number">127</span>) &#123; <span class="comment">// must cache</span></span><br><span class="line">      <span class="keyword">return</span> CharacterCache.cache[(<span class="type">int</span>)c];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Character</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">CharacterCache</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">CharacterCache</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Character cache[] = <span class="keyword">new</span> <span class="title class_">Character</span>[<span class="number">127</span> + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cache.length; i++)</span><br><span class="line">            cache[i] = <span class="keyword">new</span> <span class="title class_">Character</span>((<span class="type">char</span>)i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>Boolean</code> 缓存源码：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title function_">valueOf</span><span class="params">(<span class="type">boolean</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (b ? TRUE : FALSE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果超出对应范围仍然会去创建新的对象，缓存的范围区间的大小只是在性能和资源之间的权衡。</p><p>两种浮点数类型的包装类 <code>Float</code>,<code>Double</code> 并没有实现缓存机制。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">33</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">33</span>;</span><br><span class="line">System.out.println(i1 == i2);<span class="comment">// 输出 true</span></span><br><span class="line"></span><br><span class="line"><span class="type">Float</span> <span class="variable">i11</span> <span class="operator">=</span> <span class="number">333f</span>;</span><br><span class="line"><span class="type">Float</span> <span class="variable">i22</span> <span class="operator">=</span> <span class="number">333f</span>;</span><br><span class="line">System.out.println(i11 == i22);<span class="comment">// 输出 false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Double</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">1.2</span>;</span><br><span class="line"><span class="type">Double</span> <span class="variable">i4</span> <span class="operator">=</span> <span class="number">1.2</span>;</span><br><span class="line">System.out.println(i3 == i4);<span class="comment">// 输出 false</span></span><br></pre></td></tr></table></figure><p>下面我们来看一个问题：下面的代码的输出结果是 <code>true</code> 还是 <code>false</code> 呢？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">40</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">40</span>);</span><br><span class="line">System.out.println(i1==i2);</span><br></pre></td></tr></table></figure><p><code>Integer i1=40</code> 这一行代码会发生装箱，也就是说这行代码等价于 <code>Integer i1=Integer.valueOf(40)</code> 。因此，<code>i1</code> 直接使用的是缓存中的对象。而<code>Integer i2 = new Integer(40)</code> 会直接创建新的对象。</p><p>因此，答案是 <code>false</code> 。你答对了吗？</p><p>记住：<strong>所有整型包装类对象之间值的比较，全部使用 equals 方法比较</strong>。</p><p><img src="https://s2.loli.net/2023/09/24/oPcQAyizxbBfU62.png"></p><h3 id="自动装箱与拆箱了解吗？原理是什么？"><a href="#自动装箱与拆箱了解吗？原理是什么？" class="headerlink" title="自动装箱与拆箱了解吗？原理是什么？"></a>自动装箱与拆箱了解吗？原理是什么？</h3><p><strong>什么是自动拆装箱？</strong></p><ul><li><strong>装箱</strong>：将基本类型用它们对应的引用类型包装起来；</li><li><strong>拆箱</strong>：将包装类型转换为基本数据类型；</li></ul><p>举例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;  <span class="comment">//装箱</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> i;   <span class="comment">//拆箱</span></span><br></pre></td></tr></table></figure><p>上面这两行代码对应的字节码为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">L1</span><br><span class="line"></span><br><span class="line"> LINENUMBER <span class="number">8</span> L1</span><br><span class="line"></span><br><span class="line"> ALOAD <span class="number">0</span></span><br><span class="line"></span><br><span class="line"> BIPUSH <span class="number">10</span></span><br><span class="line"></span><br><span class="line"> INVOKESTATIC java/lang/Integer.valueOf (I)Ljava/lang/Integer;</span><br><span class="line"></span><br><span class="line"> PUTFIELD AutoBoxTest.i : Ljava/lang/Integer;</span><br><span class="line"></span><br><span class="line">L2</span><br><span class="line"></span><br><span class="line"> LINENUMBER <span class="number">9</span> L2</span><br><span class="line"></span><br><span class="line"> ALOAD <span class="number">0</span></span><br><span class="line"></span><br><span class="line"> ALOAD <span class="number">0</span></span><br><span class="line"></span><br><span class="line"> GETFIELD AutoBoxTest.i : Ljava/lang/Integer;</span><br><span class="line"></span><br><span class="line"> INVOKEVIRTUAL java/lang/Integer.intValue ()I</span><br><span class="line"></span><br><span class="line"> PUTFIELD AutoBoxTest.n : I</span><br><span class="line"></span><br><span class="line"> RETURN</span><br></pre></td></tr></table></figure><p>从字节码中，我们发现装箱其实就是调用了 包装类的<code>valueOf()</code>方法，拆箱其实就是调用了 <code>xxxValue()</code>方法。</p><p>因此，</p><ul><li><code>Integer i = 10</code> 等价于 <code>Integer i = Integer.valueOf(10)</code></li><li><code>int n = i</code> 等价于 <code>int n = i.intValue()</code>;</li></ul><p>注意：<strong>如果频繁拆装箱的话，也会严重影响系统的性能。我们应该尽量避免不必要的拆装箱操作。</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">sum</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 应该使用 long 而不是 Long</span></span><br><span class="line">    <span class="type">Long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">long</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= Integer.MAX_VALUE; i++)</span><br><span class="line">        sum += i;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="为什么浮点数运算的时候会有精度丢失的风险？"><a href="#为什么浮点数运算的时候会有精度丢失的风险？" class="headerlink" title="为什么浮点数运算的时候会有精度丢失的风险？"></a>为什么浮点数运算的时候会有精度丢失的风险？</h3><p>浮点数运算精度丢失代码演示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">2.0f</span> - <span class="number">1.9f</span>;</span><br><span class="line"><span class="type">float</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1.8f</span> - <span class="number">1.7f</span>;</span><br><span class="line">System.out.println(a);<span class="comment">// 0.100000024</span></span><br><span class="line">System.out.println(b);<span class="comment">// 0.099999905</span></span><br><span class="line">System.out.println(a == b);<span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>为什么会出现这个问题呢？</p><p>这个和计算机保存浮点数的机制有很大关系。我们知道计算机是二进制的，而且计算机在表示一个数字时，宽度是有限的，无限循环的小数存储在计算机时，只能被截断，所以就会导致小数精度发生损失的情况。这也就是解释了为什么浮点数没有办法用二进制精确表示。</p><p>就比如说十进制下的 0.2 就没办法精确转换成二进制小数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0.2 转换为二进制数的过程为，不断乘以 2，直到不存在小数为止，</span></span><br><span class="line"><span class="comment">// 在这个计算过程中，得到的整数部分从上到下排列就是二进制的结果。</span></span><br><span class="line"><span class="number">0.2</span> * <span class="number">2</span> = <span class="number">0.4</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">0.4</span> * <span class="number">2</span> = <span class="number">0.8</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">0.8</span> * <span class="number">2</span> = <span class="number">1.6</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">0.6</span> * <span class="number">2</span> = <span class="number">1.2</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">0.2</span> * <span class="number">2</span> = <span class="number">0.4</span> -&gt; <span class="number">0</span>（发生循环）</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>关于浮点数的更多内容，建议看一下<a href="http://kaito-kidd.com/2018/08/08/computer-system-float-point/">计算机系统基础（四）浮点数</a>这篇文章。</p><h3 id="如何解决浮点数运算的精度丢失问题？"><a href="#如何解决浮点数运算的精度丢失问题？" class="headerlink" title="如何解决浮点数运算的精度丢失问题？"></a>如何解决浮点数运算的精度丢失问题？</h3><p><code>BigDecimal</code> 可以实现对浮点数的运算，不会造成精度丢失。通常情况下，大部分需要浮点数精确运算结果的业务场景（比如涉及到钱的场景）都是通过 <code>BigDecimal</code> 来做的。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;1.0&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;0.9&quot;</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="string">&quot;0.8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">x</span> <span class="operator">=</span> a.subtract(b);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">y</span> <span class="operator">=</span> b.subtract(c);</span><br><span class="line"></span><br><span class="line">System.out.println(x); <span class="comment">/* 0.1 */</span></span><br><span class="line">System.out.println(y); <span class="comment">/* 0.1 */</span></span><br><span class="line">System.out.println(Objects.equals(x, y)); <span class="comment">/* true */</span></span><br></pre></td></tr></table></figure><p>关于 <code>BigDecimal</code> 的详细介绍，可以看看我写的这篇文章：<a href="https://javaguide.cn/java/basis/bigdecimal.html">BigDecimal 详解</a>。</p><h3 id="超过-long-整型的数据应该如何表示？"><a href="#超过-long-整型的数据应该如何表示？" class="headerlink" title="超过 long 整型的数据应该如何表示？"></a>超过 long 整型的数据应该如何表示？</h3><p>基本数值类型都有一个表达范围，如果超过这个范围就会有数值溢出的风险。</p><p>在 Java 中，64 位 long 整型是最大的整数类型。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">l</span> <span class="operator">=</span> Long.MAX_VALUE;</span><br><span class="line">System.out.println(l + <span class="number">1</span>); <span class="comment">// -9223372036854775808</span></span><br><span class="line">System.out.println(l + <span class="number">1</span> == Long.MIN_VALUE); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><code>BigInteger</code> 内部使用 <code>int[]</code> 数组来存储任意大小的整形数据。</p><p>相对于常规整数类型的运算来说，<code>BigInteger</code> 运算的效率会相对较低。</p><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="成员变量与局部变量的区别？"><a href="#成员变量与局部变量的区别？" class="headerlink" title="成员变量与局部变量的区别？"></a>成员变量与局部变量的区别？</h3><p><img src="https://s2.loli.net/2023/09/24/MytLQsiPbnovRUw.png" alt="成员变量 vs 局部变量"></p><ul><li><strong>语法形式</strong>：从语法形式上看，成员变量是属于类的，而局部变量是在代码块或方法中定义的变量或是方法的参数；成员变量可以被 <code>public</code>,<code>private</code>,<code>static</code> 等修饰符所修饰，而局部变量不能被访问控制修饰符及 <code>static</code> 所修饰；但是，成员变量和局部变量都能被 <code>final</code> 所修饰。</li><li><strong>存储方式</strong>：从变量在内存中的存储方式来看，如果成员变量是使用 <code>static</code> 修饰的，那么这个成员变量是属于类的，如果没有使用 <code>static</code> 修饰，这个成员变量是属于实例的。而对象存在于堆内存，局部变量则存在于栈内存。</li><li><strong>生存时间</strong>：从变量在内存中的生存时间上看，成员变量是对象的一部分，它随着对象的创建而存在，而局部变量随着方法的调用而自动生成，随着方法的调用结束而消亡。</li><li><strong>默认值</strong>：从变量是否有默认值来看，成员变量如果没有被赋初始值，则会自动以类型的默认值而赋值（一种情况例外:被 <code>final</code> 修饰的成员变量也必须显式地赋值），而局部变量则不会自动赋值。</li></ul><p>成员变量与局部变量代码示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VariableExample</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 成员变量</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 方法中的局部变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// 栈中分配的局部变量</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span>; <span class="comment">// 栈中分配的局部变量</span></span><br><span class="line">        System.out.println(num1);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的方法中的局部变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">(<span class="type">int</span> num2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> num2 + <span class="number">10</span>; <span class="comment">// 栈中分配的局部变量</span></span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造方法中的局部变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">VariableExample</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name; <span class="comment">// 对成员变量进行赋值</span></span><br><span class="line">        <span class="built_in">this</span>.age = age; <span class="comment">// 对成员变量进行赋值</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num3</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">// 栈中分配的局部变量</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;Hello, &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;!&quot;</span>; <span class="comment">// 栈中分配的局部变量</span></span><br><span class="line">        System.out.println(num3);</span><br><span class="line">        System.out.println(str2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="静态变量有什么作用？"><a href="#静态变量有什么作用？" class="headerlink" title="静态变量有什么作用？"></a>静态变量有什么作用？</h3><p>静态变量也就是被 <code>static</code> 关键字修饰的变量。它可以被类的所有实例共享，无论一个类创建了多少个对象，它们都共享同一份静态变量。也就是说，静态变量只会被分配一次内存，即使创建多个对象，这样可以节省内存。</p><p>静态变量是通过类名来访问的，例如<code>StaticVariableExample.staticVar</code>（如果被 <code>private</code>关键字修饰就无法这样访问了）。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticVariableExample</span> &#123;</span><br><span class="line">    <span class="comment">// 静态变量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">staticVar</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通常情况下，静态变量会被 <code>final</code> 关键字修饰成为常量。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConstantVariableExample</span> &#123;</span><br><span class="line">    <span class="comment">// 常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">constantVar</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="字符型常量和字符串常量的区别"><a href="#字符型常量和字符串常量的区别" class="headerlink" title="字符型常量和字符串常量的区别?"></a>字符型常量和字符串常量的区别?</h3><ul><li><strong>形式</strong> : 字符常量是单引号引起的一个字符，字符串常量是双引号引起的 0 个或若干个字符。</li><li><strong>含义</strong> : 字符常量相当于一个整型值( ASCII 值),可以参加表达式运算; 字符串常量代表一个地址值(该字符串在内存中存放位置)。</li><li><strong>占内存大小</strong>：字符常量只占 2 个字节; 字符串常量占若干个字节。</li></ul><p>⚠️ 注意 <code>char</code> 在 Java 中占两个字节。</p><p>字符型常量和字符串常量代码示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringExample</span> &#123;</span><br><span class="line">    <span class="comment">// 字符型常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span> <span class="variable">LETTER_A</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">GREETING_MESSAGE</span> <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;字符型常量占用的字节数为：&quot;</span>+Character.BYTES);</span><br><span class="line">        System.out.println(<span class="string">&quot;字符串常量占用的字节数为：&quot;</span>+GREETING_MESSAGE.getBytes().length);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">字符型常量占用的字节数为：2</span><br><span class="line">字符串常量占用的字节数为：13</span><br></pre></td></tr></table></figure><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><h3 id="什么是方法的返回值-方法有哪几种类型？"><a href="#什么是方法的返回值-方法有哪几种类型？" class="headerlink" title="什么是方法的返回值?方法有哪几种类型？"></a>什么是方法的返回值?方法有哪几种类型？</h3><p><strong>方法的返回值</strong> 是指我们获取到的某个方法体中的代码执行后产生的结果！（前提是该方法可能产生结果）。返回值的作用是接收出结果，使得它可以用于其他的操作！</p><p>我们可以按照方法的返回值和参数类型将方法分为下面这几种：</p><p><strong>1、无参数无返回值的方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 下面这个方法也没有返回值，虽然用到了 return</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (...) &#123;</span><br><span class="line">        <span class="comment">// 表示结束方法的执行,下方的输出语句不会执行</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2、有参数无返回值的方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">f2</span><span class="params">(Parameter <span class="number">1</span>, ..., Parameter n)</span> &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3、有返回值无参数的方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">f3</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4、有返回值有参数的方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">f4</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="静态方法为什么不能调用非静态成员"><a href="#静态方法为什么不能调用非静态成员" class="headerlink" title="静态方法为什么不能调用非静态成员?"></a>静态方法为什么不能调用非静态成员?</h3><p>这个需要结合 JVM 的相关知识，主要原因如下：</p><ol><li>静态方法是属于类的，在类加载的时候就会分配内存，可以通过类名直接访问。而非静态成员属于实例对象，只有在对象实例化之后才存在，需要通过类的实例对象去访问。</li><li>在类的非静态成员不存在的时候静态方法就已经存在了，此时调用在内存中还不存在的非静态成员，属于非法操作。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="comment">// 定义一个字符型常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span> <span class="variable">LETTER_A</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义一个字符串常量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">GREETING_MESSAGE</span> <span class="operator">=</span> <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 输出字符型常量的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;字符型常量的值为：&quot;</span> + LETTER_A);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出字符串常量的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;字符串常量的值为：&quot;</span> + GREETING_MESSAGE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="静态方法和实例方法有何不同？"><a href="#静态方法和实例方法有何不同？" class="headerlink" title="静态方法和实例方法有何不同？"></a>静态方法和实例方法有何不同？</h3><p><strong>1、调用方式</strong></p><p>在外部调用静态方法时，可以使用 <code>类名.方法名</code> 的方式，也可以使用 <code>对象.方法名</code> 的方式，而实例方法只有后面这种方式。也就是说，<strong>调用静态方法可以无需创建对象</strong> 。</p><p>不过，需要注意的是一般不建议使用 <code>对象.方法名</code> 的方式来调用静态方法。这种方式非常容易造成混淆，静态方法不属于类的某个对象而是属于这个类。</p><p>因此，一般建议使用 <code>类名.方法名</code> 的方式来调用静态方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staicMethod</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="comment">//......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        <span class="comment">// 调用实例方法</span></span><br><span class="line">        person.method();</span><br><span class="line">        <span class="comment">// 调用静态方法</span></span><br><span class="line">        Person.staicMethod()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2、访问类成员是否存在限制</strong></p><p>静态方法在访问本类的成员时，只允许访问静态成员（即静态成员变量和静态方法），不允许访问实例成员（即实例成员变量和实例方法），而实例方法不存在这个限制。</p><h3 id="重载和重写有什么区别？"><a href="#重载和重写有什么区别？" class="headerlink" title="重载和重写有什么区别？"></a>重载和重写有什么区别？</h3><blockquote><p>重载就是同样的一个方法能够根据输入数据的不同，做出不同的处理</p><p>重写就是当子类继承自父类的相同方法，输入数据一样，但要做出有别于父类的响应时，你就要覆盖父类方法</p></blockquote><h4 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h4><p>发生在同一个类中（或者父类和子类之间），方法名必须相同，参数类型不同、个数不同、顺序不同，方法返回值和访问修饰符可以不同。</p><p>《Java 核心技术》这本书是这样介绍重载的：</p><blockquote><p>如果多个方法(比如 <code>StringBuilder</code> 的构造方法)有相同的名字、不同的参数， 便产生了重载。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;HelloWorld&quot;</span>);</span><br></pre></td></tr></table></figure><p>编译器必须挑选出具体执行哪个方法，它通过用各个方法给出的参数类型与特定方法调用所使用的值类型进行匹配来挑选出相应的方法。 如果编译器找不到匹配的参数， 就会产生编译时错误， 因为根本不存在匹配， 或者没有一个比其他的更好(这个过程被称为重载解析(overloading resolution))。</p><p>Java 允许重载任何方法， 而不只是构造器方法。</p></blockquote><p>综上：重载就是同一个类中多个同名方法根据不同的传参来执行不同的逻辑处理。</p><h4 id="重写"><a href="#重写" class="headerlink" title="重写"></a>重写</h4><p>重写发生在运行期，是子类对父类的允许访问的方法的实现过程进行重新编写。</p><ol><li>方法名、参数列表必须相同，子类方法返回值类型应比父类方法返回值类型更小或相等，抛出的异常范围小于等于父类，访问修饰符范围大于等于父类。</li><li>如果父类方法访问修饰符为 <code>private/final/static</code> 则子类就不能重写该方法，但是被 <code>static</code> 修饰的方法能够被再次声明。</li><li>构造方法无法被重写</li></ol><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>综上：<strong>重写就是子类对父类方法的重新改造，外部样子不能改变，内部逻辑可以改变。</strong></p><table><thead><tr><th align="left">区别点</th><th align="left">重载方法</th><th align="left">重写方法</th></tr></thead><tbody><tr><td align="left">发生范围</td><td align="left">同一个类</td><td align="left">子类</td></tr><tr><td align="left">参数列表</td><td align="left">必须修改</td><td align="left">一定不能修改</td></tr><tr><td align="left">返回类型</td><td align="left">可修改</td><td align="left">子类方法返回值类型应比父类方法返回值类型更小或相等</td></tr><tr><td align="left">异常</td><td align="left">可修改</td><td align="left">子类方法声明抛出的异常类应比父类方法声明抛出的异常类更小或相等；</td></tr><tr><td align="left">访问修饰符</td><td align="left">可修改</td><td align="left">一定不能做更严格的限制（可以降低限制）</td></tr><tr><td align="left">发生阶段</td><td align="left">编译期</td><td align="left">运行期</td></tr></tbody></table><p><strong>方法的重写要遵循“两同两小一大”</strong>（以下内容摘录自《疯狂 Java 讲义》，<a href="https://github.com/Snailclimb/JavaGuide/issues/892">issue#892</a> ）：</p><ul><li>“两同”即方法名相同、形参列表相同；</li><li>“两小”指的是子类方法返回值类型应比父类方法返回值类型更小或相等，子类方法声明抛出的异常类应比父类方法声明抛出的异常类更小或相等；</li><li>“一大”指的是子类方法的访问权限应比父类方法的访问权限更大或相等。</li></ul><p>⭐️ 关于 <strong>重写的返回值类型</strong> 这里需要额外多说明一下，上面的表述不太清晰准确：如果方法的返回类型是 void 和基本数据类型，则返回值重写时不可修改。但是如果方法的返回值是引用类型，重写时是可以返回该引用类型的子类的。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hero</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;超级英雄&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuperMan</span> <span class="keyword">extends</span> <span class="title class_">Hero</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;超人&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Hero <span class="title function_">hero</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Hero</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuperSuperMan</span> <span class="keyword">extends</span> <span class="title class_">SuperMan</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">name</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;超级超级英雄&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> SuperMan <span class="title function_">hero</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SuperMan</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="什么是可变长参数？"><a href="#什么是可变长参数？" class="headerlink" title="什么是可变长参数？"></a>什么是可变长参数？</h3><p>从 Java5 开始，Java 支持定义可变长参数，所谓可变长参数就是允许在调用方法时传入不定长度的参数。就比如下面的这个 <code>printVariable</code> 方法就可以接受 0 个或者多个参数。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">   <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外，可变参数只能作为函数的最后一个参数，但其前面可以有也可以没有任何其他参数。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">(String arg1, String... args)</span> &#123;</span><br><span class="line">   <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>遇到方法重载的情况怎么办呢？会优先匹配固定参数还是可变参数的方法呢？</strong></p><p>答案是会优先匹配固定参数的方法，因为固定参数的方法匹配度更高。</p><p>我们通过下面这个例子来证明一下。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 微信搜 JavaGuide 回复&quot;面试突击&quot;即可免费领取个人原创的 Java 面试手册</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Guide哥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2021/12/13 16:52</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VariableLengthArgument</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printVariable</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String s : args) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printVariable</span><span class="params">(String arg1, String arg2)</span> &#123;</span><br><span class="line">        System.out.println(arg1 + arg2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        printVariable(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">        printVariable(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ab</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br></pre></td></tr></table></figure><p>另外，Java 的可变参数编译后实际会被转换成一个数组，我们看编译后生成的 <code>class</code>文件就可以看出来了。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VariableLengthArgument</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printVariable</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">        String[] var1 = args;</span><br><span class="line">        <span class="type">int</span> <span class="variable">var2</span> <span class="operator">=</span> args.length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">var3</span> <span class="operator">=</span> <span class="number">0</span>; var3 &lt; var2; ++var3) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> var1[var3];</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>What is the difference between JDK and JRE?：<a href="https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre">https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre</a></li><li>Oracle vs OpenJDK：<a href="https://www.educba.com/oracle-vs-openjdk/">https://www.educba.com/oracle-vs-openjdk/</a></li><li>Differences between Oracle JDK and OpenJDK：<a href="https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk">https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk</a></li><li>彻底弄懂 Java 的移位操作符：<a href="https://juejin.cn/post/6844904025880526861">https://juejin.cn/post/6844904025880526861</a></li></ul><!-- @include: @article-footer.snippet.md -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java练习答案</title>
      <link href="/posts/f7dd5a3c.html"/>
      <url>/posts/f7dd5a3c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-Java-语言有哪些特点"><a href="#1-Java-语言有哪些特点" class="headerlink" title="1. Java 语言有哪些特点?"></a>1. Java 语言有哪些特点?</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">简单易学；</span><br><span class="line">面向对象：（封装，继承，多态）；</span><br><span class="line">平台无关性（ Java 虚拟机实现平台无关性）；</span><br><span class="line">支持多线程（ C++ 语言没有内置的多线程机制，因此必须调用操作系统的多线程功能来进行多线程程序设计，而 Java 语言却提供了多线程支持）；</span><br><span class="line">可靠性（具备异常处理和自动内存管理机制）；</span><br><span class="line">安全性（Java 语言本身的设计就提供了多重安全防护机制如访问权限修饰符、限制程序直接访问操作系统资源）；</span><br><span class="line">高效性（通过 Just In Time 编译器等技术的优化，Java 语言的运行效率还是非常不错的）；</span><br><span class="line">支持网络编程并且很方便；</span><br><span class="line">编译与解释并存；</span><br></pre></td></tr></table></figure><h3 id="2-为什么说-Java-语言“编译与解释并存”？"><a href="#2-为什么说-Java-语言“编译与解释并存”？" class="headerlink" title="2. 为什么说 Java 语言“编译与解释并存”？"></a>2. 为什么说 Java 语言“编译与解释并存”？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是因为 Java 语言既具有编译型语言的特征，也具有解释型语言的特征。因为 Java 程序要经过先编译，后解释两个步骤，由 Java 编写的程序需要先经过编译步骤，生成字节码（.class 文件），这种字节码必须由 Java 解释器来解释执行。</span><br></pre></td></tr></table></figure><h3 id="3-Java-和-C-的区别"><a href="#3-Java-和-C-的区别" class="headerlink" title="3. Java 和 C++ 的区别?"></a>3. Java 和 C++ 的区别?</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">我知道很多人没学过 C++，但是面试官就是没事喜欢拿咱们 Java 和 C++ 比呀！没办法！！！就算没学过 C++，也要记下来。</span><br><span class="line"></span><br><span class="line">虽然，Java 和 C++ 都是面向对象的语言，都支持封装、继承和多态，但是，它们还是有挺多不相同的地方：</span><br><span class="line"></span><br><span class="line">Java 不提供指针来直接访问内存，程序内存更加安全</span><br><span class="line">Java 的类是单继承的，C++ 支持多重继承；虽然 Java 的类不可以多继承，但是接口可以多继承。</span><br><span class="line">Java 有自动内存管理垃圾回收机制(GC)，不需要程序员手动释放无用内存。</span><br><span class="line">C ++同时支持方法重载和操作符重载，但是 Java 只支持方法重载（操作符重载增加了复杂性，这与 Java 最初的设计思想不符）。</span><br></pre></td></tr></table></figure><h3 id="4-注释有哪几种形式？"><a href="#4-注释有哪几种形式？" class="headerlink" title="4 .注释有哪几种形式？"></a>4 .注释有哪几种形式？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">单行注释：通常用于解释方法内某单行代码的作用。</span><br><span class="line"></span><br><span class="line">多行注释：通常用于解释一段代码的作用。</span><br><span class="line"></span><br><span class="line">文档注释：通常用于生成 Java 开发文档。</span><br><span class="line"></span><br><span class="line">用的比较多的还是单行注释和文档注释，多行注释在实际开发中使用的相对较少。</span><br></pre></td></tr></table></figure><h3 id="5-标识符和关键字的区别是什么？"><a href="#5-标识符和关键字的区别是什么？" class="headerlink" title="5.标识符和关键字的区别是什么？"></a>5.标识符和关键字的区别是什么？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在我们编写程序的时候，需要大量地为程序、类、变量、方法等取名字，于是就有了 标识符 。简单来说， 标识符就是一个名字 。</span><br><span class="line"></span><br><span class="line">有一些标识符，Java 语言已经赋予了其特殊的含义，只能用于特定的地方，这些特殊的标识符就是 关键字 。简单来说，关键字是被赋予特殊含义的标识符 。比如，在我们的日常生活中，如果我们想要开一家店，则要给这个店起一个名字，起的这个“名字”就叫标识符。但是我们店的名字不能叫“警察局”，因为“警察局”这个名字已经被赋予了特殊的含义，而“警察局”就是我们日常生活中的关键字。</span><br></pre></td></tr></table></figure><h3 id="6-continue、break-和-return-的区别是什么？"><a href="#6-continue、break-和-return-的区别是什么？" class="headerlink" title="6 .continue、break 和 return 的区别是什么？"></a>6 .continue、break 和 return 的区别是什么？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在循环结构中，当循环条件不满足或者循环次数达到要求时，循环会正常结束。但是，有时候可能需要在循环的过程中，当发生了某种条件之后 ，提前终止循环，这就需要用到下面几个关键词：</span><br><span class="line"></span><br><span class="line"><span class="keyword">continue</span>：指跳出当前的这一次循环，继续下一次循环。</span><br><span class="line"><span class="keyword">break</span>：指跳出整个循环体，继续执行循环下面的语句。</span><br><span class="line"><span class="keyword">return</span> 用于跳出所在方法，结束该方法的运行。<span class="keyword">return</span> 一般有两种用法：</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span>;：直接使用 <span class="keyword">return</span> 结束方法执行，用于没有返回值函数的方法</span><br><span class="line"><span class="keyword">return</span> value;：<span class="keyword">return</span> 一个特定值，用于有返回值函数的方法</span><br></pre></td></tr></table></figure><h3 id="7-Java-中的几种基本数据类型了解么？"><a href="#7-Java-中的几种基本数据类型了解么？" class="headerlink" title="7. Java 中的几种基本数据类型了解么？"></a>7. Java 中的几种基本数据类型了解么？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Java 中有 <span class="number">8</span> 种基本数据类型，分别为：</span><br><span class="line"></span><br><span class="line"><span class="number">6</span> 种数字类型：</span><br><span class="line"><span class="number">4</span> 种整数型：<span class="type">byte</span>、<span class="type">short</span>、<span class="type">int</span>、<span class="type">long</span></span><br><span class="line"><span class="number">2</span> 种浮点型：<span class="type">float</span>、<span class="type">double</span></span><br><span class="line"><span class="number">1</span> 种字符类型：<span class="type">char</span></span><br><span class="line"><span class="number">1</span> 种布尔型：<span class="type">boolean</span>。</span><br></pre></td></tr></table></figure><h3 id="8-基本类型和包装类型的区别？"><a href="#8-基本类型和包装类型的区别？" class="headerlink" title="8 .基本类型和包装类型的区别？"></a>8 .基本类型和包装类型的区别？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">基本类型和包装类型的区别？</span><br><span class="line">基本类型 vs 包装类型</span><br><span class="line"></span><br><span class="line">用途：除了定义一些常量和局部变量之外，我们在其他地方比如方法参数、对象属性中很少会使用基本类型来定义变量。并且，包装类型可用于泛型，而基本类型不可以。</span><br><span class="line">存储方式：基本数据类型的局部变量存放在 Java 虚拟机栈中的局部变量表中，基本数据类型的成员变量（未被 <span class="keyword">static</span> 修饰 ）存放在 Java 虚拟机的堆中。包装类型属于对象类型，我们知道几乎所有对象实例都存在于堆中。</span><br><span class="line">占用空间：相比于包装类型（对象类型）， 基本数据类型占用的空间往往非常小。</span><br><span class="line">默认值：成员变量包装类型不赋值就是 <span class="literal">null</span> ，而基本类型有默认值且不是 <span class="literal">null</span>。</span><br><span class="line">比较方式：对于基本数据类型来说，== 比较的是值。对于包装数据类型来说，== 比较的是对象的内存地址。所有整型包装类对象之间值的比较，全部使用 equals() 方法。</span><br></pre></td></tr></table></figure><h3 id="9-什么是自动拆装箱？"><a href="#9-什么是自动拆装箱？" class="headerlink" title="9 . 什么是自动拆装箱？"></a>9 . 什么是自动拆装箱？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">装箱：将基本类型用它们对应的引用类型包装起来；</span><br><span class="line">拆箱：将包装类型转换为基本数据类型；</span><br></pre></td></tr></table></figure><h3 id="10-为什么浮点数运算的时候会有精度丢失的风险？"><a href="#10-为什么浮点数运算的时候会有精度丢失的风险？" class="headerlink" title="10.为什么浮点数运算的时候会有精度丢失的风险？"></a>10.为什么浮点数运算的时候会有精度丢失的风险？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这个和计算机保存浮点数的机制有很大关系。我们知道计算机是二进制的，而且计算机在表示一个数字时，宽度是有限的，无限循环的小数存储在计算机时，只能被截断，所以就会导致小数精度发生损失的情况。这也就是解释了为什么浮点数没有办法用二进制精确表示。</span><br><span class="line"></span><br><span class="line">就比如说十进制下的 <span class="number">0.2</span> 就没办法精确转换成二进制小数：</span><br></pre></td></tr></table></figure><h3 id="11-如何解决浮点数运算的精度丢失问题？"><a href="#11-如何解决浮点数运算的精度丢失问题？" class="headerlink" title="11.如何解决浮点数运算的精度丢失问题？"></a>11.如何解决浮点数运算的精度丢失问题？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BigDecimal 可以实现对浮点数的运算，不会造成精度丢失。通常情况下，大部分需要浮点数精确运算结果的业务场景（比如涉及到钱的场景）都是通过 BigDecimal 来做的。</span><br></pre></td></tr></table></figure><h3 id="1-2-静态变量有什么作用？"><a href="#1-2-静态变量有什么作用？" class="headerlink" title="1 2.静态变量有什么作用？"></a>1 2.静态变量有什么作用？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">静态变量也就是被 <span class="keyword">static</span> 关键字修饰的变量。它可以被类的所有实例共享，无论一个类创建了多少个对象，它们都共享同一份静态变量。也就是说，静态变量只会被分配一次内存，即使创建多个对象，这样可以节省内存。</span><br></pre></td></tr></table></figure><h3 id="13-字符型常量和字符串常量的区别"><a href="#13-字符型常量和字符串常量的区别" class="headerlink" title="13.字符型常量和字符串常量的区别?"></a>13.字符型常量和字符串常量的区别?</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">形式 : 字符常量是单引号引起的一个字符，字符串常量是双引号引起的 <span class="number">0</span> 个或若干个字符。</span><br><span class="line">含义 : 字符常量相当于一个整型值( ASCII 值),可以参加表达式运算; 字符串常量代表一个地址值(该字符串在内存中存放位置)。</span><br><span class="line">占内存大小：字符常量只占 <span class="number">2</span> 个字节; 字符串常量占若干个字节。</span><br><span class="line">⚠️ 注意 <span class="type">char</span> 在 Java 中占两个字节</span><br></pre></td></tr></table></figure><h3 id="14-面向对象当中的三大特征？"><a href="#14-面向对象当中的三大特征？" class="headerlink" title="14 . 面向对象当中的三大特征？"></a>14 . 面向对象当中的三大特征？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">封装  继承  多态</span><br></pre></td></tr></table></figure><h3 id="15-里面的封装是什么意思？-有什么作用？"><a href="#15-里面的封装是什么意思？-有什么作用？" class="headerlink" title="15 . 里面的封装是什么意思？ 有什么作用？"></a>15 . 里面的封装是什么意思？ 有什么作用？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>提高代码的安全性</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>提高代码的复用性</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>“高内聚”：封装细节，便于修改内部代码，提高可维护性</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>“低耦合”：简化外部调用，便于调用者使用，便于扩展和写作。</span><br><span class="line">    </span><br><span class="line">    Java中<span class="number">4</span>种“访问控制符”。分别为：<span class="keyword">private</span>、<span class="keyword">default</span>、<span class="keyword">protected</span>、<span class="keyword">public</span>，他们说明了面相对象的封装性。</span><br></pre></td></tr></table></figure><h3 id="16-面向对象和面向过程的区别？"><a href="#16-面向对象和面向过程的区别？" class="headerlink" title="16.面向对象和面向过程的区别？"></a>16.面向对象和面向过程的区别？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">面向过程把解决问题的过程拆成一个个方法，通过一个个方法的执行解决问题。</span><br><span class="line">面向对象会先抽象出对象，然后用对象执行方法的方式解决问题。</span><br></pre></td></tr></table></figure><h3 id="17-创建一个对象用什么运算符-对象实体与对象引用有何不同"><a href="#17-创建一个对象用什么运算符-对象实体与对象引用有何不同" class="headerlink" title="17.创建一个对象用什么运算符?对象实体与对象引用有何不同?"></a>17.创建一个对象用什么运算符?对象实体与对象引用有何不同?</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 运算符，<span class="keyword">new</span> 创建对象实例（对象实例在 内存中），对象引用指向对象实例（对象引用存放在栈内存中）。</span><br><span class="line"></span><br><span class="line">一个对象引用可以指向 <span class="number">0</span> 个或 <span class="number">1</span> 个对象（一根绳子可以不系气球，也可以系一个气球）；</span><br><span class="line">一个对象可以有 n 个引用指向它（可以用 n 条绳子系住一个气球）。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java测试</title>
      <link href="/posts/4a9dbd8a.html"/>
      <url>/posts/4a9dbd8a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-Java-语言有哪些特点-至少列出5条-6分"><a href="#1-Java-语言有哪些特点-至少列出5条-6分" class="headerlink" title="1. Java 语言有哪些特点?(至少列出5条)   6分"></a>1. Java 语言有哪些特点?(至少列出5条)   6分</h2><h2 id="2-为什么说-Java-语言“编译与解释并存”？-6分"><a href="#2-为什么说-Java-语言“编译与解释并存”？-6分" class="headerlink" title="2. 为什么说 Java 语言“编译与解释并存”？  6分"></a>2. 为什么说 Java 语言“编译与解释并存”？  6分</h2><h2 id="3-Java-和-C-的区别-6分"><a href="#3-Java-和-C-的区别-6分" class="headerlink" title="3. Java 和 C++ 的区别?   6分"></a>3. Java 和 C++ 的区别?   6分</h2><h2 id="4-注释有哪几种形式？-3种-6分"><a href="#4-注释有哪几种形式？-3种-6分" class="headerlink" title="4 .注释有哪几种形式？(3种)   6分"></a>4 .注释有哪几种形式？(3种)   6分</h2><h2 id="5-标识符和关键字的区别是什么？-4分"><a href="#5-标识符和关键字的区别是什么？-4分" class="headerlink" title="5.标识符和关键字的区别是什么？  4分"></a>5.标识符和关键字的区别是什么？  4分</h2><h2 id="6-continue、break-和-return-的区别是什么？-6分"><a href="#6-continue、break-和-return-的区别是什么？-6分" class="headerlink" title="6 .continue、break 和 return 的区别是什么？   6分"></a>6 .continue、break 和 return 的区别是什么？   6分</h2><h2 id="7-Java-中的几种基本数据类型了解么？-8个-6分"><a href="#7-Java-中的几种基本数据类型了解么？-8个-6分" class="headerlink" title="7. Java 中的几种基本数据类型了解么？(8个)  6分"></a>7. Java 中的几种基本数据类型了解么？(8个)  6分</h2><h2 id="8-基本类型和包装类型的区别-？-6分"><a href="#8-基本类型和包装类型的区别-？-6分" class="headerlink" title="8 .基本类型和包装类型的区别 ？   6分"></a>8 .基本类型和包装类型的区别 ？   6分</h2><h2 id="9-什么是自动拆装箱？-6分-不会描述，可以代码写代码演示"><a href="#9-什么是自动拆装箱？-6分-不会描述，可以代码写代码演示" class="headerlink" title="9 . 什么是自动拆装箱？  6分 (不会描述，可以代码写代码演示)"></a>9 . 什么是自动拆装箱？  6分 (不会描述，可以代码写代码演示)</h2><h2 id="10-为什么浮点数运算的时候会有精度丢失的风险？-6分"><a href="#10-为什么浮点数运算的时候会有精度丢失的风险？-6分" class="headerlink" title="10.为什么浮点数运算的时候会有精度丢失的风险？  6分"></a>10.为什么浮点数运算的时候会有精度丢失的风险？  6分</h2><h2 id="11-如何解决浮点数运算的精度丢失问题？-6分"><a href="#11-如何解决浮点数运算的精度丢失问题？-6分" class="headerlink" title="11.如何解决浮点数运算的精度丢失问题？  6分"></a>11.如何解决浮点数运算的精度丢失问题？  6分</h2><h2 id="1-2-静态变量有什么作用？-6分"><a href="#1-2-静态变量有什么作用？-6分" class="headerlink" title="1 2.静态变量有什么作用？  6分"></a>1 2.静态变量有什么作用？  6分</h2><h2 id="13-字符型常量和字符串常量的区别-6分"><a href="#13-字符型常量和字符串常量的区别-6分" class="headerlink" title="13.字符型常量和字符串常量的区别?  6分"></a>13.字符型常量和字符串常量的区别?  6分</h2><h2 id="14-面向对象当中的三大特征？-6分"><a href="#14-面向对象当中的三大特征？-6分" class="headerlink" title="14 . 面向对象当中的三大特征？  6分"></a>14 . 面向对象当中的三大特征？  6分</h2><h2 id="15-里面的封装是什么意思？-有什么作用？-6分"><a href="#15-里面的封装是什么意思？-有什么作用？-6分" class="headerlink" title="15 . 里面的封装是什么意思？ 有什么作用？  6分"></a>15 . 里面的封装是什么意思？ 有什么作用？  6分</h2><h2 id="16-面向对象和面向过程的区别？-6分"><a href="#16-面向对象和面向过程的区别？-6分" class="headerlink" title="16.面向对象和面向过程的区别？  6分"></a>16.面向对象和面向过程的区别？  6分</h2><h2 id="17-创建一个对象用什么运算符-对象实体与对象引用有何不同-6分"><a href="#17-创建一个对象用什么运算符-对象实体与对象引用有何不同-6分" class="headerlink" title="17.创建一个对象用什么运算符?对象实体与对象引用有何不同?  6分"></a>17.创建一个对象用什么运算符?对象实体与对象引用有何不同?  6分</h2>]]></content>
      
      
      <categories>
          
          <category> 测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Go Gin安装解决国内go get 方式安装超时问题</title>
      <link href="/posts/75c1662c.html"/>
      <url>/posts/75c1662c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Go-Gin安装解决国内go-get-方式安装超时问题"><a href="#Go-Gin安装解决国内go-get-方式安装超时问题" class="headerlink" title="Go Gin安装解决国内go get 方式安装超时问题"></a>Go Gin安装解决国内go get 方式安装超时问题</h2><p>在国内直接用官网推荐的下面这个命令大概率是安装不成功的。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> get -u github.com/gin-gonic/gin</span><br></pre></td></tr></table></figure><p>这时可以在你的项目目录下执行下面几个命令：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> env -w GO111MODULE=on </span><br><span class="line"><span class="keyword">go</span> env -w GOPROXY=https:<span class="comment">//goproxy.cn,direct</span></span><br><span class="line"><span class="keyword">go</span> mod init YourProjectName</span><br><span class="line"><span class="keyword">go</span> get -u github.com/gin-gonic/gin</span><br></pre></td></tr></table></figure><p>这样就能将 gin以module的方式安装到你的项目的Lib里面了。</p><p>如果执行完上面的命令没报错，但在goland里 <code>import gin</code>时，像下面一样飘红：</p><p><img src="https://s2.loli.net/2023/07/28/aqzoBNxO2Hw15Xr.webp" alt="img"></p><p>需要把下面这个Enable Go Modules integration给勾选上：</p><p><img src="https://s2.loli.net/2023/07/28/aIpmStURLgHZwCq.webp" alt="img"></p><p>再运行就可以正常起来了：</p><p><img src="https://s2.loli.net/2023/07/28/8ahORNPFyVTJKHb.webp" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>00-golang介绍</title>
      <link href="/posts/38aa84eb.html"/>
      <url>/posts/38aa84eb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="第-1-章-开篇综述"><a href="#第-1-章-开篇综述" class="headerlink" title="第 1 章 开篇综述"></a>第 1 章 开篇综述</h1><h2 id="1-1-语言介绍"><a href="#1-1-语言介绍" class="headerlink" title="1.1 语言介绍"></a>1.1 语言介绍</h2><blockquote><p>Go 语言由谷歌(Google)公司于 2009 年正式对外发布，设计 Go 语言的初衷都是为了满足 Google 公司的需求。主要目标是“兼具 Python 等动态语言的开发速度和 C&#x2F;C++等编译型语言的性能与安全性”，旨在不损失应用程序性能的情况下降低代码的复杂性，具有“部署简单、并发性好、执行性能好”等优势。最主要还是为了并发而生，并发是基于<code>goroutine</code>的，<code>goroutine</code>类似于线程，但并非线程，可以将<code>goroutine</code>理解为一种轻量级线程。Go 语言运行时会参与调度<code>goroutine</code>，并将<code>goroutine</code>合理地分配到每个 CPU 中，最大限度地使用 CPU 性能。</p></blockquote><h2 id="1-2-作者介绍"><a href="#1-2-作者介绍" class="headerlink" title="1.2 作者介绍"></a>1.2 作者介绍</h2><p><a href="https://i.postimg.cc/TYd2cXc2/go-basic-01-001.jpg"><img src="https://i.postimg.cc/TYd2cXc2/go-basic-01-001.jpg" alt="Go语言作者"></a></p><p>从左到右分别是 ：</p><ul><li><strong>罗伯特·格瑞史莫(Robert Griesemer)：</strong> 曾为谷歌的 V8 JavaScript 引擎和 Chubby 开发代码</li><li><strong>罗勃·派克(Rob Pike)：</strong> 罗布·派克是 Unix 的先驱，是贝尔实验室最早和 Ken Thompson 以及 Dennis M. Ritche 开发 Unix 的猛人，UTF-8 的设计人。还是 1980 年奥运会射箭的银牌得主。</li><li><strong>汤普逊(Ken Thompson)：</strong> Ken Thompson 图灵奖得主，C 语言前身 B 语言的作者，Unix 的发明人之一， 操作系统 Plan 9 的主要作者。 共同开发了 UTF-8。</li></ul><h2 id="1-3-Go-语言特点"><a href="#1-3-Go-语言特点" class="headerlink" title="1.3 Go 语言特点"></a>1.3 Go 语言特点</h2><p>Go 语言，作为编程语言的后生，站在巨人的肩膀上，吸收了其他一些编程语言的特点。下面简单解释一下：</p><ol><li><p>拥有编译器很方便</p><p>自带<strong>编译器可以检测出你犯的所有低级错误</strong>，如：变量名拼错，不要小看这种问题，没有编译器情况下，很可能浪费掉很长时间去排查，并且非常不容易发现，而且<code>Go语言</code>也是跨平台编译的，你可以在 Mac 电脑上，编译出<code>linux</code>或者<code>windows</code>的目标程序。</p></li><li><p>开发速度</p><p>Go 是一个非常简单的语言，上手容易，无论你是小白还是老鸟，都会比其他语言 C&#x2F;C++ 和 Java 等语言要容易很多，这点在做项目中体现得尤其明显。很多人可能会说那 python 呢，php 呢？从语言上说 python 和 php 他们没有编译检查，同样也会像上面说的出一些小的低级错误，或者运行时错误，这都给 php 和 python 带来了隐患，所以 Go 语言虽然牺牲了一点点代码书写的时间，但是从项目运行安全角度来说，已经非常值得了。</p></li><li><p>天生高并发</p><p><strong>Go 语言就是为高并发而生的</strong>。当你需要使用并发场景，如果你有其他语言基础，第一反应是用到锁，但是 Go 语言提供了更加方便的方式协程+通道，在 Go 语言中代码不用修改就能直接多协程运行，只要在调用的时候加入 go 关键字，就可以了，非常方便。这与其他语言截然不同，你要考虑哪里开辟新的线程，哪里是代码执行逻辑。</p></li><li><p>部署简单</p><p>Go 语言最终执行就是一个二进制文件，包括了它所依赖的程序包，这让开发者不用考虑部署环境的问题，例如，如果你是 java 程序，要考虑执行你的程序，对方机器是否安装了 java 的运行环境，其他语言同理，如果对方机器没有安装，无法运行你的程序，Go 语言可以在 Mac 和 Linux 上交叉编译你的代码，将其拷贝到远程服务器上，然后就可以任其运行了。</p></li></ol><h2 id="1-4-Go-语言能做什么"><a href="#1-4-Go-语言能做什么" class="headerlink" title="1.4 Go 语言能做什么"></a>1.4 Go 语言能做什么</h2><p>Go 的优点：实现快 + 资源占用低 + 任意环境随便跑，综合考虑在很多场景十分好用 。</p><ol><li>Go 适合造轮子，哪个库不好用就自己造。</li><li>Go 适合写工具，比如 hugo 、hub，还有国人写的 linux 下的百度 pan client 都是 go 实现的。</li><li>Go 适合实现 C&#x2F;C++ 一部分业务，Java 的大部分业务。</li><li>Go 适合做最外层的胶水，通过 RPC&#x2F;REST&#x2F;CGO 粘合不同语言的模块，而在这个胶水层还可以实现各种业务逻辑，又不用像 shell&#x2F;python&#x2F;node 有诸多顾虑和局限。</li><li>Go 提供了协程、指针、 unsafe， cgo 加上 C&#x2F;C++ 兼容的内存布局和跨平台的汇编，有了这些你能做很多事情了。</li></ol><blockquote><p>所以问题不是它适合做什么，是你有能力用它做什么。</p></blockquote><h2 id="1-5-哪些公司在使用-Go"><a href="#1-5-哪些公司在使用-Go" class="headerlink" title="1.5 哪些公司在使用 Go"></a>1.5 哪些公司在使用 Go</h2><p>这个问题之前 Go 的官方 wiki 里面有一个维护列表，大家可以点击下面地址看到：</p><p><a href="https://github.com/golang/go/wiki/GoUsers">https://github.com/golang/go/wiki/GoUsers</a></p><p>在 stackshare 里面可能更加直接的看到一些使用 Go 的国外企业列表：</p><ul><li>Uber</li><li>Google</li><li>Pinterest</li><li>Shopify</li><li>Slack</li><li>…</li></ul>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.golang环境安装</title>
      <link href="/posts/6ab6111.html"/>
      <url>/posts/6ab6111.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-你好，Go语言"><a href="#1-你好，Go语言" class="headerlink" title="1.你好，Go语言"></a>1.你好，Go语言</h2><blockquote><p>Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。</p></blockquote><p>因工作需要，准备入坑，先从环境安装开始，输出一个 Hello World。</p><h2 id="1-2环境安装"><a href="#1-2环境安装" class="headerlink" title="1.2环境安装"></a>1.2环境安装</h2><p><strong>目标</strong></p><p>安装完成并运行 Hello World 成功！</p><p>本机系统：macOS High Sierra 10.13.4</p><p>Go 版本：1.12</p><p><strong>方式一：</strong></p><p>通过 brew 安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install go</span><br></pre></td></tr></table></figure><p>根据提示进行安装吧，我使用的 方式二 进行安装的。</p><p><strong>方式二：</strong></p><p>通过安装包安装</p><p>地址：<a href="https://dl.google.com/go/go1.12.darwin-amd64.pkg">https://dl.google.com/go/go1.12.darwin-amd64.pkg</a></p><p>下载之后直接点击安装，一步步继续即可。</p><p><strong>配置环境变量</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment">//新增</span></span><br><span class="line">export GOROOT=/usr/local/<span class="keyword">go</span></span><br><span class="line">export GOPATH=/Users/username/<span class="keyword">go</span>/code <span class="comment">//代码目录，自定义即可</span></span><br><span class="line">export PATH=$PATH:$GOPATH/bin</span><br></pre></td></tr></table></figure><p>及时生效，请执行命令：source ~&#x2F;.bashrc</p><p><strong>如果命令行使用的是zsh，请修改 .zshrc 文件。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.zshrc</span><br><span class="line"></span><br><span class="line">//新增</span><br><span class="line">export GOROOT=/usr/local/go</span><br><span class="line">export GOPATH=/Users/username/go/code //自定义代码目录</span><br><span class="line">export PATH=$PATH:$GOPATH/bin</span><br></pre></td></tr></table></figure><p>及时生效，请执行命令：source ~&#x2F;.zshrc</p><p>验证是否安装成功，命令行下执行：</p><p><img src="https://s2.loli.net/2023/07/25/XONdbo7JYqarjW5.png"></p><h2 id="1-3目录结构"><a href="#1-3目录结构" class="headerlink" title="1.3目录结构"></a>1.3目录结构</h2><ul><li><p><strong>bin</strong>   </p><ul><li>存放编译后可执行的文件。</li></ul></li><li><p><strong>pkg</strong></p><ul><li>存放编译后的应用包。</li></ul></li><li><p><strong>src</strong></p><ul><li>存放应用源代码。</li></ul></li></ul><p>例如：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">├─ code  -- 代码根目录</span><br><span class="line">│  ├─ bin</span><br><span class="line">│  ├─ pkg</span><br><span class="line">│  ├─ src</span><br><span class="line">│     ├── hello</span><br><span class="line">│         ├── hello.<span class="keyword">go</span></span><br></pre></td></tr></table></figure><p><strong>Hello World 代码</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在 hello 目录下创建 hello.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>命令行执行：</p><p><img src="https://s2.loli.net/2023/07/25/RYZIKonD4PFtemq.png"></p><h2 id="1-4命令"><a href="#1-4命令" class="headerlink" title="1.4命令"></a>1.4命令</h2><p>查看完整的命令：</p><p><img src="https://s2.loli.net/2023/07/25/8OvYbyHGAQr2R6i.png"></p><ul><li><p><strong>go build hello</strong></p><ul><li>在src目录或hello目录下执行 go build hello，只在对应当前目录下生成文件。</li></ul></li><li><p><strong>go install hello</strong></p><ul><li>在src目录或hello目录下执行 go install hello，会把编译好的结果移动到 $GOPATH&#x2F;bin。</li></ul></li><li><p><strong>go run hello</strong></p><ul><li>在src目录或hello目录下执行 go run hello，不生成任何文件只运行程序。</li></ul></li><li><p><strong>go fmt hello</strong></p><ul><li>在src目录或hello目录下执行 go run hello，格式化代码，将代码修改成标准格式。</li></ul></li></ul><h2 id="1-5开发工具"><a href="#1-5开发工具" class="headerlink" title="1.5开发工具"></a>1.5开发工具</h2><p><strong>GoLand</strong></p><p><img src="https://s2.loli.net/2023/07/25/JQLhc5bWnDKCA21.png"></p><p>GoLand 是 JetBrains 公司推出的 Go 语言集成开发环境，与我们用的 WebStorm、PhpStorm、PyCharm 是一家，同样支持 Windows、Linux、macOS 等操作系统。</p><p>下载地址：<a href="https://www.jetbrains.com/go/">https://www.jetbrains.com/go/</a></p><p>软件是付费的，不过想想办法，软件可以永久激活的。</p><h2 id="1-6学习网址"><a href="#1-6学习网址" class="headerlink" title="1.6学习网址"></a>1.6学习网址</h2><ul><li>Go语言：<a href="https://golang.org/">https://golang.org/</a></li><li>Go语言中文网：<a href="https://studygolang.com/">https://studygolang.com/</a></li><li>Go语言包管理：<a href="https://gopm.io/">https://gopm.io/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.变量</title>
      <link href="/posts/9f75d683.html"/>
      <url>/posts/9f75d683.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h2><p>在声明变量之前，咱们先了解下变量的数据类型，这篇文章主要涉及 字符串、布尔、数字，其他类型后面开篇再说。</p><h3 id="1-1数据类型"><a href="#1-1数据类型" class="headerlink" title="1.1数据类型"></a>1.1数据类型</h3><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">string</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">只能用一对双引号（&quot;&quot;）或反引号（`</span><span class="string">`）括起来定义，不能用单引号（&#x27;&#x27;）定义！</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 布尔</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">bool</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">只有 true 和 false，默认为 false。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### 数字</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**整型**</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">int8</span><span class="string">` `</span><span class="type">uint8</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">int16</span><span class="string">` `</span><span class="type">uint16</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">int32</span><span class="string">` `</span><span class="type">uint32</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">int64</span><span class="string">` `</span><span class="type">uint64</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">int</span><span class="string">` `</span><span class="type">uint</span><span class="string">`，具体长度取决于 CPU 位数。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**浮点型**</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="type">float32</span><span class="string">` `</span><span class="type">float64</span></span><br></pre></td></tr></table></figure><h3 id="1-2常量声明"><a href="#1-2常量声明" class="headerlink" title="1.2常量声明"></a>1.2常量声明</h3><p><strong>常量</strong>，在程序编译阶段就确定下来的值，而程序在运行时无法改变该值。</p><p><strong>单个常量声明</strong></p><ul><li><p>第一种：const 变量名称 数据类型 &#x3D; 变量值</p></li><li><p>如果不赋值，使用的是该数据类型的默认值。</p></li><li><p>第二种：const 变量名称 &#x3D; 变量值</p></li><li><p>根据变量值，自行判断数据类型。</p></li></ul><p><strong>多个常量声明</strong></p><ul><li><p>第一种：const 变量名称,变量名称 … ,数据类型 &#x3D; 变量值,变量值 …</p></li><li><p>第二种：const 变量名称,变量名称 …  &#x3D; 变量值,变量值 …</p></li></ul><p><strong>测试代码</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_1.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> name <span class="type">string</span> = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">30</span></span><br><span class="line">fmt.Println(age)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name_1, name_2 <span class="type">string</span> = <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Jay&quot;</span></span><br><span class="line">fmt.Println(name_1, name_2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name_3, age_1 = <span class="string">&quot;Tom&quot;</span>, <span class="number">30</span></span><br><span class="line">fmt.Println(name_3, age_1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/1LHSiR6frPpKu9z.png"></p><h3 id="1-3变量声明"><a href="#1-3变量声明" class="headerlink" title="1.3变量声明"></a>1.3变量声明</h3><p><strong>单个变量声明</strong></p><ul><li><p>第一种：var 变量名称 数据类型 &#x3D; 变量值</p></li><li><p>如果不赋值，使用的是该数据类型的默认值。</p></li><li><p>第二种：var 变量名称 &#x3D; 变量值</p></li><li><p>根据变量值，自行判断数据类型。</p></li><li><p>第三种：变量名称 :&#x3D; 变量值</p></li><li><p>省略了 var 和数据类型，变量名称一定要是未声明过的。</p></li></ul><p><strong>多个变量声明</strong></p><ul><li><p>第一种：var 变量名称,变量名称 … ,数据类型 &#x3D; 变量值,变量值 …</p></li><li><p>第二种：var 变量名称,变量名称 …  &#x3D; 变量值,变量值 …</p></li><li><p>第三种：变量名称,变量名称 … :&#x3D; 变量值,变量值 …</p></li></ul><p><strong>测试代码</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_2.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> age_1 <span class="type">uint8</span> = <span class="number">31</span></span><br><span class="line"><span class="keyword">var</span> age_2 = <span class="number">32</span></span><br><span class="line">age_3 := <span class="number">33</span></span><br><span class="line">fmt.Println(age_1, age_2, age_3)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> age_4, age_5, age_6 <span class="type">int</span> = <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span></span><br><span class="line">fmt.Println(age_4, age_5, age_6)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name_1, age_7 = <span class="string">&quot;Tom&quot;</span>, <span class="number">30</span></span><br><span class="line">fmt.Println(name_1, age_7)</span><br><span class="line"></span><br><span class="line">name_2, is_boy, height := <span class="string">&quot;Jay&quot;</span>, <span class="literal">true</span>, <span class="number">180.66</span></span><br><span class="line">fmt.Println(name_2, is_boy, height)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/vBsuiceGH1wtQTD.png"></p><h3 id="输出方法"><a href="#输出方法" class="headerlink" title="输出方法"></a>输出方法</h3><ul><li><p><strong>fmt.Print</strong>：输出到控制台（仅只是输出）</p></li><li><p><strong>fmt.Println</strong>：输出到控制台并换行</p></li><li><p><strong>fmt.Printf</strong>：仅输出格式化的字符串和字符串变量（整型和整型变量不可以）</p></li><li><p><strong>fmt.Sprintf</strong>：格式化并返回一个字符串，不输出。</p></li></ul><p>测试代码</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_3.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Print(<span class="string">&quot;输出到控制台不换行&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;---&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;输出到控制台并换行&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;name=%s,age=%d\n&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="number">30</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;name=%s,age=%d,height=%v\n&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="number">30</span>, fmt.Sprintf(<span class="string">&quot;%.2f&quot;</span>, <span class="number">180.567</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/6xGCqNLbtKd7ETz.png"></p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. slice切片</title>
      <link href="/posts/6bf80178.html"/>
      <url>/posts/6bf80178.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1概述"><a href="#1-1概述" class="headerlink" title="1.1概述"></a>1.1概述</h2><p>切片是一种动态数组，比数组操作灵活，长度不是固定的，可以进行追加和删除。</p><p><code>len()</code> 和 <code>cap()</code> 返回结果可相同和不同。 </p><h2 id="1-2声明切片"><a href="#1-2声明切片" class="headerlink" title="1.2声明切片"></a>1.2声明切片</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_7.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> sli_1 [] <span class="type">int</span>      <span class="comment">//nil 切片</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_1),<span class="built_in">cap</span>(sli_1),sli_1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sli_2 = [] <span class="type">int</span> &#123;&#125; <span class="comment">//空切片</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_1),<span class="built_in">cap</span>(sli_2),sli_2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sli_3 = [] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_3),<span class="built_in">cap</span>(sli_3),sli_3)</span><br><span class="line"></span><br><span class="line">sli_4 := [] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_4),<span class="built_in">cap</span>(sli_4),sli_4)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sli_5 [] <span class="type">int</span> = <span class="built_in">make</span>([] <span class="type">int</span>, <span class="number">5</span>, <span class="number">8</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_5),<span class="built_in">cap</span>(sli_5),sli_5)</span><br><span class="line"></span><br><span class="line">sli_6 := <span class="built_in">make</span>([] <span class="type">int</span>, <span class="number">5</span>, <span class="number">9</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli_6),<span class="built_in">cap</span>(sli_6),sli_6)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/G4vsSj1wWxQLlMF.png"></p><h2 id="1-3截取切片"><a href="#1-3截取切片" class="headerlink" title="1.3截取切片"></a>1.3截取切片</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_8.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sli := [] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;sli[1] ==&quot;</span>, sli[<span class="number">1</span>])</span><br><span class="line">fmt.Println(<span class="string">&quot;sli[:] ==&quot;</span>, sli[:])</span><br><span class="line">fmt.Println(<span class="string">&quot;sli[1:] ==&quot;</span>, sli[<span class="number">1</span>:])</span><br><span class="line">fmt.Println(<span class="string">&quot;sli[:4] ==&quot;</span>, sli[:<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;sli[0:3] ==&quot;</span>, sli[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli[<span class="number">0</span>:<span class="number">3</span>]),<span class="built_in">cap</span>(sli[<span class="number">0</span>:<span class="number">3</span>]),sli[<span class="number">0</span>:<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;sli[0:3:4] ==&quot;</span>, sli[<span class="number">0</span>:<span class="number">3</span>:<span class="number">4</span>])</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli[<span class="number">0</span>:<span class="number">3</span>:<span class="number">4</span>]),<span class="built_in">cap</span>(sli[<span class="number">0</span>:<span class="number">3</span>:<span class="number">4</span>]),sli[<span class="number">0</span>:<span class="number">3</span>:<span class="number">4</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/E58hUDd4FgiHLOn.png"></p><h2 id="1-4追加切片"><a href="#1-4追加切片" class="headerlink" title="1.4追加切片"></a>1.4追加切片</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_9.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sli := [] <span class="type">int</span> &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line">sli = <span class="built_in">append</span>(sli, <span class="number">7</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line">sli = <span class="built_in">append</span>(sli, <span class="number">8</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line">sli = <span class="built_in">append</span>(sli, <span class="number">9</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line">sli = <span class="built_in">append</span>(sli, <span class="number">10</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/ghVkAJ2d57CSU6t.png"></p><p>append 时，容量不够需要扩容时，cap 会翻倍。</p><h2 id="1-5删除切片"><a href="#1-5删除切片" class="headerlink" title="1.5删除切片"></a>1.5删除切片</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_10.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">sli := [] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除尾部 2 个元素</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli[:<span class="built_in">len</span>(sli)<span class="number">-2</span>]),<span class="built_in">cap</span>(sli[:<span class="built_in">len</span>(sli)<span class="number">-2</span>]),sli[:<span class="built_in">len</span>(sli)<span class="number">-2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除开头 2 个元素</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli[<span class="number">2</span>:]),<span class="built_in">cap</span>(sli[<span class="number">2</span>:]),sli[<span class="number">2</span>:])</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除中间 2 个元素</span></span><br><span class="line">sli = <span class="built_in">append</span>(sli[:<span class="number">3</span>], sli[<span class="number">3</span>+<span class="number">2</span>:]...)</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(sli),<span class="built_in">cap</span>(sli),sli)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/pf35xVaqj4GmENP.png"></p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3. golang数组</title>
      <link href="/posts/ae1d106a.html"/>
      <url>/posts/ae1d106a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1概述"><a href="#1-1概述" class="headerlink" title="1.1概述"></a>1.1概述</h2><p>数组是一个由固定长度的特定类型元素组成的序列，一个数组可以由零个或多个元素组成，一旦声明了，数组的长度就固定了，不能动态变化。</p><p><code>len()</code> 和 <code>cap()</code> 返回结果始终一样。 </p><h2 id="1-2声明数组"><a href="#1-2声明数组" class="headerlink" title="1.2声明数组"></a>1.2声明数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">//一维数组</span><br><span class="line">var arr_1 [<span class="number">5</span>] <span class="built_in">int</span></span><br><span class="line">fmt.Println(arr_1)</span><br><span class="line"></span><br><span class="line">var arr_2 =  [<span class="number">5</span>] <span class="built_in">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Println(arr_2)</span><br><span class="line"></span><br><span class="line">arr_3 := [<span class="number">5</span>] <span class="built_in">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Println(arr_3)</span><br><span class="line"></span><br><span class="line">arr_4 := [...] <span class="built_in">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">fmt.Println(arr_4)</span><br><span class="line"></span><br><span class="line">arr_5 := [<span class="number">5</span>] <span class="built_in">int</span> &#123;<span class="number">0</span>:<span class="number">3</span>, <span class="number">1</span>:<span class="number">5</span>, <span class="number">4</span>:<span class="number">6</span>&#125;</span><br><span class="line">fmt.Println(arr_5)</span><br><span class="line"></span><br><span class="line">//二维数组</span><br><span class="line">var arr_6 = [<span class="number">3</span>][<span class="number">5</span>] <span class="built_in">int</span> &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;&#125;</span><br><span class="line">fmt.Println(arr_6)</span><br><span class="line"></span><br><span class="line">arr_7 :=  [<span class="number">3</span>][<span class="number">5</span>] <span class="built_in">int</span> &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;&#125;</span><br><span class="line">fmt.Println(arr_7)</span><br><span class="line"></span><br><span class="line">arr_8 :=  [...][<span class="number">5</span>] <span class="built_in">int</span> &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;, &#123;<span class="number">0</span>:<span class="number">3</span>, <span class="number">1</span>:<span class="number">5</span>, <span class="number">4</span>:<span class="number">6</span>&#125;&#125;</span><br><span class="line">fmt.Println(arr_8)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/mb3x7ZgikIzwH8N.png"></p><h2 id="1-2注意事项"><a href="#1-2注意事项" class="headerlink" title="1.2注意事项"></a>1.2注意事项</h2><p>一、数组不可动态变化问题，一旦声明了，其长度就是固定的。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr_1 = [5] int &#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">arr_1[5] = 6</span><br><span class="line">fmt.Println(arr_1)</span><br></pre></td></tr></table></figure><p>运行会报错：invalid array index 5 (out of bounds for 5-element array)</p><p>二、数组是值类型问题，在函数中传递的时候是传递的值，如果传递数组很大，这对内存是很大开销。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_5.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> arr =  [<span class="number">5</span>] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">modifyArr(arr)</span><br><span class="line">fmt.Println(arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArr</span><span class="params">(a [5] <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/DioqmIN25QSVxvh.png"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_6.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> arr =  [<span class="number">5</span>] <span class="type">int</span> &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">modifyArr(&amp;arr)</span><br><span class="line">fmt.Println(arr)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifyArr</span><span class="params">(a *[5] <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">a[<span class="number">1</span>] = <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="/images/03-%E6%95%B0%E7%BB%84/3_go_3.png"></p><p>三、数组赋值问题，同样类型的数组（长度一样且每个元素类型也一样）才可以相互赋值，反之不可以。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var arr =  [5] int &#123;1, 2, 3, 4, 5&#125;</span><br><span class="line">var arr_1 [5] int = arr</span><br><span class="line">var arr_2 [6] int = arr</span><br></pre></td></tr></table></figure><p>运行会报错：cannot use arr (type [5]int) as type [6]int in assignment</p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5. 结构体</title>
      <link href="/posts/3d9540fd.html"/>
      <url>/posts/3d9540fd.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1概述"><a href="#1-1概述" class="headerlink" title="1.1概述"></a>1.1概述</h2><p>结构体是将零个或多个任意类型的变量，组合在一起的聚合数据类型，也可以看做是数据的集合。</p><h2 id="1-2声明结构体"><a href="#1-2声明结构体" class="headerlink" title="1.2声明结构体"></a>1.2声明结构体</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_11.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="type">string</span></span><br><span class="line">Age <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> p1 Person</span><br><span class="line">p1.Name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">p1.Age  = <span class="number">30</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p1 =&quot;</span>, p1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = Person&#123;Name:<span class="string">&quot;Burke&quot;</span>, Age:<span class="number">31</span>&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;p2 =&quot;</span>, p2)</span><br><span class="line"></span><br><span class="line">p3 := Person&#123;Name:<span class="string">&quot;Aaron&quot;</span>, Age:<span class="number">32</span>&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;p2 =&quot;</span>, p3)</span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名结构体</span></span><br><span class="line">p4 := <span class="keyword">struct</span> &#123;</span><br><span class="line">Name <span class="type">string</span></span><br><span class="line">Age <span class="type">int</span></span><br><span class="line">&#125; &#123;Name:<span class="string">&quot;匿名&quot;</span>, Age:<span class="number">33</span>&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;p4 =&quot;</span>, p4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/NhXQ1sVCoHJOxki.png"></p><h2 id="1-3生成-JSON"><a href="#1-3生成-JSON" class="headerlink" title="1.3生成 JSON"></a>1.3生成 JSON</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_12.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result <span class="keyword">struct</span> &#123;</span><br><span class="line">Code    <span class="type">int</span>    <span class="string">`json:&quot;code&quot;`</span></span><br><span class="line">Message <span class="type">string</span> <span class="string">`json:&quot;msg&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> res Result</span><br><span class="line">res.Code    = <span class="number">200</span></span><br><span class="line">res.Message = <span class="string">&quot;success&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//序列化</span></span><br><span class="line">jsons, errs := json.Marshal(res)</span><br><span class="line"><span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;json marshal error:&quot;</span>, errs)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;json data :&quot;</span>, <span class="type">string</span>(jsons))</span><br><span class="line"></span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line"><span class="keyword">var</span> res2 Result</span><br><span class="line">errs = json.Unmarshal(jsons, &amp;res2)</span><br><span class="line"><span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;json unmarshal error:&quot;</span>, errs)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;res2 :&quot;</span>, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/ixdqV6NPlXy9j8a.png"></p><h2 id="1-4改变数据"><a href="#1-4改变数据" class="headerlink" title="1.4改变数据"></a>1.4改变数据</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_13.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result <span class="keyword">struct</span> &#123;</span><br><span class="line">Code    <span class="type">int</span>    <span class="string">`json:&quot;code&quot;`</span></span><br><span class="line">Message <span class="type">string</span> <span class="string">`json:&quot;msg&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> res Result</span><br><span class="line">res.Code    = <span class="number">200</span></span><br><span class="line">res.Message = <span class="string">&quot;success&quot;</span></span><br><span class="line">toJson(&amp;res)</span><br><span class="line"></span><br><span class="line">setData(&amp;res)</span><br><span class="line">toJson(&amp;res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setData</span> <span class="params">(res *Result)</span></span> &#123;</span><br><span class="line">res.Code    = <span class="number">500</span></span><br><span class="line">res.Message = <span class="string">&quot;fail&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">toJson</span> <span class="params">(res *Result)</span></span> &#123;</span><br><span class="line">jsons, errs := json.Marshal(res)</span><br><span class="line"><span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;json marshal error:&quot;</span>, errs)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;json data :&quot;</span>, <span class="type">string</span>(jsons))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/gTe9JHWwMboiVxP.png"></p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6. map集合</title>
      <link href="/posts/24d7c298.html"/>
      <url>/posts/24d7c298.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-2-概述"><a href="#1-2-概述" class="headerlink" title="1.2 概述"></a>1.2 概述</h2><p>Map 集合是无序的 key-value 数据结构。</p><p>Map 集合中的 key &#x2F; value 可以是任意类型，但所有的 key 必须属于同一数据类型，所有的 value 必须属于同一数据类型，key 和 value 的数据类型可以不相同。</p><h2 id="1-2-声明-Map"><a href="#1-2-声明-Map" class="headerlink" title="1.2 声明 Map"></a>1.2 声明 Map</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_14.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> p1 <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span></span><br><span class="line">p1 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span><br><span class="line">p1[<span class="number">1</span>] = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p1 :&quot;</span>, p1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span> = <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;&#125;</span><br><span class="line">p2[<span class="number">1</span>] = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p2 :&quot;</span>, p2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p3 <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span> = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span><br><span class="line">p3[<span class="number">1</span>] = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p3 :&quot;</span>, p3)</span><br><span class="line"></span><br><span class="line">p4 := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;&#125;</span><br><span class="line">p4[<span class="number">1</span>] = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p4 :&quot;</span>, p4)</span><br><span class="line"></span><br><span class="line">p5 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>)</span><br><span class="line">p5[<span class="number">1</span>] = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;p5 :&quot;</span>, p5)</span><br><span class="line"></span><br><span class="line">p6 := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;</span><br><span class="line"><span class="number">1</span> : <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;p6 :&quot;</span>, p6)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/dFsauwjrfU7YBTJ.png"></p><h2 id="1-3-生成-JSON"><a href="#1-3-生成-JSON" class="headerlink" title="1.3 生成 JSON"></a>1.3 生成 JSON</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_15.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;encoding/json&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">res := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">res[<span class="string">&quot;code&quot;</span>] = <span class="number">200</span></span><br><span class="line">res[<span class="string">&quot;msg&quot;</span>]  = <span class="string">&quot;success&quot;</span></span><br><span class="line">res[<span class="string">&quot;data&quot;</span>] = <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line"><span class="string">&quot;username&quot;</span> : <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line"><span class="string">&quot;age&quot;</span>      : <span class="string">&quot;30&quot;</span>,</span><br><span class="line"><span class="string">&quot;hobby&quot;</span>    : []<span class="type">string</span>&#123;<span class="string">&quot;读书&quot;</span>,<span class="string">&quot;爬山&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;map data :&quot;</span>, res)</span><br><span class="line"></span><br><span class="line"><span class="comment">//序列化</span></span><br><span class="line">jsons, errs := json.Marshal(res)</span><br><span class="line"><span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;json marshal error:&quot;</span>, errs)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;--- map to json ---&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;json data :&quot;</span>, <span class="type">string</span>(jsons))</span><br><span class="line"></span><br><span class="line"><span class="comment">//反序列化</span></span><br><span class="line">res2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">errs = json.Unmarshal([]<span class="type">byte</span>(jsons), &amp;res2)</span><br><span class="line"><span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;json marshal error:&quot;</span>, errs)</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;--- json to map ---&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;map data :&quot;</span>, res2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/vpqtVlh6MexkCZ7.png"></p><h2 id="1-4-编辑和删除"><a href="#1-4-编辑和删除" class="headerlink" title="1.4 编辑和删除"></a>1.4 编辑和删除</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_16.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">person := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;</span><br><span class="line"><span class="number">1</span> : <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line"><span class="number">2</span> : <span class="string">&quot;Aaron&quot;</span>,</span><br><span class="line"><span class="number">3</span> : <span class="string">&quot;John&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;data :&quot;</span>,person)</span><br><span class="line"></span><br><span class="line"><span class="built_in">delete</span>(person, <span class="number">2</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;data :&quot;</span>,person)</span><br><span class="line"></span><br><span class="line">person[<span class="number">2</span>] = <span class="string">&quot;Jack&quot;</span></span><br><span class="line">person[<span class="number">3</span>] = <span class="string">&quot;Kevin&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;data :&quot;</span>,person)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/D1PY4L9hRjQX8GO.png"></p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8. 函数</title>
      <link href="/posts/90ce2ea9.html"/>
      <url>/posts/90ce2ea9.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>学习了一些基础语法，开始学习写函数了，分享几个自己写的函数。</p><ul><li>MD5</li><li>获取当前时间戳</li><li>获取当前时间字符串</li><li>生成签名</li></ul><h2 id="1-2-函数定义"><a href="#1-2-函数定义" class="headerlink" title="1.2 函数定义"></a>1.2 函数定义</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">function_name</span><span class="params">(input1 type1, input2 type2)</span></span> (type1, type2) &#123;</span><br><span class="line">   <span class="comment">// 函数体</span></span><br><span class="line">   <span class="comment">// 返回多个值</span></span><br><span class="line">   <span class="keyword">return</span> value1, value2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>函数用 <code>func</code> 声明。</li><li>函数可以有一个或多个参数，需要有参数类型，用 <code>,</code> 分割。</li><li>函数可以有一个或多个返回值，需要有返回值类型，用 <code>,</code> 分割。</li><li>函数的参数是可选的，返回值也是可选的。</li></ul><h2 id="1-3-值传递"><a href="#1-3-值传递" class="headerlink" title="1.3 值传递"></a>1.3 值传递</h2><p>传递参数时，将参数复制一份传递到函数中，对参数进行调整后，不影响参数值。</p><p>Go 语言默认是值传递。</p><h2 id="1-4-引用传递"><a href="#1-4-引用传递" class="headerlink" title="1.4 引用传递"></a>1.4 引用传递</h2><p>传递参数时，将参数的地址传递到函数中，对参数进行调整后，影响参数值。</p><p>这个是 [Go - Struct 结构体]的例子：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_13.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Result <span class="keyword">struct</span> &#123;</span><br><span class="line">    Code    <span class="type">int</span>    <span class="string">`json:&quot;code&quot;`</span></span><br><span class="line">    Message <span class="type">string</span> <span class="string">`json:&quot;msg&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res Result</span><br><span class="line">    res.Code    = <span class="number">200</span></span><br><span class="line">    res.Message = <span class="string">&quot;success&quot;</span></span><br><span class="line">    toJson(&amp;res)</span><br><span class="line">    </span><br><span class="line">    setData(&amp;res)</span><br><span class="line">    toJson(&amp;res)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setData</span> <span class="params">(res *Result)</span></span> &#123;</span><br><span class="line">    res.Code    = <span class="number">500</span></span><br><span class="line">    res.Message = <span class="string">&quot;fail&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">toJson</span> <span class="params">(res *Result)</span></span> &#123;</span><br><span class="line">    jsons, errs := json.Marshal(res)</span><br><span class="line">    <span class="keyword">if</span> errs != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;json marshal error:&quot;</span>, errs)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;json data :&quot;</span>, <span class="type">string</span>(jsons))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/gTe9JHWwMboiVxP.png"></p><h2 id="1-5-MD5"><a href="#1-5-MD5" class="headerlink" title="1.5 MD5"></a>1.5 MD5</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MD5 方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MD5</span><span class="params">(str <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">s := md5.New()</span><br><span class="line">s.Write([]<span class="type">byte</span>(str))</span><br><span class="line"><span class="keyword">return</span> hex.EncodeToString(s.Sum(<span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str := <span class="string">&quot;12345&quot;</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;MD5(%s): %s\n&quot;</span>, str, MD5(str))</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/fIXavJnjt2bwiGy.png"></p><h2 id="1-6-获取当前时间字符串"><a href="#1-6-获取当前时间字符串" class="headerlink" title="1.6 获取当前时间字符串"></a>1.6 获取当前时间字符串</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxxx-xx-xx xx:xx:xx</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getTimeStr</span><span class="params">()</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> time.Now().Format(<span class="string">&quot;2006-01-02 15:04:05&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;current time str : %s\n&quot;</span>, getTimeStr())</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/5ZHkPsOzfvNamcR.png"></p><h2 id="1-7-获取当前时间戳"><a href="#1-7-获取当前时间戳" class="headerlink" title="1. 7 获取当前时间戳"></a>1. 7 获取当前时间戳</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取当前时间戳</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getTimeInt</span><span class="params">()</span></span> <span class="type">int64</span> &#123;</span><br><span class="line"><span class="keyword">return</span> time.Now().Unix()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;current time str : %s\n&quot;</span>, getTimeStr())</span><br><span class="line">fmt.Printf(<span class="string">&quot;current time unix : %d\n&quot;</span>, getTimeInt())</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/gki9zWJaq2LjC3D.png"></p><h2 id="1-8生成签名"><a href="#1-8生成签名" class="headerlink" title="1. 8生成签名"></a>1. 8生成签名</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_26.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;crypto/md5&quot;</span></span><br><span class="line"><span class="string">&quot;encoding/hex&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">params := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line"><span class="string">&quot;name&quot;</span> : <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line"><span class="string">&quot;pwd&quot;</span>  : <span class="string">&quot;123456&quot;</span>,</span><br><span class="line"><span class="string">&quot;age&quot;</span>  : <span class="number">30</span>,</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;sign : %s\n&quot;</span>, createSign(params))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MD5 方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">MD5</span><span class="params">(str <span class="type">string</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">s := md5.New()</span><br><span class="line">s.Write([]<span class="type">byte</span>(str))</span><br><span class="line"><span class="keyword">return</span> hex.EncodeToString(s.Sum(<span class="literal">nil</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成签名</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createSign</span><span class="params">(params <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">var</span> key []<span class="type">string</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> k := <span class="keyword">range</span> params &#123;</span><br><span class="line">key   = <span class="built_in">append</span>(key, k)</span><br><span class="line">&#125;</span><br><span class="line">sort.Strings(key)</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(key); i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">str = fmt.Sprintf(<span class="string">&quot;%v=%v&quot;</span>, key[i], params[key[i]])</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">str = str + fmt.Sprintf(<span class="string">&quot;&amp;xl_%v=%v&quot;</span>, key[i], params[key[i]])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 自定义密钥</span></span><br><span class="line"><span class="keyword">var</span> secret = <span class="string">&quot;123456789&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义签名算法</span></span><br><span class="line">sign := MD5(MD5(str) + MD5(secret))</span><br><span class="line"><span class="keyword">return</span> sign</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/9AXCw3azIep2diq.png"></p><p>对应 PHP 生成签名方法：</p><p><img src="https://s2.loli.net/2023/07/25/8rRZI6eiBa7tbxq.png"></p><p>有兴趣的可以在签名方法中，增加时间戳 和 secret 在配置文件中读取。</p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7. 循环</title>
      <link href="/posts/b74f8f1.html"/>
      <url>/posts/b74f8f1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>前几篇文章分享了 array 数组、slice 切片、map 集合，这篇文章分享如何循环获取里面的元素，同时也是对前几篇文章的复习。</p><p>本篇文章会用到的关键字 for、range、break、continue、goto、switch。</p><h2 id="1-2-循环-array"><a href="#1-2-循环-array" class="headerlink" title="1.2 循环 array"></a>1.2 循环 array</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">//demo_18.go</span><br><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">person := [3] string &#123;&quot;Tom&quot;, &quot;Aaron&quot;, &quot;John&quot;&#125;</span><br><span class="line">fmt.Printf(&quot;len=%d cap=%d array=%v\n&quot;, len(person), cap(person), person)</span><br><span class="line"></span><br><span class="line">fmt.Println(&quot;&quot;)</span><br><span class="line"></span><br><span class="line">//循环</span><br><span class="line">for k, v := range person &#123;</span><br><span class="line">fmt.Printf(&quot;person[%d]: %s\n&quot;, k, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(&quot;&quot;)</span><br><span class="line"></span><br><span class="line">for i := range person &#123;</span><br><span class="line">fmt.Printf(&quot;person[%d]: %s\n&quot;, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(&quot;&quot;)</span><br><span class="line"></span><br><span class="line">for i := 0; i &lt; len(person); i++ &#123;</span><br><span class="line">fmt.Printf(&quot;person[%d]: %s\n&quot;, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(&quot;&quot;)</span><br><span class="line"></span><br><span class="line">//使用空白符</span><br><span class="line">for _, name := range person &#123;</span><br><span class="line">fmt.Println(&quot;name :&quot;, name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/n8kQ2xa1yIfdq6L.png"></p><h2 id="1-3-循环-slice"><a href="#1-3-循环-slice" class="headerlink" title="1.3 循环 slice"></a>1.3 循环 slice</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_19.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">person := [] <span class="type">string</span> &#123;<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Aaron&quot;</span>, <span class="string">&quot;John&quot;</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>, <span class="built_in">len</span>(person), <span class="built_in">cap</span>(person), person)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//循环</span></span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, k, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(person); i++ &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用空白符</span></span><br><span class="line"><span class="keyword">for</span> _, name := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;name :&quot;</span>, name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/KamqxdVenCo9NWH.png"></p><h2 id="1-4-循环-map"><a href="#1-4-循环-map" class="headerlink" title="1.4 循环 map"></a>1.4 循环 map</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_20.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">person := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>&#123;</span><br><span class="line"><span class="number">1</span> : <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line"><span class="number">2</span> : <span class="string">&quot;Aaron&quot;</span>,</span><br><span class="line"><span class="number">3</span> : <span class="string">&quot;John&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;len=%d map=%v\n&quot;</span>, <span class="built_in">len</span>(person), person)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//循环</span></span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, k, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="built_in">len</span>(person); i++ &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;person[%d]: %s\n&quot;</span>, i, person[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用空白符</span></span><br><span class="line"><span class="keyword">for</span> _, name := <span class="keyword">range</span> person &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;name :&quot;</span>, name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/iG8bhfteZVDRCF3.png"></p><h2 id="1-5-break"><a href="#1-5-break" class="headerlink" title="1.5 break"></a>1.5 break</h2><p>跳出当前循环，可⽤于 for、switch、select。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_21.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">6</span> &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;i =&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/AJsYdqXNiyCLUOM.png"></p><h2 id="1-6continue"><a href="#1-6continue" class="headerlink" title="1.6continue"></a>1.6continue</h2><p>跳过本次循环，只能用于 for。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_22.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">6</span> &#123;</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;i =&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/7cArJWPqYxskoNf.png"></p><h2 id="1-7-goto"><a href="#1-7-goto" class="headerlink" title="1.7 goto"></a>1.7 goto</h2><p>改变函数内代码执行顺序，不能跨函数使用。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_23.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;begin&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">6</span> &#123;</span><br><span class="line"><span class="keyword">goto</span> END</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;i =&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">END :</span><br><span class="line">fmt.Println(<span class="string">&quot;end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果：</p><p><img src="https://s2.loli.net/2023/07/25/gZyJCKWa23YLeuI.png"></p><h2 id="1-8-switch"><a href="#1-8-switch" class="headerlink" title="1.8 switch"></a>1.8 switch</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo_24.go</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">i := <span class="number">1</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;当 i = %d 时：\n&quot;</span>, i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> i &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">fmt.Println(<span class="string">&quot;输出 i =&quot;</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">fmt.Println(<span class="string">&quot;输出 i =&quot;</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">fmt.Println(<span class="string">&quot;输出 i =&quot;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>:</span><br><span class="line">fmt.Println(<span class="string">&quot;输出 i =&quot;</span>, <span class="string">&quot;4 or 5 or 6&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">fmt.Println(<span class="string">&quot;输出 i =&quot;</span>, <span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">运行结果：</span><br><span class="line"></span><br><span class="line">当 i = <span class="number">1</span> 时：输出 i = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">当 i = <span class="number">2</span> 时：输出 i = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">当 i = <span class="number">3</span> 时：</span><br><span class="line"></span><br><span class="line">输出 i = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">输出 i = <span class="number">4</span> or <span class="number">5</span> or <span class="number">6</span></span><br><span class="line"></span><br><span class="line">当 i = <span class="number">4</span> 时：输出 i = <span class="number">4</span> or <span class="number">5</span> or <span class="number">6</span></span><br><span class="line"></span><br><span class="line">当 i = <span class="number">7</span> 时：输出 i = xxx</span><br></pre></td></tr></table></figure><p><strong>结论：</strong></p><ul><li>默认每个 case 带有 break</li><li>case 中可以有多个选项</li><li>fallthrough 不跳出，并执行下一个 case</li></ul>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10. defer函数</title>
      <link href="/posts/83d90d9f.html"/>
      <url>/posts/83d90d9f.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1概述"><a href="#1-1概述" class="headerlink" title="1.1概述"></a>1.1概述</h2><p>defer 函数大家肯定都用过，它在声明时不会立刻去执行，而是在函数 return 后去执行的。</p><p>它的主要应用场景有异常处理、记录日志、清理数据、释放资源 等等。</p><p>这篇文章不是分享 defer 的应用场景，而是分享使用 defer 需要注意的点。</p><p>咱们先从一道题开始，一起来感受下 …</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">func calc(index string, a, b int) int &#123;</span><br><span class="line">ret := a + b</span><br><span class="line">fmt.Println(index, a, b, ret)</span><br><span class="line">return ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">x := 1</span><br><span class="line">y := 2</span><br><span class="line">defer calc(&quot;A&quot;, x, calc(&quot;B&quot;, x, y))</span><br><span class="line">x = 3</span><br><span class="line">defer calc(&quot;C&quot;, x, calc(&quot;D&quot;, x, y))</span><br><span class="line">y = 4</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出什么？</p><p>…</p><p><img src="https://s2.loli.net/2023/07/25/wjnY8m4okGt5ifh.jpg"></p><p>接下来，先容我分享几个小例子，再进行作答。</p><h2 id="执行顺序"><a href="#执行顺序" class="headerlink" title="执行顺序"></a>执行顺序</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">&quot;2&quot;</span>)</span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">&quot;3&quot;</span>)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">main</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><p>结论：defer 函数定义的顺序 与 实际执的行顺序是相反的，也就是最先声明的最后才执行。</p><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">defer</span> fmt.Println(a + b)</span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>稍微修改一下，再看看：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(a + b)</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><p>结论：闭包获取变量相当于引用传递，而非值传递。</p><p>稍微再修改一下，再看看：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">fmt.Println(a + b)</span><br><span class="line">&#125;(a, b)</span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>结论：传参是值复制。</p><p>还可以理解为：defer 调用的函数，参数的值在 defer 定义时就确定了，看下代码</p><p><code>defer fmt.Println(a + b)</code>，在这时，参数的值已经确定了。</p><p>而 defer 函数内部所使用的变量的值需要在这个函数运行时才确定，看下代码</p><p><code>defer func() &#123; fmt.Println(a + b) &#125;()</code>，a 和 b 的值在函数运行时，才能确定。</p><h2 id="Return"><a href="#Return" class="headerlink" title="Return"></a>Return</h2><h4 id="一"><a href="#一" class="headerlink" title="一"></a>一</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">t1</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">a := <span class="number">1</span></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">a++</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：1</p><h4 id="二"><a href="#二" class="headerlink" title="二"></a>二</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">t2</span><span class="params">()</span></span> (a <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">a++</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：2</p><h4 id="三"><a href="#三" class="headerlink" title="三"></a>三</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">t3</span><span class="params">()</span></span> (b <span class="type">int</span>) &#123;</span><br><span class="line">a := <span class="number">1</span></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">a++</span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：1</p><h4 id="四"><a href="#四" class="headerlink" title="四"></a>四</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">t4</span><span class="params">()</span></span> (a <span class="type">int</span>) &#123;</span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">a++</span><br><span class="line">&#125;(a)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：1</p><p>结论：return 不是原子操作。</p><h2 id="os-Exit"><a href="#os-Exit" class="headerlink" title="os.Exit"></a>os.Exit</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">os.Exit(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：main</p><p>结论：当<code>os.Exit()</code>方法退出程序时，defer不会被执行。</p><h2 id="不同协程"><a href="#不同协程" class="headerlink" title="不同协程"></a>不同协程</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">GoA()</span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">fmt.Println(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GoA</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">defer</span> (<span class="function"><span class="keyword">func</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span> err := <span class="built_in">recover</span>(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;panic:&quot;</span> + fmt.Sprintf(<span class="string">&quot;%s&quot;</span>, err))</span><br><span class="line">&#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> GoB()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GoB</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="built_in">panic</span>(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>GoB()</code> panic 捕获不到。</p><p>结论：defer 只对当前协程有效。</p><p>这个问题怎么解？咱们下回再说。</p><p>接下来，咱们分析下文章开头的问题吧。</p><h2 id="答案解析"><a href="#答案解析" class="headerlink" title="答案解析"></a>答案解析</h2><p>先列出答案：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">B <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">D <span class="number">3</span> <span class="number">2</span> <span class="number">5</span></span><br><span class="line">C <span class="number">3</span> <span class="number">5</span> <span class="number">8</span></span><br><span class="line">A <span class="number">1</span> <span class="number">3</span> <span class="number">4</span></span><br></pre></td></tr></table></figure><p>其实上面那道题，可以拆解为：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(index <span class="type">string</span>, a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">ret := a + b</span><br><span class="line">fmt.Println(index, a, b, ret)</span><br><span class="line"><span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">x := <span class="number">1</span></span><br><span class="line">y := <span class="number">2</span></span><br><span class="line">tmp1 := calc(<span class="string">&quot;B&quot;</span>, x, y)</span><br><span class="line"><span class="keyword">defer</span> calc(<span class="string">&quot;A&quot;</span>, x, tmp1)</span><br><span class="line">x = <span class="number">3</span></span><br><span class="line">tmp2 := calc(<span class="string">&quot;D&quot;</span>, x, y)</span><br><span class="line"><span class="keyword">defer</span> calc(<span class="string">&quot;C&quot;</span>, x, tmp2)</span><br><span class="line">y = <span class="number">4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>所以顺序就是：B D C A。</p><p>执行到 tmp1 时，输出：B 1 2 3。</p><p>执行到 tmp2 时，输出：D 3 2 5。</p><p>根据 defer 执行顺序原则，先声明的后执行，所以下一个该执行 C 了。</p><p>又因为传参是值赋值，所以在 A 的时候，无法用到 <code>x = 3</code> 和 <code>y = 4</code>，在 C 的时候，无法用到 <code>y = 4</code>。</p><p>执行到 C 时，输出：C 3 5 8</p><p>执行到 A 时，输出：A 1 3 4</p><p>到这，基本上 defer 就清楚了，大家可以根据自己的理解去记忆。</p><h2 id="go-gin-api-系列文章"><a href="#go-gin-api-系列文章" class="headerlink" title="go-gin-api 系列文章"></a>go-gin-api 系列文章</h2><ul><li><a href="https://mp.weixin.qq.com/s/0cozELotcpX3Gd6WPJiBbQ">7. 路由中间件 - 签名验证</a></li><li><a href="https://mp.weixin.qq.com/s/Ea28475_UTNaM9RNfgPqJA">6. 路由中间件 - Jaeger 链路追踪（实战篇）</a></li><li><a href="https://mp.weixin.qq.com/s/28UBEsLOAHDv530ePilKQA">5. 路由中间件 - Jaeger 链路追踪（理论篇）</a></li><li><a href="https://mp.weixin.qq.com/s/SconDXB_x7Gan6T0Awdh9A">4. 路由中间件 - 捕获异常</a></li><li><a href="https://mp.weixin.qq.com/s/eTygPXnrYM2xfrRQyfn8Tg">3. 路由中间件 - 日志记录</a></li><li><a href="https://mp.weixin.qq.com/s/11AuXptWGmL5QfiJArNLnA">2. 规划项目目录和参数验证</a></li><li><a href="https://mp.weixin.qq.com/s/1XNTEgZ0XGZZdxFOfR5f_A">1. 使用 go modules 初始化项目</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>9. chan通道</title>
      <link href="/posts/5d5a56e5.html"/>
      <url>/posts/5d5a56e5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>原来分享基础语法的时候，还未分享过 chan 通道，这次把它补上。</p><p>chan 可以理解为队列，遵循先进先出的规则。</p><p>在说 chan 之前，咱们先说一下 go 关键字。</p><p>在 go 关键字后面加一个函数，就可以创建一个线程，函数可以为已经写好的函数，也可以是匿名函数。</p><p>举个例子：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;goroutine&quot;</span>)</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>为什么没有输出 goroutine ？</p><p>首先，我们清楚 Go 语言的线程是并发机制，不是并行机制。</p><p>那么，什么是并发，什么是并行？</p><p>并发是不同的代码块交替执行，也就是交替可以做不同的事情。</p><p>并行是不同的代码块同时执行，也就是同时可以做不同的事情。</p><p>举个生活化场景的例子：</p><p>你正在家看书，忽然电话来了，然后你接电话，通话完成后继续看书，这就是并发，看书和接电话交替做。</p><p>如果电话来了，你一边看书一遍接电话，这就是并行，看书和接电话一起做。</p><p>说回上面的例子，为什么没有输出 goroutine ？</p><p>main 函数是一个主线程，是因为主线程执行太快了，子线程还没来得及执行，所以看不到输出。</p><p>现在让主线程休眠 1 秒钟，再试试。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;goroutine&quot;</span>)</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">goroutine</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>这就对了。</p><p>接下来，看看如何使用 chan 。</p><h2 id="1-2-声明-chan"><a href="#1-2-声明-chan" class="headerlink" title="1.2 声明 chan"></a>1.2 声明 chan</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明不带缓冲的通道</span></span><br><span class="line">ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明带10个缓冲的通道</span></span><br><span class="line">ch2 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明只读通道</span></span><br><span class="line">ch3 := <span class="built_in">make</span>(&lt;-<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明只写通道</span></span><br><span class="line">ch4 := <span class="built_in">make</span>(<span class="keyword">chan</span>&lt;- <span class="type">string</span>)</span><br></pre></td></tr></table></figure><p>注意：</p><p>不带缓冲的通道，进和出都会阻塞。</p><p>带缓冲的通道，进一次长度 +1，出一次长度 -1，如果长度等于缓冲长度时，再进就会阻塞。</p><h2 id="1-3-写入-chan"><a href="#1-3-写入-chan" class="headerlink" title="1.3 写入 chan"></a>1.3 写入 chan</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ch1 := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">ch1 &lt;- <span class="string">&quot;a&quot;</span></span><br></pre></td></tr></table></figure><h2 id="1-4-读取-chan"><a href="#1-4-读取-chan" class="headerlink" title="1.4 读取 chan"></a>1.4 读取 chan</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val, ok := &lt;- ch1</span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line">val := &lt;- ch1</span><br></pre></td></tr></table></figure><h2 id="1-5关闭-chan"><a href="#1-5关闭-chan" class="headerlink" title="1.5关闭 chan"></a>1.5关闭 chan</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close(chan)</span><br></pre></td></tr></table></figure><p>注意：</p><ul><li>close 以后不能再写入，写入会出现 panic</li><li>重复 close 会出现 panic</li><li>只读的 chan 不能 close</li><li>close 以后还可以读取数据</li></ul><h2 id="1-6-示例"><a href="#1-6-示例" class="headerlink" title="1.6 示例"></a>1.6 示例</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span> <span class="comment">// 入 chan</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">val := &lt;- ch <span class="comment">// 出 chan</span></span><br><span class="line">fmt.Println(val)</span><br><span class="line">&#125;()</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">fatal error: all goroutines are asleep - deadlock!</span><br></pre></td></tr></table></figure><p>What ? 这是为啥，刚开始就出师不利呀？</p><p>因为，定义的是一个无缓冲的 chan，赋值后就陷入了阻塞。</p><p>怎么解决它？</p><p>声明一个有缓冲的 chan。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">1</span>)</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span> <span class="comment">// 入 chan</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">val := &lt;- ch <span class="comment">// 出 chan</span></span><br><span class="line">fmt.Println(val)</span><br><span class="line">&#125;()</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>为啥没有输出 a , 和前面一样，主线程执行太快了，加个休眠 1 秒钟，再试试。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">1</span>)</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span> <span class="comment">// 入 chan</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">val := &lt;- ch <span class="comment">// 出 chan</span></span><br><span class="line">fmt.Println(val)</span><br><span class="line">&#125;()</span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">a</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>这就对了。</p><p>再看一个例子：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span> <span class="comment">// 入 chan</span></span><br><span class="line">&#125;()</span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">val := &lt;- ch <span class="comment">// 出 chan</span></span><br><span class="line">fmt.Println(val)</span><br><span class="line">&#125;()</span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">a</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>再看一个例子：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">producer</span><span class="params">(ch <span class="keyword">chan</span> <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;producer start&quot;</span>)</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;b&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;c&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;d&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;producer end&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">go</span> producer(ch)</span><br><span class="line"></span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">producer start</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>带缓冲的通道，如果长度等于缓冲长度时，再进就会阻塞。</p><p>再看一个例子：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">producer</span><span class="params">(ch <span class="keyword">chan</span> <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;producer start&quot;</span>)</span><br><span class="line">ch &lt;- <span class="string">&quot;a&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;b&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;c&quot;</span></span><br><span class="line">ch &lt;- <span class="string">&quot;d&quot;</span></span><br><span class="line">fmt.Println(<span class="string">&quot;producer end&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">customer</span><span class="params">(ch <span class="keyword">chan</span> <span class="type">string</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">msg := &lt;- ch</span><br><span class="line">fmt.Println(msg)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">go</span> producer(ch)</span><br><span class="line"><span class="keyword">go</span> customer(ch)</span><br><span class="line"></span><br><span class="line">time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">fmt.Println(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">main start</span><br><span class="line">producer start</span><br><span class="line">producer end</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">main end</span><br></pre></td></tr></table></figure><p>就到这吧。</p>]]></content>
      
      
      <categories>
          
          <category> golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>9.随机请求头</title>
      <link href="/posts/95b5ca1f.html"/>
      <url>/posts/95b5ca1f.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent   <span class="comment"># 下载：pip install fake-useragent</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">ua = UserAgent()        <span class="comment"># 实例化，需要联网但是网站不太稳定-可能耗时会长一些</span></span><br><span class="line"><span class="built_in">print</span>(ua.random)  <span class="comment"># 随机产生</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: ua.random    <span class="comment"># 伪装</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="built_in">print</span>(headers)</span><br><span class="line"><span class="comment"># 请求</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    url = <span class="string">&#x27;https://www.baidu.com/&#x27;</span></span><br><span class="line">    response = requests.get(url, headers=headers ,proxies=&#123;<span class="string">&quot;http&quot;</span>:<span class="string">&quot;117.136.27.43&quot;</span>&#125;)</span><br><span class="line">    <span class="built_in">print</span>(response.status_code)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">proxies = &#123;</span><br><span class="line">    <span class="string">&quot;http&quot;</span>: <span class="string">&quot;http://%(user)s:%(pwd)s@%(proxy)s/&quot;</span> % &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;t18552632261285&quot;</span>, <span class="string">&quot;pwd&quot;</span>: <span class="string">&quot;bjnrabj3&quot;</span>, <span class="string">&quot;proxy&quot;</span>: <span class="string">&quot;a892.kdltps.com:15818&quot;</span>&#125;,</span><br><span class="line">    <span class="comment"># &quot;https&quot;: &quot;http://%(user)s:%(pwd)s@%(proxy)s/&quot; % &#123;&quot;user&quot;: &quot;t18637964583060&quot;, &quot;pwd&quot;: &quot;7wu91jnb&quot;, &quot;proxy&quot;: &quot;s1000.kdltps.com:15818&quot;&#125;,</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">resp = requests.get(url, headers=headers,proxies=proxies)</span><br><span class="line"><span class="built_in">print</span>(resp.status_code)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.Scrapy抓取全网站数据</title>
      <link href="/posts/66b6708f.html"/>
      <url>/posts/66b6708f.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="4-Scrapy抓取全网站数据"><a href="#4-Scrapy抓取全网站数据" class="headerlink" title="4.Scrapy抓取全网站数据"></a>4.Scrapy抓取全网站数据</h1><h2 id="一-使用常规Spider"><a href="#一-使用常规Spider" class="headerlink" title="一. 使用常规Spider"></a>一. 使用常规Spider</h2><p>我们把目光对准汽车之家. 抓取二手车信息.</p><p>注意, 汽车之家的访问频率要控制一下. 要不然会跳验证的. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DOWNLOAD_DELAY = <span class="number">3</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ErshouSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;ershou&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;che168.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.che168.com/beijing/a0_0msdgscncgpi1ltocsp100exx0/?pvareaid=102179#currengpostion&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        <span class="comment"># print(resp.text)</span></span><br><span class="line">        <span class="comment"># 链接提取器</span></span><br><span class="line">        le = LinkExtractor(restrict_xpaths=(<span class="string">&quot;//ul[@class=&#x27;viewlist_ul&#x27;]/li/a&quot;</span>,), deny_domains=(<span class="string">&quot;topicm.che168.com&quot;</span>,) )</span><br><span class="line">        links = le.extract_links(resp)</span><br><span class="line">        <span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(</span><br><span class="line">                url=link.url,</span><br><span class="line">                callback=self.parse_detail</span><br><span class="line">            )</span><br><span class="line">        <span class="comment"># 翻页功能</span></span><br><span class="line">        le2 = LinkExtractor(restrict_xpaths=(<span class="string">&quot;//div[@id=&#x27;listpagination&#x27;]/a&quot;</span>,))</span><br><span class="line">        pages = le2.extract_links(resp)</span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> pages:</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=page.url, callback=self.parse_detail)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_detail</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        title = resp.xpath(<span class="string">&#x27;/html/body/div[5]/div[2]/h3/text()&#x27;</span>).extract_first()</span><br><span class="line">        <span class="built_in">print</span>(title)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>LinkExtractor: 链接提取器. 可以非常方便的帮助我们从一个响应页面中提取到url链接. 我们只需要提前定义好规则即可. </p><p>参数: </p><p>​allow, 接收一堆正则表达式, 可以提取出符合该正则的链接<br>​deny, 接收一堆正则表达式, 可以剔除符合该正则的链接<br>​allow_domains: 接收一堆域名, 符合里面的域名的链接被提取<br>​deny_domains: 接收一堆域名, 剔除不符合该域名的链接<br>​restrict_xpaths: 接收一堆xpath, 可以提取符合要求xpath的链接<br>​restrict_css: 接收一堆css选择器, 可以提取符合要求的css选择器的链接<br>​tags: 接收一堆标签名, 从某个标签中提取链接, 默认a, area<br>​attrs: 接收一堆属性名, 从某个属性中提取链接, 默认href</p><p>值得注意的, &#x3D;&#x3D;在提取到的url中, 是有重复的内容的. 但是我们不用管. scrapy会自动帮我们过滤掉重复的url请求.&#x3D;&#x3D; </p><h2 id="二-使用CrawlSpider"><a href="#二-使用CrawlSpider" class="headerlink" title="二. 使用CrawlSpider"></a>二. 使用CrawlSpider</h2><p>在scrapy中提供了CrawlSpider来完成全站数据抓取. </p><ol><li><p>创建项目</p><p><code>scrapy startproject qichezhijia</code></p></li><li><p>进入项目</p><p><code>cd qichezhijia</code></p></li><li><p>创建爬虫(CrawlSpider)</p><p><code>scrapy genspider </code>&#x3D;&#x3D;-t crawl&#x3D;&#x3D;<code> ershouche che168.com</code></p><p>和以往的爬虫不同. 该爬虫需要用到crawl的模板来创建爬虫. </p></li><li><p>修改spider中的rules和回调函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ErshoucheSpider</span>(<span class="title class_ inherited__">CrawlSpider</span>):</span><br><span class="line">    name = <span class="string">&#x27;ershouche&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;che168.com&#x27;</span>, <span class="string">&#x27;autohome.com.cn&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.che168.com/beijing/a0_0msdgscncgpi1ltocsp1exx0/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    le = LinkExtractor(restrict_xpaths=(<span class="string">&quot;//ul[@class=&#x27;viewlist_ul&#x27;]/li/a&quot;</span>,), deny_domains=(<span class="string">&quot;topicm.che168.com&quot;</span>,) )</span><br><span class="line">    le1 = LinkExtractor(restrict_xpaths=(<span class="string">&quot;//div[@id=&#x27;listpagination&#x27;]/a&quot;</span>,))</span><br><span class="line">    rules = (</span><br><span class="line">        Rule(le1, follow=<span class="literal">True</span>),  <span class="comment"># 单纯为了做分页</span></span><br><span class="line">        Rule(le, callback=<span class="string">&#x27;parse_item&#x27;</span>, follow=<span class="literal">False</span>), <span class="comment"># 单纯提取数据</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_item</span>(<span class="params">self, response</span>):</span><br><span class="line">        <span class="built_in">print</span>(response.url)</span><br></pre></td></tr></table></figure><p>CrawlSpider的工作流程. </p><p>前期和普通的spider是一致的. 在第一次请求回来之后. 会自动的将返回的response按照rules中订制的规则来提取链接. 并进一步执行callback中的回调. 如果follow是True, 则继续在响应的内容中继续使用该规则提取链接.  相当于在parse中的scrapy.request(xxx, callback&#x3D;self.parse)</p></li></ol><h2 id="三-Redis简单使用"><a href="#三-Redis简单使用" class="headerlink" title="三. Redis简单使用"></a>三. Redis简单使用</h2><p>​redis作为一款目前这个星球上性能最高的非关系型数据库之一. 拥有每秒近十万次的读写能力. 其实力只能用恐怖来形容. </p><ol><li><p>安装redis</p><p>redis是我见过这个星球上最好安装的软件了. 比起前面的那一坨. 它简直了…</p><p>直接把压缩包解压. 然后配置一下环境变量就可以了. </p><p><img src="https://s2.loli.net/2023/07/17/xN5MCuhGAbod7y8.png" alt="image-20210810184227132"></p><p><img src="https://s2.loli.net/2023/07/17/m56WcSfEK2MuCUY.png" alt="image-20210810184318301"></p><p>接下来, 在环境变量中将该文件夹配置到path中. </p><p><img src="https://s2.loli.net/2023/07/17/MUVFIJHSuqxre81.png" alt="image-20210810184649037"></p><p>win7的同学自求多福吧…</p><p>我们给redis多配置几个东西(修改redis的配置文件, mac是: redis.conf, windows是: )</p><ol><li><p>关闭bind</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bind 127.0.0.1 ::1  # 注释掉它</span></span><br></pre></td></tr></table></figure></li><li><p>关闭保护模式  windows不用设置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protected-mode no    <span class="comment"># 设置为no</span></span><br></pre></td></tr></table></figure></li><li><p>设置密码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requirepass <span class="number">123456</span>   <span class="comment"># 设置密码</span></span><br></pre></td></tr></table></figure></li></ol><p>将redis怼到windows服务&#x3D;&#x3D;必须进入到redis目录后才可以&#x3D;&#x3D;</p><p><img src="https://s2.loli.net/2023/07/17/SZOh5UtfpEysjL3.png" alt="image-20210810185306517"></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 将redis安装到windows服务</span><br><span class="line">redis-server.exe --service-install redis.windows.conf --loglevel verbose</span><br><span class="line"># 卸载服务：</span><br><span class="line">redis-server --service-uninstall</span><br><span class="line"># 开启服务：</span><br><span class="line">redis-server --service-<span class="built_in">start</span></span><br><span class="line"># 停止服务：</span><br><span class="line">redis-server --service-stop</span><br></pre></td></tr></table></figure><p>使用redis-cli链接redis</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h ip地址 -p 端口 --raw   <span class="comment"># raw可以让redis显示出中文</span></span><br><span class="line">auth 密码   <span class="comment"># 如果有密码可以这样来登录, 如果没有.不用这一步</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/07/17/hnvgY5RKr23mPI4.png" alt="image-20210810185605290"></p><p>附赠RDM, redis desktop manager. 可以帮我们完成redis数据库的可视化操作(需要就装, 不需要就算)</p><p><img src="https://s2.loli.net/2023/07/17/iRHUPhJG1Xxu3ro.png" alt="image-20210810185659813"></p></li><li><p>redis常见数据类型</p><p>redis中常见的数据类型有5个. </p><p>命令规则:  <code>命令 key 参数</code></p><ol><li><p>string</p><p>字符串(它自己认为是字符串, 我认为是任何东西. ), redis最基础的数据类型. </p><p>常用命令</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> key value  <span class="comment"># 添加一条数据</span></span><br><span class="line">get key   <span class="comment"># 查看一条数据</span></span><br><span class="line">incr key       <span class="comment"># 让该key对应的数据自增1(原子性, 安全)</span></span><br><span class="line">incrby key count     <span class="comment"># 让该key对应的value自增 count </span></span><br><span class="line"><span class="built_in">type</span> key<span class="comment"># 查看数据类型(set进去的东西一律全是字符串)</span></span><br></pre></td></tr></table></figure><p>例如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> name zhangsan  <span class="comment"># 添加数据  name = zhangsan</span></span><br><span class="line">get name<span class="comment"># 查看数据 zhangsan</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> age <span class="number">10</span></span><br><span class="line">get age <span class="comment"># 10</span></span><br><span class="line">incr age<span class="comment"># 11</span></span><br><span class="line">get age <span class="comment"># 11</span></span><br><span class="line">incrby age <span class="number">5</span><span class="comment"># 16</span></span><br></pre></td></tr></table></figure></li><li><p>hash</p><p>哈希, 相当于字典. </p><p>常见操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hset key k1 v1   <span class="comment"># 将k1, v1存储在key上</span></span><br><span class="line">hget key k1      <span class="comment"># 将key上的k1提取出来</span></span><br><span class="line">hmset key k1 v1 k2 v2 k3 v3....  <span class="comment"># 一次性将多个k,v存储在key</span></span><br><span class="line">hmget key k1 k2....<span class="comment"># 一次性将key中的k1, k2...提取出来</span></span><br><span class="line">hgetall key <span class="comment"># 一次性将key中所有内容全部提取</span></span><br><span class="line">hkeys key<span class="comment"># 将key中所有的k全部提取</span></span><br><span class="line">hvals key <span class="comment"># 将key中所有的v全部提取</span></span><br></pre></td></tr></table></figure><p>示例:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HMSET stu <span class="built_in">id</span> <span class="number">1</span> name sylar age <span class="number">18</span></span><br><span class="line">HMGET stu name age   <span class="comment"># syalr 18</span></span><br><span class="line">HGETALL stu    <span class="comment"># id 1 name sylar age 18</span></span><br><span class="line">HKEYS stu <span class="comment"># id name age</span></span><br><span class="line">HVALS stu   <span class="comment"># 1 syalr 18</span></span><br></pre></td></tr></table></figure></li><li><p>list</p><p>列表, 底层是一个双向链表. 可以从左边和右边进行插入. 记住每次插入都要记得这货是个&#x3D;&#x3D;双向链表&#x3D;&#x3D;</p><p>常见操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LPUSH key 数据<span class="number">1</span> 数据<span class="number">2</span> 数据<span class="number">3.</span>... <span class="comment"># 从左边插入数据</span></span><br><span class="line">RPUSH key 数据<span class="number">1</span> 数据<span class="number">2</span> 数据<span class="number">3.</span>... <span class="comment"># 从右边插入数据</span></span><br><span class="line">LRANGE key start stop     <span class="comment"># 从start到stop提取数据. </span></span><br><span class="line"></span><br><span class="line">LLEN key<span class="comment"># 返回key对应列表的长度</span></span><br><span class="line">LPOP key        <span class="comment"># 从左边删除一个.并返回被删除元素</span></span><br><span class="line">RPOP key<span class="comment"># 从右边删除一个.并返回被删除元素</span></span><br></pre></td></tr></table></figure><p>示例:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">LPUSH banji yiban erban sanban siban</span><br><span class="line">LRANGE banji <span class="number">0</span> -<span class="number">1</span>   <span class="comment"># yiban erban sanban siban</span></span><br><span class="line">RPUSH ban ban1 ban2 ban3</span><br><span class="line">LRANGE ban <span class="number">0</span> -<span class="number">1</span>     <span class="comment"># ban1 ban2 ban3</span></span><br><span class="line">LPOP ban  <span class="comment"># ban1</span></span><br><span class="line">LLEN key  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure></li><li><p>set</p><p>set是无序的超大集合. 无序, 不重复. </p><p>常见操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SADD key 值   <span class="comment"># 向集合内存入数据</span></span><br><span class="line">SMEMBERS key  <span class="comment"># 查看集合内所有元素</span></span><br><span class="line">SCARD key <span class="comment"># 查看key中元素的个数</span></span><br><span class="line">SISMEMBER key val  <span class="comment"># 查看key中是否包含val</span></span><br><span class="line">SUNION key1 key2  <span class="comment"># 并集</span></span><br><span class="line">SDIFF key1 key2  <span class="comment"># 差集合, 在key1中, 但不在key2中的数据</span></span><br><span class="line">SINTER key1 key2 <span class="comment"># 计算交集, 在key1和key2中都出现了的</span></span><br><span class="line">SPOP key  <span class="comment"># 随机从key中删除一个数据</span></span><br><span class="line">SRANDMEMBER key count <span class="comment"># 随机从key中查询count个数据</span></span><br></pre></td></tr></table></figure><p>实例:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SADD stars 柯震东 吴亦凡 张默 房祖名   <span class="comment"># 4</span></span><br><span class="line">SADD stars 吴亦凡    <span class="comment"># 0. 重复的数据是存储不进去的.</span></span><br><span class="line">SMEMBERS stars   <span class="comment"># 柯震东 吴亦凡 张默 房祖名</span></span><br><span class="line">SISMEMBER stars 吴亦凡  <span class="comment"># 吴亦凡在 stars里么?  1 在  0 不在</span></span><br><span class="line"></span><br><span class="line">SADD my 周杰伦 吴亦凡 房祖名  </span><br><span class="line">SINTER stars my  <span class="comment"># 计算交集  吴亦凡 房祖名</span></span><br><span class="line"></span><br><span class="line">SPOP my  <span class="comment"># 随机删除一个</span></span><br><span class="line">SRANDMEMEBER my <span class="number">2</span>   <span class="comment"># 从集合总随机查看2个</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>zset</p><p>有序集合, 有序集合中的内容也是不可以重复的. 并且存储的数据也是redis最基础的string数据. 但是在存储数据的同时还增加了一个score. 表示分值. redis就是通过这个score作为排序的规则的. </p><p>常用操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ZADD key s1 m1 s2 m2 ... <span class="comment"># 向key中存入 m1 m2 分数分别为s1 s2</span></span><br><span class="line">ZRANGE key start stop [withscores]   <span class="comment"># 查看从start 到stop中的所有数据 [是否要分数]</span></span><br><span class="line">ZREVRANGE key start stop <span class="comment"># 倒叙查看start到stop的数据</span></span><br><span class="line">ZCARD key   <span class="comment"># 查看zset的数据个数</span></span><br><span class="line">ZCOUNT key <span class="built_in">min</span> <span class="built_in">max</span>  <span class="comment"># 查看分数在min和max之间的数据量</span></span><br><span class="line">ZINCRBY key score member  <span class="comment"># 将key中member的分值score</span></span><br><span class="line">ZSCORE key m  <span class="comment"># 查看key中m的分值</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>示例:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ZADD fam <span class="number">1</span> sylar <span class="number">2</span> alex <span class="number">3</span> tory  <span class="comment"># 添加三个数据</span></span><br><span class="line">ZRANGE fam <span class="number">0</span> -<span class="number">1</span> WITHSCORES <span class="comment"># 正序查看</span></span><br><span class="line">ZREVRANGE fam <span class="number">0</span> -<span class="number">1</span> WITHSCORES   <span class="comment"># 倒叙查看</span></span><br><span class="line">ZINCRBY fam <span class="number">10</span> alex  <span class="comment"># 给alex加10分</span></span><br><span class="line">ZADD fam <span class="number">100</span> alex   <span class="comment"># 给alex修改分数为100分</span></span><br><span class="line">ZSCORE fam alex   <span class="comment"># 查看alex的分数</span></span><br><span class="line">ZCARD fam    <span class="comment"># 查看fam的数据个数</span></span><br></pre></td></tr></table></figure></li></ol><p>redis还有非常非常多的操作. 我们就不一一列举了. 各位可以在网络上找到非常多的资料. </p><p>&#x3D;&#x3D;各位大佬们注意. 数据保存完一定要save一下, 避免数据没有写入硬盘而产生的数据丢失&#x3D;&#x3D;</p></li></ol><h2 id="四-python搞定redis"><a href="#四-python搞定redis" class="headerlink" title="四. python搞定redis"></a>四. python搞定redis</h2><p>​python处理redis使用专用的redis模块. 同样的, 它也是一个第三方库.</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install redis</span><br></pre></td></tr></table></figure><p>​获取连接(1)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> redis <span class="keyword">import</span> Redis</span><br><span class="line"></span><br><span class="line">red = Redis(host=<span class="string">&quot;127.0.0.1&quot;</span>,  <span class="comment"># 地址</span></span><br><span class="line">            port=<span class="number">6379</span>,   <span class="comment"># 端口</span></span><br><span class="line">            db=<span class="number">0</span>,   <span class="comment"># 数据库</span></span><br><span class="line">            password=<span class="number">123456</span>,  <span class="comment"># 密码</span></span><br><span class="line">            decode_responses=<span class="literal">True</span>)  <span class="comment"># 是否自动解码</span></span><br></pre></td></tr></table></figure><p>​获取连接(2)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pool = redis.ConnectionPool(</span><br><span class="line">        host=<span class="string">&quot;127.0.0.1&quot;</span>,  <span class="comment"># 地址</span></span><br><span class="line">        port=<span class="number">6379</span>,   <span class="comment"># 端口</span></span><br><span class="line">        db=<span class="number">0</span>,   <span class="comment"># 数据库</span></span><br><span class="line">        password=<span class="number">123456</span>,  <span class="comment"># 密码</span></span><br><span class="line">        decode_responses=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line"><span class="built_in">print</span>(r.keys())</span><br></pre></td></tr></table></figure><p>​我们以一个免费代理IP池能用到的操作来尝试一下redis</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 存入数据</span></span><br><span class="line">red.<span class="built_in">set</span>(<span class="string">&quot;sylar&quot;</span>, <span class="string">&quot;邱彦涛&quot;</span>)</span><br><span class="line"><span class="comment"># 获取数据</span></span><br><span class="line"><span class="built_in">print</span>(red.get(<span class="string">&quot;sylar&quot;</span>))</span><br><span class="line"></span><br><span class="line">lst = [<span class="string">&quot;张三丰&quot;</span>, <span class="string">&quot;张无忌&quot;</span>, <span class="string">&quot;张翠山&quot;</span>, <span class="string">&quot;张娜拉&quot;</span>]</span><br><span class="line">red.lpush(<span class="string">&quot;names&quot;</span>, *lst)  <span class="comment"># 将所有的名字都存入names</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 查询所有数据</span></span><br><span class="line">result = red.lrange(<span class="string">&quot;names&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从上面的操作上可以看出. python中的redis和redis-cli中的操作是几乎一样的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 接下来, 咱们站在一个代理IP池的角度来分析各个功能</span></span><br><span class="line"><span class="comment"># 抓取到了IP. 保存入库</span></span><br><span class="line">red.zadd(<span class="string">&quot;proxy&quot;</span>, &#123;<span class="string">&quot;192.168.1.1&quot;</span>: <span class="number">10</span>, <span class="string">&quot;192.168.1.2&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line">red.zadd(<span class="string">&quot;proxy&quot;</span>, &#123;<span class="string">&quot;192.168.1.3&quot;</span>: <span class="number">10</span>, <span class="string">&quot;192.168.1.6&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line">red.zadd(<span class="string">&quot;proxy&quot;</span>, &#123;<span class="string">&quot;192.168.1.4&quot;</span>: <span class="number">10</span>, <span class="string">&quot;192.168.1.7&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line">red.zadd(<span class="string">&quot;proxy&quot;</span>, &#123;<span class="string">&quot;192.168.1.5&quot;</span>: <span class="number">10</span>, <span class="string">&quot;192.168.1.8&quot;</span>: <span class="number">10</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 给某一个ip增加到100分</span></span><br><span class="line">red.zadd(<span class="string">&quot;proxy&quot;</span>, &#123;<span class="string">&quot;192.168.1.4&quot;</span>: <span class="number">100</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 给&quot;192.168.1.4&quot; 扣10分</span></span><br><span class="line">red.zincrby(<span class="string">&quot;proxy&quot;</span>, -<span class="number">10</span>, <span class="string">&quot;192.168.1.4&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分扣没了. 删除掉它</span></span><br><span class="line">red.zrem(<span class="string">&quot;proxy&quot;</span>, <span class="string">&quot;192.168.1.4&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可用的代理数量</span></span><br><span class="line">c = red.zcard(<span class="string">&quot;proxy&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># 根据分值进行查询(0~100)之间</span></span><br><span class="line">r = red.zrangebyscore(<span class="string">&quot;proxy&quot;</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line"><span class="built_in">print</span>(r)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询前100个数据(分页查询)</span></span><br><span class="line">r = red.zrevrange(<span class="string">&#x27;proxy&#x27;</span>, <span class="number">0</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断proxy是否存在, 如果是None就是不存在</span></span><br><span class="line">r = red.zscore(<span class="string">&quot;proxy&quot;</span>, <span class="string">&quot;192.168.1.4&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(r)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注：资源来源于网络，如有侵权 删</p>]]></content>
      
      
      <categories>
          
          <category> Scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.Scrapy管道</title>
      <link href="/posts/e060f602.html"/>
      <url>/posts/e060f602.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="2-Scrapy管道"><a href="#2-Scrapy管道" class="headerlink" title="2.Scrapy管道"></a>2.Scrapy管道</h1><p>在上一小节中, 我们初步掌握了Scrapy的基本运行流程以及基本开发流程. 本节继续讨论关于Scrapy更多的内容. </p><h2 id="一-关于管道"><a href="#一-关于管道" class="headerlink" title="一. 关于管道"></a>一. 关于管道</h2><p>上一节内容, 我们已经可以从spider中提取到数据. 然后通过引擎将数据传递给pipeline, 那么在pipeline中如何对数据进行保存呢? 我们主要针对四种数据存储展开讲解. </p><p>前三个案例以<a href="http://datachart.500.com/ssq/%E4%B8%BA%E6%A1%88%E4%BE%8B%E5%9F%BA%E7%A1%80">http://datachart.500.com/ssq/为案例基础</a>. 最后一个以<a href="https://www.tupianzj.com/bizhi/DNmeinv/%E4%B8%BA%E6%A1%88%E4%BE%8B%E5%9F%BA%E7%A1%80">https://www.tupianzj.com/bizhi/DNmeinv/为案例基础</a>. </p><h3 id="1-csv文件写入"><a href="#1-csv文件写入" class="headerlink" title="1. csv文件写入"></a>1. csv文件写入</h3><p>​写入文件是一个非常简单的事情. 直接在pipeline中开启文件即可. 但这里要说明的是. 如果我们只在process_item中进行处理文件是不够优雅的.  总不能有一条数据就open一次吧</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CaipiaoFilePipeline</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;caipiao.txt&quot;</span>, mode=<span class="string">&quot;a&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="comment"># 写入文件</span></span><br><span class="line">            f.write(<span class="string">f&quot;<span class="subst">&#123;item[<span class="string">&#x27;qihao&#x27;</span>]&#125;</span>, <span class="subst">&#123;<span class="string">&#x27;_&#x27;</span>.join(item[<span class="string">&#x27;red_ball&#x27;</span>])&#125;</span>, <span class="subst">&#123;<span class="string">&#x27;_&#x27;</span>.join(item[<span class="string">&#x27;blue_ball&#x27;</span>])&#125;</span>\n&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure><p>​我们希望的是, 能不能打开一个文件, 然后就用这一个文件句柄来完成数据的保存. 答案是可以的. 我们可以在pipeline中创建两个方法, 一个是open_spider(), 另一个是close_spider(). 看名字也能明白其含义: </p><p>​open_spider(), 在爬虫开始的时候执行一次<br>​close_spider(), 在爬虫结束的时候执行一次</p><p>​有了这俩货, 我们就可以很简单的去处理这个问题</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CaipiaoFilePipeline</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.f = <span class="built_in">open</span>(<span class="string">&quot;caipiao.txt&quot;</span>, mode=<span class="string">&quot;a&quot;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        <span class="keyword">if</span> self.f:</span><br><span class="line">            self.f.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="comment"># 写入文件</span></span><br><span class="line">        self.f.write(<span class="string">f&quot;<span class="subst">&#123;item[<span class="string">&#x27;qihao&#x27;</span>]&#125;</span>, <span class="subst">&#123;<span class="string">&#x27;_&#x27;</span>.join(item[<span class="string">&#x27;red_ball&#x27;</span>])&#125;</span>, <span class="subst">&#123;<span class="string">&#x27;_&#x27;</span>.join(item[<span class="string">&#x27;blue_ball&#x27;</span>])&#125;</span>\n&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure><p>​在爬虫开始的时候打开一个文件, 在爬虫结束的时候关闭这个文件. 满分~</p><p>​对了, 别忘了设置settings</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;caipiao.pipelines.CaipiaoFilePipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-mysql数据库写入"><a href="#2-mysql数据库写入" class="headerlink" title="2. mysql数据库写入"></a>2. mysql数据库写入</h3><p>​有了上面的示例, 写入数据库其实也就很顺其自然了, 首先, 在open_spider中创建好数据库连接. 在close_spider中关闭链接. 在proccess_item中对数据进行保存工作. </p><p>先把mysql相关设置丢到settings里</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MYSQL配置信息</span></span><br><span class="line">MYSQL_CONFIG = &#123;</span><br><span class="line">   <span class="string">&quot;host&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">   <span class="string">&quot;port&quot;</span>: <span class="number">3306</span>,</span><br><span class="line">   <span class="string">&quot;user&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">   <span class="string">&quot;password&quot;</span>: <span class="string">&quot;test123456&quot;</span>,</span><br><span class="line">   <span class="string">&quot;database&quot;</span>: <span class="string">&quot;spider&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> caipiao.settings <span class="keyword">import</span> MYSQL_CONFIG <span class="keyword">as</span> mysql</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CaipiaoMySQLPipeline</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.conn = pymysql.connect(host=mysql[<span class="string">&quot;host&quot;</span>], port=mysql[<span class="string">&quot;port&quot;</span>], user=mysql[<span class="string">&quot;user&quot;</span>], password=mysql[<span class="string">&quot;password&quot;</span>], database=mysql[<span class="string">&quot;database&quot;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.conn.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="comment"># 写入文件</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cursor = self.conn.cursor()</span><br><span class="line">            sql = <span class="string">&quot;insert into caipiao(qihao, red, blue) values(%s, %s, %s)&quot;</span></span><br><span class="line">            red = <span class="string">&quot;,&quot;</span>.join(item[<span class="string">&#x27;red_ball&#x27;</span>])</span><br><span class="line">            blue = <span class="string">&quot;,&quot;</span>.join(item[<span class="string">&#x27;blue_ball&#x27;</span>])</span><br><span class="line">            cursor.execute(sql, (item[<span class="string">&#x27;qihao&#x27;</span>], red, blue))</span><br><span class="line">            self.conn.commit()</span><br><span class="line">            spider.logger.info(<span class="string">f&quot;保存数据<span class="subst">&#123;item&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            self.conn.rollback()</span><br><span class="line">            spider.logger.error(<span class="string">f&quot;保存数据库失败!&quot;</span>, e, <span class="string">f&quot;数据是: <span class="subst">&#123;item&#125;</span>&quot;</span>)  <span class="comment"># 记录错误日志</span></span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>别忘了把pipeline设置一下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;caipiao.pipelines.CaipiaoMySQLPipeline&#x27;</span>: <span class="number">301</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-mongodb数据库写入"><a href="#3-mongodb数据库写入" class="headerlink" title="3. mongodb数据库写入"></a>3. mongodb数据库写入</h3><p>​mongodb数据库写入和mysql写入如出一辙…不废话直接上代码吧</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MONGO_CONFIG = &#123;</span><br><span class="line">   <span class="string">&quot;host&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">   <span class="string">&quot;port&quot;</span>: <span class="number">27017</span>,</span><br><span class="line">   <span class="string">&#x27;has_user&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">   <span class="string">&#x27;user&#x27;</span>: <span class="string">&quot;python_admin&quot;</span>,</span><br><span class="line">   <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">   <span class="string">&quot;db&quot;</span>: <span class="string">&quot;python&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> caipiao.settings <span class="keyword">import</span> MONGO_CONFIG <span class="keyword">as</span> mongo</span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CaipiaoMongoDBPipeline</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        client = pymongo.MongoClient(host=mongo[<span class="string">&#x27;host&#x27;</span>],</span><br><span class="line">                                     port=mongo[<span class="string">&#x27;port&#x27;</span>])</span><br><span class="line">        db = client[mongo[<span class="string">&#x27;db&#x27;</span>]]</span><br><span class="line">        <span class="keyword">if</span> mongo[<span class="string">&#x27;has_user&#x27;</span>]:</span><br><span class="line">            db.authenticate(mongo[<span class="string">&#x27;user&#x27;</span>], mongo[<span class="string">&#x27;password&#x27;</span>])</span><br><span class="line">        self.client = client</span><br><span class="line">        self.collection = db[<span class="string">&#x27;caipiao&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.client.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        self.collection.insert(&#123;<span class="string">&quot;qihao&quot;</span>: item[<span class="string">&#x27;qihao&#x27;</span>], <span class="string">&#x27;red&#x27;</span>: item[<span class="string">&quot;red_ball&quot;</span>], <span class="string">&#x27;blue&#x27;</span>: item[<span class="string">&#x27;blue_ball&#x27;</span>]&#125;)</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">    <span class="comment"># 三个管道可以共存~</span></span><br><span class="line">   <span class="string">&#x27;caipiao.pipelines.CaipiaoFilePipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">   <span class="string">&#x27;caipiao.pipelines.CaipiaoMySQLPipeline&#x27;</span>: <span class="number">301</span>,</span><br><span class="line">   <span class="string">&#x27;caipiao.pipelines.CaipiaoMongoDBPipeline&#x27;</span>: <span class="number">302</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-文件保存"><a href="#4-文件保存" class="headerlink" title="4. 文件保存"></a>4. 文件保存</h3><p>接下来我们来尝试使用scrapy来下载一些图片, 看看效果如何. </p><p>首先, 随便找个图片网站(安排好的). <a href="https://www.tupianzj.com/bizhi/DNmeinv/">https://www.tupianzj.com/bizhi/DNmeinv/</a>. 可以去看看, 妹子们还是很漂亮的. </p><p>接下来. 创建好项目,  定义好数据结构</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MeinvItem</span>(scrapy.Item):</span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    img_url = scrapy.Field()</span><br><span class="line">    img_path = scrapy.Field()</span><br></pre></td></tr></table></figure><p>完善spider, 注意看yield scrapy.Request()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> meinv.items <span class="keyword">import</span> MeinvItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TupianzhijiaSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;tupianzhijia&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;tupianzj.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.tupianzj.com/bizhi/DNmeinv/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        li_list = resp.xpath(<span class="string">&quot;//ul[@class=&#x27;list_con_box_ul&#x27;]/li&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            href = li.xpath(<span class="string">&quot;./a/@href&quot;</span>).extract_first()</span><br><span class="line">            <span class="comment"># 拿到href为了什么? 进入详情页啊</span></span><br><span class="line">            <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">            url: 请求地址</span></span><br><span class="line"><span class="string">            method: 请求方式</span></span><br><span class="line"><span class="string">            callback: 回调函数</span></span><br><span class="line"><span class="string">            errback: 报错回调</span></span><br><span class="line"><span class="string">            dont_filter: 默认False, 表示&quot;不过滤&quot;, 该请求会重新进行发送</span></span><br><span class="line"><span class="string">            headers: 请求头. </span></span><br><span class="line"><span class="string">            cookies: cookie信息</span></span><br><span class="line"><span class="string">            &quot;&quot;&quot;</span></span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(</span><br><span class="line">                url=resp.urljoin(href),  <span class="comment"># scrapy的url拼接</span></span><br><span class="line">                method=<span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">                callback=self.parse_detail,</span><br><span class="line">            )</span><br><span class="line">        <span class="comment"># 下一页</span></span><br><span class="line">        next_page = resp.xpath(<span class="string">&#x27;//div[@class=&quot;pages&quot;]/ul/li/a[contains(text(), &quot;下一页&quot;)]/@href&#x27;</span>).extract_first()</span><br><span class="line">        <span class="keyword">if</span> next_page:</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(</span><br><span class="line">                url=resp.urljoin(next_page),</span><br><span class="line">                method=<span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">                callback=self.parse</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_detail</span>(<span class="params">self, resp</span>):</span><br><span class="line">        img_src = resp.xpath(<span class="string">&#x27;//*[@id=&quot;bigpic&quot;]/a[1]/img/@src&#x27;</span>).extract_first()</span><br><span class="line">        name = resp.xpath(<span class="string">&#x27;//*[@id=&quot;container&quot;]/div/div/div[2]/h1/text()&#x27;</span>).extract_first()</span><br><span class="line">        meinv = MeinvItem()</span><br><span class="line">        meinv[<span class="string">&#x27;name&#x27;</span>] = name</span><br><span class="line">        meinv[<span class="string">&#x27;img_url&#x27;</span>] = img_src</span><br><span class="line">        <span class="keyword">yield</span> meinv</span><br><span class="line">        </span><br></pre></td></tr></table></figure><p>​关于Request()的参数:<br>​url: 请求地址<br>​            method: 请求方式<br>​            callback: 回调函数<br>​            errback: 报错回调<br>​            dont_filter: 默认False, 表示”不过滤”, 该请求会重新进行发送<br>​            headers: 请求头.<br>​            cookies: cookie信息</p><p>​接下来就是下载问题了. 如何在pipeline中下载一张图片呢? Scrapy早就帮你准备好了. 在Scrapy中有一个ImagesPipeline可以实现自动图片下载功能. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.pipelines.images <span class="keyword">import</span> ImagesPipeline, FilesPipeline</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">from</span> meinv.settings <span class="keyword">import</span> MYSQL</span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MeinvPipeline</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.conn = pymysql.connect(</span><br><span class="line">            host=MYSQL[<span class="string">&#x27;host&#x27;</span>],</span><br><span class="line">            port=MYSQL[<span class="string">&#x27;port&#x27;</span>],</span><br><span class="line">            user=MYSQL[<span class="string">&#x27;user&#x27;</span>],</span><br><span class="line">            password=MYSQL[<span class="string">&#x27;password&#x27;</span>],</span><br><span class="line">            database=MYSQL[<span class="string">&#x27;database&#x27;</span>]</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close_spider</span>(<span class="params">self, spider</span>):</span><br><span class="line">        <span class="keyword">if</span> self.conn:</span><br><span class="line">            self.conn.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cursor = self.conn.cursor()</span><br><span class="line">            sql = <span class="string">&quot;insert into tu (name, img_src, img_path) values (%s, %s, %s)&quot;</span></span><br><span class="line">            cursor.execute(sql, (item[<span class="string">&#x27;name&#x27;</span>], item[<span class="string">&#x27;img_src&#x27;</span>], item[<span class="string">&#x27;img_path&#x27;</span>]))</span><br><span class="line">            self.conn.commit()</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            self.conn.rollback()</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> cursor:</span><br><span class="line">                cursor.close()</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MeinvSavePipeline</span>(<span class="title class_ inherited__">ImagesPipeline</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_media_requests</span>(<span class="params">self, item, info</span>):</span><br><span class="line">        <span class="comment"># 发送请求去下载图片</span></span><br><span class="line">        <span class="comment"># 如果是一堆图片. 可以使用循环去得到每一个url, 然后在yield每一个图片对应的Request对象</span></span><br><span class="line">        <span class="keyword">return</span> scrapy.Request(item[<span class="string">&#x27;img_url&#x27;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">file_path</span>(<span class="params">self, request, response=<span class="literal">None</span>, info=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="comment"># 准备好图片的名称</span></span><br><span class="line">        filename = request.url.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;img/<span class="subst">&#123;filename&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">item_completed</span>(<span class="params">self, results, item, info</span>):</span><br><span class="line">        <span class="comment"># 文件存储的路径</span></span><br><span class="line">        ok, res = results[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># print(res[&#x27;path&#x27;])</span></span><br><span class="line">        item[<span class="string">&#x27;img_path&#x27;</span>] = res[<span class="string">&quot;path&quot;</span>]</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure><p>最后, 需要在settings中设置以下内容:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MYSQL = &#123;</span><br><span class="line">   <span class="string">&quot;host&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">   <span class="string">&quot;port&quot;</span>: <span class="number">3306</span>,</span><br><span class="line">   <span class="string">&quot;user&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">   <span class="string">&quot;password&quot;</span>: <span class="string">&quot;test123456&quot;</span>,</span><br><span class="line">   <span class="string">&quot;database&quot;</span>: <span class="string">&#x27;spider&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">    <span class="string">&#x27;meinv.pipelines.MeinvPipeline&#x27;</span>: <span class="number">303</span>,</span><br><span class="line">    <span class="string">&#x27;meinv.pipelines.MeinvSavePipeline&#x27;</span>: <span class="number">301</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 图片保存路径  -&gt; ImagesPipeline</span></span><br><span class="line">IMAGES_STORE= <span class="string">&#x27;./my_tu&#x27;</span></span><br><span class="line"><span class="comment"># 文件保存路径 -&gt; FilesPipeline</span></span><br><span class="line">FILES_STORE = <span class="string">&#x27;./my_tu&#x27;</span></span><br></pre></td></tr></table></figure><p>注：资源来源于网络，如有侵权 删</p>]]></content>
      
      
      <categories>
          
          <category> Scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.模拟登录与中间件</title>
      <link href="/posts/24c9ef7b.html"/>
      <url>/posts/24c9ef7b.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="3-模拟登录与中间件"><a href="#3-模拟登录与中间件" class="headerlink" title="3.模拟登录与中间件"></a>3.模拟登录与中间件</h1><h2 id="一-Scrapy处理cookie"><a href="#一-Scrapy处理cookie" class="headerlink" title="一. Scrapy处理cookie"></a>一. Scrapy处理cookie</h2><p>​在requests中我们讲解处理cookie主要有两个方案. 第一个方案. 从浏览器里直接把cookie搞出来. 贴到heades里. 这种方案, 简单粗暴. 第二个方案是走正常的登录流程. 通过session来记录请求过程中的cookie. 那么到了scrapy中如何处理cookie?  其实也是这两个方案. </p><p>​首先, 我们依然是把目标定好,  还是我们的老朋友, <a href="https://user.17k.com/ck/author/shelf?page=1&appKey=2406394919">https://user.17k.com/ck/author/shelf?page=1&amp;appKey=2406394919</a></p><p>​这个url必须要登录后才能访问(用户书架). &#x3D;&#x3D;对于该网页而言&#x3D;&#x3D;, 就必须要用到cookie了. 首先, 创建项目, 建立爬虫. 把该填的地方填上. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy <span class="keyword">import</span> Request, FormRequest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;login&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;17k.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://user.17k.com/ck/author/shelf?page=1&amp;appKey=2406394919&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">        <span class="built_in">print</span>(response.text)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​此时运行时, 显示的是该用户还未登录. 不论是哪个方案. 在请求到start_urls里面的url之前必须得获取到cookie. 但是默认情况下, scrapy会自动的帮我们完成其实request的创建. 此时, 我们需要自己去组装第一个请求. 这时就需要我们自己的爬虫中重写start_requests()方法. 该方法负责起始request的组装工作. 我们不妨先看看原来的start_requests()是如何工作的. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下是scrapy源码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">    cls = self.__class__</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> self.start_urls <span class="keyword">and</span> <span class="built_in">hasattr</span>(self, <span class="string">&#x27;start_url&#x27;</span>):</span><br><span class="line">        <span class="keyword">raise</span> AttributeError(</span><br><span class="line">            <span class="string">&quot;Crawling could not start: &#x27;start_urls&#x27; not found &quot;</span></span><br><span class="line">            <span class="string">&quot;or empty (but found &#x27;start_url&#x27; attribute instead, &quot;</span></span><br><span class="line">            <span class="string">&quot;did you miss an &#x27;s&#x27;?)&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> method_is_overridden(cls, Spider, <span class="string">&#x27;make_requests_from_url&#x27;</span>):</span><br><span class="line">        warnings.warn(</span><br><span class="line">            <span class="string">&quot;Spider.make_requests_from_url method is deprecated; it &quot;</span></span><br><span class="line">            <span class="string">&quot;won&#x27;t be called in future Scrapy releases. Please &quot;</span></span><br><span class="line">            <span class="string">&quot;override Spider.start_requests method instead (see %s.%s).&quot;</span> % (</span><br><span class="line">                cls.__module__, cls.__name__</span><br><span class="line">            ),</span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> self.start_urls:</span><br><span class="line">            <span class="keyword">yield</span> self.make_requests_from_url(url)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> self.start_urls:</span><br><span class="line">            <span class="comment"># 核心就这么一句话. 组建一个Request对象.我们也可以这么干. </span></span><br><span class="line">            <span class="keyword">yield</span> Request(url, dont_filter=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>自己写个start_requests()看看. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是万恶之源&quot;</span>)</span><br><span class="line">    <span class="keyword">yield</span> Request(</span><br><span class="line">        url=LoginSpider.start_urls[<span class="number">0</span>],</span><br><span class="line">        callback=self.parse</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>接下来, 我们去处理cookie</p><h3 id="1-方案一-直接从浏览器复制cookie过来"><a href="#1-方案一-直接从浏览器复制cookie过来" class="headerlink" title="1. 方案一, 直接从浏览器复制cookie过来"></a>1. 方案一, 直接从浏览器复制cookie过来</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 直接从浏览器复制</span></span><br><span class="line">        cookies = <span class="string">&quot;GUID=bbb5f65a-2fa2-40a0-ac87-49840eae4ad1; c_channel=0; c_csc=web; Hm_lvt_9793f42b498361373512340937deb2a0=1627572532,1627711457,1627898858,1628144975; accessToken=avatarUrl%3Dhttps%253A%252F%252Fcdn.static.17k.com%252Fuser%252Favatar%252F16%252F16%252F64%252F75836416.jpg-88x88%253Fv%253D1610625030000%26id%3D75836416%26nickname%3D%25E5%25AD%25A4%25E9%25AD%2582%25E9%2587%258E%25E9%25AC%25BCsb%26e%3D1643697376%26s%3D73f8877e452e744c; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2275836416%22%2C%22%24device_id%22%3A%2217700ba9c71257-035a42ce449776-326d7006-2073600-17700ba9c728de%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E7%9B%B4%E6%8E%A5%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22%22%2C%22%24latest_referrer_host%22%3A%22%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC_%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%22%7D%2C%22first_id%22%3A%22bbb5f65a-2fa2-40a0-ac87-49840eae4ad1%22%7D; Hm_lpvt_9793f42b498361373512340937deb2a0=1628145672&quot;</span></span><br><span class="line">        cookie_dic = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> cookies.split(<span class="string">&quot;; &quot;</span>):</span><br><span class="line">            k, v = c.split(<span class="string">&quot;=&quot;</span>)</span><br><span class="line">            cookie_dic[k] = v</span><br><span class="line"></span><br><span class="line">        <span class="keyword">yield</span> Request(</span><br><span class="line">            url=LoginSpider.start_urls[<span class="number">0</span>],</span><br><span class="line">            cookies=cookie_dic,</span><br><span class="line">            callback=self.parse</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p>这种方案和原来的requests几乎一模一样.  需要注意的是: cookie需要通过cookies参数进行传递!</p><h3 id="2-方案二-完成登录过程"><a href="#2-方案二-完成登录过程" class="headerlink" title="2. 方案二, 完成登录过程."></a>2. 方案二, 完成登录过程.</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># 登录流程</span></span><br><span class="line">    username = <span class="string">&quot;18614075987&quot;</span></span><br><span class="line">    password = <span class="string">&quot;q6035945&quot;</span></span><br><span class="line">    url = <span class="string">&quot;https://passport.17k.com/ck/user/login&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 发送post请求</span></span><br><span class="line">    <span class="comment"># yield Request(</span></span><br><span class="line">    <span class="comment">#     url=url,</span></span><br><span class="line">    <span class="comment">#     method=&quot;post&quot;,</span></span><br><span class="line">    <span class="comment">#     body=&quot;loginName=18614075987&amp;password=q6035945&quot;,</span></span><br><span class="line">    <span class="comment">#     callback=self.parse</span></span><br><span class="line">    <span class="comment"># )</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 发送post请求</span></span><br><span class="line">    <span class="keyword">yield</span> FormRequest(</span><br><span class="line">        url=url,</span><br><span class="line">        formdata=&#123;</span><br><span class="line">            <span class="string">&quot;loginName&quot;</span>: username,</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: password</span><br><span class="line">        &#125;,</span><br><span class="line">        callback=self.parse</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response</span>):</span><br><span class="line">    <span class="comment"># 得到响应结果. 直接请求到默认的start_urls</span></span><br><span class="line">    <span class="keyword">yield</span> Request(</span><br><span class="line">        url=LoginSpider.start_urls[<span class="number">0</span>],</span><br><span class="line">        callback=self.parse_detail</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_detail</span>(<span class="params">self, resp</span>):</span><br><span class="line">    <span class="built_in">print</span>(resp.text)</span><br></pre></td></tr></table></figure><p>​注意, 发送post请求有两个方案, </p><ol><li><p>Scrapy.Request(url&#x3D;url, method&#x3D;’post’, body&#x3D;数据)</p></li><li><p>Scarpy.FormRequest(url&#x3D;url, formdata&#x3D;数据)  -&gt; 推荐</p><p>区别: 方式1的数据只能是字符串. 这个就很难受. 所以推荐用第二种.</p></li></ol><h2 id="二-Scrapy的中间件"><a href="#二-Scrapy的中间件" class="headerlink" title="二. Scrapy的中间件"></a>二. Scrapy的中间件</h2><p>​中间件的作用: 负责处理引擎和爬虫以及引擎和下载器之间的请求和响应. 主要是可以对request和response做预处理. 为后面的操作做好充足的准备工作. 在python中准备了两种中间件, 分别是下载器中间件和爬虫中间件. </p><h3 id="1-DownloaderMiddleware"><a href="#1-DownloaderMiddleware" class="headerlink" title="1. DownloaderMiddleware"></a>1. DownloaderMiddleware</h3><p>​下载中间件, 它是介于引擎和下载器之间,  引擎在获取到request对象后, 会交给下载器去下载, 在这之间我们可以设置下载中间件. 它的执行流程:</p><p>​引擎拿到request -&gt; 中间件1(process_request) -&gt; 中间件2(process_request) …..-&gt;      下载器-|<br>​    引擎拿到request &lt;- 中间件1(process_response) &lt;- 中间件2(process_response) ….. &lt;-下载器-|</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MidDownloaderMiddleware1</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_request&quot;</span>, <span class="string">&quot;ware1&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_response&quot;</span>, <span class="string">&quot;ware1&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_exception&quot;</span>, <span class="string">&quot;ware1&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MidDownloaderMiddleware2</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_request&quot;</span>, <span class="string">&quot;ware2&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_response&quot;</span>, <span class="string">&quot;ware2&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_exception&quot;</span>, <span class="string">&quot;ware2&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>设置中间件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">   <span class="comment"># &#x27;mid.middlewares.MidDownloaderMiddleware&#x27;: 542,</span></span><br><span class="line">   <span class="string">&#x27;mid.middlewares.MidDownloaderMiddleware1&#x27;</span>: <span class="number">543</span>,</span><br><span class="line">   <span class="string">&#x27;mid.middlewares.MidDownloaderMiddleware2&#x27;</span>: <span class="number">544</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>优先级参考管道. </p><p>运行效果;</p><p><img src="https://s2.loli.net/2023/07/17/gdhCpqutQfaO5Hl.png" alt="image-20210805180841148"></p><p>接下来, 我们来说说这几个方法的返回值问题(难点)</p><ol><li><p>process_request(request, spider):  在每个请求到达下载器之前调用</p><p>一, return None  不拦截, 把请求继续向后传递给权重低的中间件或者下载器</p><p>二, return request 请求被拦截, 并将一个新的请求返回. 后续中间件以及下载器收不到本次请求</p><p>三, return response 请求被拦截, 下载器将获取不到请求, 但是引擎是可以接收到本次响应的内容, 也就是说在当前方法内就已经把响应内容获取到了. </p></li><li><p>proccess_response(request, response, spider): 每个请求从下载器出来调用</p><p>一, return response 通过引擎将响应内容继续传递给其他组件或传递给其他process_response()处理</p><p>二, return request  响应被拦截. 将返回内容直接回馈给调度器(通过引擎), 后续process_response()接收不到响应内容.</p></li></ol><p>OK, 至此, 中间件的含义算是完事儿了. 那这东西有啥用?  我们上案例!</p><h4 id="1-1-动态随机设置UA"><a href="#1-1-动态随机设置UA" class="headerlink" title="1.1. 动态随机设置UA"></a>1.1. 动态随机设置UA</h4><p>设置统一的UA很简单. 直接在settings里设置即可. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USER_AGENT = <span class="string">&#x27;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36&#x27;</span></span><br></pre></td></tr></table></figure><p>但是这个不够好, 我希望得到一个随机的UA.  此时就可以这样设计, 首先, 在settings里定义好一堆UserAgent.  <a href="http://useragentstring.com/pages/useragentstring.php?name=Chrome">http://useragentstring.com/pages/useragentstring.php?name=Chrome</a> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">USER_AGENT_LIST = [</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2919.83 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2866.71 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (X11; Ubuntu; Linux i686 on x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2820.59 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2762.73 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2656.18 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML like Gecko) Chrome/44.0.2403.155 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.1 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2227.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2226.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.4; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2225.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2224.3 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.93 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.124 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Mozilla/5.0 (Windows NT 4.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2049.0 Safari/537.36&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​中间件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyRandomUserAgentMiddleware</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        UA = choice(USER_AGENT_LIST)</span><br><span class="line">        request.headers[<span class="string">&#x27;User-Agent&#x27;</span>] = UA</span><br><span class="line">        <span class="comment"># 不要返回任何东西</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h4 id="1-2-处理代理问题"><a href="#1-2-处理代理问题" class="headerlink" title="1.2 处理代理问题"></a>1.2 处理代理问题</h4><p>代理问题一直是我们作为一名爬虫工程师很蛋疼的问题. 不加容易被检测, 加了效率低, 免费的可用IP更是凤毛麟角. 没办法, 无论如何还是得面对它. 这里, 我们采用两个方案来给各位展示scrapy中添加代理的逻辑.</p><ol><li><p>免费代理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ProxyMiddleware</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;又来&quot;</span>)</span><br><span class="line">        proxy = choice(PROXY_LIST)</span><br><span class="line">        request.meta[<span class="string">&#x27;proxy&#x27;</span>] = <span class="string">&quot;https://&quot;</span>+proxy  <span class="comment"># 设置代理</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;有么有结果???&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> response.status != <span class="number">200</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;尝试失败&quot;</span>)</span><br><span class="line">            request.dont_filter = <span class="literal">True</span>  <span class="comment"># 丢回调度器重新请求</span></span><br><span class="line">            <span class="keyword">return</span> request</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;出错了!&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li><li><p>收费代理</p><p>免费代理实在太难用了. 我们这里直接选择一个收费代理. 依然选择<code>快代理</code>, 这个根据你自己的喜好进行调整. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MoneyProxyMiddleware</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_get_proxy</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        912831993520336t12831993520578每次请求换IP</span></span><br><span class="line"><span class="string">        tps138.kdlapi.com 15818</span></span><br><span class="line"><span class="string">        需实名认证5次/s5Mb/s有效续费|订单详情|实名认证</span></span><br><span class="line"><span class="string">        隧道用户名密码修改密码</span></span><br><span class="line"><span class="string">        用户名：t12831993520578密码：t72a13xu</span></span><br><span class="line"><span class="string">        :return:</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        url = <span class="string">&quot;http://tps138.kdlapi.com:15818&quot;</span></span><br><span class="line">        auth = basic_auth_header(username=<span class="string">&quot;t12831993520578&quot;</span>, password=<span class="string">&quot;t72a13xu&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> url, auth</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;......&quot;</span>)</span><br><span class="line">        url, auth = self._get_proxy()</span><br><span class="line">        request.meta[<span class="string">&#x27;proxy&#x27;</span>] = url</span><br><span class="line">        request.headers[<span class="string">&#x27;Proxy-Authorization&#x27;</span>] = auth</span><br><span class="line">        request.headers[<span class="string">&#x27;Connection&#x27;</span>] = <span class="string">&#x27;close&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(response.status, <span class="built_in">type</span>(response.status))</span><br><span class="line">        <span class="keyword">if</span> response.status != <span class="number">200</span>:</span><br><span class="line">            request.dont_filter = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">return</span> request</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="1-3-使用selenium完成数据抓取"><a href="#1-3-使用selenium完成数据抓取" class="headerlink" title="1.3 使用selenium完成数据抓取"></a>1.3 使用selenium完成数据抓取</h4><p>首先, 我们需要使用selenium作为下载器进行下载. 那么我们的请求应该也是特殊订制的. 所以, 在我的设计里, 我可以重新设计一个请求. 就叫SeleniumRequest</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scrapy.http.request <span class="keyword">import</span> Request</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SeleniumRequest</span>(<span class="title class_ inherited__">Request</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>这里面不需要做任何操作. 整体还是用它父类的东西来进行操作. </p><p>接下来. 完善一下spider</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> boss.request <span class="keyword">import</span> SeleniumRequest</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BeijingSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;beijing&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;zhipin.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;https://www.zhipin.com/job_detail/?query=python&amp;city=101010100&amp;industry=&amp;position=&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">start_requests</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">yield</span> SeleniumRequest(</span><br><span class="line">            url=BeijingSpider.start_urls[<span class="number">0</span>],</span><br><span class="line">            callback=self.parse,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        li_list = resp.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div/div[3]/ul/li&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            href = li.xpath(<span class="string">&quot;./div[1]/div[1]/div[1]/div[1]/div[1]/span[1]/a[1]/@href&quot;</span>).extract_first()</span><br><span class="line">            name = li.xpath(<span class="string">&quot;./div[1]/div[1]/div[1]/div[1]/div[1]/span[1]/a[1]/text()&quot;</span>).extract_first()</span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(name, href)</span><br><span class="line">            <span class="built_in">print</span>(resp.urljoin(href))</span><br><span class="line">            <span class="keyword">yield</span> SeleniumRequest(</span><br><span class="line">                url=resp.urljoin(href),</span><br><span class="line">                callback=self.parse_detail,</span><br><span class="line">            )</span><br><span class="line">        <span class="comment"># 下一页.....</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_detail</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;招聘人&quot;</span>, resp.xpath(<span class="string">&#x27;//*[@id=&quot;main&quot;]/div[3]/div/div[2]/div[1]/h2&#x27;</span>).extract())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>中间件~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BossDownloaderMiddleware</span>:</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_crawler</span>(<span class="params">cls, crawler</span>):</span><br><span class="line">        <span class="comment"># This method is used by Scrapy to create your spiders.</span></span><br><span class="line">        s = cls()</span><br><span class="line">        <span class="comment"># 这里很关键哦. </span></span><br><span class="line">        <span class="comment"># 在爬虫开始的时候. 执行spider_opened</span></span><br><span class="line">        <span class="comment"># 在爬虫结束的时候. 执行spider_closed</span></span><br><span class="line">        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)</span><br><span class="line">        crawler.signals.connect(s.spider_closed, signal=signals.spider_closed)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(request, SeleniumRequest):</span><br><span class="line">            self.web.get(request.url)</span><br><span class="line">            time.sleep(<span class="number">3</span>)</span><br><span class="line">            page_source = self.web.page_source</span><br><span class="line">            <span class="keyword">return</span> HtmlResponse(url=request.url, encoding=<span class="string">&#x27;utf-8&#x27;</span>, request=request, body=page_source)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_opened</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.web = Chrome()</span><br><span class="line">        self.web.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">        <span class="comment"># 完成登录. 拿到cookie. 很容易...</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;创建浏览器&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_closed</span>(<span class="params">self, spider</span>):</span><br><span class="line">        self.web.close()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;关闭浏览器&quot;</span>)</span><br></pre></td></tr></table></figure><p>settings</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">    <span class="comment"># 怼在所有默认中间件前面. 只要是selenium后面所有的中间件都给我停</span></span><br><span class="line">   <span class="string">&#x27;boss.middlewares.BossDownloaderMiddleware&#x27;</span>: <span class="number">99</span>,  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-4-用selenium设置cookie"><a href="#1-4-用selenium设置cookie" class="headerlink" title="1.4 用selenium设置cookie"></a>1.4 用selenium设置cookie</h4><p>有了这个案例. 想要用selenium处理cookie也很容易了. 直接在spider_opened位置完成登录, 然后在process_request()中简单设置一下即可. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ChaojiyingDownloaderMiddleware</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_crawler</span>(<span class="params">cls, crawler</span>):</span><br><span class="line">        <span class="comment"># This method is used by Scrapy to create your spiders.</span></span><br><span class="line">        s = cls()</span><br><span class="line">        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request, spider</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> request.cookies:</span><br><span class="line">            request.cookies = self.cookie</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response, spider</span>):</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_exception</span>(<span class="params">self, request, exception, spider</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_opened</span>(<span class="params">self, spider</span>):</span><br><span class="line">        web = Chrome()</span><br><span class="line">        web.get(<span class="string">&quot;https://www.chaojiying.com/user/login/&quot;</span>)</span><br><span class="line">        web.find_element_by_xpath(<span class="string">&#x27;/html/body/div[3]/div/div[3]/div[1]/form/p[1]/input&#x27;</span>).send_keys(<span class="string">&quot;18614075987&quot;</span>)</span><br><span class="line">        web.find_element_by_xpath(<span class="string">&#x27;/html/body/div[3]/div/div[3]/div[1]/form/p[2]/input&#x27;</span>).send_keys(<span class="string">&#x27;q6035945&#x27;</span>)</span><br><span class="line">        img = web.find_element_by_xpath(<span class="string">&#x27;/html/body/div[3]/div/div[3]/div[1]/form/div/img&#x27;</span>)</span><br><span class="line">        verify_code = self.base64_api(<span class="string">&quot;q6035945&quot;</span>, <span class="string">&quot;q6035945&quot;</span>, img.screenshot_as_base64, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        web.find_element_by_xpath(<span class="string">&#x27;/html/body/div[3]/div/div[3]/div[1]/form/p[3]/input&#x27;</span>).send_keys(verify_code)</span><br><span class="line"></span><br><span class="line">        web.find_element_by_xpath(<span class="string">&#x27;/html/body/div[3]/div/div[3]/div[1]/form/p[4]/input&#x27;</span>).click()</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        cookies = web.get_cookies()</span><br><span class="line">        self.cookie = &#123;dic[<span class="string">&#x27;name&#x27;</span>]:dic[<span class="string">&#x27;value&#x27;</span>] <span class="keyword">for</span> dic <span class="keyword">in</span> cookies&#125;</span><br><span class="line">        web.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">base64_api</span>(<span class="params">self, uname, pwd, b64_img, typeid</span>):</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;username&quot;</span>: uname,</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: pwd,</span><br><span class="line">            <span class="string">&quot;typeid&quot;</span>: typeid,</span><br><span class="line">            <span class="string">&quot;image&quot;</span>: b64_img</span><br><span class="line">        &#125;</span><br><span class="line">        result = json.loads(requests.post(<span class="string">&quot;http://api.ttshitu.com/predict&quot;</span>, json=data).text)</span><br><span class="line">        <span class="keyword">if</span> result[<span class="string">&#x27;success&#x27;</span>]:</span><br><span class="line">            <span class="keyword">return</span> result[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;result&quot;</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> result[<span class="string">&quot;message&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="2-SpiderMiddleware-了解"><a href="#2-SpiderMiddleware-了解" class="headerlink" title="2. SpiderMiddleware(了解)"></a>2. SpiderMiddleware(了解)</h3><p>​爬虫中间件. 是处于引擎和spider之间的中间件. 里面常用的方法有:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CuowuSpiderMiddleware</span>:</span><br><span class="line">    <span class="comment"># Not all methods need to be defined. If a method is not defined,</span></span><br><span class="line">    <span class="comment"># scrapy acts as if the spider middleware does not modify the</span></span><br><span class="line">    <span class="comment"># passed objects.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">from_crawler</span>(<span class="params">cls, crawler</span>):</span><br><span class="line">        <span class="comment"># This method is used by Scrapy to create your spiders.</span></span><br><span class="line">        s = cls()</span><br><span class="line">        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_spider_input</span>(<span class="params">self, response, spider</span>):</span><br><span class="line">        <span class="comment"># 请求被返回, 即将进入到spider时调用</span></span><br><span class="line">        <span class="comment"># 要么返回None, 要么报错</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我是process_spider_input&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_spider_output</span>(<span class="params">self, response, result, spider</span>):</span><br><span class="line">        <span class="comment"># 处理完spider中的数据. 返回数据后. 执行</span></span><br><span class="line">        <span class="comment"># 返回值要么是item, 要么是request.</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我是process_spider_output&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;我是process_spider_output&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_spider_exception</span>(<span class="params">self, response, exception, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_spider_exception&quot;</span>)</span><br><span class="line">        <span class="comment"># spider中报错 或者, process_spider_input() 方法报错</span></span><br><span class="line">        <span class="comment"># 返回None或者Request或者item.</span></span><br><span class="line">        it = ErrorItem()</span><br><span class="line">        it[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&quot;exception&quot;</span></span><br><span class="line">        it[<span class="string">&#x27;url&#x27;</span>] = response.url</span><br><span class="line">        <span class="keyword">yield</span> it</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_start_requests</span>(<span class="params">self, start_requests, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;process_start_requests&quot;</span>)</span><br><span class="line">        <span class="comment"># 第一次启动爬虫时被调用.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Must return only requests (not items).</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> start_requests:</span><br><span class="line">            <span class="keyword">yield</span> r</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">spider_opened</span>(<span class="params">self, spider</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>items</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ErrorItem</span>(scrapy.Item):</span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    url = scrapy.Field()</span><br></pre></td></tr></table></figure><p>spider:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BaocuoSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;baocuo&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;baidu.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;http://www.baidu.com/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, resp, **kwargs</span>):</span><br><span class="line">        name = resp.xpath(<span class="string">&#x27;//title/text()&#x27;</span>).extract_first()</span><br><span class="line">        <span class="comment"># print(1/0)  # 调整调整这个. 简单琢磨一下即可~~</span></span><br><span class="line">        it = CuowuItem()</span><br><span class="line">        it[<span class="string">&#x27;name&#x27;</span>] = name</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">        <span class="keyword">yield</span> it</span><br></pre></td></tr></table></figure><p>pipeline:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> cuowu.items <span class="keyword">import</span> ErrorItem</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CuowuPipeline</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(item, ErrorItem):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;错误&quot;</span>, item)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;没错&quot;</span>, item)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>目录结构:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cuowu</span><br><span class="line">├── cuowu</span><br><span class="line">│   ├── __init__.py</span><br><span class="line">│   ├── items.py</span><br><span class="line">│   ├── middlewares.py</span><br><span class="line">│   ├── pipelines.py</span><br><span class="line">│   ├── settings.py</span><br><span class="line">│   └── spiders</span><br><span class="line">│       ├── __init__.py</span><br><span class="line">│       └── baocuo.py</span><br><span class="line">└── scrapy.cfg</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注：资源来源于网络，如有侵权 删</p>]]></content>
      
      
      <categories>
          
          <category> Scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.Scrapy 基本介绍与使用</title>
      <link href="/posts/11a8a486.html"/>
      <url>/posts/11a8a486.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-Scrapy-基本介绍与使用"><a href="#1-Scrapy-基本介绍与使用" class="headerlink" title="1.Scrapy 基本介绍与使用"></a>1.Scrapy 基本介绍与使用</h1><h2 id="一-爬虫工程化"><a href="#一-爬虫工程化" class="headerlink" title="一, 爬虫工程化"></a>一, 爬虫工程化</h2><p>​在之前的学习中我们已经掌握了爬虫这门技术需要的大多数的技术点, 但是我们现在写的代码还很流程化, 很难进行商用的. 想要我们的爬虫达到商用级别, 必须要对我们现在编写的爬虫代码进行大刀阔斧式的重组, 已达到工程化的爬虫. 何为工程化, 就是让你的程序更加的有体系, 有逻辑, 更加的模块化. </p><p>​就好比, 我们家里以前做过鞋子, 我妈妈给我做鞋, 她需要从画图纸到裁剪到最后的缝合, 一步一步的完成一双鞋子的制作. 这种手工鞋子如果每年做个几双, 没问题. 我妈妈辛苦一点, 也能搞定. 但是, 如果现在我想去售卖这个鞋子. 再依靠妈妈一双一双的缝制. 你不赔死, 也得让你妈打死. 为什么? 第一, 产能跟不上. 一个人的力量是有限的, 第二, 一个人要完整的把制作鞋子的工艺从头搞到尾. 就算你想招人分担一下. 貌似也不好找这样厉害的手艺人. 怎么办? 聪明的你可能已经想到了. 从头到尾完成一双鞋的人不好找. 那我就把这个工艺过程分开. 分成4份, 画图, 裁剪, 缝合, 验收.  招4个人. 每个人就负责一小部分. 并且这一小部分是很容易完成的. 最终只要有一个人(我)来做一个总指挥. 我的制鞋小工厂就建起来了. </p><p>​上述逻辑同样适用于我们的爬虫, 想想, 到目前为止, 我们所编写的爬虫我们都是从头到尾的每一步都要亲力亲为. 这样做固然有其优点(可控性更好), 但是各位请认真思考. 这样的代码逻辑是不能形成批量生产的效果的(写100个爬虫). 很多具有共通性的代码逻辑都没有进行重复利用. 那我们就可以考虑看看, 能不能把一些共性的问题(获取页面源代码, 数据存储), 单独搞成一个功能. 如果我们把这些功能单独进行编写. 并且产生类似单独的功能模块, 将大大的提高我们爬虫的效率.  已达到我们爬虫工程化开发的效果. </p><p>​爬虫工程化: 对爬虫的功能进行模块化的开发. 并达到可以批量生产的效果(不论是开发还是数据产出)</p><h2 id="二-scrapy简介"><a href="#二-scrapy简介" class="headerlink" title="二, scrapy简介"></a>二, scrapy简介</h2><p>​Scrapy到目前为止依然是这个星球上最流行的爬虫框架. 摘一下官方给出对scrapy的介绍</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">An open source and collaborative framework for extracting the data you need from websites.</span><br><span class="line"></span><br><span class="line">In a fast, simple, yet extensible way.</span><br></pre></td></tr></table></figure><p>​scrapy的特点: 速度快, 简单, 可扩展性强. </p><p>​scrapy的官方文档: <a href="https://docs.scrapy.org/en/latest/">https://docs.scrapy.org/en/latest/</a></p><h2 id="三-scrapy工作流程-重点"><a href="#三-scrapy工作流程-重点" class="headerlink" title="三, scrapy工作流程(重点)"></a>三, scrapy工作流程(重点)</h2><p>​之前我们所编写的爬虫的逻辑: </p><p><img src="https://s2.loli.net/2023/07/17/u5mxeSAIckdVzRw.png" alt="image-20210803105808636"></p><p>​scrapy的工作流程: </p><p><img src="https://s2.loli.net/2023/07/17/8hSes6aTq2Jp1gU.png" alt="image-20210803113438252"></p><p>整个工作流程, </p><ol><li><p>爬虫中起始的url构造成request对象, 并传递给调度器. </p></li><li><p><code>引擎</code>从<code>调度器</code>中获取到request对象. 然后交给<code>下载器</code></p></li><li><p>由<code>下载器</code>来获取到页面源代码, 并封装成response对象. 并回馈给<code>引擎</code></p></li><li><p><code>引擎</code>将获取到的response对象传递给<code>spider</code>, 由<code>spider</code>对数据进行解析(parse). 并回馈给<code>引擎</code></p></li><li><p><code>引擎</code>将数据传递给pipeline进行数据持久化保存或进一步的数据处理. </p></li><li><p>在此期间如果spider中提取到的并不是数据. 而是子页面url. 可以进一步提交给调度器, 进而重复<code>步骤2</code>的过程</p></li></ol><p>上述过程中一直在重复着几个东西, </p><ol><li><p>引擎(engine)</p><p>scrapy的核心, 所有模块的衔接, 数据流程梳理.</p></li><li><p>调度器(scheduler)</p><p>本质上这东西可以看成是一个队列. 里面存放着一堆我们即将要发送的请求. 可以看成是一个url的容器. 它决定了下一步要去爬取哪一个url. 通常我们在这里可以对url进行去重操作.  </p></li><li><p>下载器(downloader)</p><p>它的本质就是用来发动请求的一个模块. 小白们完全可以把它理解成是一个get_page_source()的功能. 只不过这货返回的是一个response对象. </p></li><li><p>爬虫(spider)</p><p>这是我们要写的第一个部分的内容, 负责解析下载器返回的response对象.从中提取到我们需要的数据. </p></li><li><p>管道(pipeline)</p><p>这是我们要写的第二个部分的内容, 主要负责数据的存储和各种持久化操作.</p></li></ol><p>经过上述的介绍来看, scrapy其实就是把我们平时写的爬虫进行了四分五裂式的改造. 对每个功能进行了单独的封装, 并且, 各个模块之间互相的不做依赖. 一切都由引擎进行调配. 这种思想希望你能知道–解耦. 让模块与模块之间的关联性更加的松散. 这样我们如果希望替换某一模块的时候会非常的容易. 对其他模块也不会产生任何的影响. </p><p>到目前为止, 我们对scrapy暂时了解这么多就够了. 后面会继续在这个图上进一步展开. </p><h2 id="四-scrapy安装"><a href="#四-scrapy安装" class="headerlink" title="四, scrapy安装"></a>四, scrapy安装</h2><p>​在windows上安装scrapy是一个很痛苦的事情. 可能会出现各种各样的异常BUG. </p><p>​先使用pip直接安装看看报错不</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple scrapy </span><br></pre></td></tr></table></figure><p>​如果安装成功, 直接去创建项目即可. 如果报错可能需要安装VC++14.0库才可以. 安装的时候一定不要死记安装步骤, 要观察报错信息. 根据报错信息进行一点点的调整, 多试几次pip. 直至success. </p><p>如果上述过程还是无法正常安装scrapy, 可以考虑用下面的方案来安装:</p><ol><li><p>安装wheel</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install wheel</span><br></pre></td></tr></table></figure></li><li><p>下载twisted安装包, <a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted">https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a></p><p><img src="https://s2.loli.net/2023/07/17/gaZVmxpfMhSICBw.png" alt="image-20210803144429440"></p><ol start="3"><li>用wheel安装twisted.</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Twisted‑<span class="number">21.7</span><span class="number">.0</span>‑py3‑none‑<span class="built_in">any</span>.whl</span><br></pre></td></tr></table></figure></li><li><p>安装pywin32</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pywin32</span><br></pre></td></tr></table></figure></li><li><p>安装scrapy</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scrapy</span><br></pre></td></tr></table></figure></li></ol><p>总之, 最终你的控制台输入<code>scrapy version</code>能显示版本号. 就算成功了</p><h2 id="五-scrapy实例"><a href="#五-scrapy实例" class="headerlink" title="五, scrapy实例"></a>五, scrapy实例</h2><p>​接下来, 我们用scrapy来完成一个超级简单的爬虫, 目标: 深入理解Scrapy工作的流程, 以及各个模块之间是如何搭配工作的. </p><ol><li><p>创建项目</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrapy startproject 项目名称</span><br></pre></td></tr></table></figure><p>示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrapy startproject mySpider_2</span><br></pre></td></tr></table></figure><p>创建好项目后, 我们可以在pycharm里观察到scrapy帮我们创建了一个文件夹, 里面的目录结构如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mySpider_2   <span class="comment"># 项目所在文件夹, 建议用pycharm打开该文件夹</span></span><br><span class="line">    ├── mySpider_2  <span class="comment"># 项目跟目录</span></span><br><span class="line">    │   ├── __init__.py</span><br><span class="line">    │   ├── items.py  <span class="comment"># 封装数据的格式</span></span><br><span class="line">    │   ├── middlewares.py  <span class="comment"># 所有中间件</span></span><br><span class="line">    │   ├── pipelines.py<span class="comment"># 所有的管道</span></span><br><span class="line">    │   ├── settings.py<span class="comment"># 爬虫配置信息</span></span><br><span class="line">    │   └── spiders<span class="comment"># 爬虫文件夹, 稍后里面会写入爬虫代码</span></span><br><span class="line">    │       └── __init__.py</span><br><span class="line">    └── scrapy.cfg<span class="comment"># scrapy项目配置信息,不要删它,别动它,善待它. </span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>创建爬虫</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd 文件夹  <span class="comment"># 进入项目所在文件夹</span></span><br><span class="line">scrapy genspider 爬虫名称 允许抓取的域名范围</span><br></pre></td></tr></table></figure><p>示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd mySpider_2</span><br><span class="line">scrapy genspider youxi 4399.com</span><br></pre></td></tr></table></figure><p>效果:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) sylardeMBP:第七章 sylar$ cd mySpider_2</span><br><span class="line">(base) sylardeMBP:mySpider_2 sylar$ ls</span><br><span class="line">mySpider_2      scrapy.cfg</span><br><span class="line">(base) sylardeMBP:mySpider_2 sylar$ scrapy genspider youxi http://www<span class="number">.4399</span>.com/</span><br><span class="line">Created spider <span class="string">&#x27;youxi&#x27;</span> using template <span class="string">&#x27;basic&#x27;</span> <span class="keyword">in</span> module:</span><br><span class="line">  mySpider_2.spiders.youxi</span><br><span class="line">(base) sylardeMBP:mySpider_2 sylar$ </span><br></pre></td></tr></table></figure><p>至此, 爬虫创建完毕, 我们打开文件夹看一下. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">├── mySpider_2</span><br><span class="line">│   ├── __init__.py</span><br><span class="line">│   ├── items.py</span><br><span class="line">│   ├── middlewares.py</span><br><span class="line">│   ├── pipelines.py</span><br><span class="line">│   ├── settings.py</span><br><span class="line">│   └── spiders</span><br><span class="line">│       ├── __init__.py</span><br><span class="line">│       └── youxi.py   <span class="comment"># 多了一个这个. </span></span><br><span class="line">└── scrapy.cfg</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>编写数据解析过程</p><p>完善youxi.py中的内容. </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">YouxiSpider</span>(scrapy.Spider):</span><br><span class="line">    name = <span class="string">&#x27;youxi&#x27;</span>  <span class="comment"># 该名字非常关键, 我们在启动该爬虫的时候需要这个名字</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;4399.com&#x27;</span>]  <span class="comment"># 爬虫抓取的域.</span></span><br><span class="line">    start_urls = [<span class="string">&#x27;http://www.4399.com/flash/&#x27;</span>]  <span class="comment"># 起始页</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse</span>(<span class="params">self, response, **kwargs</span>):</span><br><span class="line">        <span class="comment"># response.text  # 页面源代码</span></span><br><span class="line">        <span class="comment"># response.xpath()  # 通过xpath方式提取</span></span><br><span class="line">        <span class="comment"># response.css()  # 通过css方式提取</span></span><br><span class="line">        <span class="comment"># response.json() # 提取json数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 用我们最熟悉的方式: xpath提取游戏名称, 游戏类别, 发布时间等信息</span></span><br><span class="line">        li_list = response.xpath(<span class="string">&quot;//ul[@class=&#x27;n-game cf&#x27;]/li&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">            name = li.xpath(<span class="string">&quot;./a/b/text()&quot;</span>).extract_first()</span><br><span class="line">            category = li.xpath(<span class="string">&quot;./em/a/text()&quot;</span>).extract_first()</span><br><span class="line">            date = li.xpath(<span class="string">&quot;./em/text()&quot;</span>).extract_first()</span><br><span class="line"></span><br><span class="line">            dic = &#123;</span><br><span class="line">                <span class="string">&quot;name&quot;</span>: name,</span><br><span class="line">                <span class="string">&quot;category&quot;</span>: category,</span><br><span class="line">                <span class="string">&quot;date&quot;</span>: date</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 将提取到的数据提交到管道内.</span></span><br><span class="line">            <span class="comment"># 注意, 这里只能返回 request对象, 字典, item数据, or None</span></span><br><span class="line">            <span class="keyword">yield</span> dic</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意: </p><p>&#x3D;&#x3D;spider返回的内容只能是字典, requestes对象, item数据或者None. 其他内容一律报错&#x3D;&#x3D;</p><p>运行爬虫: </p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrapy crawl 爬虫名字</span><br></pre></td></tr></table></figure><p>实例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrapy crawl youxi</span><br></pre></td></tr></table></figure></li><li><p>编写pipeline.对数据进行简单的保存</p><p>数据传递到pipeline, 我们先看一下在pipeline中的样子. </p><p>首先修改settings.py文件中的pipeline信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">    <span class="comment"># 前面是pipeline的类名地址               </span></span><br><span class="line">    <span class="comment"># 后面是优先级, 优先级月低越先执行</span></span><br><span class="line">   <span class="string">&#x27;mySpider_2.pipelines.Myspider2Pipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后我们修改一下pipeline中的代码:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Myspider2Pipeline</span>:</span><br><span class="line">    <span class="comment"># 这个方法的声明不能动!!! 在spider返回的数据会自动的调用这里的process_item方法. </span></span><br><span class="line">    <span class="comment"># 你把它改了. 管道就断了</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_item</span>(<span class="params">self, item, spider</span>):</span><br><span class="line">        <span class="built_in">print</span>(item)</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure></li></ol><h2 id="六-自定义数据传输结构item"><a href="#六-自定义数据传输结构item" class="headerlink" title="六, 自定义数据传输结构item"></a>六, 自定义数据传输结构item</h2><p>​在上述案例中, 我们使用字典作为数据传递的载体, 但是如果数据量非常大. 由于字典的key是随意创建的. 极易出现问题,  此时再用字典就不合适了. Scrapy中提供item作为数据格式的声明位置. 我们可以在items.py文件提前定义好该爬虫在进行数据传输时的数据格式. 然后再写代码的时候就有了数据名称的依据了. </p><p>item.py文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GameItem</span>(scrapy.Item):</span><br><span class="line">    <span class="comment"># 定义数据结构</span></span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    category = scrapy.Field()</span><br><span class="line">    date = scrapy.Field()</span><br></pre></td></tr></table></figure><p>spider中. 这样来使用:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mySpider_2.items <span class="keyword">import</span> GameItem</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以下代码在spider中的parse替换掉原来的字典</span></span><br><span class="line">item = GameItem()</span><br><span class="line">item[<span class="string">&quot;name&quot;</span>] = name</span><br><span class="line">item[<span class="string">&quot;category&quot;</span>] = category</span><br><span class="line">item[<span class="string">&quot;date&quot;</span>] = date</span><br><span class="line"><span class="keyword">yield</span> item</span><br></pre></td></tr></table></figure><h2 id="七-scrapy使用小总结"><a href="#七-scrapy使用小总结" class="headerlink" title="七, scrapy使用小总结"></a>七, scrapy使用小总结</h2><p>至此, 我们对scrapy有了一个非常初步的了解和使用. 快速总结一下. scrapy框架的使用流程: </p><ol><li>创建爬虫项目.   <code>scrapy startproject xxx     </code></li><li>进入项目目录.    <code>cd xxx  </code></li><li>创建爬虫            <code>scrapy genspider 名称 抓取域</code></li><li>编写<code>item.py</code> 文件, 定义好数据item</li><li>修改spider中的parse方法. 对返回的响应response对象进行解析. 返回item</li><li>在pipeline中对数据进行保存工作. </li><li>修改<code>settings.py</code>文件, 将pipeline设置为生效, 并设置好优先级</li><li>启动爬虫   <code>scrapy crawl 名称</code></li></ol><p>注：资源来源于网络，如有侵权 删</p>]]></content>
      
      
      <categories>
          
          <category> Scrapy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.什么是爬虫?</title>
      <link href="/posts/1337f726.html"/>
      <url>/posts/1337f726.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-什么是爬虫"><a href="#1-什么是爬虫" class="headerlink" title="1.什么是爬虫?"></a>1.<strong>什么是爬虫?</strong></h3><p>不知道各位是否遇到过这样的需求， 就是我们总是希望能够保存互联网上的一些重要的数据信息为己所用。比如：</p><ul><li>在浏览到一些优秀的图片时，总想保存起来留为日后做桌面上的壁纸</li><li>在浏览到一些重要的数据时(各行各业)，希望保留下来日后为自己进行各种销售行为增光添彩</li><li>在浏览到一些好看的视频时, 希望保存在硬盘里供日后使用</li><li>在浏览到一些十分优秀的歌声曲目时, 希望保存下来供我们在烦闷的生活中增添一份精彩</li></ul><p>那么恭喜你，本教程将十分的适合于你。因为爬虫就是通过编写程序来爬取互联网上的优秀资源(图片, 音频, 视频, 数据)</p><h3 id="2-爬虫和Python"><a href="#2-爬虫和Python" class="headerlink" title="2.爬虫和Python"></a>2.<strong>爬虫和Python</strong></h3><p>爬虫一定要用Python么? 非也~ 用Java也行, C也可以. 请各位记住,编程语言只是工具. 抓到数据是你的目的. 用什么工具去达到你的目的都是可以的. 和吃饭一样, 可以用叉子也可以用筷子, 最终的结果都是你能吃到饭. 那为什么大多数人喜欢用Python呢? 答案: 因为Python写爬虫简单. 不理解? 问: 为什么吃米饭不用刀叉? 用筷子? 因为简单! 好用!</p><p>而Python是众多编程语言中, 小白上手最快, 语法最简单。更重要的是，这货有非常多的关于爬虫能用到的第三方支持库。说直白点儿，就是你用筷子吃饭, 我还附送你一个佣人。帮你吃! 这样吃的是不是更爽了！更容易了~</p><h3 id="3-爬虫合法么"><a href="#3-爬虫合法么" class="headerlink" title="3.爬虫合法么?"></a>3.<strong>爬虫合法么?</strong></h3><p>首先, 爬虫在法律上是不被禁止的，也就是说法律是允许爬虫存在的，但是, 爬虫也具有违法的. 就像菜刀一样, 法律是允许菜刀的存在的， 但是你要是用来砍人，那对不起， 没人惯着你。就像王欣说过的，技术是无罪的。主要看你用它来干嘛， 比方说有些人就利用爬虫+一些黑客技术每秒钟对着bilibili爬上十万八千次，那这个肯定是不被允许的。</p><p><strong>爬虫分为善意的爬虫和恶意的爬虫</strong></p><p>善意的爬虫， 不破坏被爬取的网站的资源(正常访问, 一般频率不高, 不窃取用户隐私)</p><p>恶意的爬虫， 影响网站的正常运营(抢票, 秒杀, 疯狂solo网站资源造成网站宕机</p><p>综上, 为了避免进🍊，我们还是要安分守己。时常优化自己的爬虫程序避免干扰到网站的正常运行。并且在使用爬取到的数据时,发现涉及到用户隐私和商业机密等敏感内容时, 一定要及时终止爬取和传播</p><h3 id="4-爬虫的矛与盾"><a href="#4-爬虫的矛与盾" class="headerlink" title="4.爬虫的矛与盾"></a>4.<strong>爬虫的矛与盾</strong></h3><p>反爬机制：网站，可以通过制定相应的策略或者技术手段，防止爬虫程序进行网站数据的爬取。</p><p>反反爬策略：爬虫程序可以通过制定相关的策略或者技术手段，破解 户网站中具备的反爬机制，从而可以获取 户网站中相关的数据。</p><p>robots.txt协议：君子协议。规定了网站中哪些数据可以被爬虫爬取哪些数据不可以被爬取。</p><p>比如知乎的爬虫robots其实下面还有长长一大串，几乎禁止了各种爬虫，但是每天还有数不尽的爬虫去爬知乎。</p><p><img src="https://s2.loli.net/2023/06/13/oc3mgefvnGsIEyd.png" alt="图片"></p><p>添加图片注释，不超过 140 字（可选）</p><p>推荐使用的版本：</p><ul><li>python 3.8 ，3.7也可以，但是最好不要用3.10等。</li><li>pycharm</li><li>如果有基础或者玩⼉的⽐较6的玩家也可以选择以下⼯具:</li><li>anaconda, jupyter</li><li>Visual Studio Code</li><li>python, IDLE (不推荐)</li></ul><p>接下来就是安装了， Python安装过程就不赘述了. 注意安装的时候需要把python添加到环境变量中. 其他的没啥注意的，⾄于Pycharm的安装， 全程⼀路确定即可。</p><h3 id="5-第⼀个爬⾍"><a href="#5-第⼀个爬⾍" class="headerlink" title="5.第⼀个爬⾍"></a>5.<strong>第⼀个爬⾍</strong></h3><p>⾸先，我们还是需要回顾⼀下爬⾍的概念。爬⾍就是我们通过我们写的程序去抓取互联⽹上的数据资源。⽐如， 此时我需要百度的资源。在不考虑爬⾍的情况下， 我们肯定是打开浏览器， 然后输⼊百度的⽹址，紧接着， 我们就能在浏览器上看到百度的内容了。那换成爬⾍呢? 其实道理是⼀样的。只不过， 我们需要⽤代码来模拟⼀个浏览器， 然后同样的输⼊百度的⽹址。那么我们的程序应该也能拿到百度的内容。对吧~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line">resp = urlopen(<span class="string">&quot;百度一下，你就知道&quot;</span>) <span class="comment"># 打开 百度</span></span><br><span class="line"><span class="built_in">print</span>(resp.read().decode(<span class="string">&quot;utf-8&quot;</span>)) <span class="comment"># 打印抓取到的内容</span></span><br></pre></td></tr></table></figure><p>是不是很简单呢?</p><p>我们可以把抓取到的html内容全部写⼊到⽂件中, 然后和原版的百度进⾏对⽐，看看是否⼀致</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line">resp = urlopen(<span class="string">&quot;百度一下，你就知道&quot;</span>) <span class="comment"># 打开 百度</span></span><br><span class="line"><span class="comment"># print(resp.read().decode(&quot;utf-8&quot;)) # 打印 抓取到的内容</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;baidu.html&quot;</span>,mode=<span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f: <span class="comment"># 创建⽂件</span></span><br><span class="line">    f.write(resp.read().decode(<span class="string">&quot;utf-8&quot;</span>)) <span class="comment"># 保存在⽂件中</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/uAmx5gtnXdbWkC1.png" alt="图片"></p><p>OK ~ 我们成功的从百度上爬取到了⼀个⻚⾯的源代码. 就是这么简单, 就是这么炫酷。</p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7.selenium的介绍</title>
      <link href="/posts/4db093a.html"/>
      <url>/posts/4db093a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="selenium的介绍"><a href="#selenium的介绍" class="headerlink" title="selenium的介绍"></a>selenium的介绍</h1><p>本节主要学习selenium自动化测试框架在爬虫中的应用，selenium能够大幅降低爬虫的编写难度，但是也同样会大幅降低爬虫的爬取速度。在逼不得已的情况下我们可以使用selenium进行爬虫的编写。</p><h3 id="知识点："><a href="#知识点：" class="headerlink" title="知识点："></a>知识点：</h3><ul><li>了解 selenium的工作原理</li><li>了解 selenium以及chromedriver的安装</li><li>掌握 标签对象click点击以及send_keys输入</li></ul><hr><h2 id="1-selenium运行效果展示"><a href="#1-selenium运行效果展示" class="headerlink" title="1. selenium运行效果展示"></a>1. selenium运行效果展示</h2><blockquote><p>Selenium是一个Web的自动化测试工具，最初是为网站自动化测试而开发的，Selenium 可以直接调用浏览器，它支持所有主流的浏览器（包括PhantomJS这些无界面的浏览器），可以接收指令，让浏览器自动加载页面，获取需要的数据，甚至页面截屏等。我们可以使用selenium很容易完成之前编写的爬虫，接下来我们就来看一下selenium的运行效果</p></blockquote><h3 id="1-1-chrome浏览器的运行效果"><a href="#1-1-chrome浏览器的运行效果" class="headerlink" title="1.1 chrome浏览器的运行效果"></a>1.1 chrome浏览器的运行效果</h3><blockquote><p>在下载好chromedriver以及安装好selenium模块后，执行下列代码并观察运行的过程</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果driver没有添加到了环境变量，则需要将driver的绝对路径赋值给executable_path参数</span></span><br><span class="line"><span class="comment"># driver = webdriver.Chrome(executable_path=&#x27;/home/worker/Desktop/driver/chromedriver&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果driver添加了环境变量则不需要设置executable_path</span></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 向一个url发起请求</span></span><br><span class="line">driver.get(<span class="string">&quot;http://www.itcast.cn/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把网页保存为图片，69版本以上的谷歌浏览器将无法使用截图功能</span></span><br><span class="line"><span class="comment"># driver.save_screenshot(&quot;itcast.png&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(driver.title) <span class="comment"># 打印页面的标题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出模拟浏览器</span></span><br><span class="line">driver.quit() <span class="comment"># 一定要退出！不退出会有残留进程！</span></span><br></pre></td></tr></table></figure><h3 id="1-2-phantomjs无界面浏览器的运行效果"><a href="#1-2-phantomjs无界面浏览器的运行效果" class="headerlink" title="1.2 phantomjs无界面浏览器的运行效果"></a>1.2 phantomjs无界面浏览器的运行效果</h3><blockquote><p>PhantomJS 是一个基于Webkit的“无界面”(headless)浏览器，它会把网站加载到内存并执行页面上的 JavaScript。下载地址：<a href="http://phantomjs.org/download.html">http://phantomjs.org/download.html</a></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定driver的绝对路径</span></span><br><span class="line">driver = webdriver.PhantomJS(executable_path=<span class="string">&#x27;/home/worker/Desktop/driver/phantomjs&#x27;</span>) </span><br><span class="line"><span class="comment"># driver = webdriver.Chrome(executable_path=&#x27;/home/worker/Desktop/driver/chromedriver&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 向一个url发起请求</span></span><br><span class="line">driver.get(<span class="string">&quot;http://www.itcast.cn/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把网页保存为图片</span></span><br><span class="line">driver.save_screenshot(<span class="string">&quot;itcast.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出模拟浏览器</span></span><br><span class="line">driver.quit() <span class="comment"># 一定要退出！不退出会有残留进程！</span></span><br></pre></td></tr></table></figure><h3 id="1-3-观察运行效果"><a href="#1-3-观察运行效果" class="headerlink" title="1.3 观察运行效果"></a>1.3 观察运行效果</h3><ul><li>python代码能够自动的调用谷歌浏览或phantomjs无界面浏览器，控制其自动访问网站</li></ul><h3 id="1-4-无头浏览器与有头浏览器的使用场景"><a href="#1-4-无头浏览器与有头浏览器的使用场景" class="headerlink" title="1.4 无头浏览器与有头浏览器的使用场景"></a>1.4 无头浏览器与有头浏览器的使用场景</h3><ul><li>通常在开发过程中我们需要查看运行过程中的各种情况所以通常使用有头浏览器</li><li>在项目完成进行部署的时候，通常平台采用的系统都是服务器版的操作系统，服务器版的操作系统必须使用无头浏览器才能正常运行</li></ul><h2 id="2-selenium的作用和工作原理"><a href="#2-selenium的作用和工作原理" class="headerlink" title="2. selenium的作用和工作原理"></a>2. selenium的作用和工作原理</h2><blockquote><p>利用浏览器原生的API，封装成一套更加面向对象的Selenium WebDriver API，直接操作浏览器页面里的元素，甚至操作浏览器本身（截屏，窗口大小，启动，关闭，安装插件，配置证书之类的）</p></blockquote><p><img src="https://s2.loli.net/2023/06/13/VkcqCN1uG3EA4lp.png" alt="图片"></p><ul><li>webdriver本质是一个web-server，对外提供webapi，其中封装了浏览器的各种功能</li><li>不同的浏览器使用各自不同的webdriver</li></ul><hr><p>知识点：了解 selenium的工作原理</p><hr><h2 id="3-selenium的安装以及简单使用"><a href="#3-selenium的安装以及简单使用" class="headerlink" title="3. selenium的安装以及简单使用"></a>3. selenium的安装以及简单使用</h2><blockquote><p>我们以谷歌浏览器的chromedriver为例</p></blockquote><h3 id="3-1-在python虚拟环境中安装selenium模块"><a href="#3-1-在python虚拟环境中安装selenium模块" class="headerlink" title="3.1 在python虚拟环境中安装selenium模块"></a>3.1 在python虚拟环境中安装selenium模块</h3><p>pip&#x2F;pip3 install selenium</p><h3 id="3-2-下载版本符合的webdriver"><a href="#3-2-下载版本符合的webdriver" class="headerlink" title="3.2 下载版本符合的webdriver"></a>3.2 下载版本符合的webdriver</h3><blockquote><p>以chrome谷歌浏览器为例</p></blockquote><ol><li>查看谷歌浏览器的版本</li></ol><p><img src="https://s2.loli.net/2023/06/13/KVAEQjdBXtYGnCJ.png" alt="图片"></p><p><img src="https://s2.loli.net/2023/06/13/ltpRwsCdv68OIbh.png" alt="图片"></p><ol><li>访问<a href="https://npm.taobao.org/mirrors/chromedriver%EF%BC%8C%E7%82%B9%E5%87%BB%E8%BF%9B%E5%85%A5%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84chromedriver%E4%B8%8B%E8%BD%BD%E9%A1%B5%E9%9D%A2">https://npm.taobao.org/mirrors/chromedriver，点击进入不同版本的chromedriver下载页面</a></li></ol><p><img src="https://s2.loli.net/2023/06/13/axwRT1grMk5PUjA.png" alt="图片"></p><p>2.点击notes.txt进入版本说明页面</p><p><img src="https://s2.loli.net/2023/06/13/XuYaeNZsVdLKHh9.png" alt="图片"></p><p>3.查看chrome和chromedriver匹配的版本</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uR1mbzfuAWzT6nnNibadXmuw4MS7JE57XpCicics5G5FCCnxaz0uonFSJ27jnDHMClNVYtibbwFnImxSOCibDXVSj8Q/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>4.根据操作系统下载正确版本的chromedriver</p><p><img src="https://s2.loli.net/2023/06/13/y39M2PgazloVRXS.png" alt="图片"></p><p>5.解压压缩包后获取python代码可以调用的谷歌浏览器的webdriver可执行文件</p><ul><li>windows为chromedriver.exe</li><li>linux和macos为chromedriver</li></ul><p>6.chromedriver环境的配置</p><ul><li>windows环境下需要将 chromedriver.exe 所在的目录设置为path环境变量中的路径</li><li>linux&#x2F;mac环境下，将 chromedriver 所在的目录设置到系统的PATH环境值中</li></ul><hr><p>知识点：了解 selenium以及chromedriver的安装</p><hr><h2 id="4-selenium的简单使用"><a href="#4-selenium的简单使用" class="headerlink" title="4. selenium的简单使用"></a>4. selenium的简单使用</h2><blockquote><p>接下来我们就通过代码来模拟百度搜索</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过指定chromedriver的路径来实例化driver对象，chromedriver放在当前目录。</span></span><br><span class="line"><span class="comment"># driver = webdriver.Chrome(executable_path=&#x27;./chromedriver&#x27;)</span></span><br><span class="line"><span class="comment"># chromedriver已经添加环境变量</span></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 控制浏览器访问url地址</span></span><br><span class="line">driver.get(<span class="string">&quot;https://www.baidu.com/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在百度搜索框中搜索&#x27;python&#x27;</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;kw&#x27;</span>).send_keys(<span class="string">&#x27;python&#x27;</span>)</span><br><span class="line"><span class="comment"># 点击&#x27;百度搜索&#x27;</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;su&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">6</span>)</span><br><span class="line"><span class="comment"># 退出浏览器</span></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><ul><li>webdriver.Chrome(executable_path&#x3D;’.&#x2F;chromedriver’)中executable参数指定的是下载好的chromedriver文件的路径</li><li>driver.find_element_by_id(‘kw’).send_keys(‘python’)定位id属性值是’kw’的标签，并向其中输入字符串’python’</li><li>driver.find_element_by_id(‘su’).click()定位id属性值是su的标签，并点击</li><li>click函数作用是：触发标签的js的click事件</li></ul><hr><p><em>知识点：掌握 标签对象click点击以及send_keys输入。</em></p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.cookies</title>
      <link href="/posts/75e7e930.html"/>
      <url>/posts/75e7e930.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="cookies"><a href="#cookies" class="headerlink" title="cookies"></a>cookies</h1><p>我们在之前的爬⾍中其实已经使⽤过headers了。header为HTTP协议中的请求头。⼀般存放⼀些和请求内容⽆关的数据。有时也会存放⼀些安全验证信息。⽐如常⻅的User-Agent, token, cookie等。通过requests发送的请求, 我们可以把请求头信息放在headers中。也可以单独进⾏存放, 最终由requests⾃动帮我们拼接成完整的http请求头。</p><p>有些网站需要登录才能看到信息，比如我想用17k小说的书架信息，必须要登录才能看到这个信息。</p><p><img src="https://s2.loli.net/2023/06/13/sAdtBT2FKDPx3u5.png" alt="图片"></p><p>所以我们需要首先登陆，然后在登陆的时候要获取到登陆所需要的信息，如下图所示：</p><p><img src="https://s2.loli.net/2023/06/13/GwCpzAsFY82l3xX.png" alt="图片"></p><p>点击登录的时候抓包就能抓到我们用到的账号和密码：</p><p><img src="https://s2.loli.net/2023/06/13/pDrMF6AhOSUY5nC.png" alt="图片"></p><p>然后我们就可以开始写了，注意，这里请求的url是这在这里的。</p><p><img src="https://s2.loli.net/2023/06/13/AEWMIYO8jLdmkXu.png" alt="图片"></p><p>然后在书架页，这些书籍信息隐藏在json中，需要找到json信息 ，然后解析。</p><p><img src="https://s2.loli.net/2023/06/13/WbFiS8XDyJugQeP.png" alt="图片"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">session = requests.session()</span><br><span class="line">data = &#123;</span><br><span class="line"><span class="string">&#x27;loginName&#x27;</span>: <span class="string">&#x27;130`````72&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;c15`````&#x27;</span>   <span class="comment"># 可以注册个账号尝试，这里需要构造字典</span></span><br><span class="line">&#125;</span><br><span class="line">url = <span class="string">&quot;https://passport.17k.com/ck/user/login&quot;</span>  <span class="comment">#这里是图3请求的网址</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">response = session.post(url,data=data,headers= headers)</span><br><span class="line"><span class="comment"># print(response.json())</span></span><br><span class="line"><span class="comment"># print(session.cookies)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#然后带着cookies去请求书架信息</span></span><br><span class="line">resp = session.get(<span class="string">&#x27;https://user.17k.com/ck/author/shelf?page=1&amp;appKey=2406394919&#x27;</span>)</span><br><span class="line">js = resp.json()</span><br><span class="line"><span class="built_in">print</span>(js)</span><br><span class="line"></span><br><span class="line">title_list = js[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> title <span class="keyword">in</span> title_list:</span><br><span class="line">    <span class="built_in">print</span>(title[<span class="string">&#x27;bookName&#x27;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/s3TrkbftXCEHqv7.png" alt="图片"></p><p>除了上边这种，如果我们只想去爬取书架的信息，还有另外一种方式，把cookies放进请求头中去提取，也是可以请求成功的。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">resp = requests.get(<span class="string">&#x27;https://user.17k.com/ck/author/shelf?page=1&amp;appKey=2406394919&#x27;</span>,headers=&#123;</span><br><span class="line"><span class="string">&quot;Cookie&quot;</span>: <span class="string">&quot;GUID=5afbb389-ec93-448a-8918-382c6733af53; BAIDU_SSP_lcr=https://www.baidu.com/link?url=mSGzSGQ-5b4P6Uxz86a8sCRmoatjrwwBL2W2RaONd23&amp;wd=&amp;eqid=e71441de0009cb4600000002621ee035; Hm_lvt_9793f42b498361373512340937deb2a0=1646190651; sajssdk_2015_cross_new_user=1; c_channel=0; c_csc=web; accessToken=avatarUrl%3Dhttps%253A%252F%252Fcdn.static.17k.com%252Fuser%252Favatar%252F06%252F06%252F56%252F93275606.jpg-88x88%253Fv%253D1646143965000%26id%3D93275606%26nickname%3D%25E6%25A3%25AE%25E6%259E%2597%25E9%2598%25B2%25E7%2581%25AB%25E5%2593%25A5%26e%3D1661742852%26s%3Da0f42f1444764b57; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%2293275606%22%2C%22%24device_id%22%3A%2217f489be8d57ed-01ef372a9310b1-a3e3164-2073600-17f489be8d6d11%22%2C%22props%22%3A%7B%22%24latest_traffic_source_type%22%3A%22%E8%87%AA%E7%84%B6%E6%90%9C%E7%B4%A2%E6%B5%81%E9%87%8F%22%2C%22%24latest_referrer%22%3A%22https%3A%2F%2Fwww.baidu.com%2Flink%22%2C%22%24latest_referrer_host%22%3A%22www.baidu.com%22%2C%22%24latest_search_keyword%22%3A%22%E6%9C%AA%E5%8F%96%E5%88%B0%E5%80%BC%22%7D%2C%22first_id%22%3A%225afbb389-ec93-448a-8918-382c6733af53%22%7D; Hm_lpvt_9793f42b498361373512340937deb2a0=1646191565&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(resp.json())</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/fYJBltgFV4qULPd.png" alt="图片"></p><p>也能解析成功。</p><p><img src="https://s2.loli.net/2023/06/13/8iZ297ylgh5IQqJ.png" alt="图片"></p><p>这就是本期的内容。</p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cookies </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.bs4解析库</title>
      <link href="/posts/e9ace224.html"/>
      <url>/posts/e9ace224.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="bs4解析库"><a href="#bs4解析库" class="headerlink" title="bs4解析库"></a>bs4解析库</h3><p>今天来继续介绍一个爬虫的解析库，和前面说过的xpath，和正则表达式的是同样的原理，就是把所需要的信息从网页中解析出来。</p><p>我们先拿一小段代码来做一下学习，这是一段html代码，接下来需要从中找出我们所需要的文本和链接等相关信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">&lt;title&gt;测试bs4&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;p&gt;百里守约&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;song&quot;</span>&gt;</span><br><span class="line">&lt;p&gt;李清照&lt;/p&gt;</span><br><span class="line">&lt;p&gt;王安石&lt;/p&gt;</span><br><span class="line">&lt;p&gt;苏轼&lt;/p&gt;</span><br><span class="line">&lt;p&gt;柳宗元&lt;/p&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;http://www.song.com/&quot;</span> title=<span class="string">&quot;赵匡胤&quot;</span> target=<span class="string">&quot;_self&quot;</span>&gt;</span><br><span class="line">&lt;span&gt;this <span class="keyword">is</span> span&lt;/span&gt;</span><br><span class="line">宋朝是最强大的王朝，不是军队的强大，而是经济很强大，国民都很有钱&lt;/a&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;du&quot;</span>&gt;总为浮云能蔽日,长安不见使人愁&lt;/a&gt;</span><br><span class="line">&lt;img src=<span class="string">&quot;http://www.baidu.com/meinv.jpg&quot;</span> alt=<span class="string">&quot;&quot;</span> /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;tang&quot;</span>&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;百度一下，你就知道&quot;</span> title=<span class="string">&quot;qing&quot;</span>&gt;清明时节雨纷纷,路上行人欲断魂,借问酒家何处有,牧童遥指杏花村&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;网易&quot;</span> title=<span class="string">&quot;qin&quot;</span>&gt;秦时明月汉时关,万里长征人未还,但使龙城飞将在,不教胡马度阴山&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;126网易免费邮--你的专业电子邮&quot;</span> alt=<span class="string">&quot;qi&quot;</span>&gt;岐王宅里寻常见,崔九堂前几度闻,正是江南好风景,落花时节又逢君&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;home.sina.com&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;du&quot;</span>&gt;杜甫&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;Awesome Coming Soon Widget Responsive Widget&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;du&quot;</span>&gt;杜牧&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;b&gt;杜小月&lt;/b&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;i&gt;度蜜月&lt;/i&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=<span class="string">&quot;http://www.haha.com&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;feng&quot;</span>&gt;凤凰台上凤凰游,凤去台空江自流,吴宫花草埋幽径,晋代衣冠成古丘&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>存储到一个文件里，然后通过打开本地文件的操作，就可以开始执行了。</p><p>前提是你得先在终端环境中安装这个库。</p><p>pip intall bs4</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment">#本地的html</span></span><br><span class="line">fp = <span class="built_in">open</span>(<span class="string">r&quot;D:\BaiduNetdiskDownload\爬虫课件\爬虫课件\第三章：数据解析\test.html&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">soup = BeautifulSoup(fp,<span class="string">&quot;lxml&quot;</span>)</span><br><span class="line"><span class="comment"># print(soup)  #返回这个网页的源代码</span></span><br><span class="line"><span class="comment"># print(soup.a)  #返回第一个a标签的内容</span></span><br><span class="line"><span class="comment"># print(soup.div) #返回第一个div 的内容</span></span><br><span class="line"><span class="comment"># print(soup.find(&quot;div&quot;))  #返回第一个div 的内容</span></span><br><span class="line"><span class="comment"># print(soup.find(&quot;div&quot;,class_=&quot;song&quot;))   #返回class = &quot;song&quot; 的div的内容</span></span><br><span class="line"><span class="comment"># print(soup.find_all(&quot;a&quot;))  #返回所有a标签的内容</span></span><br><span class="line"><span class="comment"># print(soup.find(&quot;div&quot;,class_=&quot;song&quot;).a.get(&quot;href&quot;))  #返回链接http://www.song.com/</span></span><br><span class="line"><span class="comment"># print(soup.find(&quot;div&quot;,class_=&quot;song&quot;).img.get(&quot;src&quot;)) 返回链接：http://www.baidu.com/meinv.jpg</span></span><br><span class="line"><span class="built_in">print</span>(soup.find(<span class="string">&quot;div&quot;</span>,class_=<span class="string">&quot;song&quot;</span>).a.text) <span class="comment"># 返回文本</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;.tang&#x27;))   返回class = &quot;tang&quot; 的div的内容</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&quot;.tang &gt; ul &gt; li &gt; a&quot;</span>)[<span class="number">0</span>].text)   <span class="comment"># 返回tang下的第一个标签的内容</span></span><br><span class="line"><span class="built_in">print</span>(soup.select(<span class="string">&quot;.tang &gt; ul &gt; li &gt; a&quot;</span>)[<span class="number">0</span>][<span class="string">&#x27;href&#x27;</span>]) <span class="comment"># 返回tang下的第一个标签的链接</span></span><br></pre></td></tr></table></figure><p>学习完这个，我们就可以实战了， 第一个案例，获取优美图库（<a href="https://www.umeitu.com/bizhitupian/huyanbizhi%EF%BC%89%E7%9A%84%E5%A3%81%E7%BA%B8%EF%BC%8C%E5%B9%B6%E4%B8%8B%E8%BD%BD%E9%AB%98%E6%B8%85%E5%A4%A7%E5%9B%BE%EF%BC%8C%E5%A4%A7%E5%9B%BE%E5%9C%A8%E7%82%B9%E5%87%BB%E5%9B%BE%E7%89%87%E5%90%8E%E7%9A%84%E8%AF%A6%E6%83%85%E9%A1%B5%EF%BC%8C%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E4%B8%A4%E6%AC%A1%E8%AF%B7%E6%B1%82%E3%80%82">https://www.umeitu.com/bizhitupian/huyanbizhi）的壁纸，并下载高清大图，大图在点击图片后的详情页，所以我们需要两次请求。</a></p><p><img src="https://s2.loli.net/2023/06/13/w7Hi6bDNZJzaRKC.png" alt="图片"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">url =&#x27;https://www.umeitu.com/bizhitupian/huyanbizhi/&#x27;</span><br><span class="line">headers = &#123;</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;&#125;</span><br><span class="line">page_list = requests.get(url,headers = headers)</span><br><span class="line">page_list.encoding = &quot;utf-8&quot;</span><br><span class="line">html = page_list.text</span><br><span class="line"></span><br><span class="line"># 列表页链接</span><br><span class="line">soup = BeautifulSoup(html,&quot;lxml&quot;)</span><br><span class="line">urls = soup.find_all(class_=&quot;TypeBigPics&quot;)</span><br><span class="line">for page_url in urls:</span><br><span class="line">    page_url = &#x27;https://www.umeitu.com/&#x27; + page_url.get(&#x27;href&#x27;)</span><br><span class="line">    # print(url)</span><br><span class="line"></span><br><span class="line">#获取子页面链接</span><br><span class="line">    page_content = requests.get(page_url,headers = headers)</span><br><span class="line">    html1 = page_content.text</span><br><span class="line">    soup1 = BeautifulSoup(html1,&quot;lxml&quot;)</span><br><span class="line">    src = soup1.find(&quot;p&quot;,align=&quot;center&quot;)</span><br><span class="line"></span><br><span class="line">    img = src.img.get(&#x27;src&#x27;)</span><br><span class="line"></span><br><span class="line">    # 下载图片</span><br><span class="line">    img_resp = requests.get(img)</span><br><span class="line">    # print(img_resp.content)</span><br><span class="line">    img_name =img.split(&quot;/&quot;)[-1]</span><br><span class="line">    with open(img_name,&quot;wb&quot;) as f:</span><br><span class="line">        f.write(img_resp.content)</span><br></pre></td></tr></table></figure><p>这里需要注意的是，第一次请求列表页，用的soup.find_all，然后再循环，第二次直接soup1.find（）这样请求的就是单页面。</p><p>然后图片就下载到本地了。</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uR1mbzfuAWzoPTgjMEpT4iabt2zoRvhsacNhukvUXrbg4MHIiacEVBBG2KLjtT7w9I5JB9aCEGG6EUsscH9Sm24Q/640?wx_fmt=png&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p><p>除了下载图片，常见的应用还有下载文本。这次用soup.select方法下载一本小说。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    headers =&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span>&#125;</span><br><span class="line">    url = <span class="string">&quot;http://www.shicimingju.com/book/sanguoyanyi.html&quot;</span></span><br><span class="line">    page_text = requests.get(url,headers = headers).text.encode(<span class="string">&quot;ISO-8859-1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    soup = BeautifulSoup(page_text,<span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">    li_list = soup.select(<span class="string">&quot;.book-mulu &gt; ul &gt; li&quot;</span>)</span><br><span class="line">    fp = <span class="built_in">open</span>(<span class="string">&quot;sanguo.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">        title= li.a.string</span><br><span class="line">        detail_url = <span class="string">&quot;https://www.shicimingju.com/&quot;</span>+li.a[<span class="string">&quot;href&quot;</span>]</span><br><span class="line">        detail_page_text = requests.get(detail_url,headers= headers).text.encode(<span class="string">&quot;ISO-8859-1&quot;</span>)</span><br><span class="line"></span><br><span class="line">        detail_soup = BeautifulSoup(detail_page_text,<span class="string">&quot;lxml&quot;</span>)</span><br><span class="line">        div_tag = detail_soup.find(<span class="string">&quot;div&quot;</span>,class_ = <span class="string">&quot;card bookmark-list&quot;</span>)</span><br><span class="line">        content = div_tag.text</span><br><span class="line">        <span class="comment"># print(content)</span></span><br><span class="line">        fp.write(title+<span class="string">&quot;:&quot;</span>+content+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(title,<span class="string">&quot;爬取成功&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/vAcahJLy6GndHEz.png" alt="图片"></p><p>小说就下载好了。感觉这个网站是个鸡肋网站，第一段看着也不是三国呀，就当练习了，毕竟这个网站也没有做反爬。</p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bs4解析库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.正则表达式</title>
      <link href="/posts/4c2c5550.html"/>
      <url>/posts/4c2c5550.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>Regular Expression， 正则表达式， ⼀种使⽤表达式的⽅式对字符串进⾏匹配的语法规则。</p><p>我们抓取到的⽹⻚源代码本质上就是⼀个超⻓的字符串， 想从⾥⾯提取内容。⽤正则再合适不过了。</p><p>正则的优点：速度快， 效率⾼， 准确性⾼ 正则的缺点：新⼿上⼿难度有点⼉⾼。</p><p>不过只要掌握了正则编写的逻辑关系， 写出⼀个提取⻚⾯内容的正则其实并不复杂</p><p>正则的语法：使⽤元字符进⾏排列组合⽤来匹配字符串 在线测试正则表达式 <a href="https://tool.oschina.net/regex/">https://tool.oschina.net/regex/</a></p><p><strong>元字符：具有固定含义的特殊符号 常⽤元字符：</strong></p><blockquote><p>. 匹配除换⾏符以外的任意字符</p><p>\w 匹配字⺟或数字或下划线</p><p>\s 匹配任意的空⽩符 \d 匹配数字</p><p>\n 匹配⼀个换⾏符</p><p>\t 匹配⼀个制表符</p><p>^ 匹配字符串的开始 $ 匹配字符串的结尾</p><p>\W 匹配⾮字⺟或数字或下划线</p><p>\D 匹配⾮数字</p><p>\S 匹配⾮空⽩符</p><p>a|b 匹配字符a或字符b</p><p>() 匹配括号内的表达式，也表示⼀个组</p><p>[…] 匹配字符组中的字符</p><p>[^…] 匹配除了字符组中字符的所有字符</p></blockquote><p><strong>量词: 控制前⾯的元字符出现的次数</strong></p><blockquote><p>* 重复零次或更多次</p><p>+ 重复⼀次或更多次</p><p>? 重复零次或⼀次</p><p>{n} 重复n次</p><p>{n,} 重复n次或更多次</p><p>{n,m} 重复n到m次</p></blockquote><p>贪婪匹配和惰性匹配</p><blockquote><p>.* 贪婪匹配 .*? 惰性匹配</p></blockquote><p>这两个要着重的说⼀下，因为我们写爬⾍⽤的最多的就是这个惰性匹配。</p><p>先看案例</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>: 玩⼉吃鸡游戏, 晚上⼀起上游戏, ⼲嘛呢? 打游戏啊</span><br><span class="line">reg: 玩⼉.*?游戏</span><br><span class="line">此时匹配的是: 玩⼉吃鸡游戏</span><br><span class="line">reg: 玩⼉.*游戏</span><br><span class="line">此时匹配的是: 玩⼉吃鸡游戏, 晚上⼀起上游戏, ⼲嘛呢? 打游戏</span><br><span class="line"><span class="built_in">str</span>: &lt;div&gt;胡辣汤&lt;/div&gt;</span><br><span class="line">reg: &lt;.*&gt;</span><br><span class="line">结果: &lt;div&gt;胡辣汤&lt;/div&gt;</span><br><span class="line"><span class="built_in">str</span>: &lt;div&gt;胡辣汤&lt;/div&gt;</span><br><span class="line">reg: &lt;.*?&gt;</span><br><span class="line">结果:</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="built_in">str</span>: &lt;div&gt;胡辣汤&lt;/div&gt;&lt;span&gt;饭团&lt;/span&gt;</span><br><span class="line">reg: &lt;div&gt;.*?&lt;/div&gt;</span><br><span class="line">结果:</span><br><span class="line">&lt;div&gt;胡辣汤&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>那么接下来的问题是, 正则我会写了, 怎么在python程序中使⽤正则呢？答案是re模块</p><p>re模块中我们只需要记住这么⼏个功能就⾜够我们使⽤了。</p><h3 id="1-findall-查找所有，返回list"><a href="#1-findall-查找所有，返回list" class="headerlink" title="1. findall 查找所有，返回list"></a>1. findall 查找所有，返回list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">lst = re.findall(<span class="string">&quot;m&quot;</span>,<span class="string">&quot; mai le for len,mai ni mei!&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)  <span class="comment"># [&#x27;m&#x27;, &#x27;m&#x27;, &#x27;m&#x27;]</span></span><br><span class="line">lst = re.findall(<span class="string">r&quot;\d+&quot;</span>,<span class="string">&quot;5点之前. 你要给我5000万&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst) <span class="comment"># [&#x27;5&#x27;, &#x27;5000&#x27;] 匹配5开头的所有的数字</span></span><br></pre></td></tr></table></figure><h3 id="2-search-会进⾏匹配，-但是如果匹配到了第⼀个结果，就会返回这个结果。如果匹配不上search返回的则是None"><a href="#2-search-会进⾏匹配，-但是如果匹配到了第⼀个结果，就会返回这个结果。如果匹配不上search返回的则是None" class="headerlink" title="2. search 会进⾏匹配， 但是如果匹配到了第⼀个结果，就会返回这个结果。如果匹配不上search返回的则是None"></a>2. search 会进⾏匹配， 但是如果匹配到了第⼀个结果，就会返回这个结果。如果匹配不上search返回的则是None</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ret = re.search(<span class="string">r&quot;\d&quot;</span>,<span class="string">&quot;5点之前. 你要给我5000万&quot;</span>).group()</span><br><span class="line"><span class="built_in">print</span>(ret)  <span class="comment">#匹配结果为 5</span></span><br></pre></td></tr></table></figure><h3 id="3-match-只能从字符串的开头进⾏匹配"><a href="#3-match-只能从字符串的开头进⾏匹配" class="headerlink" title="3. match 只能从字符串的开头进⾏匹配"></a>3. match 只能从字符串的开头进⾏匹配</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ret = re.<span class="keyword">match</span>(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;abc&quot;</span>).group()</span><br><span class="line"><span class="built_in">print</span>(ret)  <span class="comment">#结果为a,如果为babc 报错</span></span><br></pre></td></tr></table></figure><h3 id="4-finditer-和findall差不多-只不过这时返回的是迭代器-重点"><a href="#4-finditer-和findall差不多-只不过这时返回的是迭代器-重点" class="headerlink" title="4. finditer, 和findall差不多. 只不过这时返回的是迭代器(重点)"></a>4. finditer, 和findall差不多. 只不过这时返回的是迭代器(重点)</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">it = re.finditer(<span class="string">&quot;m&quot;</span>,<span class="string">&quot; mai le for len,mai ni mei!&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> el <span class="keyword">in</span> it:</span><br><span class="line">    <span class="built_in">print</span>(el.group()) <span class="comment"># 不分组则返回迭代器</span></span><br></pre></td></tr></table></figure><h3 id="5-compile-可以将⼀个⻓⻓的正则进⾏预加载-⽅便后⾯的使⽤"><a href="#5-compile-可以将⼀个⻓⻓的正则进⾏预加载-⽅便后⾯的使⽤" class="headerlink" title="5. compile() 可以将⼀个⻓⻓的正则进⾏预加载. ⽅便后⾯的使⽤"></a>5. compile() 可以将⼀个⻓⻓的正则进⾏预加载. ⽅便后⾯的使⽤</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将正则表达式编译成为⼀个正则表达式对象, 规则要匹配的是3个数字</span></span><br><span class="line">obj = re.<span class="built_in">compile</span>(<span class="string">r&#x27;\d&#123;3&#125;&#x27;</span>)</span><br><span class="line"><span class="comment"># 正则表达式对象调⽤search, 参数为待匹配的字符串</span></span><br><span class="line">ret = obj.search(<span class="string">&#x27;abc123eeee&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(ret.group()) <span class="comment"># 结果: 123</span></span><br></pre></td></tr></table></figure><h3 id="6-正则中的内容如何单独提取？这⾥可以看到我们可以通过使⽤分组。来对正则匹配到的内容进⼀步的进⾏筛选。"><a href="#6-正则中的内容如何单独提取？这⾥可以看到我们可以通过使⽤分组。来对正则匹配到的内容进⼀步的进⾏筛选。" class="headerlink" title="6. 正则中的内容如何单独提取？这⾥可以看到我们可以通过使⽤分组。来对正则匹配到的内容进⼀步的进⾏筛选。"></a>6. 正则中的内容如何单独提取？这⾥可以看到我们可以通过使⽤分组。来对正则匹配到的内容进⼀步的进⾏筛选。</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;div class=&#x27;⻄游记&#x27;&gt;&lt;span id=&#x27;10010&#x27;&gt;中国联通&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">obj = re.<span class="built_in">compile</span>(<span class="string">r&quot;&lt;span id=&#x27;(?P&lt;id&gt;\d+)&#x27;&gt;(?P&lt;name&gt;\w+)&lt;/span&gt;&quot;</span>,re.S)</span><br><span class="line">obj = re.<span class="built_in">compile</span>(<span class="string">r&quot;&lt;span id=&#x27;(?P&lt;id&gt;\d+)&#x27;&gt;(?P&lt;name&gt;\w+)&lt;/span&gt;&quot;</span>,re.S)</span><br><span class="line"><span class="comment"># ?P&lt;value&gt;的意思就是命名一个名字为value的组，匹配规则符合后面的/d+</span></span><br><span class="line"><span class="comment"># 如果不使用re.S参数，则只在每一行内进行匹配，如果一行没有，就换下一行重新开始。</span></span><br><span class="line"><span class="comment"># 而使用re.S参数以后，正则表达式会将这个字符串作为一个整体，在整体中进行匹配。</span></span><br><span class="line">result = obj.search(s)</span><br><span class="line"><span class="comment"># print(result.group())</span></span><br><span class="line"><span class="built_in">print</span>(result.group())</span><br><span class="line"><span class="built_in">print</span>(result.group(<span class="string">&quot;id&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(result.group(<span class="string">&quot;name&quot;</span>))</span><br></pre></td></tr></table></figure><h3 id="7-正式练习"><a href="#7-正式练习" class="headerlink" title="7.正式练习"></a>7.正式练习</h3><p>下面一个案例，是练习用正则表达式提取豆瓣电影top250的数据并保存，一起来学一下吧。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拿到页面源代码.   requests</span></span><br><span class="line"><span class="comment"># 通过re来提取想要的有效信息  re</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://movie.douban.com/top250&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">resp = requests.get(url, headers=headers)</span><br><span class="line">page_content = resp.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析数据</span></span><br><span class="line">obj = re.<span class="built_in">compile</span>(<span class="string">r&#x27;&lt;li&gt;.*?&lt;div class=&quot;item&quot;&gt;.*?&lt;span class=&quot;title&quot;&gt;(?P&lt;name&gt;.*?)&#x27;</span></span><br><span class="line">                 <span class="string">r&#x27;&lt;/span&gt;.*?&lt;p class=&quot;&quot;&gt;.*?&lt;br&gt;(?P&lt;year&gt;.*?)&amp;nbsp.*?&lt;span &#x27;</span></span><br><span class="line">                 <span class="string">r&#x27;class=&quot;rating_num&quot; property=&quot;v:average&quot;&gt;(?P&lt;score&gt;.*?)&lt;/span&gt;.*?&#x27;</span></span><br><span class="line">                 <span class="string">r&#x27;&lt;span&gt;(?P&lt;num&gt;.*?)人评价&lt;/span&gt;&#x27;</span>, re.S)</span><br><span class="line"><span class="comment"># 开始匹配</span></span><br><span class="line">result = obj.finditer(page_content)</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;data.csv&quot;</span>, mode=<span class="string">&quot;w&quot;</span>)</span><br><span class="line">csvwriter = csv.writer(f)</span><br><span class="line"><span class="keyword">for</span> it <span class="keyword">in</span> result:</span><br><span class="line">    <span class="comment"># print(it.group(&quot;name&quot;))</span></span><br><span class="line">    <span class="comment"># print(it.group(&quot;score&quot;))</span></span><br><span class="line">    <span class="comment"># print(it.group(&quot;num&quot;))</span></span><br><span class="line">    <span class="comment"># print(it.group(&quot;year&quot;).strip())</span></span><br><span class="line">    dic = it.groupdict()</span><br><span class="line">    dic[<span class="string">&#x27;year&#x27;</span>] = dic[<span class="string">&#x27;year&#x27;</span>].strip()</span><br><span class="line">    csvwriter.writerow(dic.values())</span><br><span class="line"></span><br><span class="line">f.close()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;over!&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.requst请求库</title>
      <link href="/posts/936f1956.html"/>
      <url>/posts/936f1956.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="requst请求库"><a href="#requst请求库" class="headerlink" title="requst请求库"></a>requst请求库</h3><p>常⽤的抓取⻚⾯的模块通常使⽤⼀个第三⽅模块requests， 这个模块的优势就是⽐urllib还要简单，并且处理各种请求都⽐较⽅便。</p><p>既然是第三⽅模块，那就需要我们对该模块进⾏安装，安装⽅法:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><p>如果安装速度慢的话可以改⽤国内的源进⾏下载安装.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple requests</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/f7c1TSnUuBrDlbw.png" alt="图片"></p><p>OK. 接下来我们来看看requests能带给我们什么？我们先请求一下百度首页，一般的案例都是从这里开始的，俗称梦开始的地方：</p><h2 id="案例1：请求百度首页源代码"><a href="#案例1：请求百度首页源代码" class="headerlink" title="案例1：请求百度首页源代码"></a>案例1：请求百度首页源代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">&quot;https://www.baidu.com/&quot;</span></span><br><span class="line">response = requests.get(url)</span><br><span class="line">response.encoding = <span class="string">&quot;utf-8&quot;</span></span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/LZ6cpy4Xwn7diTs.png" alt="图片"></p><p>这样运行的话就把百度首页的html提取出来了。</p><h2 id="案例2：搜狗搜索词，交互式返回结果"><a href="#案例2：搜狗搜索词，交互式返回结果" class="headerlink" title="案例2：搜狗搜索词，交互式返回结果"></a>案例2：搜狗搜索词，交互式返回结果</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">kw = input(&quot;请输入需要查询的内容&quot;)</span><br><span class="line"></span><br><span class="line">url = f&quot;https://www.sogou.com/web?query=&#123;kw&#125;&quot;</span><br><span class="line">headers = &#123;</span><br><span class="line">    &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36&quot;</span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url,headers = headers)</span><br><span class="line">print(response.text)  # 直接拿结果(⽂本)</span><br><span class="line"></span><br><span class="line">with open(&quot;./sougou.html&quot;,&quot;w&quot;,encoding=&quot;utf-8&quot;) as f:</span><br><span class="line">    f.write(response.text)</span><br></pre></td></tr></table></figure><p>案例3：提取百度翻译结果</p><p>接下来, 我们看⼀个稍微复杂那么⼀丢丢的, 百度翻译~注意百度翻译这个url不好弄出来. 记住, 在输⼊的时候, 关掉各种输⼊法，要⽤英⽂输⼊法, 然后不要回⻋. 就能看到这个sug了</p><p><img src="https://s2.loli.net/2023/06/13/BG8edcREmfPgK56.png" alt="图片"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://fanyi.baidu.com/sug&quot;</span></span><br><span class="line"><span class="comment"># 请注意百度翻译的sug这个url. 它是通过post⽅式进⾏提交的. 所以我们也要模拟post请求</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">word = <span class="built_in">input</span>(<span class="string">&quot;请输入需要查询的词&quot;</span>)</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;kw&#x27;</span>:word  <span class="comment"># 这⾥要和抓包⼯具⾥的参数⼀致.</span></span><br><span class="line">&#125;</span><br><span class="line">response = requests.post(url,data=data)</span><br><span class="line">dic_obj = response.json() <span class="comment"># 返回值是json 那就可以直接解析成json</span></span><br><span class="line"><span class="comment"># print(dic_obj) # 拿到返回字典中的内容</span></span><br><span class="line"><span class="comment"># print(dic_obj[&#x27;data&#x27;][0][&quot;v&quot;])</span></span><br><span class="line"><span class="keyword">for</span> mean <span class="keyword">in</span> dic_obj[<span class="string">&quot;data&quot;</span>]:</span><br><span class="line">    <span class="built_in">print</span>(mean[<span class="string">&quot;v&quot;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/DvUKLzusS86tOok.png" alt="图片"></p><p>案例4：豆瓣电影ajax页面提取</p><p>是不是很顺⼿呢? 还有⼀些⽹站在进⾏请求的时候会校验你的客户端设备型号. ⽐如, 我们抓取⾖瓣电影，我们构造了一个字典params来请求：网址是豆瓣电影分类排行榜 - 爱情片，你会发现，往下划的过程中一直都会动态加载：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://movie.douban.com/j/chart/top_list&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">100</span>,<span class="number">20</span>):</span><br><span class="line">    params =&#123;</span><br><span class="line">        <span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;13&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;interval_id&#x27;</span>: <span class="string">&#x27;100:90&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;action&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;start&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;limit&#x27;</span>: <span class="string">&#x27;20&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">    response = requests.get(url,params=params,headers=headers)</span><br><span class="line">    dic_obj= response.json()</span><br><span class="line">    <span class="keyword">for</span> dic <span class="keyword">in</span> dic_obj:</span><br><span class="line">        <span class="built_in">print</span>(dic[<span class="string">&#x27;title&#x27;</span>])</span><br></pre></td></tr></table></figure><p>案例5：爬取腾讯新闻24小时最新内容，</p><p>这个也是需要构造一个params字典，然后解析json爬取，一般动态加载的都是用的这种方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;https://i.news.qq.com/trpc.qqnews_web.kv_srv.kv_srv_http_proxy/list&quot;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">100</span>,<span class="number">20</span>):</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;sub_srv_id&#x27;</span>: <span class="string">&#x27;24hours&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;srv_id&#x27;</span>: <span class="string">&#x27;pc&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;offset&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;limit&#x27;</span>: <span class="string">&#x27;20&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;strategy&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;ext&#x27;</span>: <span class="string">&#x27;&#123;&quot;pool&quot;:[&quot;top&quot;],&quot;is_filter&quot;:7,&quot;check_type&quot;:true&#125;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url, params=params, headers=headers)</span><br><span class="line">    dic_obj = response.json()</span><br><span class="line">    <span class="comment"># print(dic_obj)</span></span><br><span class="line">    <span class="keyword">for</span> dic <span class="keyword">in</span> dic_obj[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;list&quot;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(dic[<span class="string">&#x27;title&#x27;</span>],dic[<span class="string">&quot;url&quot;</span>])</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> requst请求库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.xpath解析库</title>
      <link href="/posts/91681a92.html"/>
      <url>/posts/91681a92.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="xpath解析库"><a href="#xpath解析库" class="headerlink" title="xpath解析库"></a>xpath解析库</h3><p>在上⼀章中， 我们基本上掌握了抓取整个⽹⻚的基本技能。但是呢， ⼤多数情况下， 我们并不需要整个⽹⻚的内容， 只是需要那么⼀⼩部分。怎么办呢? 这就涉及到了数据提取的问题。</p><p>本课程中， 提供三种解析⽅式:</p><ul><li>xpath解析</li><li>bs4解析</li><li>re解析</li></ul><p>这三种⽅式可以混合进⾏使⽤， 完全以结果做导向， 只要能拿到你想要的数据。⽤什么⽅案并不重要。当你掌握了这些之后。再考虑性能的问题。</p><p>XPath是⼀⻔在 XML ⽂档中查找信息的语⾔， XPath可⽤来在 XML⽂档中对元素和属性进⾏遍历，⽽我们熟知的HTML恰巧属于XML的⼀个⼦集，所以完全可以⽤xpath去查找html中的内容。</p><p>⾸先, 先了解⼏个概念：</p><p><img src="https://s2.loli.net/2023/06/13/CkxdpoTlMFAIwXn.png" alt="图片"></p><p>在上述html中,</p><ol><li><p>book, id, name, price….都被称为节点.</p></li><li><p>Id, name, price, author被称为book的⼦节点</p></li><li><p>book被称为id, name, price, author的⽗节点</p></li><li><p>id, name, price,author被称为同胞节点</p></li></ol><p>OK~ 有了这些基础知识后, 我们就可以开始了解xpath的基本语法了</p><p>在python中想要使⽤xpath，需要安装lxml模块。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install lxml</span><br></pre></td></tr></table></figure><p>基础⽤法:</p><ol><li><p>将要解析的html内容构造出etree对象.</p></li><li><p>使⽤etree对象的xpath()⽅法配合xpath表达式来完成对数据的提取</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">html = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;book&gt;</span></span><br><span class="line"><span class="string">    &lt;id&gt;1&lt;/id&gt;</span></span><br><span class="line"><span class="string">    &lt;name&gt;野花遍地⾹&lt;/name&gt;</span></span><br><span class="line"><span class="string">    &lt;price&gt;1.23&lt;/price&gt;</span></span><br><span class="line"><span class="string">    &lt;nick&gt;臭⾖腐&lt;/nick&gt;</span></span><br><span class="line"><span class="string">    &lt;author&gt;</span></span><br><span class="line"><span class="string">        &lt;nick id=&quot;10086&quot;&gt;周⼤强&lt;/nick&gt;</span></span><br><span class="line"><span class="string">        &lt;nick id=&quot;10010&quot;&gt;周芷若&lt;/nick&gt;</span></span><br><span class="line"><span class="string">        &lt;nick&gt;周杰伦&lt;/nick&gt;</span></span><br><span class="line"><span class="string">        &lt;nick&gt;蔡依林&lt;/nick&gt;</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;nick&gt;惹了&lt;/nick&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/author&gt;</span></span><br><span class="line"><span class="string">    &lt;partner&gt;</span></span><br><span class="line"><span class="string">    &lt;nick id=&quot;ppc&quot;&gt;胖胖陈&lt;/nick&gt;</span></span><br><span class="line"><span class="string">    &lt;nick id=&quot;ppbc&quot;&gt;胖胖不陈&lt;/nick&gt;</span></span><br><span class="line"><span class="string">    &lt;/partner&gt;</span></span><br><span class="line"><span class="string">&lt;/book&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">et = etree.XML(html)</span><br><span class="line"><span class="comment"># 根据节点进⾏搜索</span></span><br><span class="line"><span class="comment"># result = et.xpath(&quot;/book&quot;)</span></span><br><span class="line"><span class="comment"># result = et.xpath(&quot;/book/id&quot;) # /在开头表示⽂档最开始, /在中间表示⼉⼦</span></span><br><span class="line"><span class="comment"># result = et.xpath(&quot;/book//nick&quot;) # //表示后代</span></span><br><span class="line">result = et.xpath(<span class="string">&quot;/book/*/nick&quot;</span>) <span class="comment"># *表示通配符</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>xpath如何提取属性信息. 我们上⼀段真实的HTML来给各位讲解⼀下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span><br><span class="line">        &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;百度</span><br><span class="line">            &lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;http://www.google.com&quot;</span>&gt;⾕</span><br><span class="line">            歌&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;http://www.sogou.com&quot;</span>&gt;搜狗</span><br><span class="line">            &lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;ol&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;feiji&quot;</span>&gt;⻜机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;dapao&quot;</span>&gt;⼤炮&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a href=<span class="string">&quot;huoche&quot;</span>&gt;⽕⻋&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ol&gt;</span><br><span class="line">        &lt;div&gt;李嘉诚&lt;/div&gt;</span><br><span class="line">        &lt;div&gt;胡辣汤&lt;/div&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">tree = etree.parse(<span class="string">&quot;1.html&quot;</span>)</span><br><span class="line">result = tree.xpath(<span class="string">&quot;/html/body/ul/li/a/@href&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line">result = tree.xpath(<span class="string">&quot;/html/body/ul/li&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> li <span class="keyword">in</span> result:</span><br><span class="line"><span class="built_in">print</span>(li.xpath(<span class="string">&quot;./a/@href&quot;</span>)) <span class="comment"># 局部解析</span></span><br><span class="line">result = tree.xpath(<span class="string">&quot;//div[@class=&#x27;job&#x27;]/text()&quot;</span>)</span><br><span class="line"><span class="comment"># [@class=&#x27;xxx&#x27;]属性选取 text()获取⽂本</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>实战案例：</p><h2 id="一、58二手房标题"><a href="#一、58二手房标题" class="headerlink" title="一、58二手房标题"></a><strong>一、58二手房标题</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    headers =&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span>&#125;</span><br><span class="line">    url = <span class="string">&quot;https://bj.58.com/ershoufang/&quot;</span></span><br><span class="line">    page_text = requests.get(url,headers = headers).text</span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    titles = tree.xpath(<span class="string">&quot;//h3/text()&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> title <span class="keyword">in</span> titles:</span><br><span class="line">        <span class="built_in">print</span>(title)</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/q2V7n8zLv5lX9ao.png" alt="图片"></p><h2 id="二：彼岸壁纸下载"><a href="#二：彼岸壁纸下载" class="headerlink" title="二：彼岸壁纸下载"></a><strong>二：彼岸壁纸下载</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    headers =&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span>&#125;</span><br><span class="line">    url = <span class="string">&quot;https://pic.netbian.com/4kfengjing/&quot;</span></span><br><span class="line">    page_text = requests.get(url,headers = headers).text.encode(<span class="string">&quot;ISO-8859-1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    li_list = tree.xpath(<span class="string">&#x27;//div[@class=&quot;slist&quot;]//li&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&quot;./piclibs&quot;</span>):</span><br><span class="line">        os.mkdir(<span class="string">&#x27;./piclibs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> li_list:</span><br><span class="line">        img_src = <span class="string">&#x27;https://pic.netbian.com/&#x27;</span>+li.xpath(<span class="string">&#x27;./a/img/@src&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># print()</span></span><br><span class="line">        img_name = li.xpath(<span class="string">&#x27;./a/img/@alt&#x27;</span>)[<span class="number">0</span>]+<span class="string">&#x27;.jpg&#x27;</span></span><br><span class="line">        <span class="comment"># print(img_name,img_src)</span></span><br><span class="line">        img_data = requests.get(url=img_src,headers = headers).content</span><br><span class="line">        img_path = <span class="string">&quot;piclibs/&quot;</span>+img_name</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(img_path,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(img_data)</span><br><span class="line">            <span class="built_in">print</span>(img_name,<span class="string">&quot;下载成功&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/3dGjrcF61hPyQxO.png" alt="图片"></p><p>三、全国城市名称爬取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    headers =&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3884.400 QQBrowser/10.8.4560.400&#x27;</span>&#125;</span><br><span class="line">    url = <span class="string">&quot;https://www.aqistudy.cn/historydata/&quot;</span></span><br><span class="line">    page_text = requests.get(url,headers = headers).text</span><br><span class="line"></span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    <span class="comment">#全部城市</span></span><br><span class="line">    all_city_list = tree.xpath(<span class="string">&#x27;//div[@class=&quot;bottom&quot;]//li&#x27;</span>)</span><br><span class="line">    all_city_names = []</span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> all_city_list:</span><br><span class="line">        city_name = li.xpath(<span class="string">&quot;./a/text()&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">        all_city_names.append(city_name)</span><br><span class="line">        <span class="keyword">for</span> city <span class="keyword">in</span> all_city_names:</span><br><span class="line">            <span class="built_in">print</span>(city)</span><br><span class="line">    <span class="comment"># print(all_city_names)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#热门城市</span></span><br><span class="line">    <span class="comment"># hot_city_names = []</span></span><br><span class="line">    <span class="comment"># hot_city_list = tree.xpath(&#x27;//div[@class=&quot;hot&quot;]//li&#x27;)</span></span><br><span class="line">    <span class="comment"># for li in hot_city_list:</span></span><br><span class="line">    <span class="comment">#     city_name = li.xpath(&quot;./a/text()&quot;)[0]</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#     hot_city_names.append(city_name)</span></span><br><span class="line">    <span class="comment"># print(hot_city_names)</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/06/13/Pxoh1dl8nNqeufy.png" alt="图片"></p>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xpath解析库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux安装node</title>
      <link href="/posts/3dad8e04.html"/>
      <url>/posts/3dad8e04.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="linux安装node"><a href="#linux安装node" class="headerlink" title="linux安装node"></a>linux安装node</h1><h4 id="1、下载安装包"><a href="#1、下载安装包" class="headerlink" title="1、下载安装包"></a>1、下载安装包</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://nodejs.org/dist/v0.10.25/node-v0.10.25.tar.gz</span><br><span class="line">版本根据自己需要进行选择。</span><br></pre></td></tr></table></figure><h4 id="2、安装gcc"><a href="#2、安装gcc" class="headerlink" title="2、安装gcc"></a>2、安装gcc</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc openssl-devel gcc-c++ compat-gcc-34 compat-gcc-34-c++</span><br></pre></td></tr></table></figure><h4 id="3、解压node"><a href="#3、解压node" class="headerlink" title="3、解压node"></a>3、解压node</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -xf node-v0.10.25.tar.gz</span><br><span class="line">3、进入node目录</span><br><span class="line">cd node-v0.10.25</span><br></pre></td></tr></table></figure><h4 id="4、配置目录"><a href="#4、配置目录" class="headerlink" title="4、配置目录"></a>4、配置目录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/node</span><br></pre></td></tr></table></figure><h4 id="5、安装npm"><a href="#5、安装npm" class="headerlink" title="5、安装npm"></a>5、安装npm</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h4 id="6、加入链接"><a href="#6、加入链接" class="headerlink" title="6、加入链接"></a>6、加入链接</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/node/bin/* /usr/sbin/</span><br></pre></td></tr></table></figure><h4 id="7、测试时候安装成功"><a href="#7、测试时候安装成功" class="headerlink" title="7、测试时候安装成功"></a>7、测试时候安装成功</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AgentGPT 最新部署教程！</title>
      <link href="/posts/1f42c3fa.html"/>
      <url>/posts/1f42c3fa.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="AgentGPT-最新部署教程！"><a href="#AgentGPT-最新部署教程！" class="headerlink" title="AgentGPT 最新部署教程！"></a>AgentGPT 最新部署教程！</h1><p><a href="https://www.freedidi.com/wp-content/uploads/2023/04/2023-04-26-224232.png"><img src="https://s2.loli.net/2023/05/18/EsreW8UmSwjMP4f.png" alt="img"></a></p><h4 id="1-首先你需要准备一台VPS，没有的话可以自己去【-搞一台-】，白菜价，性能强劲而且可玩性非常高！"><a href="#1-首先你需要准备一台VPS，没有的话可以自己去【-搞一台-】，白菜价，性能强劲而且可玩性非常高！" class="headerlink" title="1.首先你需要准备一台VPS，没有的话可以自己去【**搞一台**】，白菜价，性能强劲而且可玩性非常高！"></a>1.首先你需要准备一台VPS，没有的话可以自己去【**<a href="https://www.vultr.com/?ref=7045490">搞一台</a>**】，白菜价，性能强劲而且可玩性非常高！</h4><p> 然后通过SSH连接工具【<a href="https://www.putty.org/">Putty</a>】连接进去以后，依次执行以下命令：</p><p> 如果没有安装Curl的话，我们需要提前安装。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y curl #Debian</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y curl #CentOS</span><br></pre></td></tr></table></figure><h4 id="2-通过Docker一键安装脚本进行部署："><a href="#2-通过Docker一键安装脚本进行部署：" class="headerlink" title="2.通过Docker一键安装脚本进行部署："></a>2.通过Docker一键安装脚本进行部署：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sSL https://cdn.jsdelivr.net/gh/SuperManito/LinuxMirrors@main/DockerInstallation.sh)</span><br></pre></td></tr></table></figure><p>里面选择DOCKER CE源渠道，有八个可以选择。</p><p>包括我们可以选择Docker Engine、Compose等，然后就自动一键安装。</p><h4 id="3-下载并安装AgentGPT开源程序：-【-GitHub项目-】"><a href="#3-下载并安装AgentGPT开源程序：-【-GitHub项目-】" class="headerlink" title="3.下载并安装AgentGPT开源程序： 【**GitHub项目**】"></a>3.下载并安装AgentGPT开源程序： 【**<a href="https://github.com/reworkd/AgentGPT">GitHub项目</a>**】</h4><p>先安装下Git：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install git #Centos</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git #Debian</span><br></pre></td></tr></table></figure><h4 id="4-下载-AgentGPT-源码："><a href="#4-下载-AgentGPT-源码：" class="headerlink" title="4.下载 AgentGPT 源码："></a>4.下载 AgentGPT 源码：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/reworkd/AgentGPT.git</span><br></pre></td></tr></table></figure><h4 id="5-下载后执行下面安装命令即可"><a href="#5-下载后执行下面安装命令即可" class="headerlink" title="5.下载后执行下面安装命令即可:"></a>5.下载后执行下面安装命令即可:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd AgentGPT</span><br><span class="line"></span><br><span class="line">./setup.sh --docker</span><br></pre></td></tr></table></figure><h4 id="6-获取自己的Open-AI-的密钥：【-点击前往-】"><a href="#6-获取自己的Open-AI-的密钥：【-点击前往-】" class="headerlink" title="6.获取自己的Open AI 的密钥：【**点击前往**】"></a>6.获取自己的Open AI 的密钥：【**<a href="https://platform.openai.com/account/api-keys">点击前往</a>**】</h4><h4 id="7-安装完成以后，你只需在浏览器上打开：http-xxx-xx-xx-xx-3000"><a href="#7-安装完成以后，你只需在浏览器上打开：http-xxx-xx-xx-xx-3000" class="headerlink" title="7.安装完成以后，你只需在浏览器上打开：http:xxx.xx.xx.xx:3000"></a>7.安装完成以后，你只需在浏览器上打开：http:xxx.xx.xx.xx:3000</h4>]]></content>
      
      
      <categories>
          
          <category> AgentGPT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AgentGPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>paddlepaddle</title>
      <link href="/posts/e9f64d9f.html"/>
      <url>/posts/e9f64d9f.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Windows-下的-PIP-安装¶"><a href="#Windows-下的-PIP-安装¶" class="headerlink" title="Windows 下的 PIP 安装¶"></a>Windows 下的 PIP 安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#windows-pip">¶</a></h1><p><a href="https://pypi.org/">The Python Package Index(PyPI)</a>是 Python 的包管理器。本文档为你介绍 PyPI 安装方式，飞桨提供的 PyPI 安装包支持 TensorRT 推理功能。</p><h2 id="一、环境准备¶"><a href="#一、环境准备¶" class="headerlink" title="一、环境准备¶"></a>一、环境准备<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#yihuanjingzhunbei">¶</a></h2><h3 id="1-1-如何查看您的环境¶"><a href="#1-1-如何查看您的环境¶" class="headerlink" title="1.1 如何查看您的环境¶"></a>1.1 如何查看您的环境<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#ruhechakannindehuanjing">¶</a></h3><ul><li><p>需要确认 python 的版本是否满足要求</p><ul><li><p>使用以下命令确认是 3.6&#x2F;3.7&#x2F;3.8&#x2F;3.9&#x2F;3.10</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure></li></ul></li><li><p>需要确认 pip 的版本是否满足要求，要求 pip 版本为 20.2.2 或更高版本</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m ensurepip</span><br></pre></td></tr></table></figure>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip --version</span><br></pre></td></tr></table></figure></li><li><p>需要确认 Python 和 pip 是 64bit，并且处理器架构是 x86_64（或称作 x64、Intel 64、AMD64）架构。下面的第一行输出的是”64bit”，第二行输出的是”x86_64”、”x64”或”AMD64”即可：</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import platform;print(platform.architecture()[0]);print(platform.machine())&quot;</span><br></pre></td></tr></table></figure></li><li><p>默认提供的安装包需要计算机支持 MKL</p></li><li><p>Windows 暂不支持 NCCL，分布式等相关功能</p></li></ul><h2 id="二、开始安装¶"><a href="#二、开始安装¶" class="headerlink" title="二、开始安装¶"></a>二、开始安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#erkaishianzhuang">¶</a></h2><p>本文档为您介绍 pip 安装方式</p><h3 id="首先请您选择您的版本¶"><a href="#首先请您选择您的版本¶" class="headerlink" title="首先请您选择您的版本¶"></a>首先请您选择您的版本<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#shouxianqingninxuanzenindebanben">¶</a></h3><ul><li>如果您的计算机没有 NVIDIA® GPU，请安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#cpu">CPU 版的 PaddlePaddle</a></li><li>如果您的计算机有 NVIDIA® GPU，请确保满足以下条件并且安装 GPU 版 PaddlePaddle<ul><li><strong>CUDA 工具包 10.2 配合 cuDNN v7.6.5，如需使用 PaddleTensorRT 推理，需配合 TensorRT7.0.0.11</strong></li><li><strong>CUDA 工具包 11.2 配合 cuDNN v8.2.1，如需使用 PaddleTensorRT 推理，需配合 TensorRT8.2.4.2</strong></li><li><strong>CUDA 工具包 11.6 配合 cuDNN v8.4.0，如需使用 PaddleTensorRT 推理，需配合 TensorRT8.4.0.6</strong></li><li><strong>CUDA 工具包 11.7 配合 cuDNN v8.4.1，如需使用 PaddleTensorRT 推理，需配合 TensorRT8.4.2.4</strong></li><li><strong>GPU 运算能力超过 3.5 的硬件设备</strong></li><li>注：目前官方发布的 windows 安装包仅包含 CUDA 10.2&#x2F;11.2&#x2F;11.6&#x2F;11.7，如需使用其他 cuda 版本，请通过源码自行编译。您可参考 NVIDIA 官方文档了解 CUDA、CUDNN 和 TensorRT 的安装流程和配置方法，请见<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/">CUDA</a>，<a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/">cuDNN</a>，<a href="https://developer.nvidia.com/tensorrt">TensorRT</a></li></ul></li></ul><h3 id="根据版本进行安装¶"><a href="#根据版本进行安装¶" class="headerlink" title="根据版本进行安装¶"></a>根据版本进行安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#genjubanbenjinxinganzhuang">¶</a></h3><p>确定您的环境满足条件后可以开始安装了，选择下面您要安装的 PaddlePaddle</p><h4 id="2-1-CPU-版的-PaddlePaddle¶"><a href="#2-1-CPU-版的-PaddlePaddle¶" class="headerlink" title="2.1 CPU 版的 PaddlePaddle¶"></a>2.1 CPU 版的 PaddlePaddle<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#span-id-cpu-cpu-paddlepaddle-span">¶</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install paddlepaddle==2.4.2 -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><h4 id="2-2-GPU-版的-PaddlePaddle¶"><a href="#2-2-GPU-版的-PaddlePaddle¶" class="headerlink" title="2.2 GPU 版的 PaddlePaddle¶"></a>2.2 GPU 版的 PaddlePaddle<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#span-id-gpu-gpu-paddlepaddle-span">¶</a></h4><p>2.2.1 CUDA10.2 的 PaddlePaddle</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install paddlepaddle-gpu==2.4.2 -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>2.2.2 CUDA11.2 的 PaddlePaddle</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install paddlepaddle-gpu==2.4.2.post112 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/avx/stable.html</span><br></pre></td></tr></table></figure><p>2.2.3 CUDA11.6 的 PaddlePaddle</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install paddlepaddle-gpu==2.4.2.post116 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/avx/stable.html</span><br></pre></td></tr></table></figure><p>2.2.4 CUDA11.7 的 PaddlePaddle</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install paddlepaddle-gpu==2.4.2.post117 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/avx/stable.html</span><br></pre></td></tr></table></figure><p>注：</p><ul><li><p>如果你使用的是安培架构的 GPU，推荐使用 CUDA11 以上。如果你使用的是非安培架构的 GPU，推荐使用 CUDA10.2，性能更优。</p></li><li><p>请确认需要安装 PaddlePaddle 的 Python 是您预期的位置，因为您计算机可能有多个 Python。根据您的环境您可能需要将说明中所有命令行中的 python 替换为具体的 Python 路径。</p></li><li><p>上述命令默认安装<code>avx</code>的包。如果你的机器不支持<code>avx</code>，需要安装<code>noavx</code>的 Paddle 包。判断你的机器是否支持<code>avx</code>，可以安装<a href="https://www.cpuid.com/softwares/cpu-z.html">CPU-Z</a>工具查看“处理器-指令集”。</p><p>  首先使用如下命令将 wheel 包下载到本地，仅支持 python3.8</p><ul><li>cpu、mkl 版本 noavx 机器安装：</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip download paddlepaddle==2.4.2 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/noavx/stable.html --no-index --no-deps</span><br></pre></td></tr></table></figure><ul><li>cpu、openblas 版本 noavx 机器安装：</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip download paddlepaddle==2.4.2 -f https://www.paddlepaddle.org.cn/whl/windows/openblas/noavx/stable.html --no-index --no-deps</span><br></pre></td></tr></table></figure><ul><li>gpu 版本 cuda10.2 noavx 机器安装：</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip download paddlepaddle-gpu==2.4.2 -f https://www.paddlepaddle.org.cn/whl/windows/mkl/noavx/stable.html --no-index --no-deps</span><br></pre></td></tr></table></figure><p>  再使用<code>python -m pip install [name].whl</code>本地安装（[name]为 wheel 包名称）</p></li><li><p>如果你想安装<code>avx</code>、<code>openblas</code>的 Paddle 包，可以通过以下命令将 wheel 包下载到本地，再使用<code>python -m pip install [name].whl</code>本地安装（[name]为 wheel 包名称）：</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip download paddlepaddle==2.4.2 -f https://www.paddlepaddle.org.cn/whl/windows/openblas/avx/stable.html --no-index --no-deps</span><br></pre></td></tr></table></figure></li></ul><h2 id="三、验证安装¶"><a href="#三、验证安装¶" class="headerlink" title="三、验证安装¶"></a><strong>三、验证安装</strong><a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#sanyanzhenganzhuang">¶</a></h2><p>安装完成后您可以使用 <code>python</code> 进入 python 解释器，输入<code>import paddle</code> ，再输入 <code>paddle.utils.run_check()</code></p><p>如果出现<code>PaddlePaddle is installed successfully!</code>，说明您已成功安装。</p><h2 id="四、如何卸载¶"><a href="#四、如何卸载¶" class="headerlink" title="四、如何卸载¶"></a><strong>四、如何卸载</strong><a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/pip/windows-pip.html#siruhexiezai">¶</a></h2><p>请使用以下命令卸载 PaddlePaddle：</p><ul><li><strong>CPU 版本的 PaddlePaddle</strong>: <code>python -m pip uninstall paddlepaddle</code></li><li><strong>GPU 版本的 PaddlePaddle</strong>: <code>python -m pip uninstall paddlepaddle-gpu</code></li></ul><h1 id="第二种安装方式"><a href="#第二种安装方式" class="headerlink" title="第二种安装方式"></a>第二种安装方式</h1><h1 id="Windows-下的-Conda-安装¶"><a href="#Windows-下的-Conda-安装¶" class="headerlink" title="Windows 下的 Conda 安装¶"></a>Windows 下的 Conda 安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#windows-conda">¶</a></h1><p><a href="https://www.anaconda.com/">Anaconda</a>是一个免费开源的 Python 和 R 语言的发行版本，用于计算科学，Anaconda 致力于简化包管理和部署。Anaconda 的包使用软件包管理系统 Conda 进行管理。Conda 是一个开源包管理系统和环境管理系统，可在 Windows、macOS 和 Linux 上运行。本文档为你介绍 Anaconda 安装方式，飞桨提供的 Anaconda 安装包支持 TensorRT 推理功能。</p><h2 id="一、环境准备¶-1"><a href="#一、环境准备¶-1" class="headerlink" title="一、环境准备¶"></a>一、环境准备<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#yihuanjingzhunbei">¶</a></h2><h3 id="1-1-创建虚拟环境¶"><a href="#1-1-创建虚拟环境¶" class="headerlink" title="1.1 创建虚拟环境¶"></a>1.1 创建虚拟环境<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#chuangjianxunihuanjing">¶</a></h3><h4 id="1-1-1-安装环境¶"><a href="#1-1-1-安装环境¶" class="headerlink" title="1.1.1 安装环境¶"></a>1.1.1 安装环境<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#anzhuanghuanjing">¶</a></h4><p>首先根据具体的 Python 版本创建 Anaconda 虚拟环境，PaddlePaddle 的 Anaconda 安装支持 3.6 - 3.10 版本的 Python 安装环境。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n paddle_env python=YOUR_PY_VER</span><br></pre></td></tr></table></figure><h4 id="1-1-2-进入-Anaconda-虚拟环境¶"><a href="#1-1-2-进入-Anaconda-虚拟环境¶" class="headerlink" title="1.1.2 进入 Anaconda 虚拟环境¶"></a>1.1.2 进入 Anaconda 虚拟环境<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#anaconda">¶</a></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">activate paddle_env</span><br></pre></td></tr></table></figure><h3 id="1-2-其他环境检查¶"><a href="#1-2-其他环境检查¶" class="headerlink" title="1.2 其他环境检查¶"></a>1.2 其他环境检查<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#qitahuanjingjiancha">¶</a></h3><h4 id="1-2-1-确认-Python-安装路径¶"><a href="#1-2-1-确认-Python-安装路径¶" class="headerlink" title="1.2.1 确认 Python 安装路径¶"></a>1.2.1 确认 Python 安装路径<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#python">¶</a></h4><p>确认您的 conda 虚拟环境和需要安装 PaddlePaddle 的 Python 是您预期的位置，因为您计算机可能有多个 Python。进入 Anaconda 的命令行终端，输入以下指令确认 Python 位置。</p><p>输出 Python 路径的命令为:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">where python</span><br></pre></td></tr></table></figure><p>根据您的环境，您可能需要将说明中所有命令行中的 python 替换为具体的 Python 路径</p><h4 id="1-2-2-检查-Python-版本¶"><a href="#1-2-2-检查-Python-版本¶" class="headerlink" title="1.2.2 检查 Python 版本¶"></a>1.2.2 检查 Python 版本<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#id1">¶</a></h4><p>使用以下命令确认版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure><h4 id="1-2-3-检查系统环境¶"><a href="#1-2-3-检查系统环境¶" class="headerlink" title="1.2.3 检查系统环境¶"></a>1.2.3 检查系统环境<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#jianchaxitonghuanjing">¶</a></h4><p>确认 Python 和 pip 是 64bit，并且处理器架构是 x86_64（或称作 x64、Intel 64、AMD64）架构。下面的第一行输出的是”64bit”，第二行输出的是”x86_64（或 x64、AMD64）”即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import platform;print(platform.architecture()[0]);print(platform.machine())&quot;</span><br></pre></td></tr></table></figure><h2 id="二、开始安装¶-1"><a href="#二、开始安装¶-1" class="headerlink" title="二、开始安装¶"></a>二、开始安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#erkaishianzhuang">¶</a></h2><p>本文档为您介绍 conda 安装方式</p><h3 id="添加清华源（可选）¶"><a href="#添加清华源（可选）¶" class="headerlink" title="添加清华源（可选）¶"></a>添加清华源（可选）<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#tianjiaqinghuayuan-kexuan">¶</a></h3><p>对于国内用户无法连接到 Anaconda 官方源的可以按照以下命令添加清华源:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure><h3 id="根据版本进行安装¶-1"><a href="#根据版本进行安装¶-1" class="headerlink" title="根据版本进行安装¶"></a>根据版本进行安装<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#genjubanbenjinxinganzhuang">¶</a></h3><p>选择下面您要安装的 PaddlePaddle</p><h4 id="CPU-版的-PaddlePaddle¶"><a href="#CPU-版的-PaddlePaddle¶" class="headerlink" title="CPU 版的 PaddlePaddle¶"></a>CPU 版的 PaddlePaddle<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#cpu-paddlepaddle">¶</a></h4><p>如果您的计算机没有 NVIDIA® GPU，请安装 CPU 版的 PaddlePaddle</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install paddlepaddle==2.4.2 --channel https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/</span><br></pre></td></tr></table></figure><h4 id="GPU-版的-PaddlePaddle¶"><a href="#GPU-版的-PaddlePaddle¶" class="headerlink" title="GPU 版的 PaddlePaddle¶"></a>GPU 版的 PaddlePaddle<a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#gpu-paddlepaddle">¶</a></h4><ul><li>对于 <code>CUDA 10.2</code>，需要搭配 cuDNN 7.6.5，安装命令为:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install paddlepaddle-gpu==2.4.2 cudatoolkit=10.2 --channel https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/</span><br></pre></td></tr></table></figure><ul><li>对于 <code>CUDA 11.2</code>，需要搭配 cuDNN 8.2.1，安装命令为:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install paddlepaddle-gpu==2.4.2 cudatoolkit=11.2 -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/ -c conda-forge</span><br></pre></td></tr></table></figure><ul><li>对于 <code>CUDA 11.6</code>，需要搭配 cuDNN 8.4.0，安装命令为:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install paddlepaddle-gpu==2.4.2 cudatoolkit=11.6 -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/ -c conda-forge</span><br></pre></td></tr></table></figure><ul><li>对于 <code>CUDA 11.7</code>，需要搭配 cuDNN 8.4.1，安装命令为:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install paddlepaddle-gpu==2.4.2 cudatoolkit=11.7 -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/ -c conda-forge</span><br></pre></td></tr></table></figure><p>您可参考 NVIDIA 官方文档了解 CUDA 和 CUDNN 的安装流程和配置方法，请见<a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/">CUDA</a>，<a href="https://docs.nvidia.com/deeplearning/sdk/cudnn-install/">cuDNN</a></p><h2 id="三、验证安装¶-1"><a href="#三、验证安装¶-1" class="headerlink" title="三、验证安装¶"></a><strong>三、验证安装</strong><a href="https://www.paddlepaddle.org.cn/documentation/docs/zh/install/conda/windows-conda.html#sanyanzhenganzhuang">¶</a></h2><p>安装完成后您可以使用 <code>python</code> 或 <code>python3</code> 进入 python 解释器，输入<code>import paddle</code> ，再输入 <code>paddle.utils.run_check()</code></p><p>如果出现<code>PaddlePaddle is installed successfully!</code>，说明您已成功安装。</p>]]></content>
      
      
      <categories>
          
          <category> paddlepaddle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> paddlepaddle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人工智能工具集合</title>
      <link href="/posts/66e03c9d.html"/>
      <url>/posts/66e03c9d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>​      话说2023，可谓人工智能元年！但是说实话，有部分产品达不到“人工智能”的程度，还停留在“计算”的层次，我对这方面不是专家，就不去评价这些应用是否算是“AI”了。不过，善用这些工具，确实能提高效率，只要有创新的应用，赚钱是一定的，而且，已经有了部分先例。</p><h1 id="AI汇总"><a href="#AI汇总" class="headerlink" title="AI汇总"></a>AI汇总</h1><p>我把比较流行的这些工具做一个汇总，写上简单的介绍，看看与你能否碰撞出灵感的火花：</p><h3 id="一、聊天机器人"><a href="#一、聊天机器人" class="headerlink" title="一、聊天机器人"></a><strong>一、聊天机器人</strong></h3><h4 id="1、ChatGPT"><a href="#1、ChatGPT" class="headerlink" title="1、ChatGPT"></a>1、ChatGPT</h4><p>GPT在3月14日发布了4.0版本，Plus版本的GPT已经可以使用4.0了，现在它已经是大型多模态模型，可以接受文本和图像输入，不再限于文本内容，而且能联网。New Bing中的GPT有了新的名字，居然还能向人示爱，有点离谱。</p><p>网址：<a href="https://chat.openai.com/chat">https://chat.openai.com/chat</a></p><h4 id="2、Youchat"><a href="#2、Youchat" class="headerlink" title="2、Youchat"></a>2、Youchat</h4><p>Youchat更像是一个搜索引擎，它可以与人交流，还能把问题进行搜索，择优给到答案。</p><h4 id="3、Writesonic"><a href="#3、Writesonic" class="headerlink" title="3、Writesonic"></a>3、Writesonic</h4><p>与Youchat一样，能够搜索并给出比较优质的答案，还给出出处（参考资料），要是写论文会经常用到它。</p><p>网址： <a href="https://app.writesonic.com/login">https://app.writesonic.com/login</a></p><h3 id="二、翻译"><a href="#二、翻译" class="headerlink" title="二、翻译"></a><strong>二、翻译</strong></h3><p>我以前都是用“机翻”的，主要就是用百度和谷歌的网页翻译，看看现在：</p><h4 id="1、Deepl"><a href="#1、Deepl" class="headerlink" title="1、Deepl"></a>1、Deepl</h4><p>Deepl据说是依托神经网络和最前沿的人工智能创新技术的支持，能轻松翻译出逻辑通畅、语句自然的结果，甚至能用上俗语和专业术语，可以免费试用。我简单的用过几次，个人感觉还行，10M以上文档就要会员，很良心。</p><p>网址：<a href="https://www.deepl.com/translator">https://www.deepl.com/translator</a></p><h4 id="2、Speech-Studio"><a href="#2、Speech-Studio" class="headerlink" title="2、Speech Studio"></a>2、Speech Studio</h4><p>Speech Studio 算是一个工具，在我们播放视频过程中，可以直接把字幕文件直接翻译成多种语言，而且延迟比较低。不管看什么影片都可以享受中文字幕了，虽然说Youtube早就有多语言（机器翻译）字幕。</p><p>网址：<a href="https://speech.microsoft.com/portal">https://speech.microsoft.com/portal</a></p><h4 id="3、Translate-Video"><a href="#3、Translate-Video" class="headerlink" title="3、Translate.Video"></a>3、Translate.Video</h4><p>同上，能自动生成字幕实时翻译。</p><p>网址：<a href="https://www.translate.video/">https://www.translate.video/</a></p><h3 id="三、视频和图片"><a href="#三、视频和图片" class="headerlink" title="三、视频和图片"></a><strong>三、视频和图片</strong></h3><p>写到这里，我兴趣就来了，首先说说数字人视频～</p><h4 id="1、腾讯智影"><a href="#1、腾讯智影" class="headerlink" title="1、腾讯智影"></a>1、腾讯智影</h4><p>腾讯智影是一款云端智能视频创作工具，集素材搜集、视频剪辑、渲染导出和发布于一体的免费在线剪辑平台。强大的AI智能工具，支持文本配音、自动字幕识别等，我使用比较多的是就是数字人播报，使用高级功能或者人物也要付费，我的评价就是：对付用吧，谁让我丑呢！</p><p>网址：<a href="https://zenvideo.qq.com/activity/invitee?invitation_code=QJndgCGilcXFeLo2">https://zenvideo.qq.com/activity/invitee?invitation_code=QJndgCGilcXFeLo2</a></p><h4 id="2、D-ID"><a href="#2、D-ID" class="headerlink" title="2、D-ID"></a>2、D-ID</h4><p>D-ID呢，主要是识别头像图片，然后生成数字人，理论上可以支持任何头像，可以有扭头和眨眼动作，处理以后，有明显合成痕迹。另外就是不适合中文朗读，口型一点也对不上，英文OK！能免费用几次，可以先看看效果再付费，对于想做一个英文短视频博主，有些许帮助。</p><p>网址：<a href="https://www.d-id.com/">https://www.d-id.com/</a></p><h4 id="3、Synthesia"><a href="#3、Synthesia" class="headerlink" title="3、Synthesia"></a>3、Synthesia</h4><p>Synthesia也是，咱们也叫数字人吧。对于创作者而言Synthesia的用户还比较多，但是挺贵的，没有高利润的产品用它做视频都是赔钱的。</p><p><img src="https://s2.loli.net/2023/04/29/RncwTpyV6U1hvLb.png" alt="Synthesia.png"></p><p>网址：<a href="https://www.synthesia.io/">https://www.synthesia.io/</a></p><p>这几个工具的使用教程视频：</p><p>B站：<a href="https://iweec.com/go/aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMVpNNDExVzdzai8=">https://www.bilibili.com/video/BV1ZM411W7sj/</a><br>YouTube：<a href="https://iweec.com/go/aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g|dj12MnlVOWhGMXEyRQ==">https://www.youtube.com/watch?v=v2yU9hF1q2E</a></p><h4 id="4、Midjourney"><a href="#4、Midjourney" class="headerlink" title="4、Midjourney"></a>4、Midjourney</h4><p>Midjourney的用户可多啦，它可以根据用户给到的命令关键词，设计出图像，其中不乏有我很喜欢的作品，我看有博主使用的头像就是Midjourney设计的呢！有空我也弄一个，给自己增加点科技感。</p><p><img src="https://s2.loli.net/2023/04/29/IFhk8tLX39RKvVD.png" alt="设计.png"></p><p>网址：<a href="https://www.midjourney.com/">https://www.midjourney.com/</a></p><h4 id="5、Playground-AI"><a href="#5、Playground-AI" class="headerlink" title="5、Playground AI"></a>5、Playground AI</h4><p>主要是采用了DALLE-2、Stable Diffusion 1.5和2.0，再加上Playground的滤镜，生成的图片满满的时代感，看看上图，性感的寡姐拿来做桌面吧；还有灭霸版的凯奇搞笑不？</p><h4 id="6、InstantArt"><a href="#6、InstantArt" class="headerlink" title="6、InstantArt"></a>6、InstantArt</h4><p>InstantArt可以生成风景、肖像、抽象的图像，如果你印刷、设计、包装等行业，应该能用到这个。</p><p>网址：<a href="https://instantart.io/">https://instantart.io/</a></p><h4 id="7、BlueWillow"><a href="#7、BlueWillow" class="headerlink" title="7、BlueWillow"></a>7、BlueWillow</h4><p>BlueWillow可以生成场景、商标，有用到的看一下，非常容易实用。</p><p>网址：<a href="https://www.bluewillow.ai/">https://www.bluewillow.ai/</a></p><p>还有一些去背和扣像去水印的，有需要的留言我继续补充！</p><h3 id="四、生产力工具"><a href="#四、生产力工具" class="headerlink" title="四、生产力工具"></a><strong>四、生产力工具</strong></h3><h4 id="1、Mixo"><a href="#1、Mixo" class="headerlink" title="1、Mixo"></a>1、Mixo</h4><p>无需任何能力，点击鼠标即可生成标准的企业网站，功能挺全。我测试了一下，居然还有邮件提醒功能，挺好！</p><p>网址：<a href="https://www.mixo.io/">https://www.mixo.io/</a></p><h4 id="2、Durable"><a href="#2、Durable" class="headerlink" title="2、Durable"></a>2、Durable</h4><p>功能同上，道理一样。</p><p>网址：<a href="https://durable.co/">https://durable.co/</a></p><h4 id="3、Perplexity-for-Chrome"><a href="#3、Perplexity-for-Chrome" class="headerlink" title="3、Perplexity for Chrome"></a>3、Perplexity for Chrome</h4><p>这是Chrome的插件，一个一键获得答案，增強了在 Google 和 Bing 上的搜索体验。</p><p>地址：<a href="https://chrome.google.com/webstore/detail/perplexity-ask-ai/hlgbcneanomplepojfcnclggenpcoldo">https://chrome.google.com/webstore/detail/perplexity-ask-ai/hlgbcneanomplepojfcnclggenpcoldo</a></p><h4 id="4、AdCreative-ai"><a href="#4、AdCreative-ai" class="headerlink" title="4、AdCreative.ai"></a>4、AdCreative.ai</h4><p>AdCreative.ai能协助你生成广告语，当然它尽量会夸大你的产品功用，能提高95%的点击率，对于公司文案、广告创意来说，是一个顺手的工具。</p><p>网址：<a href="https://www.adcreative.ai/">https://www.adcreative.ai/</a></p><h3 id="五、音乐"><a href="#五、音乐" class="headerlink" title="五、音乐"></a><strong>五、音乐</strong></h3><p>AI能生成音乐啦，看看它能带给我什么惊喜吧！</p><h4 id="1、Soundraw"><a href="#1、Soundraw" class="headerlink" title="1、Soundraw"></a>1、Soundraw</h4><p>Soundraw能创造全新的无版权音乐，可选风格、长度，创作嘛随心所欲，结果嘛，你来试试。</p><p>网址：<a href="https://soundraw.io/">https://soundraw.io/</a></p><h4 id="2、Vocal-Remover"><a href="#2、Vocal-Remover" class="headerlink" title="2、Vocal Remover"></a>2、Vocal Remover</h4><p>话说我原来处理伴奏的时候，还是用GoldWave呢，现在有了Vocal Remover，就可以无经验去人声做伴奏了。</p><p>网址：<a href="https://vocalremover.org/">https://vocalremover.org/</a></p><h4 id="3、Synthesizer-V"><a href="#3、Synthesizer-V" class="headerlink" title="3、Synthesizer V"></a>3、Synthesizer V</h4><p>自动生成音乐，无限音轨，无限核心，能跨語言合成！有MIDI节拍器、微调功能，支持Lua和js脚本。</p><p>ok，今天先说这么多，随着技术的不断进步，还会用更好用、更贴心的工具出现，让我们拭目以待吧。</p><p>转载，来源于：<a href="https://iweec.com/770.html">https://iweec.com/770.html</a><br>本站服务器赞助商：<a href="https://www.lcayun.com/aff/CMGBCBQJ">莱卡云 香港</a>！</p>]]></content>
      
      
      <categories>
          
          <category> 科技 人工智能 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ai 人工智能 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Utools介绍</title>
      <link href="/posts/800bbba8.html"/>
      <url>/posts/800bbba8.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="UTools介绍"><a href="#UTools介绍" class="headerlink" title="UTools介绍"></a>UTools介绍</h1><p>官网链接：<a href="https://www.u.tools/">https://www.u.tools/</a></p><p><img src="https://s2.loli.net/2023/04/28/xbwQqRvPpe5E1hC.png" alt="utools.png"></p><h2 id="uTools-是什么？"><a href="#uTools-是什么？" class="headerlink" title="#uTools 是什么？"></a><a href="https://www.u.tools/docs/guide/about-uTools.html#utools-%E6%98%AF%E4%BB%80%E4%B9%88">#</a>uTools 是什么？</h2><blockquote><p>uTools &#x3D; your tools（你的工具集）</p></blockquote><p>uTools 是一个极简、插件化的现代桌面软件，通过自由选配丰富的插件，打造得心应手的工具集合。</p><p>通过快捷键（默认 <code>alt + space</code> ）就可以快速呼出这个搜索框。你可以往输入框内粘贴文本、图片、截图、文件、文件夹等等，能够处理此内容的插件也早已准备就绪，统一的设计风格和操作方式，助你高效的得到结果。</p><p><img src="https://s2.loli.net/2023/04/28/1L2vzfJ3geZEn8Q.png" alt="img"></p><p>一旦你熟悉它后，能够为你节约大量时间，即用即走、不中断、无干扰，让你可以更加专注地改变世界。</p><blockquote><p>观看 uTools 的介绍视频</p></blockquote><p><a href="https://www.bilibili.com/video/BV1g24y1X77N?share_source=copy_web"><img src="https://s2.loli.net/2023/04/28/4yrDqR1bMtFJgzx.png" alt="dd">open in new window</a></p><h2 id="uTools-能做什么？"><a href="#uTools-能做什么？" class="headerlink" title="#uTools 能做什么？"></a><a href="https://www.u.tools/docs/guide/about-uTools.html#utools-%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88">#</a>uTools 能做什么？</h2><p>最简单的，uTools 可以作为一个程序快速启动器，支持英文、英文驼峰、中文拼音、拼音首字母来打开你的本地程序。除程序外， win10+ 和 MacOS 用户还可以快速搜索并打开「控制面板」内的细项。总之，你只要还记得一个大概的名字，直接输入基本都能找到。</p><h2 id="一切皆插件！"><a href="#一切皆插件！" class="headerlink" title="#一切皆插件！"></a><a href="https://www.u.tools/docs/guide/about-uTools.html#%E4%B8%80%E5%88%87%E7%9A%86%E6%8F%92%E4%BB%B6">#</a>一切皆插件！</h2><p>启动已安装的程序仅仅是最基础的功能，uTools 最大的特点就是拥有强大的插件系统。</p><p>现在已有 700+ 的插件供你选择，每个插件解决一个具体场景的问题，简洁美观、即用即走。</p><p>输入 <code>插件应用市场</code> 进入插件管理，你就可以根据自己的需求挑选安装，组合成自己最称手的工具集合，为各种日常操作提供便利，不断产生的新插件，将为你带来无限可能。</p><p><img src="https://s2.loli.net/2023/04/28/M4CJiHc6ewxOznR.png" alt="plugin"></p><h2 id="超级面板"><a href="#超级面板" class="headerlink" title="#超级面板"></a><a href="https://www.u.tools/docs/guide/about-uTools.html#%E8%B6%85%E7%BA%A7%E9%9D%A2%E6%9D%BF">#</a>超级面板</h2><p>可以通过鼠标右键&#x2F;中键（可配置），快速打开 uTools 超级面板，uTools 会根据当前选择的内容（文本、截图、文件、文件夹）自动匹配已安装的插件供你选择。与平时使用右键类似的习惯，uTools 超级面板却能为你带来完全不一样的内容及体验。</p>]]></content>
      
      
      <categories>
          
          <category> 插件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Utools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>集合(面试题)</title>
      <link href="/posts/7bbf5035.html"/>
      <url>/posts/7bbf5035.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="集合概述"><a href="#集合概述" class="headerlink" title="集合概述"></a>集合概述</h2><h3 id="Java-集合概览"><a href="#Java-集合概览" class="headerlink" title="Java 集合概览"></a>Java 集合概览</h3><p>Java 集合， 也叫作容器，主要是由两大接口派生而来：一个是 <code>Collection</code>接口，主要用于存放单一元素；另一个是 <code>Map</code> 接口，主要用于存放键值对。对于<code>Collection</code> 接口，下面又有三个主要的子接口：<code>List</code>、<code>Set</code> 和 <code>Queue</code>。</p><p>Java 集合框架如下图所示：</p><p><img src="https://s2.loli.net/2023/04/19/AcglTmHZE1UPsrC.png" alt="img"></p><p>注：图中只列举了主要的继承派生关系，并没有列举所有关系。比方省略了<code>AbstractList</code>, <code>NavigableSet</code>等抽象类以及其他的一些辅助类，如想深入了解，可自行查看源码。</p><h3 id="说说-List-Set-Queue-Map-四者的区别？"><a href="#说说-List-Set-Queue-Map-四者的区别？" class="headerlink" title="说说 List, Set, Queue, Map 四者的区别？"></a>说说 List, Set, Queue, Map 四者的区别？</h3><ul><li><code>List</code>(对付顺序的好帮手): 存储的元素是有序的、可重复的。</li><li><code>Set</code>(注重独一无二的性质): 存储的元素是无序的、不可重复的。</li><li><code>Queue</code>(实现排队功能的叫号机): 按特定的排队规则来确定先后顺序，存储的元素是有序的、可重复的。</li><li><code>Map</code>(用 key 来搜索的专家): 使用键值对（key-value）存储，类似于数学上的函数 y&#x3D;f(x)，”x” 代表 key，”y” 代表 value，key 是无序的、不可重复的，value 是无序的、可重复的，每个键最多映射到一个值。</li></ul><h3 id="集合框架底层数据结构总结"><a href="#集合框架底层数据结构总结" class="headerlink" title="集合框架底层数据结构总结"></a>集合框架底层数据结构总结</h3><p>先来看一下 <code>Collection</code> 接口下面的集合。</p><h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><ul><li><code>ArrayList</code>： <code>Object[]</code> 数组</li><li><code>Vector</code>：<code>Object[]</code> 数组</li><li><code>LinkedList</code>： 双向链表(JDK1.6 之前为循环链表，JDK1.7 取消了循环)</li></ul><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><ul><li><code>HashSet</code>(无序，唯一): 基于 <code>HashMap</code> 实现的，底层采用 <code>HashMap</code> 来保存元素</li><li><code>LinkedHashSet</code>: <code>LinkedHashSet</code> 是 <code>HashSet</code> 的子类，并且其内部是通过 <code>LinkedHashMap</code> 来实现的。有点类似于我们之前说的 <code>LinkedHashMap</code> 其内部是基于 <code>HashMap</code> 实现一样，不过还是有一点点区别的</li><li><code>TreeSet</code>(有序，唯一): 红黑树(自平衡的排序二叉树)</li></ul><h4 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h4><ul><li><code>PriorityQueue</code>: <code>Object[]</code> 数组来实现二叉堆</li><li><code>ArrayQueue</code>: <code>Object[]</code> 数组 + 双指针</li></ul><p>再来看看 <code>Map</code> 接口下面的集合。</p><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><ul><li><code>HashMap</code>： JDK1.8 之前 <code>HashMap</code> 由数组+链表组成的，数组是 <code>HashMap</code> 的主体，链表则是主要为了解决哈希冲突而存在的（“拉链法”解决冲突）。JDK1.8 以后在解决哈希冲突时有了较大的变化，当链表长度大于阈值（默认为 8）（将链表转换成红黑树前会判断，如果当前数组的长度小于 64，那么会选择先进行数组扩容，而不是转换为红黑树）时，将链表转化为红黑树，以减少搜索时间</li><li><code>LinkedHashMap</code>： <code>LinkedHashMap</code> 继承自 <code>HashMap</code>，所以它的底层仍然是基于拉链式散列结构即由数组和链表或红黑树组成。另外，<code>LinkedHashMap</code> 在上面结构的基础上，增加了一条双向链表，使得上面的结构可以保持键值对的插入顺序。同时通过对链表进行相应的操作，实现了访问顺序相关逻辑。详细可以查看：<a href="https://www.imooc.com/article/22931">《LinkedHashMap 源码详细分析（JDK1.8）》</a></li><li><code>Hashtable</code>： 数组+链表组成的，数组是 <code>Hashtable</code> 的主体，链表则是主要为了解决哈希冲突而存在的</li><li><code>TreeMap</code>： 红黑树（自平衡的排序二叉树）</li></ul><h3 id="如何选用集合"><a href="#如何选用集合" class="headerlink" title="如何选用集合?"></a>如何选用集合?</h3><p>主要根据集合的特点来选用，比如我们需要根据键值获取到元素值时就选用 <code>Map</code> 接口下的集合，需要排序时选择 <code>TreeMap</code>,不需要排序时就选择 <code>HashMap</code>,需要保证线程安全就选用 <code>ConcurrentHashMap</code>。</p><p>当我们只需要存放元素值时，就选择实现<code>Collection</code> 接口的集合，需要保证元素唯一时选择实现 <code>Set</code> 接口的集合比如 <code>TreeSet</code> 或 <code>HashSet</code>，不需要就选择实现 <code>List</code> 接口的比如 <code>ArrayList</code> 或 <code>LinkedList</code>，然后再根据实现这些接口的集合的特点来选用。</p><h3 id="为什么要使用集合？"><a href="#为什么要使用集合？" class="headerlink" title="为什么要使用集合？"></a>为什么要使用集合？</h3><p>当我们需要保存一组类型相同的数据的时候，我们应该是用一个容器来保存，这个容器就是数组，但是，使用数组存储对象具有一定的弊端， 因为我们在实际开发中，存储的数据的类型是多种多样的，于是，就出现了“集合”，集合同样也是用来存储多个数据的。</p><p>数组的缺点是一旦声明之后，长度就不可变了；同时，声明数组时的数据类型也决定了该数组存储的数据的类型；而且，数组存储的数据是有序的、可重复的，特点单一。 但是集合提高了数据存储的灵活性，Java 集合不仅可以用来存储不同类型不同数量的对象，还可以保存具有映射关系的数据。</p><h2 id="Collection-子接口之-List"><a href="#Collection-子接口之-List" class="headerlink" title="Collection 子接口之 List"></a>Collection 子接口之 List</h2><h3 id="ArrayList-和-Vector-的区别"><a href="#ArrayList-和-Vector-的区别" class="headerlink" title="ArrayList 和 Vector 的区别?"></a>ArrayList 和 Vector 的区别?</h3><ul><li><code>ArrayList</code> 是 <code>List</code> 的主要实现类，底层使用 <code>Object[]</code>存储，适用于频繁的查找工作，线程不安全 ；</li><li><code>Vector</code> 是 <code>List</code> 的古老实现类，底层使用<code>Object[]</code> 存储，线程安全的。</li></ul><h3 id="ArrayList-与-LinkedList-区别"><a href="#ArrayList-与-LinkedList-区别" class="headerlink" title="ArrayList 与 LinkedList 区别?"></a>ArrayList 与 LinkedList 区别?</h3><ul><li><strong>是否保证线程安全：</strong> <code>ArrayList</code> 和 <code>LinkedList</code> 都是不同步的，也就是不保证线程安全；</li><li><strong>底层数据结构：</strong> <code>ArrayList</code> 底层使用的是 <strong><code>Object</code> 数组</strong>；<code>LinkedList</code> 底层使用的是 <strong>双向链表</strong> 数据结构（JDK1.6 之前为循环链表，JDK1.7 取消了循环。注意双向链表和双向循环链表的区别，下面有介绍到！）</li><li>插入和删除是否受元素位置的影响：<ul><li><code>ArrayList</code> 采用数组存储，所以插入和删除元素的时间复杂度受元素位置的影响。 比如：执行<code>add(E e)</code>方法的时候， <code>ArrayList</code> 会默认在将指定的元素追加到此列表的末尾，这种情况时间复杂度就是 O(1)。但是如果要在指定位置 i 插入和删除元素的话（<code>add(int index, E element)</code>）时间复杂度就为 O(n-i)。因为在进行上述操作的时候集合中第 i 和第 i 个元素之后的(n-i)个元素都要执行向后位&#x2F;向前移一位的操作。</li><li><code>LinkedList</code> 采用链表存储，所以，如果是在头尾插入或者删除元素不受元素位置的影响（<code>add(E e)</code>、<code>addFirst(E e)</code>、<code>addLast(E e)</code>、<code>removeFirst()</code> 、 <code>removeLast()</code>），时间复杂度为 O(1)，如果是要在指定位置 <code>i</code> 插入和删除元素的话（<code>add(int index, E element)</code>，<code>remove(Object o)</code>）， 时间复杂度为 O(n) ，因为需要先移动到指定位置再插入。</li></ul></li><li><strong>是否支持快速随机访问：</strong> <code>LinkedList</code> 不支持高效的随机元素访问，而 <code>ArrayList</code>（实现了RandomAccess接口） 支持。快速随机访问就是通过元素的序号快速获取元素对象(对应于<code>get(int index)</code>方法)。</li><li><strong>内存空间占用：</strong> <code>ArrayList</code> 的空 间浪费主要体现在在 list 列表的结尾会预留一定的容量空间，而 LinkedList 的空间花费则体现在它的每一个元素都需要消耗比 ArrayList 更多的空间（因为要存放直接后继和直接前驱以及数据）。</li></ul><p>我们在项目中一般是不会使用到 <code>LinkedList</code> 的，需要用到 <code>LinkedList</code> 的场景几乎都可以使用 <code>ArrayList</code> 来代替，并且，性能通常会更好！就连 <code>LinkedList</code> 的作者约书亚 · 布洛克（Josh Bloch）自己都说从来不会使用 <code>LinkedList</code> 。</p><p><img src="https://s2.loli.net/2023/04/19/8n6BRhfw7ogMY5y.png" alt="img"></p><p>另外，不要下意识地认为 <code>LinkedList</code> 作为链表就最适合元素增删的场景。我在上面也说了，<code>LinkedList</code> 仅仅在头尾插入或者删除元素的时候时间复杂度近似 O(1)，其他情况增删元素的时间复杂度都是 O(n) 。</p><h4 id="补充内容-双向链表和双向循环链表"><a href="#补充内容-双向链表和双向循环链表" class="headerlink" title="补充内容:双向链表和双向循环链表"></a>补充内容:双向链表和双向循环链表</h4><p><strong>双向链表：</strong> 包含两个指针，一个 prev 指向前一个节点，一个 next 指向后一个节点。</p><p><img src="https://s2.loli.net/2023/04/19/wF1S9CUdiNgmT3H.png" alt="双向链表"></p><p><strong>双向循环链表：</strong> 最后一个节点的 next 指向 head，而 head 的 prev 指向最后一个节点，构成一个环。</p><p><img src="https://s2.loli.net/2023/04/19/owHUyMImWsu2zxf.png" alt="双向循环链表"></p><h4 id="补充内容-RandomAccess-接口"><a href="#补充内容-RandomAccess-接口" class="headerlink" title="补充内容:RandomAccess 接口"></a>补充内容:RandomAccess 接口</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public interface RandomAccess &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>查看源码我们发现实际上 <code>RandomAccess</code> 接口中什么都没有定义。所以，在我看来 <code>RandomAccess</code> 接口不过是一个标识罢了。标识什么？ 标识实现这个接口的类具有随机访问功能。</p><p>在 <code>binarySearch（)</code> 方法中，它要判断传入的 list 是否 <code>RandomAccess</code> 的实例，如果是，调用<code>indexedBinarySearch()</code>方法，如果不是，那么调用<code>iteratorBinarySearch()</code>方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt;</span><br><span class="line"><span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(List&lt;? extends Comparable&lt;? <span class="built_in">super</span> T&gt;&gt; list, T key)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (list <span class="keyword">instanceof</span> RandomAccess || list.size()&lt;BINARYSEARCH_THRESHOLD)</span><br><span class="line">        <span class="keyword">return</span> Collections.indexedBinarySearch(list, key);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Collections.iteratorBinarySearch(list, key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ArrayList</code> 实现了 <code>RandomAccess</code> 接口， 而 <code>LinkedList</code> 没有实现。为什么呢？我觉得还是和底层数据结构有关！<code>ArrayList</code> 底层是数组，而 <code>LinkedList</code> 底层是链表。数组天然支持随机访问，时间复杂度为 O(1)，所以称为快速随机访问。链表需要遍历到特定位置才能访问特定位置的元素，时间复杂度为 O(n)，所以不支持快速随机访问。，<code>ArrayList</code> 实现了 <code>RandomAccess</code> 接口，就表明了他具有快速随机访问功能。 <code>RandomAccess</code> 接口只是标识，并不是说 <code>ArrayList</code> 实现 <code>RandomAccess</code> 接口才具有快速随机访问功能的！</p><h3 id="说一说-ArrayList-的扩容机制吧"><a href="#说一说-ArrayList-的扩容机制吧" class="headerlink" title="说一说 ArrayList 的扩容机制吧"></a>说一说 ArrayList 的扩容机制吧</h3><p>详见笔主的这篇文章: <a href="https://javaguide.cn/java/collection/arraylist-source-code.html#_3-1-%E5%85%88%E4%BB%8E-arraylist-%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%AF%B4%E8%B5%B7">ArrayList 扩容机制分析</a></p><h2 id="Collection-子接口之-Set"><a href="#Collection-子接口之-Set" class="headerlink" title="Collection 子接口之 Set"></a>Collection 子接口之 Set</h2><h3 id="comparable-和-Comparator-的区别"><a href="#comparable-和-Comparator-的区别" class="headerlink" title="comparable 和 Comparator 的区别"></a>comparable 和 Comparator 的区别</h3><ul><li><code>comparable</code> 接口实际上是出自<code>java.lang</code>包 它有一个 <code>compareTo(Object obj)</code>方法用来排序</li><li><code>comparator</code>接口实际上是出自 java.util 包它有一个<code>compare(Object obj1, Object obj2)</code>方法用来排序</li></ul><p>一般我们需要对一个集合使用自定义排序时，我们就要重写<code>compareTo()</code>方法或<code>compare()</code>方法，当我们需要对某一个集合实现两种排序方式，比如一个 song 对象中的歌名和歌手名分别采用一种排序方法的话，我们可以重写<code>compareTo()</code>方法和使用自制的<code>Comparator</code>方法或者以两个 Comparator 来实现歌名排序和歌星名排序，第二种代表我们只能使用两个参数版的 <code>Collections.sort()</code>.</p><h4 id="Comparator-定制排序"><a href="#Comparator-定制排序" class="headerlink" title="Comparator 定制排序"></a>Comparator 定制排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">arrayList.add(-<span class="number">1</span>);</span><br><span class="line">arrayList.add(<span class="number">3</span>);</span><br><span class="line">arrayList.add(<span class="number">3</span>);</span><br><span class="line">arrayList.add(-<span class="number">5</span>);</span><br><span class="line">arrayList.add(<span class="number">7</span>);</span><br><span class="line">arrayList.add(<span class="number">4</span>);</span><br><span class="line">arrayList.add(-<span class="number">9</span>);</span><br><span class="line">arrayList.add(-<span class="number">7</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;原始数组:&quot;</span>);</span><br><span class="line">System.out.println(arrayList);</span><br><span class="line"><span class="comment">// void reverse(List list)：反转</span></span><br><span class="line">Collections.reverse(arrayList);</span><br><span class="line">System.out.println(<span class="string">&quot;Collections.reverse(arrayList):&quot;</span>);</span><br><span class="line">System.out.println(arrayList);</span><br><span class="line"></span><br><span class="line"><span class="comment">// void sort(List list),按自然排序的升序排序</span></span><br><span class="line">Collections.sort(arrayList);</span><br><span class="line">System.out.println(<span class="string">&quot;Collections.sort(arrayList):&quot;</span>);</span><br><span class="line">System.out.println(arrayList);</span><br><span class="line"><span class="comment">// 定制排序的用法</span></span><br><span class="line">Collections.sort(arrayList, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> o2.compareTo(o1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;定制排序后：&quot;</span>);</span><br><span class="line">System.out.println(arrayList);</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">原始数组:</span><br><span class="line">[-1, 3, 3, -5, 7, 4, -9, -7]</span><br><span class="line">Collections.reverse(arrayList):</span><br><span class="line">[-7, -9, 4, 7, -5, 3, 3, -1]</span><br><span class="line">Collections.sort(arrayList):</span><br><span class="line">[-9, -7, -5, -1, 3, 3, 4, 7]</span><br><span class="line">定制排序后：</span><br><span class="line">[7, 4, 3, 3, -1, -5, -7, -9]</span><br></pre></td></tr></table></figure><h4 id="重写-compareTo-方法实现按年龄来排序"><a href="#重写-compareTo-方法实现按年龄来排序" class="headerlink" title="重写 compareTo 方法实现按年龄来排序"></a>重写 compareTo 方法实现按年龄来排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// person对象没有实现Comparable接口，所以必须实现，这样才不会出错，才可以使treemap中的数据按顺序排列</span></span><br><span class="line"><span class="comment">// 前面一个例子的String类已经默认实现了Comparable接口，详细可以查看String类的API文档，另外其他</span></span><br><span class="line"><span class="comment">// 像Integer类等都已经实现了Comparable接口，所以不需要另外实现了</span></span><br><span class="line"><span class="keyword">public</span>  <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Person&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * T重写compareTo方法实现按年龄来排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Person o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.age &gt; o.getAge()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.age &lt; o.getAge()) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeMap&lt;Person, String&gt; pdata = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;Person, String&gt;();</span><br><span class="line">        pdata.put(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">30</span>), <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        pdata.put(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">20</span>), <span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">        pdata.put(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;王五&quot;</span>, <span class="number">10</span>), <span class="string">&quot;wangwu&quot;</span>);</span><br><span class="line">        pdata.put(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;小红&quot;</span>, <span class="number">5</span>), <span class="string">&quot;xiaohong&quot;</span>);</span><br><span class="line">        <span class="comment">// 得到key的值的同时得到key所对应的值</span></span><br><span class="line">        Set&lt;Person&gt; keys = pdata.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Person key : keys) &#123;</span><br><span class="line">            System.out.println(key.getAge() + <span class="string">&quot;-&quot;</span> + key.getName());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>Output：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>-小红</span><br><span class="line"><span class="number">10</span>-王五</span><br><span class="line"><span class="number">20</span>-李四</span><br><span class="line"><span class="number">30</span>-张三</span><br></pre></td></tr></table></figure><h3 id="无序性和不可重复性的含义是什么"><a href="#无序性和不可重复性的含义是什么" class="headerlink" title="无序性和不可重复性的含义是什么"></a>无序性和不可重复性的含义是什么</h3><ul><li>无序性不等于随机性 ，无序性是指存储的数据在底层数组中并非按照数组索引的顺序添加 ，而是根据数据的哈希值决定的。</li><li>不可重复性是指添加的元素按照 <code>equals()</code> 判断时 ，返回 false，需要同时重写 <code>equals()</code> 方法和 <code>hashCode()</code> 方法。</li></ul><h3 id="比较-HashSet、LinkedHashSet-和-TreeSet-三者的异同"><a href="#比较-HashSet、LinkedHashSet-和-TreeSet-三者的异同" class="headerlink" title="比较 HashSet、LinkedHashSet 和 TreeSet 三者的异同"></a>比较 HashSet、LinkedHashSet 和 TreeSet 三者的异同</h3><ul><li><code>HashSet</code>、<code>LinkedHashSet</code> 和 <code>TreeSet</code> 都是 <code>Set</code> 接口的实现类，都能保证元素唯一，并且都不是线程安全的。</li><li><code>HashSet</code>、<code>LinkedHashSet</code> 和 <code>TreeSet</code> 的主要区别在于底层数据结构不同。<code>HashSet</code> 的底层数据结构是哈希表（基于 <code>HashMap</code> 实现）。<code>LinkedHashSet</code> 的底层数据结构是链表和哈希表，元素的插入和取出顺序满足 FIFO。<code>TreeSet</code> 底层数据结构是红黑树，元素是有序的，排序的方式有自然排序和定制排序。</li><li>底层数据结构不同又导致这三者的应用场景不同。<code>HashSet</code> 用于不需要保证元素插入和取出顺序的场景，<code>LinkedHashSet</code> 用于保证元素的插入和取出顺序满足 FIFO 的场景，<code>TreeSet</code> 用于支持对元素自定义排序规则的场景。</li></ul><h2 id="Collection-子接口之-Queue"><a href="#Collection-子接口之-Queue" class="headerlink" title="Collection 子接口之 Queue"></a>Collection 子接口之 Queue</h2><h3 id="Queue-与-Deque-的区别"><a href="#Queue-与-Deque-的区别" class="headerlink" title="Queue 与 Deque 的区别"></a>Queue 与 Deque 的区别</h3><p><code>Queue</code> 是单端队列，只能从一端插入元素，另一端删除元素，实现上一般遵循 <strong>先进先出（FIFO）</strong> 规则。</p><p><code>Queue</code> 扩展了 <code>Collection</code> 的接口，根据 <strong>因为容量问题而导致操作失败后处理方式的不同</strong> 可以分为两类方法: 一种在操作失败后会抛出异常，另一种则会返回特殊值。</p><table><thead><tr><th><code>Queue</code> 接口</th><th>抛出异常</th><th>返回特殊值</th></tr></thead><tbody><tr><td>插入队尾</td><td>add(E e)</td><td>offer(E e)</td></tr><tr><td>删除队首</td><td>remove()</td><td>poll()</td></tr><tr><td>查询队首元素</td><td>element()</td><td>peek()</td></tr></tbody></table><p><code>Deque</code> 是双端队列，在队列的两端均可以插入或删除元素。</p><p><code>Deque</code> 扩展了 <code>Queue</code> 的接口, 增加了在队首和队尾进行插入和删除的方法，同样根据失败后处理方式的不同分为两类：</p><table><thead><tr><th><code>Deque</code> 接口</th><th>抛出异常</th><th>返回特殊值</th></tr></thead><tbody><tr><td>插入队首</td><td>addFirst(E e)</td><td>offerFirst(E e)</td></tr><tr><td>插入队尾</td><td>addLast(E e)</td><td>offerLast(E e)</td></tr><tr><td>删除队首</td><td>removeFirst()</td><td>pollFirst()</td></tr><tr><td>删除队尾</td><td>removeLast()</td><td>pollLast()</td></tr><tr><td>查询队首元素</td><td>getFirst()</td><td>peekFirst()</td></tr><tr><td>查询队尾元素</td><td>getLast()</td><td>peekLast()</td></tr></tbody></table><p>事实上，<code>Deque</code> 还提供有 <code>push()</code> 和 <code>pop()</code> 等其他方法，可用于模拟栈。</p><h3 id="ArrayDeque-与-LinkedList-的区别"><a href="#ArrayDeque-与-LinkedList-的区别" class="headerlink" title="ArrayDeque 与 LinkedList 的区别"></a>ArrayDeque 与 LinkedList 的区别</h3><p><code>ArrayDeque</code> 和 <code>LinkedList</code> 都实现了 <code>Deque</code> 接口，两者都具有队列的功能，但两者有什么区别呢？</p><ul><li><code>ArrayDeque</code> 是基于可变长的数组和双指针来实现，而 <code>LinkedList</code> 则通过链表来实现。</li><li><code>ArrayDeque</code> 不支持存储 <code>NULL</code> 数据，但 <code>LinkedList</code> 支持。</li><li><code>ArrayDeque</code> 是在 JDK1.6 才被引入的，而<code>LinkedList</code> 早在 JDK1.2 时就已经存在。</li><li><code>ArrayDeque</code> 插入时可能存在扩容过程, 不过均摊后的插入操作依然为 O(1)。虽然 <code>LinkedList</code> 不需要扩容，但是每次插入数据时均需要申请新的堆空间，均摊性能相比更慢。</li></ul><p>从性能的角度上，选用 <code>ArrayDeque</code> 来实现队列要比 <code>LinkedList</code> 更好。此外，<code>ArrayDeque</code> 也可以用于实现栈。</p><h3 id="说一说-PriorityQueue"><a href="#说一说-PriorityQueue" class="headerlink" title="说一说 PriorityQueue"></a>说一说 PriorityQueue</h3><p><code>PriorityQueue</code> 是在 JDK1.5 中被引入的, 其与 <code>Queue</code> 的区别在于元素出队顺序是与优先级相关的，即总是优先级最高的元素先出队。</p><p>这里列举其相关的一些要点：</p><ul><li><code>PriorityQueue</code> 利用了二叉堆的数据结构来实现的，底层使用可变长的数组来存储数据</li><li><code>PriorityQueue</code> 通过堆元素的上浮和下沉，实现了在 O(logn) 的时间复杂度内插入元素和删除堆顶元素。</li><li><code>PriorityQueue</code> 是非线程安全的，且不支持存储 <code>NULL</code> 和 <code>non-comparable</code> 的对象。</li><li><code>PriorityQueue</code> 默认是小顶堆，但可以接收一个 <code>Comparator</code> 作为构造参数，从而来自定义元素优先级的先后。</li></ul><p><code>PriorityQueue</code> 在面试中可能更多的会出现在手撕算法的时候，典型例题包括堆排序、求第K大的数、带权图的遍历等，所以需要会熟练使用才行。</p>]]></content>
      
      
      <categories>
          
          <category> Java面试题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos配置静态IP</title>
      <link href="/posts/7f72d94.html"/>
      <url>/posts/7f72d94.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="centos配置静态IP"><a href="#centos配置静态IP" class="headerlink" title="centos配置静态IP"></a>centos配置静态IP</h2><ul><li>使用进入vim 进入 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens3</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">BOOTPROTO=&quot;none&quot;</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;yes&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line">NAME=&quot;ens33&quot;</span><br><span class="line">UUID=&quot;44f6e5e3-cb8d-4148-a480-d2e75bc6a8a4&quot;</span><br><span class="line">DEVICE=&quot;ens33&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">IPADDR=&quot;192.168.169.110&quot;</span><br><span class="line">NETMASk=&quot;255.255.255.0&quot;</span><br><span class="line">GATEWAY=&quot;192.168.169.2&quot;</span><br><span class="line">DNS1=&quot;8.8.8.8&quot;</span><br><span class="line">IPV6_PRIVACY=&quot;no&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启网卡</span></span><br><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/27/TUPKYj3ehoq8fAR.png" alt="image-20230127100554113"></p><p>2.输入ip addr查看是否获取到IP地址，ping <a href="http://www.baidu.com./">www.baidu.com。</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 静态IP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>天啊！GPT-5 已经看完了人类世界所有视频...</title>
      <link href="/posts/9f2811ce.html"/>
      <url>/posts/9f2811ce.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="天啊！GPT-5-已经看完了人类世界所有视频…"><a href="#天啊！GPT-5-已经看完了人类世界所有视频…" class="headerlink" title="天啊！GPT-5 已经看完了人类世界所有视频…"></a>天啊！GPT-5 已经看完了人类世界所有视频…</h1><p>最近半年要说最火的产品，无疑是ChatGPT ，很多同学都在用 GPT 帮助自己<strong>工作，学习，提高效率！尤其是 GPT4，性能强 GPT3.5 很多倍！</strong></p><p>然而，比 GPT-4 更强大的 <strong>AI 系统训练已经完成。</strong></p><p>目前最新的消息是 GPT-5 已经爬完（准确的说叫做看完）了人类网络上所有的视频(大约 2000PB 的容量)，可以<strong>瞬间标记出所有它看过的视频中的一切声光信息。准确到每一秒都行。</strong></p><p>打个比方，如果在 75 亿人当中找一个特定个人的话，只要给它一些基本的参数，<strong>它能在几十秒之内，就把这个人找出来。</strong></p><p>并且为他画出人类世界有史以来最全面的<strong>数字方式的特征图像和最完整细致的解释和说明，</strong>进而准确的说出这个人未来的行为，甚至<strong>寿命的极限。</strong></p><p>此刻，即使在现阶段，<strong>它已经可以干成千上万的类似的事情了。</strong></p><p>就这样GPT5，用两个月时间，<strong>学习完了人类花数千年积累的绝大部分知识。</strong></p><p><img src="https://s2.loli.net/2023/04/17/xa9HsCZUJOzfVbd.png" alt="图片">图片</p><p>ChatGPT 那么强，可以预见在很快的时间内，基于 ChatGPT 技术的各种应用将会呈现井喷式的爆发。<strong>因此熟练掌握 ChatGPT 毫无疑问将会成为每个人必备的技能，就像几十年前会电脑打字、熟练使用 office 一样。</strong></p><p>那么问题来了！有一个担忧，就是作为普通人，<strong>我们的职业会被 ChatGPT 取代吗？有句话说的很有道理：</strong></p><blockquote><p>在原始社会，比你身体强壮的人会对你构成威胁；在文明社会，比你聪明比你有才华的人会对你构成威胁；在未来社会，比你更会使用AI的人，可能会是你最大的竞争对手。</p></blockquote><p>确实，智能 AI 带来了挑战，也同样会带来机遇！作为我们普通人来说，*<em>如何破局？*</em>**如何抓住这个风口？**这是一个实际的问题，也是一个不可回避的问题。就像当年移动互联网出现一样，整整改变一代人的社会运行规则。</p><p>我们特别的看好 ChatGPT 这个赛道，尤其是国内美团<strong>王慧文，李开复，李彦宏等一众大佬加入</strong>，未来围绕着 ChatGPT 将会涌现出无数多的机会。</p><p>​       ChatGPT是一种基于Transformer网络的生成模型，能够自动生成连贯、富有语义的文本。它已经在多个领域取得了巨大成功，包括自然语言生成、对话系统、机器翻译等。然而，随着科技的不断发展，ChatGPT仍面临着许多挑战和机遇。本篇博客将从技术和应用、社会影响等多方面分析ChatGPT的未来发展，包括积极作用和所带来的弊端。</p><p>技术和应用方面</p><ul><li>模型性能提高</li></ul><p>未来的ChatGPT模型将继续提高其性能，包括参数规模、速度和生成质量等方面。特别是，在硬件和算法方面的不断进步下，我们可以期待更加复杂、准确和高效的ChatGPT模型的出现。</p><ul><li>细粒度控制和多样化生成</li></ul><p>ChatGPT未来的一个重要发展方向是提供更细粒度的控制，以便用户能够按需生成具有指定属性的文本。这意味着我们可以控制生成文本的风格、情感、主题等方面。此外，多样化生成也是ChatGPT需要解决的一个关键问题，以保证生成文本的多样性和可变性。</p><ul><li>更广泛的应用场景</li></ul><p>现在，ChatGPT已经成为自然语言处理领域的重要技术之一，但其应用范围仍在不断扩大。未来，我们可以期待ChatGPT在更多领域的应用，例如推荐系统、智能客服、自动写作等。</p><ul><li>改善对抗样本攻击的鲁棒性</li></ul><p>对抗样本攻击是一种常见的攻击方式，用于欺骗机器学习模型。未来的ChatGPT模型需要更好地处理对抗样本攻击，并提高其鲁棒性，以保证模型的安全性和稳定性。</p><p>社会影响方面</p><ul><li>带来更智能化的人机交互体验</li></ul><p>ChatGPT的未来发展将极大地改变我们与计算机交互的方式。我们可以期待更智能化的语音助手、聊天机器人和虚拟代理人等的出现，使得我们的生活更加便捷和舒适。</p><ul><li>提高信息传播效率</li></ul><p>ChatGPT的快速发展可能会提高信息传播的效率和速度。未来，ChatGPT可能会被用于大规模的信息传播和舆情监测，从而帮助人们更好地理解和应对各种社会和政治事件。</p><ul><li>引发虚假信息和深度伪造的风险</li></ul><p>ChatGPT的生成能力也带来了虚假信息和深度伪造的风险，这些信息可能会对公共利益和民众安全带来威胁。因此，我们需要采取相应的措施来防止恶意使用ChatGPT，例如建立相关法律法规和技术标准等。</p><ul><li>进一步加剧社会的不平等现象</li></ul><p>ChatGPT的未来发展可能会使社会的不平等现象更加明显。那些拥有更好的技术和数据资源的人或组织可能会优先受益于ChatGPT的技术和应用，而那些缺乏这些资源的人或组织可能会被边缘化。对于这一问题，我们需要采取措施来确保公平性和包容性，并让更多人能够受益于ChatGPT的发展。</p><p>总结</p><p>ChatGPT是一个非常强大的生成模型，其未来的发展将在技术和应用、社会影响等方面带来积极的作用和一些挑战。从技术方面来说，我们可以期待更高级、准确和高效的ChatGPT模型的出现，以及更细粒度的控制和多样化生成。从社会影响方面来说，ChatGPT可以带来更加智能化和便捷的人机交互体验，提高信息传播效率，但也存在虚假信息和深度伪造的风险，加剧社会不平等现象，对此我们需要采取措施来防止恶意使用ChatGPT，并保障公平性和包容性。</p>]]></content>
      
      
      <categories>
          
          <category> chatGPT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chatGPT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.docker介绍</title>
      <link href="/posts/7cb82351.html"/>
      <url>/posts/7cb82351.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-Docker-简介"><a href="#1-1-Docker-简介" class="headerlink" title="1.1 Docker 简介"></a>1.1 Docker 简介</h3><p>​Docker 是一个开源的应用容器引擎，基于 <a href="https://www.runoob.com/go/go-tutorial.html">Go 语言</a> 并遵从 Apache2.0 协议开源。</p><p>Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。</p><p>容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p><h3 id="1-2-docker应用场景"><a href="#1-2-docker应用场景" class="headerlink" title="1.2 docker应用场景"></a>1.2 docker应用场景</h3><ul><li>Web 应用的自动化打包和发布。</li><li>自动化测试和持续集成、发布。</li><li>在服务型环境中部署和调整数据库或其他的后台应用。</li><li>从头编译或者扩展现有的 OpenShift 或 Cloud Foundry 平台来搭建自己的 PaaS 环境。</li></ul><h3 id="1-3-docker-的优点"><a href="#1-3-docker-的优点" class="headerlink" title="1.3 docker 的优点"></a>1.3 docker 的优点</h3><p>​Docker 是一个用于开发，交付和运行应用程序的开放平台。Docker 使您能够将应用程序与基础架构分开，从而可以快速交付软件。借助 Docker，您可以与管理应用程序相同的方式来管理基础架构。通过利用 Docker 的方法来快速交付，测试和部署代码，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。</p><h4 id="1、快速，一致地交付您的应用程序"><a href="#1、快速，一致地交付您的应用程序" class="headerlink" title="1、快速，一致地交付您的应用程序"></a>1、快速，一致地交付您的应用程序</h4><p>​Docker 允许开发人员使用您提供的应用程序或服务的本地容器在标准化环境中工作，从而简化了开发的生命周期。</p><p>容器非常适合持续集成和持续交付（CI &#x2F; CD）工作流程，请考虑以下示例方案：</p><ul><li>您的开发人员在本地编写代码，并使用 Docker 容器与同事共享他们的工作。</li><li>他们使用 Docker 将其应用程序推送到测试环境中，并执行自动或手动测试。</li><li>当开发人员发现错误时，他们可以在开发环境中对其进行修复，然后将其重新部署到测试环境中，以进行测试和验证。</li><li>测试完成后，将修补程序推送给生产环境，就像将更新的镜像推送到生产环境一样简单。</li></ul><h4 id="2、响应式部署和扩展"><a href="#2、响应式部署和扩展" class="headerlink" title="2、响应式部署和扩展"></a>2、响应式部署和扩展</h4><p>​Docker 是基于容器的平台，允许高度可移植的工作负载。Docker 容器可以在开发人员的本机上，数据中心的物理或虚拟机上，云服务上或混合环境中运行。</p><p>Docker 的可移植性和轻量级的特性，还可以使您轻松地完成动态管理的工作负担，并根据业务需求指示，实时扩展或拆除应用程序和服务。</p><h4 id="3、在同一硬件上运行更多工作负载"><a href="#3、在同一硬件上运行更多工作负载" class="headerlink" title="3、在同一硬件上运行更多工作负载"></a>3、在同一硬件上运行更多工作负载</h4><p>​Docker 轻巧快速。它为基于虚拟机管理程序的虚拟机提供了可行、经济、高效的替代方案，因此您可以利用更多的计算能力来实现业务目标。Docker 非常适合于高密度环境以及中小型部署，而您可以用更少的资源做更多的事情。</p><h3 id="1-4-docker组织架构"><a href="#1-4-docker组织架构" class="headerlink" title="1.4 docker组织架构"></a>1.4 docker组织架构</h3><p>Docker 包括三个基本概念:</p><ul><li><strong>镜像（Image）</strong>：Docker 镜像（Image），就相当于是一个 root 文件系统。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统。</li><li><strong>容器（Container）</strong>：镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。</li><li><strong>仓库（Repository）</strong>：仓库可看成一个代码控制中心，用来保存镜像。</li></ul><p>Docker 使用客户端-服务器 (C&#x2F;S) 架构模式，使用远程API来管理和创建Docker容器。</p><p>Docker 容器通过 Docker 镜像来创建。</p><p>容器与镜像的关系类似于面向对象编程中的对象与类。</p><table><thead><tr><th align="left">Docker</th><th align="left">面向对象</th></tr></thead><tbody><tr><td align="left">容器</td><td align="left">对象</td></tr><tr><td align="left">镜像</td><td align="left">类</td></tr></tbody></table><p><img src="https://s2.loli.net/2023/02/22/Ge8JE9UcCTwI7zH.png" alt="img"></p><table><thead><tr><th align="left">概念</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">Docker 镜像(Images)</td><td align="left">Docker 镜像是用于创建 Docker 容器的模板，比如 Ubuntu 系统。</td></tr><tr><td align="left">Docker 容器(Container)</td><td align="left">容器是独立运行的一个或一组应用，是镜像运行时的实体。</td></tr><tr><td align="left">Docker 客户端(Client)</td><td align="left">Docker 客户端通过命令行或者其他工具使用 Docker SDK (<a href="https://docs.docker.com/develop/sdk/">https://docs.docker.com/develop/sdk/</a>) 与 Docker 的守护进程通信。</td></tr><tr><td align="left">Docker 主机(Host)</td><td align="left">一个物理或者虚拟的机器用于执行 Docker 守护进程和容器。</td></tr><tr><td align="left">Docker Registry</td><td align="left">Docker 仓库用来保存镜像，可以理解为代码控制中的代码仓库。Docker Hub(<a href="https://hub.docker.com/">https://hub.docker.com</a>) 提供了庞大的镜像集合供使用。一个 Docker Registry 中可以包含多个仓库（Repository）；每个仓库可以包含多个标签（Tag）；每个标签对应一个镜像。通常，一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本。我们可以通过 <strong>&lt;仓库名&gt;:&lt;标签&gt;</strong> 的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以 <strong>latest</strong> 作为默认标签。</td></tr><tr><td align="left">Docker Machine</td><td align="left">Docker Machine是一个简化Docker安装的命令行工具，通过一个简单的命令行即可在相应的平台上安装Docker，比如VirtualBox、 Digital Ocean、Microsoft Azure。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算,docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.Scala介绍与配置</title>
      <link href="/posts/c5ff6750.html"/>
      <url>/posts/c5ff6750.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一、Scala简介"><a href="#一、Scala简介" class="headerlink" title="一、Scala简介"></a>一、Scala简介</h2><h3 id="1-1-概念"><a href="#1-1-概念" class="headerlink" title="1.1 概念"></a>1.1 概念</h3><p>Scala 全称为 Scalable Language，即“可伸缩的语言”，之所以这样命名，是因为它的设计目标是希望伴随着用户的需求一起成长。Scala 是一门综合了<strong>面向对象</strong>和<strong>函数式编程概念</strong>的<strong>静态类型</strong>的编程语言，它运行在标准的 Java 平台上，可以与所有的 Java 类库无缝协作。</p><h3 id="1-2-特点"><a href="#1-2-特点" class="headerlink" title="1.2 特点"></a>1.2 特点</h3><h4 id="1-Scala是面向对象的"><a href="#1-Scala是面向对象的" class="headerlink" title="1. Scala是面向对象的"></a>1. Scala是面向对象的</h4><p>Scala 是一种面向对象的语言，每个值都是对象，每个方法都是调用。举例来说，如果你执行 <code>1+2</code>，则对于 Scala 而言，实际是在调用 Int 类里定义的名为 <code>+</code> 的方法。</p><h4 id="2-Scala是函数式的"><a href="#2-Scala是函数式的" class="headerlink" title="2. Scala是函数式的"></a>2. Scala是函数式的</h4><p>Scala 不只是一门纯的面对对象的语言，它也是功能完整的函数式编程语言。函数式编程以两大核心理念为指导：</p><ul><li>函数是一等公民；</li><li>程序中的操作应该将输入值映射成输出值，而不是当场修改数据。即方法不应该有副作用。</li></ul><h3 id="1-3-Scala的优点"><a href="#1-3-Scala的优点" class="headerlink" title="1.3 Scala的优点"></a>1.3 Scala的优点</h3><h4 id="1-与Java的兼容"><a href="#1-与Java的兼容" class="headerlink" title="1. 与Java的兼容"></a>1. 与Java的兼容</h4><p>Scala 可以与 Java 无缝对接，其在执行时会被编译成 JVM 字节码，这使得其性能与 Java 相当。Scala 可以直接调用 Java 中的方法、访问 Java 中的字段、继承 Java 类、实现 Java 接口。Scala 重度复用并包装了原生的 Java 类型，并支持隐式转换。</p><h4 id="2-精简的语法"><a href="#2-精简的语法" class="headerlink" title="2. 精简的语法"></a>2. 精简的语法</h4><p>Scala 的程序通常比较简洁，相比 Java 而言，代码行数会大大减少，这使得程序员对代码的阅读和理解更快，缺陷也更少。</p><h4 id="3-高级语言的特性"><a href="#3-高级语言的特性" class="headerlink" title="3. 高级语言的特性"></a>3. 高级语言的特性</h4><p>Scala 具有高级语言的特定，对代码进行了高级别的抽象，能够让你更好地控制程序的复杂度，保证开发的效率。</p><h4 id="4-静态类型"><a href="#4-静态类型" class="headerlink" title="4. 静态类型"></a>4. 静态类型</h4><p>Scala 拥有非常先进的静态类型系统，Scala 不仅拥有与 Java 类似的允许嵌套类的类型系统，还支持使用泛型对类型进行参数化，用交集（intersection）来组合类型，以及使用抽象类型来进行隐藏类型的细节。通过这些特性，可以更快地设计出安全易用的程序和接口。</p><h2 id="二、配置IDEA开发环境"><a href="#二、配置IDEA开发环境" class="headerlink" title="二、配置IDEA开发环境"></a>二、配置IDEA开发环境</h2><h3 id="2-1-前置条件"><a href="#2-1-前置条件" class="headerlink" title="2.1 前置条件"></a>2.1 前置条件</h3><p>Scala 的运行依赖于 JDK，Scala 2.12.x 需要 JDK 1.8+。</p><h3 id="2-2-安装Scala插件"><a href="#2-2-安装Scala插件" class="headerlink" title="2.2 安装Scala插件"></a>2.2 安装Scala插件</h3><p>IDEA 默认不支持 Scala 语言的开发，需要通过插件进行扩展。打开 IDEA，依次点击 <strong>File</strong> &#x3D;&gt; <strong>settings</strong>&#x3D;&gt; <strong>plugins</strong> 选项卡，搜索 Scala 插件 (如下图)。找到插件后进行安装，并重启 IDEA 使得安装生效。</p><p><img src="https://s2.loli.net/2023/02/23/KCNqtBLnhrgFiwU.png" alt="img"></p><h3 id="2-3-创建Scala项目"><a href="#2-3-创建Scala项目" class="headerlink" title="2.3 创建Scala项目"></a>2.3 创建Scala项目</h3><p>在 IDEA 中依次点击 <strong>File</strong> &#x3D;&gt; <strong>New</strong> &#x3D;&gt; <strong>Project</strong> 选项卡，然后选择创建 <code>Scala—IDEA</code> 工程：</p><p><img src="https://s2.loli.net/2023/02/23/tb7qHLBwPYya6ej.png" alt="img"></p><h3 id="2-4-下载Scala-SDK"><a href="#2-4-下载Scala-SDK" class="headerlink" title="2.4 下载Scala SDK"></a>2.4 下载Scala SDK</h3><h4 id="1-方式一"><a href="#1-方式一" class="headerlink" title="1. 方式一"></a>1. 方式一</h4><p>此时看到 <code>Scala SDK</code> 为空，依次点击 <code>Create</code> &#x3D;&gt; <code>Download</code> ，选择所需的版本后，点击 <code>OK</code> 按钮进行下载，下载完成点击 <code>Finish</code> 进入工程。</p><p><img src="https://s2.loli.net/2023/02/23/gsE9rHZbKIoe6lO.png" alt="img"></p><h4 id="2-方式二"><a href="#2-方式二" class="headerlink" title="2. 方式二"></a>2. 方式二</h4><p>方式一是 Scala 官方安装指南里使用的方式，但下载速度通常比较慢，且这种安装下并没有直接提供 Scala 命令行工具。所以个人推荐到官网下载安装包进行安装，下载地址：<a href="https://www.scala-lang.org/download/">https://www.scala-lang.org/download/</a></p><p>这里我的系统是 Windows，下载 msi 版本的安装包后，一直点击下一步进行安装，安装完成后会自动配置好环境变量。</p><p>[<img src="https://s2.loli.net/2023/02/23/u61g8WtodCbQkai.png" alt="img"></p><p>由于安装时已经自动配置好环境变量，所以 IDEA 会自动选择对应版本的 SDK。</p><p><img src="https://s2.loli.net/2023/02/23/7qC1GkSIbwyXtVN.png" alt="img"></p><h3 id="2-5-创建Hello-World"><a href="#2-5-创建Hello-World" class="headerlink" title="2.5 创建Hello World"></a>2.5 创建Hello World</h3><p>在工程 <code>src</code> 目录上右击 <strong>New</strong> &#x3D;&gt; <strong>Scala class</strong> 创建 <code>Hello.scala</code>。输入代码如下，完成后点击运行按钮，成功运行则代表搭建成功。</p><p><img src="https://s2.loli.net/2023/04/12/GnEfF2dlUwoPSr8.png" alt="img"></p><h3 id="2-6-切换Scala版本"><a href="#2-6-切换Scala版本" class="headerlink" title="2.6 切换Scala版本"></a>2.6 切换Scala版本</h3><p>在日常的开发中，由于对应软件（如 Spark）的版本切换，可能导致需要切换 Scala 的版本，则可以在 <code>Project Structures</code> 中的 <code>Global Libraries</code> 选项卡中进行切换。</p><p>[<img src="https://s2.loli.net/2023/02/23/DPiSkH2wprAsFTu.png" alt="img"></p><h3 id="2-7-使用scala命令行"><a href="#2-7-使用scala命令行" class="headerlink" title="2.7 使用scala命令行"></a>2.7 使用scala命令行</h3><p>采用 <code>msi</code> 方式安装，程序会自动配置好环境变量。此时可以直接使用命令行工具：</p><p>[<img src="https://s2.loli.net/2023/02/23/3qQnYVplPRDzIJj.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.mybatis环境搭建</title>
      <link href="/posts/c3093a5e.html"/>
      <url>/posts/c3093a5e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="二、搭建个环境"><a href="#二、搭建个环境" class="headerlink" title="二、搭建个环境"></a>二、搭建个环境</h2><h3 id="1、建立数据库"><a href="#1、建立数据库" class="headerlink" title="1、建立数据库"></a>1、建立数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `ssm`;</span><br><span class="line">USE `ssm`;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">user</span>`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>` (</span><br><span class="line">`id` <span class="type">int</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`username` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`password` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> `<span class="keyword">user</span>`(`id`,`username`,`password`) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;itnanls&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;itlils&#x27;</span>,<span class="string">&#x27;abcdef&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;ydlclass&#x27;</span>,<span class="string">&#x27;987654&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="2、构建一个工程"><a href="#2、构建一个工程" class="headerlink" title="2、构建一个工程"></a>2、构建一个工程</h3><p><img src="https://s2.loli.net/2023/04/06/Iu1Va83bLHyrNEl.png" alt="image-20230406092344564"></p><h6 id="2-1-修改配置文件pom-xml"><a href="#2-1-修改配置文件pom-xml" class="headerlink" title="2.1 修改配置文件pom.xml"></a>2.1 修改配置文件pom.xml</h6><p><img src="https://s2.loli.net/2023/04/06/RmC9cXWyFU6PbLG.png" alt="image-20230406092503289"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis_text<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">maven.compiler.encoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数据库确定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--suppress UnresolvedMavenProperty --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 单元测试 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-2-配置mybatis-config-xml"><a href="#2-2-配置mybatis-config-xml" class="headerlink" title="2.2 配置mybatis-config.xml"></a>2.2 配置mybatis-config.xml</h6><p><img src="https://s2.loli.net/2023/04/06/biwaol47X9pJ8yt.png" alt="image-20230406092757758"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///ssm?useSSL=false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        sql映射文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>需要修改数据库连接信息</p><p><img src="https://s2.loli.net/2023/04/06/EwDxju7Kicv3SVZ.png" alt="image-20230406092936663"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///ssm?useSSL=false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-3-配置UserMapper-xml"><a href="#2-3-配置UserMapper-xml" class="headerlink" title="2.3 配置UserMapper.xml"></a>2.3 配置UserMapper.xml</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-4-配置-log4j-xml"><a href="#2-4-配置-log4j-xml" class="headerlink" title="2.4 配置 log4j.xml"></a>2.4 配置 log4j.xml</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss&#125; %c [%thread] %-5level %msg%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log_dir&quot;</span> <span class="attr">value</span>=<span class="string">&quot;d:/logs&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;console&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>System.out<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;pattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.FileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--日志格式配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;pattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--日志输出路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log_dir&#125;/sql.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;ALL&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;console&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;mybatis.sql&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-5-新建User类"><a href="#2-5-新建User类" class="headerlink" title="2.5 新建User类"></a>2.5 新建User类</h6><p><img src="https://s2.loli.net/2023/04/06/qrFEAYW3sIN1Hyl.png" alt="image-20230406093904909"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id ;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&#x27;&quot;</span> + id + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-6-新建MyBatisDome"><a href="#2-6-新建MyBatisDome" class="headerlink" title="2.6 新建MyBatisDome"></a>2.6 新建MyBatisDome</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package com.cwwwxl.pojo;</span><br><span class="line"></span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class MyBatisDome &#123;</span><br><span class="line">    public static void main(String[] args)  &#123;</span><br><span class="line">        //加载配置文件</span><br><span class="line">        String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">        InputStream inputStream = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        List&lt;Object&gt; objects = sqlSession.selectList(&quot;text.selectAll&quot;); //加载sql文件</span><br><span class="line">        System.out.println(objects); //打印日志</span><br><span class="line">        sqlSession.close();//释放资源</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/06/RqEsVjetuzQ6aNo.png" alt="image-20230406094322256"></p><p>出现以下信息查询成功。</p><h3 id="3-DTD"><a href="#3-DTD" class="headerlink" title="3.DTD"></a>3.DTD</h3><p>​       DTD(Document Type Definition)即文档类型定义，是一种XML约束模式语言，是XML文件的验证机制</p><p><strong>如下所示是公共DTD示例。</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>关于DTD的声明解释如下：</p><p>1、DTD声明始终以!DOCTYPE开头，空一格后跟着文档根元素的名称。</p><p>2、根元素名：configuration。所以每一个标签库定义文件都是以taglib为根元素的，否则就不会验证通过。</p><p>3、PUBLIC “-<a href="https://mybatis.org//DTD">&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTDopen in new window</a> Config 3.0&#x2F;&#x2F;EN，这是一个公共DTD的名称（私有的使用SYSTEM表示）。这个东西命名是有些讲究的。首先它是以”-“开头的，表示这个DTD不是一个标准组织制定的。（如果是ISO标准化组织批准的，以“ISO”开头）。接着就是双斜杠“&#x2F;&#x2F;”，跟着的是DTD所有者的名字，很明显这个DTD是MyBatis公司定的。接着又是双斜杠“&#x2F;&#x2F;”，然后跟着的是DTD描述的文档类型，可以看出这份DTD描述的是DTD Config 3.0的格式。再跟着的就是“&#x2F;&#x2F;”和ISO 639语言标识符。</p><p>4、绿色的字”<a href="http://mybatis.org/dtd/mybatis-3-config.dtd">http://mybatis.org/dtd/mybatis-3-config.dtdopen in new window</a>“，表示这个DTD的位置。</p><p>疑问：是不是xml分析器都会到java.sun.com上去找这个dtd呢？答案是否定的，xml分析器首先会以某种机制查找公共DTD的名称，查到了，则以此为标准，如果查不到，再到DTD位置上去找。</p><h5 id="（2）XSD"><a href="#（2）XSD" class="headerlink" title="（2）XSD"></a>（2）XSD</h5><p> 文档结构描述XML Schema Definition 缩写，这种文件同样可以用来定义我们xml文件的结构！</p><p>我们看看pom文件的xml头部：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1、第一行的xmlns代表了一个xml文件中的一个命名空间，通常是一个唯一的字符串，一般使用一个url，因为不会重复嘛。</p><p>它的语法如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:namespace-prefix=&quot;namespaceURI&quot;</span><br></pre></td></tr></table></figure><p>后边什么也不加，代表默认命名空间，我们在书写标签的时候不需要加任何前缀。</p><p>如果我将其改为：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:c=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/06/7Pq2zDLs93lrjMk.png" alt="image-20211104144031737">image-20211104144031737</p><p>2、xmlns:xsi 定义了一个命名空间前缀 xsi 对应的唯一字符串 <a href="http://www.w3.org/2001/XMLSchema-instance%E3%80%82%E4%BD%86%E8%BF%99%E4%B8%AA">http://www.w3.org/2001/XMLSchema-instance。但这个open in new window</a> xmlns:xsi 在不同的 xml 文档中似乎都会出现。 这是因为， xsi 已经成为了一个业界默认的用于 XSD(（XML Schema Definition) 文件的命名空间。 而 XSD 文件（也常常称为 Schema 文件）是用来定义 xml 文档结构的。剩余两行的目的在于为我们的命名空间指定对应的xsd文件。</p><p>事实上我们这么写也是可以的：</p><p><img src="https://s2.loli.net/2023/04/06/cmKRH6XY1AnxVwL.png" alt="image-20211104144300243">image-20211104144300243</p><p>上面这行的语法其实是， xsi:schemaLocation &#x3D; “ns1url xsd1 ns2url xsd2”</p><p>XML Schema相对于DTD的优点在于:</p><ol><li>XML Schema基于XML，没有专门的语法。</li><li>XML Schema可以像其他XML文件一样解析和处理。</li><li>XML Schema比DTD提供了更丰富的数据类型。</li><li>XML Schema提供可扩充的数据模型。</li><li>XML Schema支持综合命名空间。</li><li>XML Schema支持属性组。</li></ol><h3 id="4、编写实体类"><a href="#4、编写实体类" class="headerlink" title="4、编写实体类"></a>4、编写实体类</h3><blockquote><p>lombok</p></blockquote><p>平时的工作中写setter和getter以及toString方法是不是已经烦了，每次添加一个字段都要重新添加这些方法。</p><p>今天我们学习一个神器，从此再也不用写这些重复的代码了，它们在编译的时候动态的帮我们生成这些代码。</p><ol><li>javac对源代码进行分析，生成了一棵抽象语法树（AST）</li><li>运行过程中调用实现了“JSR 269 API”的Lombok程序</li><li>此时Lombok就对第一步骤得到的AST进行处理，找到@Data注解所在类对应的语法树（AST），然后修改该语法树（AST），增加getter和setter方法定义的相应树节点</li><li>javac使用修改后的抽象语法树（AST）生成字节码文件，即给class增加新的节点（代码块）</li></ol><p>1，首先，我们必须安装一个插件，否则编译的时候会报错，你没有写setter方法，又去调用它当然不能编译：</p><p><img src="D:\学习笔记\图片\image-20211020113926489-cc324000.png" alt="image-20211020113926489">image-20211020113926489</p><p>2、引入依赖，lombok在编译的时候，会根据我们的注解动态生成我们需要的构造方法，setter和getter等，运行的时候就没用了。所以scope选择provided。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>从今往后，只需要在对应的类上加上这几个注解，就能完成对应的编译工作</p><ul><li>@AllArgsConstructor：生成全参构造器。</li><li>@NoArgsConstructor：生成无参构造器。</li><li>@Getter&#x2F;@Setter： 作用类上，生成所有成员变量的getter&#x2F;setter方法；作用于成员变量上，生成该成员变量的getter&#x2F;setter方法。可以设定访问权限及是否懒加载等。</li><li>@Data：作用于类上，是以下注解的集合：@ToString @EqualsAndHashCode @Getter @Setter @RequiredArgsConstructor</li><li>@Log：作用于类上，生成日志变量。针对不同的日志实现产品，有不同的注解。</li></ul><p>注解还有很多，自行学习。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时我们的User是不是变得很简洁呢？</p><p>我们随便写一个main方法，然后编译一下：</p><p>编译后的结果是这个样子的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="built_in">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> User)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">User</span> <span class="variable">other</span> <span class="operator">=</span> (User)o;</span><br><span class="line">            <span class="keyword">if</span> (!other.canEqual(<span class="built_in">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.getId() != other.getId()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">this$username</span> <span class="operator">=</span> <span class="built_in">this</span>.getUsername();</span><br><span class="line">                <span class="type">Object</span> <span class="variable">other$username</span> <span class="operator">=</span> other.getUsername();</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>$username == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (other$username != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">this</span>$username.equals(other$username)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="type">Object</span> <span class="variable">this$password</span> <span class="operator">=</span> <span class="built_in">this</span>.getPassword();</span><br><span class="line">                <span class="type">Object</span> <span class="variable">other$password</span> <span class="operator">=</span> other.getPassword();</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>$password == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (other$password != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">this</span>$password.equals(other$password)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">canEqual</span><span class="params">(Object other)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> other <span class="keyword">instanceof</span> User;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">PRIME</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> result * <span class="number">59</span> + <span class="built_in">this</span>.getId();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">$username</span> <span class="operator">=</span> <span class="built_in">this</span>.getUsername();</span><br><span class="line">        result = result * <span class="number">59</span> + ($username == <span class="literal">null</span> ? <span class="number">43</span> : $username.hashCode());</span><br><span class="line">        <span class="type">Object</span> <span class="variable">$password</span> <span class="operator">=</span> <span class="built_in">this</span>.getPassword();</span><br><span class="line">        result = result * <span class="number">59</span> + ($password == <span class="literal">null</span> ? <span class="number">43</span> : $password.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">var10000</span> <span class="operator">=</span> <span class="built_in">this</span>.getId();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User(id=&quot;</span> + var10000 + <span class="string">&quot;, username=&quot;</span> + <span class="built_in">this</span>.getUsername() + <span class="string">&quot;, password=&quot;</span> + <span class="built_in">this</span>.getPassword() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> id, String username, String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们发现，编译后注解没了，其他的都有了，自然运行时就能调用了呀！ </p><h6 id="第一个测试程序"><a href="#第一个测试程序" class="headerlink" title="第一个测试程序"></a>第一个测试程序</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisDome</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.读取全局配置文件</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.获取sqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//3.获取session对象</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> sqlSessionFactory.openSession()) &#123;</span><br><span class="line">            <span class="comment">//通过sqlseeeion实现数据库操作，s就是命令空间</span></span><br><span class="line">            List&lt;Object&gt; list = session.selectList(<span class="string">&quot;text.selectAll&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Object user :list) &#123;</span><br><span class="line">                System.out.println(user);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭会话</span></span><br><span class="line">            session.close();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-增删改查"><a href="#5-增删改查" class="headerlink" title="5.增删改查"></a>5.增删改查</h3><p>通过使用mybatis对数据的增删改查操作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisDome</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="comment">//        //1.读取全局配置文件</span></span><br><span class="line"><span class="comment">//        String resource = &quot;mybatis-config.xml&quot;;</span></span><br><span class="line"><span class="comment">//        InputStream inputStream = null;</span></span><br><span class="line"><span class="comment">//        try &#123;</span></span><br><span class="line"><span class="comment">//            inputStream = Resources.getResourceAsStream(resource);</span></span><br><span class="line"><span class="comment">//        &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        //2.获取sqlSessionFactory对象</span></span><br><span class="line"><span class="comment">//        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span></span><br><span class="line"><span class="comment">//        //3.获取session对象</span></span><br><span class="line"><span class="comment">//        try (SqlSession session = sqlSessionFactory.openSession()) &#123;</span></span><br><span class="line"><span class="comment">//            //通过sqlseeeion实现数据库操作，s就是命令空间</span></span><br><span class="line"><span class="comment">//            List&lt;Object&gt; list = session.selectList(&quot;text.selectAll&quot;);</span></span><br><span class="line"><span class="comment">//            for (Object user :list) &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println(user);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            //关闭会话</span></span><br><span class="line"><span class="comment">//            session.close();</span></span><br><span class="line">        <span class="type">MyBatisDome</span> <span class="variable">myBatisDome</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBatisDome</span>();</span><br><span class="line">        myBatisDome.deleteUser();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 根据主键查询数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ByID</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//加载配置文件</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">session</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建SqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> session.openSession();</span><br><span class="line">        <span class="comment">//根据主键查询</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;text.ByID&quot;</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        <span class="comment">//关闭会话</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加用户信息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inserUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        <span class="comment">//创建User对象</span></span><br><span class="line">        User User=<span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        User.setId(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        User.setUsername(<span class="string">&quot;wangxinglong&quot;</span>);</span><br><span class="line">        User.setPassword(<span class="string">&quot;1233789&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">wangxinglong</span> <span class="operator">=</span> sqlSession.insert(<span class="string">&quot;text.inserUser&quot;</span>,User);</span><br><span class="line">       <span class="comment">//提交数据</span></span><br><span class="line">       sqlSession.commit();</span><br><span class="line"></span><br><span class="line">        System.out.println(wangxinglong);</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//更新数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        User User=<span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        User.setId(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        User.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        User.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> sqlSession.update(<span class="string">&quot;text.updateUser&quot;</span>, User);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        System.out.println(update);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        <span class="type">int</span> <span class="variable">delete</span> <span class="operator">=</span> sqlSession.delete(<span class="string">&quot;text.deleteUser&quot;</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(delete);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserMaper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;ByID&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--    添加用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;inserUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        insert into user(id,username,password) values (#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    更新用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        update user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    删除操作--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span>&gt;</span></span><br><span class="line">        delete  from user  where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="三-XML配置"><a href="#三-XML配置" class="headerlink" title="三.XML配置"></a>三.XML配置</h2>]]></content>
      
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.xml配置</title>
      <link href="/posts/5cceded5.html"/>
      <url>/posts/5cceded5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="三-XML配置"><a href="#三-XML配置" class="headerlink" title="三.XML配置"></a>三.XML配置</h2><h3 id="3-1配置"><a href="#3-1配置" class="headerlink" title="3.1配置"></a>3.1配置</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">配置</span><br><span class="line">MyBatis 的配置文件包含了会深深影响 MyBatis 行为的设置和属性信息。 配置文档的顶层结构如下：</span><br><span class="line"></span><br><span class="line">configuration（配置）</span><br><span class="line">properties（属性）</span><br><span class="line">settings（设置）</span><br><span class="line">typeAliases（类型别名）</span><br><span class="line">typeHandlers（类型处理器）</span><br><span class="line">objectFactory（对象工厂）</span><br><span class="line">plugins（插件）</span><br><span class="line">environments（环境配置）</span><br><span class="line">environment（环境变量）</span><br><span class="line">transactionManager（事务管理器）</span><br><span class="line">dataSource（数据源）</span><br><span class="line">databaseIdProvider（数据库厂商标识）</span><br><span class="line">mappers（映射器）</span><br></pre></td></tr></table></figure><h6 id="6-1-属性（properties）"><a href="#6-1-属性（properties）" class="headerlink" title="6.1 属性（properties）"></a>6.1 属性（properties）</h6><p>这些属性可以在外部进行配置，并可以进行动态替换。你既可以在典型的 Java 属性文件中配置这些属性，也可以在 properties 元素的子元素中设置。声明一个db.properties文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url = jdbc:mysql:<span class="comment">///ssm?useSSL=false</span></span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=<span class="number">123456</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/10/3LwXMfJFvKHeglW.png" alt="image-20230410092031128"></p><p>设置好的属性可以在整个配置文件中用来替换需要动态配置的属性值。比如:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;password&quot; value=&quot;123456&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        sql映射文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个例子中的 username 和 password 将会由 properties 元素中设置的相应值来替换。 driver 和 url 属性将会由 config.properties 文件中对应的值来替换。这样就为配置提供了诸多灵活选择。</p><h3 id="3-2-设置（settings）"><a href="#3-2-设置（settings）" class="headerlink" title="3.2.设置（settings）"></a>3.2.设置（settings）</h3><p>这是 MyBatis 中极为重要的调整设置，它们会改变 MyBatis 的运行时行为。 下表描述了设置中各项设置的含义、默认值等。</p><table><thead><tr><th align="left">设置名</th><th align="left">描述</th><th align="left">有效值</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">cacheEnabled</td><td align="left">全局性地开启或关闭所有映射器配置文件中已配置的任何缓存。</td><td align="left">true | false</td><td align="left">true</td></tr><tr><td align="left">lazyLoadingEnabled</td><td align="left">延迟加载的全局开关。当开启时，所有关联对象都会延迟加载。 特定关联关系中可通过设置 <code>fetchType</code> 属性来覆盖该项的开关状态。</td><td align="left">true | false</td><td align="left">false</td></tr><tr><td align="left">aggressiveLazyLoading</td><td align="left">开启时，任一方法的调用都会加载该对象的所有延迟加载属性。 否则，每个延迟加载属性会按需加载（参考 <code>lazyLoadTriggerMethods</code>)。</td><td align="left">true | false</td><td align="left">false （在 3.4.1 及之前的版本中默认为 true）</td></tr><tr><td align="left">multipleResultSetsEnabled</td><td align="left">是否允许单个语句返回多结果集（需要数据库驱动支持）。</td><td align="left">true | false</td><td align="left">true</td></tr><tr><td align="left">useColumnLabel</td><td align="left">使用列标签代替列名。实际表现依赖于数据库驱动，具体可参考数据库驱动的相关文档，或通过对比测试来观察。</td><td align="left">true | false</td><td align="left">true</td></tr><tr><td align="left">useGeneratedKeys</td><td align="left">允许 JDBC 支持自动生成主键，需要数据库驱动支持。如果设置为 true，将强制使用自动生成主键。尽管一些数据库驱动不支持此特性，但仍可正常工作（如 Derby）。</td><td align="left">true | false</td><td align="left">False</td></tr><tr><td align="left">autoMappingBehavior</td><td align="left">指定 MyBatis 应如何自动映射列到字段或属性。 NONE 表示关闭自动映射；PARTIAL 只会自动映射没有定义嵌套结果映射的字段。 FULL 会自动映射任何复杂的结果集（无论是否嵌套）。</td><td align="left">NONE, PARTIAL, FULL</td><td align="left">PARTIAL</td></tr><tr><td align="left">autoMappingUnknownColumnBehavior</td><td align="left">指定发现自动映射目标未知列（或未知属性类型）的行为。<code>NONE</code>: 不做任何反应<code>WARNING</code>: 输出警告日志（<code>&#39;org.apache.ibatis.session.AutoMappingUnknownColumnBehavior&#39;</code> 的日志等级必须设置为 <code>WARN</code>）<code>FAILING</code>: 映射失败 (抛出 <code>SqlSessionException</code>)</td><td align="left">NONE, WARNING, FAILING</td><td align="left">NONE</td></tr><tr><td align="left">defaultExecutorType</td><td align="left">配置默认的执行器。SIMPLE 就是普通的执行器；REUSE 执行器会重用预处理语句（PreparedStatement）； BATCH 执行器不仅重用语句还会执行批量更新。</td><td align="left">SIMPLE REUSE BATCH</td><td align="left">SIMPLE</td></tr><tr><td align="left">defaultStatementTimeout</td><td align="left">设置超时时间，它决定数据库驱动等待数据库响应的秒数。</td><td align="left">任意正整数</td><td align="left">未设置 (null)</td></tr><tr><td align="left">defaultFetchSize</td><td align="left">为驱动的结果集获取数量（fetchSize）设置一个建议值。此参数只可以在查询设置中被覆盖。</td><td align="left">任意正整数</td><td align="left">未设置 (null)</td></tr><tr><td align="left">defaultResultSetType</td><td align="left">指定语句默认的滚动策略。（新增于 3.5.2）</td><td align="left">FORWARD_ONLY | SCROLL_SENSITIVE | SCROLL_INSENSITIVE | DEFAULT（等同于未设置）</td><td align="left">未设置 (null)</td></tr><tr><td align="left">safeRowBoundsEnabled</td><td align="left">是否允许在嵌套语句中使用分页（RowBounds）。如果允许使用则设置为 false。</td><td align="left">true | false</td><td align="left">False</td></tr><tr><td align="left">safeResultHandlerEnabled</td><td align="left">是否允许在嵌套语句中使用结果处理器（ResultHandler）。如果允许使用则设置为 false。</td><td align="left">true | false</td><td align="left">True</td></tr><tr><td align="left">mapUnderscoreToCamelCase</td><td align="left">是否开启驼峰命名自动映射，即从经典数据库列名 A_COLUMN 映射到经典 Java 属性名 aColumn。</td><td align="left">true | false</td><td align="left">False</td></tr><tr><td align="left">localCacheScope</td><td align="left">MyBatis 利用本地缓存机制（Local Cache）防止循环引用和加速重复的嵌套查询。 默认值为 SESSION，会缓存一个会话中执行的所有查询。 若设置值为 STATEMENT，本地缓存将仅用于执行语句，对相同 SqlSession 的不同查询将不会进行缓存。</td><td align="left">SESSION | STATEMENT</td><td align="left">SESSION</td></tr><tr><td align="left">jdbcTypeForNull</td><td align="left">当没有为参数指定特定的 JDBC 类型时，空值的默认 JDBC 类型。 某些数据库驱动需要指定列的 JDBC 类型，多数情况直接用一般类型即可，比如 NULL、VARCHAR 或 OTHER。</td><td align="left">JdbcType 常量，常用值：NULL、VARCHAR 或 OTHER。</td><td align="left">OTHER</td></tr><tr><td align="left">lazyLoadTriggerMethods</td><td align="left">指定对象的哪些方法触发一次延迟加载。</td><td align="left">用逗号分隔的方法列表。</td><td align="left">equals,clone,hashCode,toString</td></tr><tr><td align="left">defaultScriptingLanguage</td><td align="left">指定动态 SQL 生成使用的默认脚本语言。</td><td align="left">一个类型别名或全限定类名。</td><td align="left">org.apache.ibatis.scripting.xmltags.XMLLanguageDriver</td></tr><tr><td align="left">defaultEnumTypeHandler</td><td align="left">指定 Enum 使用的默认 <code>TypeHandler</code> 。（新增于 3.4.5）</td><td align="left">一个类型别名或全限定类名。</td><td align="left">org.apache.ibatis.type.EnumTypeHandler</td></tr><tr><td align="left">callSettersOnNulls</td><td align="left">指定当结果集中值为 null 的时候是否调用映射对象的 setter（map 对象时为 put）方法，这在依赖于 Map.keySet() 或 null 值进行初始化时比较有用。注意基本类型（int、boolean 等）是不能设置成 null 的。</td><td align="left">true | false</td><td align="left">false</td></tr><tr><td align="left">returnInstanceForEmptyRow</td><td align="left">当返回行的所有列都是空时，MyBatis默认返回 <code>null</code>。 当开启这个设置时，MyBatis会返回一个空实例。 请注意，它也适用于嵌套的结果集（如集合或关联）。（新增于 3.4.2）</td><td align="left">true | false</td><td align="left">false</td></tr><tr><td align="left">logPrefix</td><td align="left">指定 MyBatis 增加到日志名称的前缀。</td><td align="left">任何字符串</td><td align="left">未设置</td></tr><tr><td align="left">logImpl</td><td align="left">指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</td><td align="left">SLF4J | LOG4J（3.5.9 起废弃） | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING</td><td align="left">未设置</td></tr><tr><td align="left">proxyFactory</td><td align="left">指定 Mybatis 创建可延迟加载对象所用到的代理工具。</td><td align="left">CGLIB （3.5.10 起废弃） | JAVASSIST</td><td align="left">JAVASSIST （MyBatis 3.3 以上）</td></tr><tr><td align="left">vfsImpl</td><td align="left">指定 VFS 的实现</td><td align="left">自定义 VFS 的实现的类全限定名，以逗号分隔。</td><td align="left">未设置</td></tr><tr><td align="left">useActualParamName</td><td align="left">允许使用方法签名中的名称作为语句参数名称。 为了使用该特性，你的项目必须采用 Java 8 编译，并且加上 <code>-parameters</code> 选项。（新增于 3.4.1）</td><td align="left">true | false</td><td align="left">true</td></tr><tr><td align="left">configurationFactory</td><td align="left">指定一个提供 <code>Configuration</code> 实例的类。 这个被返回的 Configuration 实例用来加载被反序列化对象的延迟加载属性值。 这个类必须包含一个签名为<code>static Configuration getConfiguration()</code> 的方法。（新增于 3.2.3）</td><td align="left">一个类型别名或完全限定类名。</td><td align="left">未设置</td></tr><tr><td align="left">shrinkWhitespacesInSql</td><td align="left">从SQL中删除多余的空格字符。请注意，这也会影响SQL中的文字字符串。 (新增于 3.5.5)</td><td align="left">true | false</td><td align="left">false</td></tr><tr><td align="left">defaultSqlProviderType</td><td align="left">指定一个拥有 provider 方法的 sql provider 类 （新增于 3.5.6）. 这个类适用于指定 sql provider 注解上的<code>type</code>（或 <code>value</code>） 属性（当这些属性在注解中被忽略时）。 (e.g. <code>@SelectProvider</code>)</td><td align="left">类型别名或者全限定名</td><td align="left">未设置</td></tr><tr><td align="left">nullableOnForEach</td><td align="left">为 ‘foreach’ 标签的 ‘nullable’ 属性指定默认值。（新增于 3.5.9）</td><td align="left">true | false</td><td align="left">false</td></tr><tr><td align="left">argNameBasedConstructorAutoMapping</td><td align="left">当应用构造器自动映射时，参数名称被用来搜索要映射的列，而不再依赖列的顺序。（新增于 3.5.10）</td><td align="left">true | false</td><td align="left">false</td></tr></tbody></table><p>一个配置完整的 settings 元素的示例如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;multipleResultSetsEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;useColumnLabel&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;useGeneratedKeys&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;autoMappingBehavior&quot;</span> <span class="attr">value</span>=<span class="string">&quot;PARTIAL&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;autoMappingUnknownColumnBehavior&quot;</span> <span class="attr">value</span>=<span class="string">&quot;WARNING&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;defaultExecutorType&quot;</span> <span class="attr">value</span>=<span class="string">&quot;SIMPLE&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;defaultStatementTimeout&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;defaultFetchSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;100&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;safeRowBoundsEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;safeResultHandlerEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;localCacheScope&quot;</span> <span class="attr">value</span>=<span class="string">&quot;SESSION&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;jdbcTypeForNull&quot;</span> <span class="attr">value</span>=<span class="string">&quot;OTHER&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadTriggerMethods&quot;</span> <span class="attr">value</span>=<span class="string">&quot;equals,clone,hashCode,toString&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;defaultScriptingLanguage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.apache.ibatis.scripting.xmltags.XMLLanguageDriver&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;defaultEnumTypeHandler&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.apache.ibatis.type.EnumTypeHandler&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;callSettersOnNulls&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;returnInstanceForEmptyRow&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logPrefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;exampleLogPreFix_&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;SLF4J | LOG4J | LOG4J2 | JDK_LOGGING | COMMONS_LOGGING | STDOUT_LOGGING | NO_LOGGING&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;proxyFactory&quot;</span> <span class="attr">value</span>=<span class="string">&quot;CGLIB | JAVASSIST&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;vfsImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.mybatis.example.YourselfVfsImpl&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;useActualParamName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;configurationFactory&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.mybatis.example.ConfigurationFactory&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-3类型别名（typeAliases）"><a href="#3-3类型别名（typeAliases）" class="headerlink" title="3.3类型别名（typeAliases）"></a>3.3类型别名（typeAliases）</h3><p>类型别名可为 Java 类型设置一个缩写名字。 它仅用于 XML 配置，意在降低冗余的全限定类名书写。例如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Author&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Author&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Blog&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Blog&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Comment&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Comment&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Post&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Post&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Section&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Section&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">&quot;Tag&quot;</span> <span class="attr">type</span>=<span class="string">&quot;domain.blog.Tag&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当这样配置时，<code>Blog</code> 可以用在任何使用 <code>domain.blog.Blog</code> 的地方。</p><p>也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean，比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;domain.blog&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure><p>每一个在包 <code>domain.blog</code> 中的 Java Bean，在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名。 比如 <code>domain.blog.Author</code> 的别名为 <code>author</code>；若有注解，则别名为其注解值。见下面的例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Alias(&quot;author&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Author</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面是一些为常见的 Java 类型内建的类型别名。它们都是不区分大小写的，注意，为了应对原始类型的命名重复，采取了特殊的命名风格。</p><table><thead><tr><th align="left">别名</th><th align="left">映射的类型</th></tr></thead><tbody><tr><td align="left">_byte</td><td align="left">byte</td></tr><tr><td align="left">_char (since 3.5.10)</td><td align="left">char</td></tr><tr><td align="left">_character (since 3.5.10)</td><td align="left">char</td></tr><tr><td align="left">_long</td><td align="left">long</td></tr><tr><td align="left">_short</td><td align="left">short</td></tr><tr><td align="left">_int</td><td align="left">int</td></tr><tr><td align="left">_integer</td><td align="left">int</td></tr><tr><td align="left">_double</td><td align="left">double</td></tr><tr><td align="left">_float</td><td align="left">float</td></tr><tr><td align="left">_boolean</td><td align="left">boolean</td></tr><tr><td align="left">string</td><td align="left">String</td></tr><tr><td align="left">byte</td><td align="left">Byte</td></tr><tr><td align="left">char (since 3.5.10)</td><td align="left">Character</td></tr><tr><td align="left">character (since 3.5.10)</td><td align="left">Character</td></tr><tr><td align="left">long</td><td align="left">Long</td></tr><tr><td align="left">short</td><td align="left">Short</td></tr><tr><td align="left">int</td><td align="left">Integer</td></tr><tr><td align="left">integer</td><td align="left">Integer</td></tr><tr><td align="left">double</td><td align="left">Double</td></tr><tr><td align="left">float</td><td align="left">Float</td></tr><tr><td align="left">boolean</td><td align="left">Boolean</td></tr><tr><td align="left">date</td><td align="left">Date</td></tr><tr><td align="left">decimal</td><td align="left">BigDecimal</td></tr><tr><td align="left">bigdecimal</td><td align="left">BigDecimal</td></tr><tr><td align="left">biginteger</td><td align="left">BigInteger</td></tr><tr><td align="left">object</td><td align="left">Object</td></tr><tr><td align="left">date[]</td><td align="left">Date[]</td></tr><tr><td align="left">decimal[]</td><td align="left">BigDecimal[]</td></tr><tr><td align="left">bigdecimal[]</td><td align="left">BigDecimal[]</td></tr><tr><td align="left">biginteger[]</td><td align="left">BigInteger[]</td></tr><tr><td align="left">object[]</td><td align="left">Object[]</td></tr><tr><td align="left">map</td><td align="left">Map</td></tr><tr><td align="left">hashmap</td><td align="left">HashMap</td></tr><tr><td align="left">list</td><td align="left">List</td></tr><tr><td align="left">arraylist</td><td align="left">ArrayList</td></tr><tr><td align="left">collection</td><td align="left">Collection</td></tr><tr><td align="left">iterator</td><td align="left"></td></tr></tbody></table><h3 id="3-4类型处理器（typeHandlers）"><a href="#3-4类型处理器（typeHandlers）" class="headerlink" title="3.4类型处理器（typeHandlers）"></a>3.4类型处理器（typeHandlers）</h3><p>MyBatis 在设置预处理语句（PreparedStatement）中的参数或从结果集中取出一个值时， 都会用类型处理器将获取到的值以合适的方式转换成 Java 类型。下表描述了一些默认的类型处理器。</p><p><strong>提示</strong> 从 3.4.5 开始，MyBatis 默认支持 JSR-310（日期和时间 API） 。</p><table><thead><tr><th align="left">类型处理器</th><th align="left">Java 类型</th><th align="left">JDBC 类型</th></tr></thead><tbody><tr><td align="left"><code>BooleanTypeHandler</code></td><td align="left"><code>java.lang.Boolean</code>, <code>boolean</code></td><td align="left">数据库兼容的 <code>BOOLEAN</code></td></tr><tr><td align="left"><code>ByteTypeHandler</code></td><td align="left"><code>java.lang.Byte</code>, <code>byte</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>BYTE</code></td></tr><tr><td align="left"><code>ShortTypeHandler</code></td><td align="left"><code>java.lang.Short</code>, <code>short</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>SMALLINT</code></td></tr><tr><td align="left"><code>IntegerTypeHandler</code></td><td align="left"><code>java.lang.Integer</code>, <code>int</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>INTEGER</code></td></tr><tr><td align="left"><code>LongTypeHandler</code></td><td align="left"><code>java.lang.Long</code>, <code>long</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>BIGINT</code></td></tr><tr><td align="left"><code>FloatTypeHandler</code></td><td align="left"><code>java.lang.Float</code>, <code>float</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>FLOAT</code></td></tr><tr><td align="left"><code>DoubleTypeHandler</code></td><td align="left"><code>java.lang.Double</code>, <code>double</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>DOUBLE</code></td></tr><tr><td align="left"><code>BigDecimalTypeHandler</code></td><td align="left"><code>java.math.BigDecimal</code></td><td align="left">数据库兼容的 <code>NUMERIC</code> 或 <code>DECIMAL</code></td></tr><tr><td align="left"><code>StringTypeHandler</code></td><td align="left"><code>java.lang.String</code></td><td align="left"><code>CHAR</code>, <code>VARCHAR</code></td></tr><tr><td align="left"><code>ClobReaderTypeHandler</code></td><td align="left"><code>java.io.Reader</code></td><td align="left">-</td></tr><tr><td align="left"><code>ClobTypeHandler</code></td><td align="left"><code>java.lang.String</code></td><td align="left"><code>CLOB</code>, <code>LONGVARCHAR</code></td></tr><tr><td align="left"><code>NStringTypeHandler</code></td><td align="left"><code>java.lang.String</code></td><td align="left"><code>NVARCHAR</code>, <code>NCHAR</code></td></tr><tr><td align="left"><code>NClobTypeHandler</code></td><td align="left"><code>java.lang.String</code></td><td align="left"><code>NCLOB</code></td></tr><tr><td align="left"><code>BlobInputStreamTypeHandler</code></td><td align="left"><code>java.io.InputStream</code></td><td align="left">-</td></tr><tr><td align="left"><code>ByteArrayTypeHandler</code></td><td align="left"><code>byte[]</code></td><td align="left">数据库兼容的字节流类型</td></tr><tr><td align="left"><code>BlobTypeHandler</code></td><td align="left"><code>byte[]</code></td><td align="left"><code>BLOB</code>, <code>LONGVARBINARY</code></td></tr><tr><td align="left"><code>DateTypeHandler</code></td><td align="left"><code>java.util.Date</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>DateOnlyTypeHandler</code></td><td align="left"><code>java.util.Date</code></td><td align="left"><code>DATE</code></td></tr><tr><td align="left"><code>TimeOnlyTypeHandler</code></td><td align="left"><code>java.util.Date</code></td><td align="left"><code>TIME</code></td></tr><tr><td align="left"><code>SqlTimestampTypeHandler</code></td><td align="left"><code>java.sql.Timestamp</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>SqlDateTypeHandler</code></td><td align="left"><code>java.sql.Date</code></td><td align="left"><code>DATE</code></td></tr><tr><td align="left"><code>SqlTimeTypeHandler</code></td><td align="left"><code>java.sql.Time</code></td><td align="left"><code>TIME</code></td></tr><tr><td align="left"><code>ObjectTypeHandler</code></td><td align="left">Any</td><td align="left"><code>OTHER</code> 或未指定类型</td></tr><tr><td align="left"><code>EnumTypeHandler</code></td><td align="left">Enumeration Type</td><td align="left">VARCHAR 或任何兼容的字符串类型，用来存储枚举的名称（而不是索引序数值）</td></tr><tr><td align="left"><code>EnumOrdinalTypeHandler</code></td><td align="left">Enumeration Type</td><td align="left">任何兼容的 <code>NUMERIC</code> 或 <code>DOUBLE</code> 类型，用来存储枚举的序数值（而不是名称）。</td></tr><tr><td align="left"><code>SqlxmlTypeHandler</code></td><td align="left"><code>java.lang.String</code></td><td align="left"><code>SQLXML</code></td></tr><tr><td align="left"><code>InstantTypeHandler</code></td><td align="left"><code>java.time.Instant</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>LocalDateTimeTypeHandler</code></td><td align="left"><code>java.time.LocalDateTime</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>LocalDateTypeHandler</code></td><td align="left"><code>java.time.LocalDate</code></td><td align="left"><code>DATE</code></td></tr><tr><td align="left"><code>LocalTimeTypeHandler</code></td><td align="left"><code>java.time.LocalTime</code></td><td align="left"><code>TIME</code></td></tr><tr><td align="left"><code>OffsetDateTimeTypeHandler</code></td><td align="left"><code>java.time.OffsetDateTime</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>OffsetTimeTypeHandler</code></td><td align="left"><code>java.time.OffsetTime</code></td><td align="left"><code>TIME</code></td></tr><tr><td align="left"><code>ZonedDateTimeTypeHandler</code></td><td align="left"><code>java.time.ZonedDateTime</code></td><td align="left"><code>TIMESTAMP</code></td></tr><tr><td align="left"><code>YearTypeHandler</code></td><td align="left"><code>java.time.Year</code></td><td align="left"><code>INTEGER</code></td></tr><tr><td align="left"><code>MonthTypeHandler</code></td><td align="left"><code>java.time.Month</code></td><td align="left"><code>INTEGER</code></td></tr><tr><td align="left"><code>YearMonthTypeHandler</code></td><td align="left"><code>java.time.YearMonth</code></td><td align="left"><code>VARCHAR</code> 或 <code>LONGVARCHAR</code></td></tr><tr><td align="left"><code>JapaneseDateTypeHandler</code></td><td align="left"><code>java.time.chrono.JapaneseDate</code></td><td align="left"><code>DATE</code></td></tr></tbody></table><p>你可以重写已有的类型处理器或创建你自己的类型处理器来处理不支持的或非标准的类型。 具体做法为：实现 <code>org.apache.ibatis.type.TypeHandler</code> 接口， 或继承一个很便利的类 <code>org.apache.ibatis.type.BaseTypeHandler</code>， 并且可以（可选地）将它映射到一个 JDBC 类型。比如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// ExampleTypeHandler.java</span><br><span class="line">@MappedJdbcTypes(JdbcType.VARCHAR)</span><br><span class="line">public class ExampleTypeHandler extends BaseTypeHandler&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public void setNonNullParameter(PreparedStatement ps, int i, String parameter, JdbcType jdbcType) throws SQLException &#123;</span><br><span class="line">    ps.setString(i, parameter);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public String getNullableResult(ResultSet rs, String columnName) throws SQLException &#123;</span><br><span class="line">    return rs.getString(columnName);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public String getNullableResult(ResultSet rs, int columnIndex) throws SQLException &#123;</span><br><span class="line">    return rs.getString(columnIndex);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public String getNullableResult(CallableStatement cs, int columnIndex) throws SQLException &#123;</span><br><span class="line">    return cs.getString(columnIndex);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- mybatis-config.xml --&gt;</span><br><span class="line">&lt;typeHandlers&gt;</span><br><span class="line">  &lt;typeHandler handler=&quot;org.mybatis.example.ExampleTypeHandler&quot;/&gt;</span><br><span class="line">&lt;/typeHandlers&gt;</span><br></pre></td></tr></table></figure><p>使用上述的类型处理器将会覆盖已有的处理 Java String 类型的属性以及 VARCHAR 类型的参数和结果的类型处理器。 要注意 MyBatis 不会通过检测数据库元信息来决定使用哪种类型，所以你必须在参数和结果映射中指明字段是 VARCHAR 类型， 以使其能够绑定到正确的类型处理器上。这是因为 MyBatis 直到语句被执行时才清楚数据类型。</p><p>通过类型处理器的泛型，MyBatis 可以得知该类型处理器处理的 Java 类型，不过这种行为可以通过两种方法改变：</p><ul><li>在类型处理器的配置元素（typeHandler 元素）上增加一个 <code>javaType</code> 属性（比如：<code>javaType=&quot;String&quot;</code>）；</li><li>在类型处理器的类上增加一个 <code>@MappedTypes</code> 注解指定与其关联的 Java 类型列表。 如果在 <code>javaType</code> 属性中也同时指定，则注解上的配置将被忽略。</li></ul><p>可以通过两种方式来指定关联的 JDBC 类型：</p><ul><li>在类型处理器的配置元素上增加一个 <code>jdbcType</code> 属性（比如：<code>jdbcType=&quot;VARCHAR&quot;</code>）；</li><li>在类型处理器的类上增加一个 <code>@MappedJdbcTypes</code> 注解指定与其关联的 JDBC 类型列表。 如果在 <code>jdbcType</code> 属性中也同时指定，则注解上的配置将被忽略。</li></ul><p>当在 <code>ResultMap</code> 中决定使用哪种类型处理器时，此时 Java 类型是已知的（从结果类型中获得），但是 JDBC 类型是未知的。 因此 Mybatis 使用 <code>javaType=[Java 类型], jdbcType=null</code> 的组合来选择一个类型处理器。 这意味着使用 <code>@MappedJdbcTypes</code> 注解可以<em>限制</em>类型处理器的作用范围，并且可以确保，除非显式地设置，否则类型处理器在 <code>ResultMap</code> 中将不会生效。 如果希望能在 <code>ResultMap</code> 中隐式地使用类型处理器，那么设置 <code>@MappedJdbcTypes</code> 注解的 <code>includeNullJdbcType=true</code> 即可。 然而从 Mybatis 3.4.0 开始，如果某个 Java 类型<strong>只有一个</strong>注册的类型处理器，即使没有设置 <code>includeNullJdbcType=true</code>，那么这个类型处理器也会是 <code>ResultMap</code> 使用 Java 类型时的默认处理器。</p><p>最后，可以让 MyBatis 帮你查找类型处理器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- mybatis-config.xml --&gt;</span><br><span class="line">&lt;typeHandlers&gt;</span><br><span class="line">  &lt;package name=&quot;org.mybatis.example&quot;/&gt;</span><br><span class="line">&lt;/typeHandlers&gt;</span><br></pre></td></tr></table></figure><p>注意在使用自动发现功能的时候，只能通过注解方式来指定 JDBC 的类型。</p><p>你可以创建能够处理多个类的泛型类型处理器。为了使用泛型类型处理器， 需要增加一个接受该类的 class 作为参数的构造器，这样 MyBatis 会在构造一个类型处理器实例的时候传入一个具体的类。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//GenericTypeHandler.java</span><br><span class="line">public class GenericTypeHandler&lt;E extends MyObject&gt; extends BaseTypeHandler&lt;E&gt; &#123;</span><br><span class="line"></span><br><span class="line">  private Class&lt;E&gt; type;</span><br><span class="line"></span><br><span class="line">  public GenericTypeHandler(Class&lt;E&gt; type) &#123;</span><br><span class="line">    if (type == null) throw new IllegalArgumentException(&quot;Type argument cannot be null&quot;);</span><br><span class="line">    this.type = type;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p><code>EnumTypeHandler</code> 和 <code>EnumOrdinalTypeHandler</code> 都是泛型类型处理器，我们将会在接下来的部分详细探讨。</p><h3 id="3-5处理枚举类型"><a href="#3-5处理枚举类型" class="headerlink" title="3.5处理枚举类型"></a>3.5处理枚举类型</h3><p>若想映射枚举类型 <code>Enum</code>，则需要从 <code>EnumTypeHandler</code> 或者 <code>EnumOrdinalTypeHandler</code> 中选择一个来使用。</p><p>比如说我们想存储取近似值时用到的舍入模式。默认情况下，MyBatis 会利用 <code>EnumTypeHandler</code> 来把 <code>Enum</code> 值转换成对应的名字。</p><p><strong>注意 <code>EnumTypeHandler</code> 在某种意义上来说是比较特别的，其它的处理器只针对某个特定的类，而它不同，它会处理任意继承了 <code>Enum</code> 的类。</strong></p><p>不过，我们可能不想存储名字，相反我们的 DBA 会坚持使用整形值代码。那也一样简单：在配置文件中把 <code>EnumOrdinalTypeHandler</code> 加到 <code>typeHandlers</code> 中即可， 这样每个 <code>RoundingMode</code> 将通过他们的序数值来映射成对应的整形数值。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- mybatis-config.xml --&gt;</span><br><span class="line">&lt;typeHandlers&gt;</span><br><span class="line">  &lt;typeHandler handler=&quot;org.apache.ibatis.type.EnumOrdinalTypeHandler&quot; javaType=&quot;java.math.RoundingMode&quot;/&gt;</span><br><span class="line">&lt;/typeHandlers&gt;</span><br></pre></td></tr></table></figure><p>但要是你想在一个地方将 <code>Enum</code> 映射成字符串，在另外一个地方映射成整形值呢？</p><p>自动映射器（auto-mapper）会自动地选用 <code>EnumOrdinalTypeHandler</code> 来处理枚举类型， 所以如果我们想用普通的 <code>EnumTypeHandler</code>，就必须要显式地为那些 SQL 语句设置要使用的类型处理器。</p><p>（下一节才开始介绍映射器文件，如果你是首次阅读该文档，你可能需要先跳过这里，过会再来看。）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">    <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">    <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;org.apache.ibatis.submitted.rounding.Mapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">type</span>=<span class="string">&quot;org.apache.ibatis.submitted.rounding.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;usermap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;funkyNumber&quot;</span> <span class="attr">property</span>=<span class="string">&quot;funkyNumber&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;roundingMode&quot;</span> <span class="attr">property</span>=<span class="string">&quot;roundingMode&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUser&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;usermap&quot;</span>&gt;</span></span><br><span class="line">    select * from users</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insert&quot;</span>&gt;</span></span><br><span class="line">      insert into users (id, name, funkyNumber, roundingMode) values (</span><br><span class="line">        #&#123;id&#125;, #&#123;name&#125;, #&#123;funkyNumber&#125;, #&#123;roundingMode&#125;</span><br><span class="line">      )</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">type</span>=<span class="string">&quot;org.apache.ibatis.submitted.rounding.User&quot;</span> <span class="attr">id</span>=<span class="string">&quot;usermap2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;funkyNumber&quot;</span> <span class="attr">property</span>=<span class="string">&quot;funkyNumber&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;roundingMode&quot;</span> <span class="attr">property</span>=<span class="string">&quot;roundingMode&quot;</span> <span class="attr">typeHandler</span>=<span class="string">&quot;org.apache.ibatis.type.EnumTypeHandler&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUser2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;usermap2&quot;</span>&gt;</span></span><br><span class="line">    select * from users2</span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insert2&quot;</span>&gt;</span></span><br><span class="line">      insert into users2 (id, name, funkyNumber, roundingMode) values (</span><br><span class="line">        #&#123;id&#125;, #&#123;name&#125;, #&#123;funkyNumber&#125;, #&#123;roundingMode, typeHandler=org.apache.ibatis.type.EnumTypeHandler&#125;</span><br><span class="line">      )</span><br><span class="line">  <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意，这里的 select 语句必须指定 <code>resultMap</code> 而不是 <code>resultType</code>。</p><h3 id="3-6对象工厂（objectFactory）"><a href="#3-6对象工厂（objectFactory）" class="headerlink" title="3.6对象工厂（objectFactory）"></a>3.6对象工厂（objectFactory）</h3><p>每次 MyBatis 创建结果对象的新实例时，它都会使用一个对象工厂（ObjectFactory）实例来完成实例化工作。 默认的对象工厂需要做的仅仅是实例化目标类，要么通过默认无参构造方法，要么通过存在的参数映射来调用带有参数的构造方法。 如果想覆盖对象工厂的默认行为，可以通过创建自己的对象工厂来实现。比如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ExampleObjectFactory.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExampleObjectFactory</span> <span class="keyword">extends</span> <span class="title class_">DefaultObjectFactory</span> &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">create</span><span class="params">(Class&lt;T&gt; type)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>.create(type);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">create</span><span class="params">(Class&lt;T&gt; type, List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>.create(type, constructorArgTypes, constructorArgs);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setProperties</span><span class="params">(Properties properties)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>.setProperties(properties);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> &lt;T&gt; <span class="type">boolean</span> <span class="title function_">isCollection</span><span class="params">(Class&lt;T&gt; type)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Collection.class.isAssignableFrom(type);</span><br><span class="line">  &#125;&#125;</span><br><span class="line">&lt;!-- mybatis-config.xml --&gt;</span><br><span class="line">&lt;objectFactory type=<span class="string">&quot;org.mybatis.example.ExampleObjectFactory&quot;</span>&gt;</span><br><span class="line">  &lt;property name=<span class="string">&quot;someProperty&quot;</span> value=<span class="string">&quot;100&quot;</span>/&gt;</span><br><span class="line">&lt;/objectFactory&gt;</span><br></pre></td></tr></table></figure><p>ObjectFactory 接口很简单，它包含两个创建实例用的方法，一个是处理默认无参构造方法的，另外一个是处理带参数的构造方法的。 另外，setProperties 方法可以被用来配置 ObjectFactory，在初始化你的 ObjectFactory 实例后， objectFactory 元素体中定义的属性会被传递给 setProperties 方法。</p><h3 id="3-7-插件（plugins）"><a href="#3-7-插件（plugins）" class="headerlink" title="3.7 插件（plugins）"></a>3.7 插件（plugins）</h3><p>MyBatis 允许你在映射语句执行过程中的某一点进行拦截调用。默认情况下，MyBatis 允许使用插件来拦截的方法调用包括：</p><ul><li>Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</li><li>ParameterHandler (getParameterObject, setParameters)</li><li>ResultSetHandler (handleResultSets, handleOutputParameters)</li><li>StatementHandler (prepare, parameterize, batch, update, query)</li></ul><p>这些类中方法的细节可以通过查看每个方法的签名来发现，或者直接查看 MyBatis 发行包中的源代码。 如果你想做的不仅仅是监控方法的调用，那么你最好相当了解要重写的方法的行为。 因为在试图修改或重写已有方法的行为时，很可能会破坏 MyBatis 的核心模块。 这些都是更底层的类和方法，所以使用插件的时候要特别当心。</p><p>通过 MyBatis 提供的强大机制，使用插件是非常简单的，只需实现 Interceptor 接口，并指定想要拦截的方法签名即可。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// ExamplePlugin.java</span><br><span class="line">@Intercepts(&#123;@Signature(</span><br><span class="line">  type= Executor.class,</span><br><span class="line">  method = &quot;update&quot;,</span><br><span class="line">  args = &#123;MappedStatement.class,Object.class&#125;)&#125;)</span><br><span class="line">public class ExamplePlugin implements Interceptor &#123;</span><br><span class="line">  private Properties properties = new Properties();</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public Object intercept(Invocation invocation) throws Throwable &#123;</span><br><span class="line">    // implement pre processing if need</span><br><span class="line">    Object returnObject = invocation.proceed();</span><br><span class="line">    // implement post processing if need</span><br><span class="line">    return returnObject;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public void setProperties(Properties properties) &#123;</span><br><span class="line">    this.properties = properties;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">&lt;!-- mybatis-config.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;org.mybatis.example.ExamplePlugin&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;someProperty&quot;</span> <span class="attr">value</span>=<span class="string">&quot;100&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上面的插件将会拦截在 Executor 实例中所有的 “update” 方法调用， 这里的 Executor 是负责执行底层映射语句的内部对象。</p><p><strong>提示</strong> <strong>覆盖配置类</strong></p><p>除了用插件来修改 MyBatis 核心行为以外，还可以通过完全覆盖配置类来达到目的。只需继承配置类后覆盖其中的某个方法，再把它传递到 SqlSessionFactoryBuilder.build(myConfig) 方法即可。再次重申，这可能会极大影响 MyBatis 的行为，务请慎之又慎。</p><h3 id="3-8环境配置（environments）"><a href="#3-8环境配置（environments）" class="headerlink" title="3.8环境配置（environments）"></a>3.8环境配置（environments）</h3><p>MyBatis 可以配置成适应多种环境，这种机制有助于将 SQL 映射应用于多种数据库之中， 现实情况下有多种理由需要这么做。例如，开发、测试和生产环境需要有不同的配置；或者想在具有相同 Schema 的多个生产数据库中使用相同的 SQL 映射。还有许多类似的使用场景。</p><p><strong>不过要记住：尽管可以配置多个环境，但每个 SqlSessionFactory 实例只能选择一种环境。</strong></p><p>所以，如果你想连接两个数据库，就需要创建两个 SqlSessionFactory 实例，每个数据库对应一个。而如果是三个数据库，就需要三个实例，依此类推，记起来很简单：</p><ul><li><strong>每个数据库对应一个 SqlSessionFactory 实例</strong></li></ul><p>为了指定创建哪种环境，只要将它作为可选的参数传递给 SqlSessionFactoryBuilder 即可。可以接受环境配置的两个方法签名是：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(reader, environment);</span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(reader, environment, properties);</span><br></pre></td></tr></table></figure><p>如果忽略了环境参数，那么将会加载默认环境，如下所示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(reader);</span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(reader, properties);</span><br></pre></td></tr></table></figure><p>environments 元素定义了如何配置环境。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;...&quot;</span> <span class="attr">value</span>=<span class="string">&quot;...&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意一些关键点:</p><ul><li>默认使用的环境 ID（比如：default&#x3D;”development”）。</li><li>每个 environment 元素定义的环境 ID（比如：id&#x3D;”development”）。</li><li>事务管理器的配置（比如：type&#x3D;”JDBC”）。</li><li>数据源的配置（比如：type&#x3D;”POOLED”）。</li></ul><p>默认环境和环境 ID 顾名思义。 环境可以随意命名，但务必保证默认的环境 ID 要匹配其中一个环境 ID。</p><p><strong>事务管理器（transactionManager）</strong></p><p>在 MyBatis 中有两种类型的事务管理器（也就是 type&#x3D;”[JDBC|MANAGED]”）：</p><ul><li><p>JDBC – 这个配置直接使用了 JDBC 的提交和回滚功能，它依赖从数据源获得的连接来管理事务作用域。默认情况下，为了与某些驱动程序兼容，它在关闭连接时启用自动提交。然而，对于某些驱动程序来说，启用自动提交不仅是不必要的，而且是一个代价高昂的操作。因此，从 3.5.10 版本开始，你可以通过将 “skipSetAutoCommitOnClose” 属性设置为 “true” 来跳过这个步骤。例如：</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;skipSetAutoCommitOnClose&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>MANAGED – 这个配置几乎没做什么。它从不提交或回滚一个连接，而是让容器来管理事务的整个生命周期（比如 JEE 应用服务器的上下文）。 默认情况下它会关闭连接。然而一些容器并不希望连接被关闭，因此需要将 closeConnection 属性设置为 false 来阻止默认的关闭行为。例如:</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;MANAGED&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;closeConnection&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>提示</strong> 如果你正在使用 Spring + MyBatis，则没有必要配置事务管理器，因为 Spring 模块会使用自带的管理器来覆盖前面的配置。</p><p>这两种事务管理器类型都不需要设置任何属性。它们其实是类型别名，换句话说，你可以用 TransactionFactory 接口实现类的全限定名或类型别名代替它们。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TransactionFactory</span> &#123;</span><br><span class="line">  <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">setProperties</span><span class="params">(Properties props)</span> &#123; <span class="comment">// 从 3.5.2 开始，该方法为默认方法</span></span><br><span class="line">    <span class="comment">// 空实现</span></span><br><span class="line">  &#125;</span><br><span class="line">  Transaction <span class="title function_">newTransaction</span><span class="params">(Connection conn)</span>;</span><br><span class="line">  Transaction <span class="title function_">newTransaction</span><span class="params">(DataSource dataSource, TransactionIsolationLevel level, <span class="type">boolean</span> autoCommit)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在事务管理器实例化后，所有在 XML 中配置的属性将会被传递给 setProperties() 方法。你的实现还需要创建一个 Transaction 接口的实现类，这个接口也很简单：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Transaction</span> &#123;</span><br><span class="line">  Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">commit</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">rollback</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">  Integer <span class="title function_">getTimeout</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用这两个接口，你可以完全自定义 MyBatis 对事务的处理。</p><p><strong>数据源（dataSource）</strong></p><p>dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象的资源。</p><ul><li>大多数 MyBatis 应用程序会按示例中的例子来配置数据源。虽然数据源配置是可选的，但如果要启用延迟加载特性，就必须配置数据源。</li></ul><p>有三种内建的数据源类型（也就是 type&#x3D;”[UNPOOLED|POOLED|JNDI]”）：</p><p><strong>UNPOOLED</strong>– 这个数据源的实现会每次请求时打开和关闭连接。虽然有点慢，但对那些数据库连接可用性要求不高的简单应用程序来说，是一个很好的选择。 性能表现则依赖于使用的数据库，对某些数据库来说，使用连接池并不重要，这个配置就很适合这种情形。UNPOOLED 类型的数据源仅仅需要配置以下 5 种属性：</p><ul><li><code>driver</code> – 这是 JDBC 驱动的 Java 类全限定名（并不是 JDBC 驱动中可能包含的数据源类）。</li><li><code>url</code> – 这是数据库的 JDBC URL 地址。</li><li><code>username</code> – 登录数据库的用户名。</li><li><code>password</code> – 登录数据库的密码。</li><li><code>defaultTransactionIsolationLevel</code> – 默认的连接事务隔离级别。</li><li><code>defaultNetworkTimeout</code> – 等待数据库操作完成的默认网络超时时间（单位：毫秒）。查看 <code>java.sql.Connection#setNetworkTimeout()</code> 的 API 文档以获取更多信息。</li></ul><p>作为可选项，你也可以传递属性给数据库驱动。只需在属性名加上“driver.”前缀即可，例如：</p><ul><li><code>driver.encoding=UTF8</code></li></ul><p>这将通过 DriverManager.getConnection(url, driverProperties) 方法传递值为 <code>UTF8</code> 的 <code>encoding</code> 属性给数据库驱动。</p><p><strong>POOLED</strong>– 这种数据源的实现利用“池”的概念将 JDBC 连接对象组织起来，避免了创建新的连接实例时所必需的初始化和认证时间。 这种处理方式很流行，能使并发 Web 应用快速响应请求。</p><p>除了上述提到 UNPOOLED 下的属性外，还有更多属性用来配置 POOLED 的数据源：</p><ul><li><code>poolMaximumActiveConnections</code> – 在任意时间可存在的活动（正在使用）连接数量，默认值：10</li><li><code>poolMaximumIdleConnections</code> – 任意时间可能存在的空闲连接数。</li><li><code>poolMaximumCheckoutTime</code> – 在被强制返回之前，池中连接被检出（checked out）时间，默认值：20000 毫秒（即 20 秒）</li><li><code>poolTimeToWait</code> – 这是一个底层设置，如果获取连接花费了相当长的时间，连接池会打印状态日志并重新尝试获取一个连接（避免在误配置的情况下一直失败且不打印日志），默认值：20000 毫秒（即 20 秒）。</li><li><code>poolMaximumLocalBadConnectionTolerance</code> – 这是一个关于坏连接容忍度的底层设置， 作用于每一个尝试从缓存池获取连接的线程。 如果这个线程获取到的是一个坏的连接，那么这个数据源允许这个线程尝试重新获取一个新的连接，但是这个重新尝试的次数不应该超过 <code>poolMaximumIdleConnections</code> 与 <code>poolMaximumLocalBadConnectionTolerance</code> 之和。 默认值：3（新增于 3.4.5）</li><li><code>poolPingQuery</code> – 发送到数据库的侦测查询，用来检验连接是否正常工作并准备接受请求。默认是“NO PING QUERY SET”，这会导致多数数据库驱动出错时返回恰当的错误消息。</li><li><code>poolPingEnabled</code> – 是否启用侦测查询。若开启，需要设置 <code>poolPingQuery</code> 属性为一个可执行的 SQL 语句（最好是一个速度非常快的 SQL 语句），默认值：false。</li><li><code>poolPingConnectionsNotUsedFor</code> – 配置 poolPingQuery 的频率。可以被设置为和数据库连接超时时间一样，来避免不必要的侦测，默认值：0（即所有连接每一时刻都被侦测 — 当然仅当 poolPingEnabled 为 true 时适用）。</li></ul><p><strong>JNDI</strong> – 这个数据源实现是为了能在如 EJB 或应用服务器这类容器中使用，容器可以集中或在外部配置数据源，然后放置一个 JNDI 上下文的数据源引用。这种数据源配置只需要两个属性：</p><ul><li><code>initial_context</code> – 这个属性用来在 InitialContext 中寻找上下文（即，initialContext.lookup(initial_context)）。这是个可选属性，如果忽略，那么将会直接从 InitialContext 中寻找 data_source 属性。</li><li><code>data_source</code> – 这是引用数据源实例位置的上下文路径。提供了 initial_context 配置时会在其返回的上下文中进行查找，没有提供时则直接在 InitialContext 中查找。</li></ul><p>和其他数据源配置类似，可以通过添加前缀“env.”直接把属性传递给 InitialContext。比如：</p><ul><li><code>env.encoding=UTF8</code></li></ul><p>这就会在 InitialContext 实例化时往它的构造方法传递值为 <code>UTF8</code> 的 <code>encoding</code> 属性。</p><p>你可以通过实现接口 <code>org.apache.ibatis.datasource.DataSourceFactory</code> 来使用第三方数据源实现：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DataSourceFactory</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">setProperties</span><span class="params">(Properties props)</span>;</span><br><span class="line">  DataSource <span class="title function_">getDataSource</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory</code> 可被用作父类来构建新的数据源适配器，比如下面这段插入 C3P0 数据源所必需的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory;</span><br><span class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">C3P0DataSourceFactory</span> <span class="keyword">extends</span> <span class="title class_">UnpooledDataSourceFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">C3P0DataSourceFactory</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.dataSource = <span class="keyword">new</span> <span class="title class_">ComboPooledDataSource</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为了令其工作，记得在配置文件中为每个希望 MyBatis 调用的 setter 方法增加对应的属性。 下面是一个可以连接至 PostgreSQL 数据库的例子：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;org.myproject.C3P0DataSourceFactory&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;org.postgresql.Driver&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:postgresql:mydb&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;postgres&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-9映射器（mappers）"><a href="#3-9映射器（mappers）" class="headerlink" title="3.9映射器（mappers）"></a>3.9映射器（mappers）</h3><p>既然 MyBatis 的行为已经由上述元素配置完了，我们现在就要来定义 SQL 映射语句了。 但首先，我们需要告诉 MyBatis 到哪里去找到这些语句。 在自动查找资源方面，Java 并没有提供一个很好的解决方案，所以最好的办法是直接告诉 MyBatis 到哪里去找映射文件。 你可以使用相对于类路径的资源引用，或完全限定资源定位符（包括 <code>file:///</code> 形式的 URL），或类名和包名等。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 使用相对于类路径的资源引用 --&gt;</span><br><span class="line">&lt;mappers&gt;</span><br><span class="line">  &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt;</span><br><span class="line">  &lt;mapper resource=&quot;org/mybatis/builder/BlogMapper.xml&quot;/&gt;</span><br><span class="line">  &lt;mapper resource=&quot;org/mybatis/builder/PostMapper.xml&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br><span class="line">&lt;!-- 使用完全限定资源定位符（URL） --&gt;</span><br><span class="line">&lt;mappers&gt;</span><br><span class="line">  &lt;mapper url=&quot;file:///var/mappers/AuthorMapper.xml&quot;/&gt;</span><br><span class="line">  &lt;mapper url=&quot;file:///var/mappers/BlogMapper.xml&quot;/&gt;</span><br><span class="line">  &lt;mapper url=&quot;file:///var/mappers/PostMapper.xml&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br><span class="line">&lt;!-- 使用映射器接口实现类的完全限定类名 --&gt;</span><br><span class="line">&lt;mappers&gt;</span><br><span class="line">  &lt;mapper class=&quot;org.mybatis.builder.AuthorMapper&quot;/&gt;</span><br><span class="line">  &lt;mapper class=&quot;org.mybatis.builder.BlogMapper&quot;/&gt;</span><br><span class="line">  &lt;mapper class=&quot;org.mybatis.builder.PostMapper&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br><span class="line">&lt;!-- 将包内的映射器接口全部注册为映射器 --&gt;</span><br><span class="line">&lt;mappers&gt;</span><br><span class="line">  &lt;package name=&quot;org.mybatis.builder&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure><p>这些配置会告诉 MyBatis 去哪里找映射文件，剩下的细节就应该是每个 SQL 映射文件了，也就是接下来我们要讨论的。</p>]]></content>
      
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.映射文件</title>
      <link href="/posts/f87e281c.html"/>
      <url>/posts/f87e281c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="四-映射文件"><a href="#四-映射文件" class="headerlink" title="四.映射文件"></a>四.映射文件</h2><p>​      MyBatis 的真正强大在于它的语句映射，这是它的魔力所在。由于它的异常强大，映射器的 XML 文件就显得相对简单。如果拿它跟具有相同功能的 JDBC 代码进行对比，你会立即发现省掉了将近 95% 的代码。MyBatis 致力于减少使用成本，让用户能更专注于 SQL 代码。</p><p>SQL 映射文件只有很少的几个顶级元素（按照应被定义的顺序列出）：</p><ul><li><code>cache</code> – 该命名空间的缓存配置。</li><li><code>cache-ref</code> – 引用其它命名空间的缓存配置。</li><li><code>resultMap</code> – 描述如何从数据库结果集中加载对象，是最复杂也是最强大的元素。</li><li><code>parameterMap</code> – 老式风格的参数映射。此元素已被废弃，并可能在将来被移除！请使用行内参数映射。文档中不会介绍此元素。</li><li><code>sql</code> – 可被其它语句引用的可重用语句块。</li><li><code>insert</code> – 映射插入语句。</li><li><code>update</code> – 映射更新语句。</li><li><code>delete</code> – 映射删除语句。</li><li><code>select</code> – 映射查询语句。</li></ul><p>下一部分将从语句本身开始来描述每个元素的细节。</p><h4 id="1-cache"><a href="#1-cache" class="headerlink" title="1.cache"></a>1.cache</h4><p> 缓存：减少数据库的访问频率</p><h5 id="1-1-一级缓存"><a href="#1-1-一级缓存" class="headerlink" title="1.1 一级缓存"></a>1.1 一级缓存</h5><p>一级缓存也叫本地缓存，mybatis的一级缓存是在会话（sqlsession）层面的缓存。一级缓存默认是·打开的不需要设置。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cache</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">      String resource= <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">      <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">      inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">      <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">      <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">      <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">      <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">      <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(UserMapper.class);</span><br><span class="line">      <span class="comment">//一级缓存中有数据就直接去获取讲座</span></span><br><span class="line">      List&lt;User&gt; list = mapper.selectAll();</span><br><span class="line">      System.out.println(list);</span><br><span class="line">      <span class="comment">//关闭会话，会清空一级缓存</span></span><br><span class="line">      sqlSession.close();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="1-2-二级缓存"><a href="#1-2-二级缓存" class="headerlink" title="1.2 二级缓存"></a>1.2 二级缓存</h5><p>二级缓存是用来解决一级缓存不能跨会话共享的问题，范围是namespace级别的，可以被多个sqlsession（只要是同一接口的相同方法，都可以共享），生命周期和应用同步。</p><p>二级缓存生效的条件</p><ul><li>第一个是在全局配置文件中设置缓存开关<img src="https://s2.loli.net/2023/04/10/nYXLdUCNp36fck9.png" alt="image-20230410181903578"></li><li>第二个需要在映射文件中添加cache标签</li></ul><p><img src="https://s2.loli.net/2023/04/10/gPmYjuqNB1ArCvd.png" alt="image-20230410194708153"></p><p>cache配置的完整写法</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--type=&quot;org.apache.ibatis.cache.impl.perpetual cache&quot; 缓存配置</span></span><br><span class="line"><span class="comment">    size=&quot;1024&quot;  缓存的个数</span></span><br><span class="line"><span class="comment">    eviction=&quot;LRU&quot; 缓存的淘汰策略</span></span><br><span class="line"><span class="comment">    flushInterval=&quot;12000&quot; 自动刷新的时间间隔</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">cache</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">&quot;org.apache.ibatis.cache.impl.perpetual cache&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">size</span>=<span class="string">&quot;1024&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">eviction</span>=<span class="string">&quot;LRU&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">flushInterval</span>=<span class="string">&quot;12000&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-cache-ref"><a href="#2-cache-ref" class="headerlink" title="2.cache-ref"></a>2.cache-ref</h4><p>cache标签的作用是标签该映射文件下的所有操作都会被相关的cache做缓存，都是如果我们想要在多个名称空间中使用相同的缓存配置，和实例那么我们可以使用cache-ref。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.cwwwxl.pojo.dao.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">cache-ref</span> <span class="attr">namespace</span>=<span class="string">&quot;com.cwwwxl.pojo.dao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-select"><a href="#3-select" class="headerlink" title="3.select"></a>3.select</h4><p>​查询操作应该所有的数据库操作中使用频率最高的操作了。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">    select * from user;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>select 元素允许你配置很多属性来配置每条语句的行为细节。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;selectPerson&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parameterMap</span>=<span class="string">&quot;deprecated&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">resultType</span>=<span class="string">&quot;hashmap&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">resultMap</span>=<span class="string">&quot;personResultMap&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">flushCache</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">useCache</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">fetchSize</span>=<span class="string">&quot;256&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">resultSetType</span>=<span class="string">&quot;FORWARD_ONLY&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">在命名空间中唯一的标识符，可以被用来引用这条语句。</td></tr><tr><td align="left"><code>parameterType</code></td><td align="left">将会传入这条语句的参数的类全限定名或别名。这个属性是可选的，因为 MyBatis 可以根据语句中实际传入的参数计算出应该使用的类型处理器（TypeHandler），默认值为未设置（unset）。</td></tr><tr><td align="left">parameterMap</td><td align="left">用于引用外部 parameterMap 的属性，目前已被废弃。请使用行内参数映射和 parameterType 属性。</td></tr><tr><td align="left"><code>resultType</code></td><td align="left">期望从这条语句中返回结果的类全限定名或别名。 注意，如果返回的是集合，那应该设置为集合包含的类型，而不是集合本身的类型。 resultType 和 resultMap 之间只能同时使用一个。</td></tr><tr><td align="left"><code>resultMap</code></td><td align="left">对外部 resultMap 的命名引用。结果映射是 MyBatis 最强大的特性，如果你对其理解透彻，许多复杂的映射问题都能迎刃而解。 resultType 和 resultMap 之间只能同时使用一个。</td></tr><tr><td align="left"><code>flushCache</code></td><td align="left">将其设置为 true 后，只要语句被调用，都会导致本地缓存和二级缓存被清空，默认值：false。</td></tr><tr><td align="left"><code>useCache</code></td><td align="left">将其设置为 true 后，将会导致本条语句的结果被二级缓存缓存起来，默认值：对 select 元素为 true。</td></tr><tr><td align="left"><code>timeout</code></td><td align="left">这个设置是在抛出异常之前，驱动程序等待数据库返回请求结果的秒数。默认值为未设置（unset）（依赖数据库驱动）。</td></tr><tr><td align="left"><code>fetchSize</code></td><td align="left">这是一个给驱动的建议值，尝试让驱动程序每次批量返回的结果行数等于这个设置值。 默认值为未设置（unset）（依赖驱动）。</td></tr><tr><td align="left"><code>statementType</code></td><td align="left">可选 STATEMENT，PREPARED 或 CALLABLE。这会让 MyBatis 分别使用 Statement，PreparedStatement 或 CallableStatement，默认值：PREPARED。</td></tr><tr><td align="left"><code>resultSetType</code></td><td align="left">FORWARD_ONLY，SCROLL_SENSITIVE, SCROLL_INSENSITIVE 或 DEFAULT（等价于 unset） 中的一个，默认值为 unset （依赖数据库驱动）。</td></tr><tr><td align="left"><code>databaseId</code></td><td align="left">如果配置了数据库厂商标识（databaseIdProvider），MyBatis 会加载所有不带 databaseId 或匹配当前 databaseId 的语句；如果带和不带的语句都有，则不带的会被忽略。</td></tr><tr><td align="left"><code>resultOrdered</code></td><td align="left">这个设置仅针对嵌套结果 select 语句：如果为 true，则假设结果集以正确顺序（排序后）执行映射，当返回新的主结果行时，将不再发生对以前结果行的引用。 这样可以减少内存消耗。默认值：<code>false</code>。</td></tr><tr><td align="left"><code>resultSets</code></td><td align="left">这个设置仅适用于多结果集的情况。它将列出语句执行后返回的结果集并赋予每个结果集一个名称，多个名称之间以逗号分隔。</td></tr><tr><td align="left"><code>affectData</code></td><td align="left">Set this to true when writing a INSERT, UPDATE or DELETE statement that returns data so that the transaction is controlled properly. Also see <a href="https://mybatis.org/mybatis-3/zh/java-api.html#transaction-control-methods">Transaction Control Method</a>. Default: <code>false</code> (since 3.5.12)</td></tr></tbody></table><h4 id="4-insert-update-和-delete"><a href="#4-insert-update-和-delete" class="headerlink" title="4.insert, update 和 delete"></a>4.insert, update 和 delete</h4><p>数据变更语句 insert，update 和 delete 的实现非常接近：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;insertAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parameterType</span>=<span class="string">&quot;domain.blog.Author&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">flushCache</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">keyProperty</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">keyColumn</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">update</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;updateAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parameterType</span>=<span class="string">&quot;domain.blog.Author&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">flushCache</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span></span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;deleteAuthor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">parameterType</span>=<span class="string">&quot;domain.blog.Author&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">flushCache</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">statementType</span>=<span class="string">&quot;PREPARED&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">timeout</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">属性</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">在命名空间中唯一的标识符，可以被用来引用这条语句。</td></tr><tr><td align="left"><code>parameterType</code></td><td align="left">将会传入这条语句的参数的类全限定名或别名。这个属性是可选的，因为 MyBatis 可以根据语句中实际传入的参数计算出应该使用的类型处理器（TypeHandler），默认值为未设置（unset）。</td></tr><tr><td align="left"><code>parameterMap</code></td><td align="left">用于引用外部 parameterMap 的属性，目前已被废弃。请使用行内参数映射和 parameterType 属性。</td></tr><tr><td align="left"><code>flushCache</code></td><td align="left">将其设置为 true 后，只要语句被调用，都会导致本地缓存和二级缓存被清空，默认值：（对 insert、update 和 delete 语句）true。</td></tr><tr><td align="left"><code>timeout</code></td><td align="left">这个设置是在抛出异常之前，驱动程序等待数据库返回请求结果的秒数。默认值为未设置（unset）（依赖数据库驱动）。</td></tr><tr><td align="left"><code>statementType</code></td><td align="left">可选 STATEMENT，PREPARED 或 CALLABLE。这会让 MyBatis 分别使用 Statement，PreparedStatement 或 CallableStatement，默认值：PREPARED。</td></tr><tr><td align="left"><code>useGeneratedKeys</code></td><td align="left">（仅适用于 insert 和 update）这会令 MyBatis 使用 JDBC 的 getGeneratedKeys 方法来取出由数据库内部生成的主键（比如：像 MySQL 和 SQL Server 这样的关系型数据库管理系统的自动递增字段），默认值：false。</td></tr><tr><td align="left"><code>keyProperty</code></td><td align="left">（仅适用于 insert 和 update）指定能够唯一识别对象的属性，MyBatis 会使用 getGeneratedKeys 的返回值或 insert 语句的 selectKey 子元素设置它的值，默认值：未设置（<code>unset</code>）。如果生成列不止一个，可以用逗号分隔多个属性名称。</td></tr><tr><td align="left"><code>keyColumn</code></td><td align="left">（仅适用于 insert 和 update）设置生成键值在表中的列名，在某些数据库（像 PostgreSQL）中，当主键列不是表中的第一列的时候，是必须设置的。如果生成列不止一个，可以用逗号分隔多个属性名称。</td></tr><tr><td align="left"><code>databaseId</code></td><td align="left">如果配置了数据库厂商标识（databaseIdProvider），MyBatis 会加载所有不带 databaseId 或匹配当前 databaseId 的语句；如果带和不带的语句都有，则不带的会被忽略。</td></tr></tbody></table><h4 id="5-sql"><a href="#5-sql" class="headerlink" title="5.sql"></a>5.sql</h4><p>这个元素可以用来定义可重用的 SQL 代码片段，以便在其它语句中使用。 参数可以静态地（在加载的时候）确定下来，并且可以在不同的 include 元素中定义不同的参数值。比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span> $&#123;alias&#125;.id,$&#123;alias&#125;.username,$&#123;alias&#125;.password <span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个 SQL 片段可以在其它语句中使用，例如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUsers&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">  select</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;alias&quot;</span> <span class="attr">value</span>=<span class="string">&quot;t1&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span>,</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;userColumns&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;alias&quot;</span> <span class="attr">value</span>=<span class="string">&quot;t2&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">  from some_table t1</span><br><span class="line">    cross join some_table t2</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>也可以在 include 元素的 refid 属性或内部语句中使用属性值，例如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;sometable&quot;</span>&gt;</span></span><br><span class="line">  $&#123;prefix&#125;Table</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;someinclude&quot;</span>&gt;</span></span><br><span class="line">  from</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;$&#123;include_target&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;select&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">  select</span><br><span class="line">    field1, field2, field3</span><br><span class="line">  <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;someinclude&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Some&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;include_target&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sometable&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.动态sql</title>
      <link href="/posts/a5b98ff0.html"/>
      <url>/posts/a5b98ff0.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="五-动态-SQL"><a href="#五-动态-SQL" class="headerlink" title="五.动态 SQL"></a>五.动态 SQL</h2><p>动态 SQL 是 MyBatis 的强大特性之一。如果你使用过 JDBC 或其它类似的框架，你应该能理解根据不同条件拼接 SQL 语句有多痛苦，例如拼接时要确保不能忘记添加必要的空格，还要注意去掉列表最后一个列名的逗号。利用动态 SQL，可以彻底摆脱这种痛苦。</p><p>使用动态 SQL 并非一件易事，但借助可用于任何 SQL 映射语句中的强大的动态 SQL 语言，MyBatis 显著地提升了这一特性的易用性。</p><p>如果你之前用过 JSTL 或任何基于类 XML 语言的文本处理器，你对动态 SQL 元素可能会感觉似曾相识。在 MyBatis 之前的版本中，需要花时间了解大量的元素。借助功能强大的基于 OGNL 的表达式，MyBatis 3 替换了之前的大部分元素，大大精简了元素种类，现在要学习的元素种类比原来的一半还要少。</p><ul><li>if</li><li>choose (when, otherwise)</li><li>trim (where, set)</li><li>foreach</li></ul><h3 id="1-if"><a href="#1-if" class="headerlink" title="1.if"></a>1.if</h3><p>使用动态 SQL 最常见情景是根据条件包含 where 子句的一部分。比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogWithTitleLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG</span><br><span class="line">  WHERE state = ‘ACTIVE’</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">    AND title like #&#123;title&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这条语句提供了可选的查找文本功能。如果不传入 “title”，那么所有处于 “ACTIVE” 状态的 BLOG 都会返回；如果传入了 “title” 参数，那么就会对 “title” 一列进行模糊查找并返回对应的 BLOG 结果（细心的读者可能会发现，“title” 的参数值需要包含查找掩码或通配符字符）。</p><p>如果希望通过 “title” 和 “author” 两个参数进行可选搜索该怎么办呢？首先，我想先将语句名称修改成更名副其实的名称；接下来，只需要加入另一个条件即可。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG WHERE state = ‘ACTIVE’</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">    AND title like #&#123;title&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">    AND author_name like #&#123;author.name&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-choose、when、otherwise"><a href="#2-choose、when、otherwise" class="headerlink" title="2.choose、when、otherwise"></a>2.choose、when、otherwise</h3><p>有时候，我们不想使用所有的条件，而只是想从多个条件中选择一个使用。针对这种情况，MyBatis 提供了 choose 元素，它有点像 Java 中的 switch 语句。</p><p>还是上面的例子，但是策略变为：传入了 “title” 就按 “title” 查找，传入了 “author” 就按 “author” 查找的情形。若两者都没有传入，就返回标记为 featured 的 BLOG（这可能是管理员认为，与其返回大量的无意义随机 Blog，还不如返回一些由管理员精选的 Blog）。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG WHERE state = ‘ACTIVE’</span><br><span class="line">  <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">      AND title like #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">      AND author_name like #&#123;author.name&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">      AND featured = 1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-trim、where、set"><a href="#3-trim、where、set" class="headerlink" title="3.trim、where、set"></a>3.trim、where、set</h3><p>前面几个例子已经方便地解决了一个臭名昭著的动态 SQL 问题。现在回到之前的 “if” 示例，这次我们将 “state &#x3D; ‘ACTIVE’” 设置成动态条件，看看会发生什么。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG</span><br><span class="line">  WHERE</span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;state != null&quot;</span>&gt;</span></span><br><span class="line">    state = #&#123;state&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">    AND title like #&#123;title&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">    AND author_name like #&#123;author.name&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果没有匹配的条件会怎么样？最终这条 SQL 会变成这样：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM BLOG</span><br><span class="line">WHERE</span><br></pre></td></tr></table></figure><p>这会导致查询失败。如果匹配的只是第二个条件又会怎样？这条 SQL 会是这样:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM BLOG</span><br><span class="line">WHERE</span><br><span class="line">AND title like ‘someTitle’</span><br></pre></td></tr></table></figure><p>这个查询也会失败。这个问题不能简单地用条件元素来解决。这个问题是如此的难以解决，以至于解决过的人不会再想碰到这种问题。</p><p>MyBatis 有一个简单且适合大多数场景的解决办法。而在其他场景中，可以对其进行自定义以符合需求。而这，只需要一处简单的改动：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findActiveBlogLike&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  SELECT * FROM BLOG</span><br><span class="line">  <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;state != null&quot;</span>&gt;</span></span><br><span class="line">         state = #&#123;state&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">        AND title like #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null and author.name != null&quot;</span>&gt;</span></span><br><span class="line">        AND author_name like #&#123;author.name&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>where</em> 元素只会在子元素返回任何内容的情况下才插入 “WHERE” 子句。而且，若子句的开头为 “AND” 或 “OR”，<em>where</em> 元素也会将它们去除。</p><p>如果 <em>where</em> 元素与你期望的不太一样，你也可以通过自定义 trim 元素来定制 <em>where</em> 元素的功能。比如，和 <em>where</em> 元素等价的自定义 trim 元素为：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;WHERE&quot;</span> <span class="attr">prefixOverrides</span>=<span class="string">&quot;AND |OR &quot;</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>prefixOverrides</em> 属性会忽略通过管道符分隔的文本序列（注意此例中的空格是必要的）。上述例子会移除所有 <em>prefixOverrides</em> 属性中指定的内容，并且插入 <em>prefix</em> 属性中指定的内容。</p><p>用于动态更新语句的类似解决方案叫做 <em>set</em>。<em>set</em> 元素可以用于动态包含需要更新的列，忽略其它不更新的列。比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateAuthorIfNecessary&quot;</span>&gt;</span></span><br><span class="line">  update Author</span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span>username=#&#123;username&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span>password=#&#123;password&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null&quot;</span>&gt;</span>email=#&#123;email&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;bio != null&quot;</span>&gt;</span>bio=#&#123;bio&#125;<span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">  where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个例子中，<em>set</em> 元素会动态地在行首插入 SET 关键字，并会删掉额外的逗号（这些逗号是在使用条件语句给列赋值时引入的）。</p><p>或者，你可以通过使用<em>trim</em>元素来达到同样的效果：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;SET&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意，我们覆盖了后缀值设置，并且自定义了前缀值。</p><h3 id="4-foreach"><a href="#4-foreach" class="headerlink" title="4.foreach"></a>4.foreach</h3><p>动态 SQL 的另一个常见使用场景是对集合进行遍历（尤其是在构建 IN 条件语句的时候）。比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectPostIn&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;domain.blog.Post&quot;</span>&gt;</span></span><br><span class="line">  SELECT *</span><br><span class="line">  FROM POST P</span><br><span class="line">  <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">open</span>=<span class="string">&quot;ID in (&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">nullable</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">          #&#123;item&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>foreach</em> 元素的功能非常强大，它允许你指定一个集合，声明可以在元素体内使用的集合项（item）和索引（index）变量。它也允许你指定开头与结尾的字符串以及集合项迭代之间的分隔符。这个元素也不会错误地添加多余的分隔符，看它多智能！</p><p><strong>提示</strong> 你可以将任何可迭代对象（如 List、Set 等）、Map 对象或者数组对象作为集合参数传递给 <em>foreach</em>。当使用可迭代对象或者数组时，index 是当前迭代的序号，item 的值是本次迭代获取到的元素。当使用 Map 对象（或者 Map.Entry 对象的集合）时，index 是键，item 是值。</p><p>至此，我们已经完成了与 XML 配置及映射文件相关的讨论。下一章将详细探讨 Java API，以便你能充分利用已经创建的映射配置。</p><h3 id="5-script"><a href="#5-script" class="headerlink" title="5.script"></a>5.script</h3><p>要在带注解的映射器接口类中使用动态 SQL，可以使用 <em>script</em> 元素。比如:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Update(&#123;&quot;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml">&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;update Author&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;  <span class="tag">&lt;<span class="name">set</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&#x27;username != null&#x27;</span>&gt;</span>username=#&#123;username&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&#x27;password != null&#x27;</span>&gt;</span>password=#&#123;password&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&#x27;email != null&#x27;</span>&gt;</span>email=#&#123;email&#125;,<span class="tag">&lt;/<span class="name">if</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&#x27;bio != null&#x27;</span>&gt;</span>bio=#&#123;bio&#125;<span class="tag">&lt;/<span class="name">if</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;  <span class="tag">&lt;/<span class="name">set</span>&gt;</span>&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;where id=#&#123;id&#125;&quot;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  &quot;</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;&#125;)</span><br><span class="line">void updateAuthorValues(Author author);</span><br></pre></td></tr></table></figure><h3 id="6-bind"><a href="#6-bind" class="headerlink" title="6.bind"></a>6.bind</h3><p><code>bind</code> 元素允许你在 OGNL 表达式以外创建一个变量，并将其绑定到当前的上下文。比如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectBlogsLike&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Blog&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bind</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#x27;%&#x27; + _parameter.getTitle() + &#x27;%&#x27;&quot;</span> /&gt;</span></span><br><span class="line">  SELECT * FROM BLOG</span><br><span class="line">  WHERE title LIKE #&#123;pattern&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-多数据库支持"><a href="#7-多数据库支持" class="headerlink" title="7.多数据库支持"></a>7.多数据库支持</h3><p>如果配置了 databaseIdProvider，你就可以在动态代码中使用名为 “_databaseId” 的变量来为不同的数据库构建特定的语句。比如下面的例子：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insert&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;int&quot;</span> <span class="attr">order</span>=<span class="string">&quot;BEFORE&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;_databaseId == &#x27;oracle&#x27;&quot;</span>&gt;</span></span><br><span class="line">      select seq_users.nextval from dual</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;_databaseId == &#x27;db2&#x27;&quot;</span>&gt;</span></span><br><span class="line">      select nextval for seq_users from sysibm.sysdummy1&quot;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br><span class="line">  insert into users values (#&#123;id&#125;, #&#123;name&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.mybatis介绍</title>
      <link href="/posts/35b5e9eb.html"/>
      <url>/posts/35b5e9eb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一、了解MyBatis"><a href="#一、了解MyBatis" class="headerlink" title="一、了解MyBatis"></a>一、了解MyBatis</h2><h3 id="1-mybatis历史（百度百科）"><a href="#1-mybatis历史（百度百科）" class="headerlink" title="1.mybatis历史（百度百科）"></a>1.mybatis历史（百度百科）</h3><ul><li>MyBatis 本是apache的一个开源项目【iBatis】, 2010年这个项目由apache software foundation（Apache软件基金会） 迁移到了google code（谷歌的代码托管平台），并且改名为MyBatis ，2013年11月迁移到Github。</li></ul><h3 id="2、作用-（百度百科）"><a href="#2、作用-（百度百科）" class="headerlink" title="2、作用 （百度百科）"></a>2、作用 （百度百科）</h3><ul><li>MyBatis 是一款优秀的持久层框架，它支持自定义 SQL、存储过程以及高级映射。MyBatis 免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作。</li></ul><h3 id="3、说说持久化"><a href="#3、说说持久化" class="headerlink" title="3、说说持久化"></a>3、说说持久化</h3><p> 持久化是将程序数据在持久状态和瞬时状态间转换的机制。通俗的讲，就是瞬时数据（比如内存中的数据，是不能永久保存的）持久化为持久数据（比如持久化至数据库中，能够长久保存）。</p><ol><li>程序产生的数据首先都是在内存。</li><li>内存是不可靠的，他丫的一断电数据就没了。</li><li>那可靠的存储地方是哪里？硬盘、U盘、光盘等。</li><li>我们的程序在运行时说的持久化通常就是指将内存的数据存在硬盘。</li></ol><h3 id="4、说说持久层"><a href="#4、说说持久层" class="headerlink" title="4、说说持久层"></a>4、说说持久层</h3><p>其实分层的概念已经谈到过：</p><ul><li>业务是需要操作数据的</li><li>数据是在磁盘上的</li><li>具体业务调用具体的数据库操作，耦合度太高，复用性太差</li><li>将操作数据库的代码统一抽离出来，自然就形成了介于业务层和数据库中间的独立的层</li></ul><h3 id="5、聊聊ORM"><a href="#5、聊聊ORM" class="headerlink" title="5、聊聊ORM"></a>5、聊聊ORM</h3><p> ORM，即Object-Relational Mapping（对象关系映射），它的作用是在关系型数据库和业务实体对象之间作一个映射，这样，我们在具体的操作业务对象的时候，就不需要再去和复杂的SQL语句打交道，只需简单的操作对象的属性和方法。</p><ul><li><strong>jpa</strong>（Java Persistence API）是java持久化规范，是orm框架的标准，主流orm框架都实现了这个标准。</li><li><strong>hibernate</strong>：全自动的框架，强大、复杂、笨重、学习成本较高，不够灵活，实现了jpa规范。Java Persistence API（Java 持久层 API）</li><li><strong>MyBatis</strong>：半自动的框架(懂数据库的人 才能操作) 必须要自己写sql，不是依照的jpa规范实现的。</li></ul><p>很多人青睐 MyBatis ，原因是其提供了便利的 SQL 操作，自由度高，封装性好…… JPA对复杂 SQL 的支持不好，没有实体关联的两个表要做 join ，的确要花不少功夫。</p><h3 id="6、MyBatis的优点和缺点"><a href="#6、MyBatis的优点和缺点" class="headerlink" title="6、MyBatis的优点和缺点"></a>6、MyBatis的优点和缺点</h3><ul><li><p>sql语句与代码分离，存放于xml配置文件中：</p><p>  <strong>优点</strong>：便于维护管理，不用在java代码中找这些语句；</p><p>  <strong>缺点</strong>： JDBC方式可以用打断点的方式调试，但是MyBatis调试比较复杂，一般要通过log4j日志输出日志信息帮助调试，然后在配置文件中修改。</p></li><li><p>用逻辑标签控制动态SQL的拼接：</p><p>  <strong>优点</strong>：用标签代替编写逻辑代码；</p><p>  <strong>缺点</strong>：拼接复杂SQL语句时，没有代码灵活，拼写比较复杂。不要使用变通的手段来应对这种复杂的语句。</p></li><li><p>查询的结果集与java对象自动映射：</p><p>  <strong>优点</strong>：保证名称相同，配置好映射关系即可自动映射或者，不配置映射关系，通过配置列名&#x3D;字段名也可完成自动映射。</p><p>  <strong>缺点</strong>：对开发人员所写的SQL依赖很强。</p></li><li><p>编写原生SQL：</p><p>  <strong>优点</strong>：接近JDBC，比较灵活。</p><p>  <strong>缺点</strong>：对SQL语句依赖程度很高；并且属于半自动，数据库移植比较麻烦，比如MySQL数据库编程Oracle数据库，部分的SQL语句需要调整。</p></li><li><p>最重要的一点，使用的人多！公司需要！</p></li></ul><h2 id="二、搭建个环境"><a href="#二、搭建个环境" class="headerlink" title="二、搭建个环境"></a>二、搭建个环境</h2><h3 id="1、建立数据库"><a href="#1、建立数据库" class="headerlink" title="1、建立数据库"></a>1、建立数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `ssm`;</span><br><span class="line">USE `ssm`;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">user</span>`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>` (</span><br><span class="line">`id` <span class="type">int</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`username` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`password` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> `<span class="keyword">user</span>`(`id`,`username`,`password`) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;itnanls&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;itlils&#x27;</span>,<span class="string">&#x27;abcdef&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;ydlclass&#x27;</span>,<span class="string">&#x27;987654&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="2、构建一个工程"><a href="#2、构建一个工程" class="headerlink" title="2、构建一个工程"></a>2、构建一个工程</h3><p><img src="https://s2.loli.net/2023/04/06/Iu1Va83bLHyrNEl.png" alt="image-20230406092344564"></p><h6 id="2-1-修改配置文件pom-xml"><a href="#2-1-修改配置文件pom-xml" class="headerlink" title="2.1 修改配置文件pom.xml"></a>2.1 修改配置文件pom.xml</h6><p><img src="https://s2.loli.net/2023/04/06/RmC9cXWyFU6PbLG.png" alt="image-20230406092503289"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis_text<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">maven.compiler.encoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 数据库确定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--suppress UnresolvedMavenProperty --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 单元测试 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-2-配置mybatis-config-xml"><a href="#2-2-配置mybatis-config-xml" class="headerlink" title="2.2 配置mybatis-config.xml"></a>2.2 配置mybatis-config.xml</h6><p><img src="https://s2.loli.net/2023/04/06/biwaol47X9pJ8yt.png" alt="image-20230406092757758"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///ssm?useSSL=false&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        sql映射文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>需要修改数据库连接信息</p><p><img src="https://s2.loli.net/2023/04/06/EwDxju7Kicv3SVZ.png" alt="image-20230406092936663"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///ssm?useSSL=false&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-3-配置UserMapper-xml"><a href="#2-3-配置UserMapper-xml" class="headerlink" title="2.3 配置UserMapper.xml"></a>2.3 配置UserMapper.xml</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="2-4-配置-log4j-xml"><a href="#2-4-配置-log4j-xml" class="headerlink" title="2.4 配置 log4j.xml"></a>2.4 配置 log4j.xml</h6><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;pattern&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss&#125; %c [%thread] %-5level %msg%n&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;log_dir&quot;</span> <span class="attr">value</span>=<span class="string">&quot;d:/logs&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;console&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>System.out<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;pattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.FileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--日志格式配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;pattern&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--日志输出路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;log_dir&#125;/sql.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;ALL&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;console&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;mybatis.sql&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-5-新建User类"><a href="#2-5-新建User类" class="headerlink" title="2.5 新建User类"></a>2.5 新建User类</h6><p><img src="https://s2.loli.net/2023/04/06/qrFEAYW3sIN1Hyl.png" alt="image-20230406093904909"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id ;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&#x27;&quot;</span> + id + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-6-新建MyBatisDome"><a href="#2-6-新建MyBatisDome" class="headerlink" title="2.6 新建MyBatisDome"></a>2.6 新建MyBatisDome</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">package com.cwwwxl.pojo;</span><br><span class="line"></span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class MyBatisDome &#123;</span><br><span class="line">    public static void main(String[] args)  &#123;</span><br><span class="line">        //加载配置文件</span><br><span class="line">        String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">        InputStream inputStream = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">        List&lt;Object&gt; objects = sqlSession.selectList(&quot;text.selectAll&quot;); //加载sql文件</span><br><span class="line">        System.out.println(objects); //打印日志</span><br><span class="line">        sqlSession.close();//释放资源</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/06/RqEsVjetuzQ6aNo.png" alt="image-20230406094322256"></p><p>出现以下信息查询成功。</p><h3 id="3-DTD"><a href="#3-DTD" class="headerlink" title="3.DTD"></a>3.DTD</h3><p>​       DTD(Document Type Definition)即文档类型定义，是一种XML约束模式语言，是XML文件的验证机制</p><p><strong>如下所示是公共DTD示例。</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>关于DTD的声明解释如下：</p><p>1、DTD声明始终以!DOCTYPE开头，空一格后跟着文档根元素的名称。</p><p>2、根元素名：configuration。所以每一个标签库定义文件都是以taglib为根元素的，否则就不会验证通过。</p><p>3、PUBLIC “-<a href="https://mybatis.org//DTD">&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTDopen in new window</a> Config 3.0&#x2F;&#x2F;EN，这是一个公共DTD的名称（私有的使用SYSTEM表示）。这个东西命名是有些讲究的。首先它是以”-“开头的，表示这个DTD不是一个标准组织制定的。（如果是ISO标准化组织批准的，以“ISO”开头）。接着就是双斜杠“&#x2F;&#x2F;”，跟着的是DTD所有者的名字，很明显这个DTD是MyBatis公司定的。接着又是双斜杠“&#x2F;&#x2F;”，然后跟着的是DTD描述的文档类型，可以看出这份DTD描述的是DTD Config 3.0的格式。再跟着的就是“&#x2F;&#x2F;”和ISO 639语言标识符。</p><p>4、绿色的字”<a href="http://mybatis.org/dtd/mybatis-3-config.dtd">http://mybatis.org/dtd/mybatis-3-config.dtdopen in new window</a>“，表示这个DTD的位置。</p><p>疑问：是不是xml分析器都会到java.sun.com上去找这个dtd呢？答案是否定的，xml分析器首先会以某种机制查找公共DTD的名称，查到了，则以此为标准，如果查不到，再到DTD位置上去找。</p><h5 id="（2）XSD"><a href="#（2）XSD" class="headerlink" title="（2）XSD"></a>（2）XSD</h5><p> 文档结构描述XML Schema Definition 缩写，这种文件同样可以用来定义我们xml文件的结构！</p><p>我们看看pom文件的xml头部：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1、第一行的xmlns代表了一个xml文件中的一个命名空间，通常是一个唯一的字符串，一般使用一个url，因为不会重复嘛。</p><p>它的语法如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:namespace-prefix=&quot;namespaceURI&quot;</span><br></pre></td></tr></table></figure><p>后边什么也不加，代表默认命名空间，我们在书写标签的时候不需要加任何前缀。</p><p>如果我将其改为：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:c=&quot;http://maven.apache.org/POM/4.0.0&quot;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/06/7Pq2zDLs93lrjMk.png" alt="image-20211104144031737">image-20211104144031737</p><p>2、xmlns:xsi 定义了一个命名空间前缀 xsi 对应的唯一字符串 <a href="http://www.w3.org/2001/XMLSchema-instance%E3%80%82%E4%BD%86%E8%BF%99%E4%B8%AA">http://www.w3.org/2001/XMLSchema-instance。但这个open in new window</a> xmlns:xsi 在不同的 xml 文档中似乎都会出现。 这是因为， xsi 已经成为了一个业界默认的用于 XSD(（XML Schema Definition) 文件的命名空间。 而 XSD 文件（也常常称为 Schema 文件）是用来定义 xml 文档结构的。剩余两行的目的在于为我们的命名空间指定对应的xsd文件。</p><p>事实上我们这么写也是可以的：</p><p><img src="https://s2.loli.net/2023/04/06/cmKRH6XY1AnxVwL.png" alt="image-20211104144300243">image-20211104144300243</p><p>上面这行的语法其实是， xsi:schemaLocation &#x3D; “ns1url xsd1 ns2url xsd2”</p><p>XML Schema相对于DTD的优点在于:</p><ol><li>XML Schema基于XML，没有专门的语法。</li><li>XML Schema可以像其他XML文件一样解析和处理。</li><li>XML Schema比DTD提供了更丰富的数据类型。</li><li>XML Schema提供可扩充的数据模型。</li><li>XML Schema支持综合命名空间。</li><li>XML Schema支持属性组。</li></ol><h3 id="4、编写实体类"><a href="#4、编写实体类" class="headerlink" title="4、编写实体类"></a>4、编写实体类</h3><blockquote><p>lombok</p></blockquote><p>平时的工作中写setter和getter以及toString方法是不是已经烦了，每次添加一个字段都要重新添加这些方法。</p><p>今天我们学习一个神器，从此再也不用写这些重复的代码了，它们在编译的时候动态的帮我们生成这些代码。</p><ol><li>javac对源代码进行分析，生成了一棵抽象语法树（AST）</li><li>运行过程中调用实现了“JSR 269 API”的Lombok程序</li><li>此时Lombok就对第一步骤得到的AST进行处理，找到@Data注解所在类对应的语法树（AST），然后修改该语法树（AST），增加getter和setter方法定义的相应树节点</li><li>javac使用修改后的抽象语法树（AST）生成字节码文件，即给class增加新的节点（代码块）</li></ol><p>1，首先，我们必须安装一个插件，否则编译的时候会报错，你没有写setter方法，又去调用它当然不能编译：</p><p><img src="D:\学习笔记\图片\image-20211020113926489-cc324000.png" alt="image-20211020113926489">image-20211020113926489</p><p>2、引入依赖，lombok在编译的时候，会根据我们的注解动态生成我们需要的构造方法，setter和getter等，运行的时候就没用了。所以scope选择provided。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>从今往后，只需要在对应的类上加上这几个注解，就能完成对应的编译工作</p><ul><li>@AllArgsConstructor：生成全参构造器。</li><li>@NoArgsConstructor：生成无参构造器。</li><li>@Getter&#x2F;@Setter： 作用类上，生成所有成员变量的getter&#x2F;setter方法；作用于成员变量上，生成该成员变量的getter&#x2F;setter方法。可以设定访问权限及是否懒加载等。</li><li>@Data：作用于类上，是以下注解的集合：@ToString @EqualsAndHashCode @Getter @Setter @RequiredArgsConstructor</li><li>@Log：作用于类上，生成日志变量。针对不同的日志实现产品，有不同的注解。</li></ul><p>注解还有很多，自行学习。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此时我们的User是不是变得很简洁呢？</p><p>我们随便写一个main方法，然后编译一下：</p><p>编译后的结果是这个样子的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="built_in">this</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> User)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">User</span> <span class="variable">other</span> <span class="operator">=</span> (User)o;</span><br><span class="line">            <span class="keyword">if</span> (!other.canEqual(<span class="built_in">this</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.getId() != other.getId()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">Object</span> <span class="variable">this$username</span> <span class="operator">=</span> <span class="built_in">this</span>.getUsername();</span><br><span class="line">                <span class="type">Object</span> <span class="variable">other$username</span> <span class="operator">=</span> other.getUsername();</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>$username == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (other$username != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">this</span>$username.equals(other$username)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="type">Object</span> <span class="variable">this$password</span> <span class="operator">=</span> <span class="built_in">this</span>.getPassword();</span><br><span class="line">                <span class="type">Object</span> <span class="variable">other$password</span> <span class="operator">=</span> other.getPassword();</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>$password == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (other$password != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">this</span>$password.equals(other$password)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">canEqual</span><span class="params">(Object other)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> other <span class="keyword">instanceof</span> User;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">PRIME</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> result * <span class="number">59</span> + <span class="built_in">this</span>.getId();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">$username</span> <span class="operator">=</span> <span class="built_in">this</span>.getUsername();</span><br><span class="line">        result = result * <span class="number">59</span> + ($username == <span class="literal">null</span> ? <span class="number">43</span> : $username.hashCode());</span><br><span class="line">        <span class="type">Object</span> <span class="variable">$password</span> <span class="operator">=</span> <span class="built_in">this</span>.getPassword();</span><br><span class="line">        result = result * <span class="number">59</span> + ($password == <span class="literal">null</span> ? <span class="number">43</span> : $password.hashCode());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">var10000</span> <span class="operator">=</span> <span class="built_in">this</span>.getId();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User(id=&quot;</span> + var10000 + <span class="string">&quot;, username=&quot;</span> + <span class="built_in">this</span>.getUsername() + <span class="string">&quot;, password=&quot;</span> + <span class="built_in">this</span>.getPassword() + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> id, String username, String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们发现，编译后注解没了，其他的都有了，自然运行时就能调用了呀！ </p><h6 id="第一个测试程序"><a href="#第一个测试程序" class="headerlink" title="第一个测试程序"></a>第一个测试程序</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisDome</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.读取全局配置文件</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//2.获取sqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//3.获取session对象</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> sqlSessionFactory.openSession()) &#123;</span><br><span class="line">            <span class="comment">//通过sqlseeeion实现数据库操作，s就是命令空间</span></span><br><span class="line">            List&lt;Object&gt; list = session.selectList(<span class="string">&quot;text.selectAll&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (Object user :list) &#123;</span><br><span class="line">                System.out.println(user);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭会话</span></span><br><span class="line">            session.close();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-增删改查"><a href="#5-增删改查" class="headerlink" title="5.增删改查"></a>5.增删改查</h3><p>通过使用mybatis对数据的增删改查操作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cwwwxl.pojo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBatisDome</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="comment">//        //1.读取全局配置文件</span></span><br><span class="line"><span class="comment">//        String resource = &quot;mybatis-config.xml&quot;;</span></span><br><span class="line"><span class="comment">//        InputStream inputStream = null;</span></span><br><span class="line"><span class="comment">//        try &#123;</span></span><br><span class="line"><span class="comment">//            inputStream = Resources.getResourceAsStream(resource);</span></span><br><span class="line"><span class="comment">//        &#125; catch (IOException e) &#123;</span></span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        //2.获取sqlSessionFactory对象</span></span><br><span class="line"><span class="comment">//        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span></span><br><span class="line"><span class="comment">//        //3.获取session对象</span></span><br><span class="line"><span class="comment">//        try (SqlSession session = sqlSessionFactory.openSession()) &#123;</span></span><br><span class="line"><span class="comment">//            //通过sqlseeeion实现数据库操作，s就是命令空间</span></span><br><span class="line"><span class="comment">//            List&lt;Object&gt; list = session.selectList(&quot;text.selectAll&quot;);</span></span><br><span class="line"><span class="comment">//            for (Object user :list) &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println(user);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            //关闭会话</span></span><br><span class="line"><span class="comment">//            session.close();</span></span><br><span class="line">        <span class="type">MyBatisDome</span> <span class="variable">myBatisDome</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyBatisDome</span>();</span><br><span class="line">        myBatisDome.deleteUser();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 根据主键查询数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ByID</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//加载配置文件</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">session</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建SqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> session.openSession();</span><br><span class="line">        <span class="comment">//根据主键查询</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> sqlSession.selectOne(<span class="string">&quot;text.ByID&quot;</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(o);</span><br><span class="line">        <span class="comment">//关闭会话</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//添加用户信息</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inserUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        <span class="comment">//创建User对象</span></span><br><span class="line">        User User=<span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        User.setId(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        User.setUsername(<span class="string">&quot;wangxinglong&quot;</span>);</span><br><span class="line">        User.setPassword(<span class="string">&quot;1233789&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">wangxinglong</span> <span class="operator">=</span> sqlSession.insert(<span class="string">&quot;text.inserUser&quot;</span>,User);</span><br><span class="line">       <span class="comment">//提交数据</span></span><br><span class="line">       sqlSession.commit();</span><br><span class="line"></span><br><span class="line">        System.out.println(wangxinglong);</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//更新数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        User User=<span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        User.setId(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        User.setUsername(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        User.setPassword(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">update</span> <span class="operator">=</span> sqlSession.update(<span class="string">&quot;text.updateUser&quot;</span>, User);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        System.out.println(update);</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        String resource=<span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="comment">//创建一个SqlSessionFactory对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">build</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建一sqlSession对象</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> build.openSession();</span><br><span class="line">        <span class="type">int</span> <span class="variable">delete</span> <span class="operator">=</span> sqlSession.delete(<span class="string">&quot;text.deleteUser&quot;</span>, <span class="number">3</span>);</span><br><span class="line">        System.out.println(delete);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserMaper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;https://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;ByID&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!--    添加用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;inserUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        insert into user(id,username,password) values (#&#123;id&#125;,#&#123;username&#125;,#&#123;password&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    更新用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.cwwwxl.pojo.entity.User&quot;</span>&gt;</span></span><br><span class="line">        update user set username=#&#123;username&#125;,password=#&#123;password&#125; where id=#&#123;id&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    删除操作--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUser&quot;</span>&gt;</span></span><br><span class="line">        delete  from user  where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.Hadoop搭建教程</title>
      <link href="/posts/51741172.html"/>
      <url>/posts/51741172.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-Hadoop基础环境搭建（3台机械同时配置）"><a href="#1-Hadoop基础环境搭建（3台机械同时配置）" class="headerlink" title="1. Hadoop基础环境搭建（3台机械同时配置）"></a>1. Hadoop基础环境搭建（3台机械同时配置）</h3><h5 id="1-1主机名解析"><a href="#1-1主机名解析" class="headerlink" title="1.1主机名解析"></a>1.1主机名解析</h5><p>为了方便集群节点间的直接调用，在这个配置一下主机名解析，企业中推荐使用内部DNS服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主机名成解析 编辑三台服务器的vi /etc/hosts文件，添加下面内容</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.100</span> master</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.106</span> node1</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.107</span> node2</span><br><span class="line"><span class="comment">#验证是否成功，可以ping通就代表配置成功</span></span><br><span class="line">ping master</span><br><span class="line">ping node1</span><br><span class="line">ping node2</span><br><span class="line"></span><br><span class="line"><span class="comment">#修改centos系统的主机名,设置完成之后需要重启</span></span><br><span class="line">hostnamectl <span class="built_in">set-hostname</span> master</span><br><span class="line">hostnamectl <span class="built_in">set-hostname</span> node1</span><br><span class="line">hostnamectl <span class="built_in">set-hostname</span> node2</span><br></pre></td></tr></table></figure><h5 id="1-2-时间同步"><a href="#1-2-时间同步" class="headerlink" title="1.2 时间同步"></a>1.2 时间同步</h5><p>要求集群中的节点时间必须精确，这里使用chronyd服务从网络同步时间</p><p>企业中建议配置内部的会见同步服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动chronyd服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl start chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable chronyd</span></span><br><span class="line"><span class="comment">#使用date查看时间是否一致</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># date</span></span><br></pre></td></tr></table></figure><h5 id="1-3-禁用iptable和firewalld服务"><a href="#1-3-禁用iptable和firewalld服务" class="headerlink" title="1.3  禁用iptable和firewalld服务"></a>1.3  禁用iptable和firewalld服务</h5><p>在运行的中会产生大量的iptables规则，为了不让系统规则跟它们混淆，直接关闭系统的规则</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 关闭firewalld服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop firewalld</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable firewalld</span></span><br><span class="line"><span class="comment"># 2 关闭iptables服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop iptables</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable iptables</span></span><br></pre></td></tr></table></figure><h5 id="1-4-禁用selinux"><a href="#1-4-禁用selinux" class="headerlink" title="1.4 禁用selinux"></a>1.4 禁用selinux</h5><p>selinux是linux系统下的一个安全服务，如果不关闭它，在安装集群中会产生各种各样的奇葩问题</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 vi /etc/selinux/config 文件，修改SELINUX的值为disable</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><h5 id="1-5-禁用swap分区"><a href="#1-5-禁用swap分区" class="headerlink" title="1.5 禁用swap分区"></a>1.5 禁用swap分区</h5><p>swap分区指的是虚拟内存分区，它的作用是物理内存使用完，之后将磁盘空间虚拟成内存来使用，启用swap设备会对系统的性能产生非常负面的影响，因此kubernetes要求每个节点都要禁用swap设备，但是如果因为某些原因确实不能关闭swap分区，就需要在集群安装过程中通过明确的参数进行配置说明</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑分区配置文件vi /etc/fstab，注释掉swap分区一行</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">注释掉 /dev/mapper/centos<span class="literal">-swap</span> swap</span><br><span class="line"><span class="comment"># /dev/mapper/centos-swap swap</span></span><br></pre></td></tr></table></figure><h5 id="1-6-关闭防火墙"><a href="#1-6-关闭防火墙" class="headerlink" title="1.6 关闭防火墙"></a>1.6 关闭防火墙</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">防火墙关闭</span></span><br><span class="line">firewall-cmd --state#查看防火墙状态</span><br><span class="line">systemctl stop firewalld.service  #停止firewalld服务</span><br><span class="line">systemctl disable firewalld.service  #开机禁用firewalld服务</span><br></pre></td></tr></table></figure><h5 id="1-7-ssh免密登录"><a href="#1-7-ssh免密登录" class="headerlink" title="1.7 ssh免密登录"></a>1.7 ssh免密登录</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ssh免密登录（只需要配置master至node1、node2、node3即可）</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master生成公钥私钥 (一路回车)</span></span><br><span class="line">ssh-keygen  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">master配置免密登录到node1 node2</span> </span><br><span class="line">ssh-copy-id master</span><br><span class="line">ssh-copy-id node1</span><br><span class="line">ssh-copy-id node2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">测试是否免密成功，如果可以进去代表免密登录</span></span><br><span class="line">ssh master</span><br><span class="line">ssh node1</span><br><span class="line">ssh node2</span><br></pre></td></tr></table></figure><h5 id="1-8-新建工作空间"><a href="#1-8-新建工作空间" class="headerlink" title="1.8 新建工作空间"></a>1.8 新建工作空间</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">这个工作空间必须创建</span></span><br><span class="line">mkdir -p /export/server/</span><br><span class="line">mkdir -p /export/data/</span><br><span class="line">mkdir -p /export/text/</span><br></pre></td></tr></table></figure><h5 id="1-9-Java环境变量"><a href="#1-9-Java环境变量" class="headerlink" title="1.9 Java环境变量"></a>1.9 Java环境变量</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">JDK 1.8安装  上传 jdk-8u241-linux-x64.tar.gz到/export/server/目录下</span></span><br><span class="line">cd /export/server/</span><br><span class="line">tar -zxvf jdk-8u241-linux-x64.tar.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压完成之后进行重命名，在/export/server/这个路径下使用命令</span></span><br><span class="line">mv jdk-1.1.0 jdk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/export/server/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新加载环境变量文件</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证jdk 是否安装成功</span></span><br><span class="line">java -version</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-部署（3台机械同时配置）"><a href="#2-部署（3台机械同时配置）" class="headerlink" title="2.部署（3台机械同时配置）"></a>2.部署（3台机械同时配置）</h3><h5 id="1-1上传Hadoop安装包到master-x2F-export-x2F-server"><a href="#1-1上传Hadoop安装包到master-x2F-export-x2F-server" class="headerlink" title="1.1上传Hadoop安装包到master &#x2F;export&#x2F;server"></a>1.1上传Hadoop安装包到master &#x2F;export&#x2F;server</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop-3.3.0-Centos7-64-with-snappy.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf hadoop-3.3.0-Centos7-64-with-snappy.tar.gz</span><br></pre></td></tr></table></figure><h5 id="1-2修改配置文件-cd-x2F-export-x2F-server-x2F-hadoop-3-3-0-x2F-etc-x2F-hadoop"><a href="#1-2修改配置文件-cd-x2F-export-x2F-server-x2F-hadoop-3-3-0-x2F-etc-x2F-hadoop" class="headerlink" title="1.2修改配置文件(cd &#x2F;export&#x2F;server&#x2F;hadoop-3.3.0&#x2F;etc&#x2F;hadoop)"></a>1.2修改配置文件(cd &#x2F;export&#x2F;server&#x2F;hadoop-3.3.0&#x2F;etc&#x2F;hadoop)</h5><ul><li>hadoop-env.sh</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">文件最后添加</span></span><br><span class="line">export JAVA_HOME=/export/server/jdk</span><br><span class="line">export HDFS_NAMENODE_USER=root</span><br><span class="line">export HDFS_DATANODE_USER=root</span><br><span class="line">export HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line">export YARN_RESOURCEMANAGER_USER=root</span><br><span class="line">export YARN_NODEMANAGER_USER=root </span><br></pre></td></tr></table></figure><ul><li><p>​core-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置默认使用的文件系统 Hadoop支持file、HDFS、GFS、ali|Amazon云等文件系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://master:8020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置Hadoop本地保存数据路径 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>/export/data/hadoop-3.3.0<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置HDFS web UI用户身份 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.http.staticuser.user<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 整合hive 用户代理设置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 文件系统垃圾桶保存时间 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.trash.interval<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>1440<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>hdfs-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置SNN进程运行机器位置信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>node2:9868<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>mapred-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置MR程序默认运行模式： yarn集群模式 local本地模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- MR程序历史服务地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- MR程序历史服务器web端地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>master:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.app.mapreduce.am.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.map.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.reduce.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>yarn-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置YARN集群主角色运行机器位置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>master<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 是否将对容器实施物理内存限制 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.pmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 是否将对容器实施虚拟内存限制。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.vmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启日志聚集 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置yarn历史服务器地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log.server.url<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>http://master:19888/jobhistory/logs<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 历史日志保存的时间 7天 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>604800<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>使用vim 修改 workers文件</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">node1</span><br><span class="line">node2</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>将hadoop添加到环境变量（3台机器）</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新加载环境变量文件</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证是否成功</span></span><br><span class="line">hadoop -version</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><h5 id="Hadoop集群启动（只在master节点）"><a href="#Hadoop集群启动（只在master节点）" class="headerlink" title="Hadoop集群启动（只在master节点）"></a>Hadoop集群启动（只在master节点）</h5><ul><li><p>（&#x3D;&#x3D;首次启动&#x3D;&#x3D;）格式化namenode</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure></li><li><p>脚本一键启动</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# start-dfs.sh </span><br><span class="line">Starting namenodes on [node1]</span><br><span class="line">Last login: Thu Nov  5 10:44:10 CST 2020 on pts/0</span><br><span class="line">Starting datanodes</span><br><span class="line">Last login: Thu Nov  5 10:45:02 CST 2020 on pts/0</span><br><span class="line">Starting secondary namenodes [node2]</span><br><span class="line">Last login: Thu Nov  5 10:45:04 CST 2020 on pts/0</span><br><span class="line"></span><br><span class="line">[root@master ~]# start-yarn.sh </span><br><span class="line">Starting resourcemanager</span><br><span class="line">Last login: Thu Nov  5 10:45:08 CST 2020 on pts/0</span><br><span class="line">Starting nodemanagers</span><br><span class="line">Last login: Thu Nov  5 10:45:44 CST 2020 on pts/0</span><br></pre></td></tr></table></figure></li><li><p>Web  UI页面</p><ul><li>HDFS集群：<a href="http://192.168.90.100:9870/">http://192.168.90.100:9870/</a>  </li><li>YARN集群：<a href="http://192.168.90.100:8088/">http://192.168.90.100:8088/</a></li><li>HDFS集群：<a href="http://master:9870/">http://master:9870/</a>  </li><li>YARN集群：<a href="http://master:8088/">http://master:8088/</a></li></ul></li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@master hadoop]# start-dfs.sh</span><br><span class="line">Starting namenodes on [node1]</span><br><span class="line">上一次登录：二 12月 27 11:19:23 CST 2022从 192.168.169.1pts/0 上</span><br><span class="line">Starting datanodes</span><br><span class="line">上一次登录：二 12月 27 11:20:33 CST 2022pts/0 上</span><br><span class="line">Starting secondary namenodes [node2]</span><br><span class="line">上一次登录：二 12月 27 11:20:35 CST 2022pts/0 上</span><br><span class="line"></span><br><span class="line">[root@master hadoop]# jps</span><br><span class="line">1793 NameNode</span><br><span class="line">1921 DataNode</span><br><span class="line">2218 Jps</span><br><span class="line">[root@master hadoop]# start-yarn.sh</span><br><span class="line">Starting resourcemanager</span><br><span class="line">上一次登录：二 12月 27 11:20:43 CST 2022pts/0 上</span><br><span class="line">Starting nodemanagers</span><br><span class="line">上一次登录：二 12月 27 11:24:29 CST 2022pts/0 上</span><br><span class="line">[root@master hadoop]#</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>java中的语法糖</title>
      <link href="/posts/54140468.html"/>
      <url>/posts/54140468.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="什么是语法糖？"><a href="#什么是语法糖？" class="headerlink" title="什么是语法糖？"></a>什么是语法糖？</h2><p><strong>语法糖（Syntactic Sugar）</strong> 也称糖衣语法，是英国计算机学家 Peter.J.Landin 发明的一个术语，指在计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。简而言之，语法糖让程序更加简洁，有更高的可读性。</p><p><img src="https://s2.loli.net/2023/04/02/ZQHY53xhBpLkOgu.png" alt="img"></p><blockquote><p>有意思的是，在编程领域，除了语法糖，还有语法盐和语法糖精的说法，篇幅有限这里不做扩展了。</p></blockquote><p>我们所熟知的编程语言中几乎都有语法糖。作者认为，语法糖的多少是评判一个语言够不够牛逼的标准之一。很多人说 Java 是一个“低糖语言”，其实从 Java 7 开始 Java 语言层面上一直在添加各种糖，主要是在“Project Coin”项目下研发。尽管现在 Java 有人还是认为现在的 Java 是低糖，未来还会持续向着“高糖”的方向发展。</p><h2 id="Java-中有哪些常见的语法糖？"><a href="#Java-中有哪些常见的语法糖？" class="headerlink" title="Java 中有哪些常见的语法糖？"></a>Java 中有哪些常见的语法糖？</h2><p>前面提到过，语法糖的存在主要是方便开发人员使用。但其实， <strong>Java 虚拟机并不支持这些语法糖。这些语法糖在编译阶段就会被还原成简单的基础语法结构，这个过程就是解语法糖。</strong></p><p>说到编译，大家肯定都知道，Java 语言中，<code>javac</code>命令可以将后缀名为<code>.java</code>的源文件编译为后缀名为<code>.class</code>的可以运行于 Java 虚拟机的字节码。如果你去看<code>com.sun.tools.javac.main.JavaCompiler</code>的源码，你会发现在<code>compile()</code>中有一个步骤就是调用<code>desugar()</code>，这个方法就是负责解语法糖的实现的。</p><p>Java 中最常用的语法糖主要有泛型、变长参数、条件编译、自动拆装箱、内部类等。本文主要来分析下这些语法糖背后的原理。一步一步剥去糖衣，看看其本质。</p><p>我们这里会用到<a href="https://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&mid=2650120609&idx=1&sn=5659f96310963ad57d55b48cee63c788&chksm=f36bbc80c41c3596a1e4bf9501c6280481f1b9e06d07af354474e6f3ed366fef016df673a7ba&scene=21#wechat_redirect">反编译</a>，你可以通过 <a href="http://www.javadecompilers.com/">Decompilers online</a> 对 Class 文件进行在线反编译。</p><h3 id="switch-支持-String-与枚举"><a href="#switch-支持-String-与枚举" class="headerlink" title="switch 支持 String 与枚举"></a>switch 支持 String 与枚举</h3><p>前面提到过，从 Java 7 开始，Java 语言中的语法糖在逐渐丰富，其中一个比较重要的就是 Java 7 中<code>switch</code>开始支持<code>String</code>。</p><p>在开始之前先科普下，Java 中的<code>switch</code>自身原本就支持基本类型。比如<code>int</code>、<code>char</code>等。对于<code>int</code>类型，直接进行数值的比较。对于<code>char</code>类型则是比较其 ascii 码。所以，对于编译器来说，<code>switch</code>中其实只能使用整型，任何类型的比较都要转换成整型。比如<code>byte</code>。<code>short</code>，<code>char</code>(ackii 码是整型)以及<code>int</code>。</p><p>那么接下来看下<code>switch</code>对<code>String</code>得支持，有以下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">switchDemoString</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (str) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;hello&quot;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;world&quot;</span>:</span><br><span class="line">            System.out.println(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后内容如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">switchDemoString</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">switchDemoString</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">        String s;</span><br><span class="line">        <span class="keyword">switch</span>((s = str).hashCode())</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">99162322</span>:</span><br><span class="line">            <span class="keyword">if</span>(s.equals(<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">                System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">113318802</span>:</span><br><span class="line">            <span class="keyword">if</span>(s.equals(<span class="string">&quot;world&quot;</span>))</span><br><span class="line">                System.out.println(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看到这个代码，你知道原来 <strong>字符串的 switch 是通过<code>equals()</code>和<code>hashCode()</code>方法来实现的。</strong> 还好<code>hashCode()</code>方法返回的是<code>int</code>，而不是<code>long</code>。</p><p>仔细看下可以发现，进行<code>switch</code>的实际是哈希值，然后通过使用<code>equals</code>方法比较进行安全检查，这个检查是必要的，因为哈希可能会发生碰撞。因此它的性能是不如使用枚举进行 <code>switch</code> 或者使用纯整数常量，但这也不是很差。</p><h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><p>我们都知道，很多语言都是支持泛型的，但是很多人不知道的是，不同的编译器对于泛型的处理方式是不同的，通常情况下，一个编译器处理泛型有两种方式：<code>Code specialization</code>和<code>Code sharing</code>。C++和 C#是使用<code>Code specialization</code>的处理机制，而 Java 使用的是<code>Code sharing</code>的机制。</p><blockquote><p>Code sharing 方式为每个泛型类型创建唯一的字节码表示，并且将该泛型类型的实例都映射到这个唯一的字节码表示上。将多种泛型类形实例映射到唯一的字节码表示是通过类型擦除（<code>type erasue</code>）实现的。</p></blockquote><p>也就是说，<strong>对于 Java 虚拟机来说，他根本不认识<code>Map&lt;String, String&gt; map</code>这样的语法。需要在编译阶段通过类型擦除的方式进行解语法糖。</strong></p><p>类型擦除的主要过程如下： 1.将所有的泛型参数用其最左边界（最顶级的父类型）类型替换。 2.移除所有的类型参数。</p><p>以下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, String&gt;();</span><br><span class="line">map.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;hollis&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;wechat&quot;</span>, <span class="string">&quot;Hollis&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;blog&quot;</span>, <span class="string">&quot;www.hollischuang.com&quot;</span>);</span><br></pre></td></tr></table></figure><p>解语法糖之后会变成：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">map.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;hollis&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;wechat&quot;</span>, <span class="string">&quot;Hollis&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;blog&quot;</span>, <span class="string">&quot;www.hollischuang.com&quot;</span>);</span><br></pre></td></tr></table></figure><p>以下代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;A <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;A&gt;&gt; A <span class="title function_">max</span><span class="params">(Collection&lt;A&gt; xs)</span> &#123;</span><br><span class="line">    Iterator&lt;A&gt; xi = xs.iterator();</span><br><span class="line">    <span class="type">A</span> <span class="variable">w</span> <span class="operator">=</span> xi.next();</span><br><span class="line">    <span class="keyword">while</span> (xi.hasNext()) &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">x</span> <span class="operator">=</span> xi.next();</span><br><span class="line">        <span class="keyword">if</span> (w.compareTo(x) &lt; <span class="number">0</span>)</span><br><span class="line">            w = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> w;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类型擦除后会变成：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> Comparable <span class="title function_">max</span><span class="params">(Collection xs)</span>&#123;</span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">xi</span> <span class="operator">=</span> xs.iterator();</span><br><span class="line">    <span class="type">Comparable</span> <span class="variable">w</span> <span class="operator">=</span> (Comparable)xi.next();</span><br><span class="line">    <span class="keyword">while</span>(xi.hasNext())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Comparable</span> <span class="variable">x</span> <span class="operator">=</span> (Comparable)xi.next();</span><br><span class="line">        <span class="keyword">if</span>(w.compareTo(x) &lt; <span class="number">0</span>)</span><br><span class="line">            w = x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> w;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>虚拟机中没有泛型，只有普通类和普通方法，所有泛型类的类型参数在编译时都会被擦除，泛型类并没有自己独有的<code>Class</code>类对象。比如并不存在<code>List&lt;String&gt;.class</code>或是<code>List&lt;Integer&gt;.class</code>，而只有<code>List.class</code>。</strong></p><h3 id="自动装箱与拆箱"><a href="#自动装箱与拆箱" class="headerlink" title="自动装箱与拆箱"></a>自动装箱与拆箱</h3><p>自动装箱就是 Java 自动将原始类型值转换成对应的对象，比如将 int 的变量转换成 Integer 对象，这个过程叫做装箱，反之将 Integer 对象转换成 int 类型值，这个过程叫做拆箱。因为这里的装箱和拆箱是自动进行的非人为转换，所以就称作为自动装箱和拆箱。原始类型 byte, short, char, int, long, float, double 和 boolean 对应的封装类为 Byte, Short, Character, Integer, Long, Float, Double, Boolean。</p><p>先来看个自动装箱的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">n</span> <span class="operator">=</span> Integer.valueOf(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再来看个自动拆箱的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> Integer.valueOf(<span class="number">10</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> i.intValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从反编译得到内容可以看出，在装箱的时候自动调用的是<code>Integer</code>的<code>valueOf(int)</code>方法。而在拆箱的时候自动调用的是<code>Integer</code>的<code>intValue</code>方法。</p><p>所以，<strong>装箱过程是通过调用包装器的 valueOf 方法实现的，而拆箱过程是通过调用包装器的 xxxValue 方法实现的。</strong></p><h3 id="可变长参数"><a href="#可变长参数" class="headerlink" title="可变长参数"></a>可变长参数</h3><p>可变参数(<code>variable arguments</code>)是在 Java 1.5 中引入的一个特性。它允许一个方法把任意数量的值作为参数。</p><p>看下以下可变参数代码，其中 <code>print</code> 方法接收可变参数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;Holis&quot;</span>, <span class="string">&quot;公众号:Hollis&quot;</span>, <span class="string">&quot;博客：www.hollischuang.com&quot;</span>, <span class="string">&quot;QQ：907607222&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String... strs)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(strs[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">new</span> <span class="title class_">String</span>[] &#123;</span><br><span class="line">        <span class="string">&quot;Holis&quot;</span>, <span class="string">&quot;\u516C\u4F17\u53F7:Hollis&quot;</span>, <span class="string">&quot;\u535A\u5BA2\uFF1Awww.hollischuang.com&quot;</span>, <span class="string">&quot;QQ\uFF1A907607222&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">transient</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String strs[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strs.length; i++)</span><br><span class="line">        System.out.println(strs[i]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从反编译后代码可以看出，可变参数在被使用的时候，他首先会创建一个数组，数组的长度就是调用该方法是传递的实参的个数，然后再把参数值全部放到这个数组当中，然后再把这个数组作为参数传递到被调用的方法中。</p><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><p>Java SE5 提供了一种新的类型-Java 的枚举类型，关键字<code>enum</code>可以将一组具名的值的有限集合创建为一种新的类型，而这些具名的值可以作为常规的程序组件使用，这是一种非常有用的功能。</p><p>要想看源码，首先得有一个类吧，那么枚举类型到底是什么类呢？是<code>enum</code>吗？答案很明显不是，<code>enum</code>就和<code>class</code>一样，只是一个关键字，他并不是一个类，那么枚举是由什么类维护的呢，我们简单的写一个枚举：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">t</span> &#123;</span><br><span class="line">    SPRING,SUMMER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后我们使用反编译，看看这段代码到底是怎么实现的，反编译后代码内容如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">T</span> <span class="keyword">extends</span> <span class="title class_">Enum</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">T</span><span class="params">(String s, <span class="type">int</span> i)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">super</span>(s, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> T[] values()</span><br><span class="line">    &#123;</span><br><span class="line">        T at[];</span><br><span class="line">        <span class="type">int</span> i;</span><br><span class="line">        T at1[];</span><br><span class="line">        System.arraycopy(at = ENUM$VALUES, <span class="number">0</span>, at1 = <span class="keyword">new</span> <span class="title class_">T</span>[i = at.length], <span class="number">0</span>, i);</span><br><span class="line">        <span class="keyword">return</span> at1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> T <span class="title function_">valueOf</span><span class="params">(String s)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> (T)Enum.valueOf(demo/T, s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> T SPRING;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> T SUMMER;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> T ENUM$VALUES[];</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        SPRING = <span class="keyword">new</span> <span class="title class_">T</span>(<span class="string">&quot;SPRING&quot;</span>, <span class="number">0</span>);</span><br><span class="line">        SUMMER = <span class="keyword">new</span> <span class="title class_">T</span>(<span class="string">&quot;SUMMER&quot;</span>, <span class="number">1</span>);</span><br><span class="line">        ENUM$VALUES = (<span class="keyword">new</span> <span class="title class_">T</span>[] &#123;</span><br><span class="line">            SPRING, SUMMER</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过反编译后代码我们可以看到，<code>public final class T extends Enum</code>，说明，该类是继承了<code>Enum</code>类的，同时<code>final</code>关键字告诉我们，这个类也是不能被继承的。</p><p><strong>当我们使用<code>enum</code>来定义一个枚举类型的时候，编译器会自动帮我们创建一个<code>final</code>类型的类继承<code>Enum</code>类，所以枚举类型不能被继承。</strong></p><h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类"></a>内部类</h3><p>内部类又称为嵌套类，可以把内部类理解为外部类的一个普通成员。</p><p><strong>内部类之所以也是语法糖，是因为它仅仅是一个编译时的概念，<code>outer.java</code>里面定义了一个内部类<code>inner</code>，一旦编译成功，就会生成两个完全不同的<code>.class</code>文件了，分别是<code>outer.class</code>和<code>outer$inner.class</code>。所以内部类的名字完全可以和它的外部类名字相同。</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutterClass</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserName</span><span class="params">(String userName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">InnerClass</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码编译后会生成两个 class 文件：<code>OutterClass$InnerClass.class</code> 、<code>OutterClass.class</code> 。当我们尝试对<code>OutterClass.class</code>文件进行反编译的时候，命令行会打印以下内容：<code>Parsing OutterClass.class...Parsing inner class OutterClass$InnerClass.class... Generating OutterClass.jad</code> 。他会把两个文件全部进行反编译，然后一起生成一个<code>OutterClass.jad</code>文件。文件内容如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutterClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">InnerClass</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="keyword">final</span> OutterClass <span class="built_in">this</span>$<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        InnerClass()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">this</span>.<span class="built_in">this</span>$<span class="number">0</span> = OutterClass.<span class="built_in">this</span>;</span><br><span class="line">            <span class="built_in">super</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutterClass</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUserName</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserName</span><span class="params">(String userName)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args1[])</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="条件编译"><a href="#条件编译" class="headerlink" title="条件编译"></a>条件编译</h3><p>—般情况下，程序中的每一行代码都要参加编译。但有时候出于对程序代码优化的考虑，希望只对其中一部分内容进行编译，此时就需要在程序中加上条件，让编译器只对满足条件的代码进行编译，将不满足条件的代码舍弃，这就是条件编译。</p><p>如在 C 或 CPP 中，可以通过预处理语句来实现条件编译。其实在 Java 中也可实现条件编译。我们先来看一段代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConditionalCompilation</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">DEBUG</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(DEBUG) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello, DEBUG!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">ONLINE</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(ONLINE)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello, ONLINE!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConditionalCompilation</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConditionalCompilation</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">DEBUG</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, DEBUG!&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">ONLINE</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先，我们发现，在反编译后的代码中没有<code>System.out.println(&quot;Hello, ONLINE!&quot;);</code>，这其实就是条件编译。当<code>if(ONLINE)</code>为 false 的时候，编译器就没有对其内的代码进行编译。</p><p>所以，<strong>Java 语法的条件编译，是通过判断条件为常量的 if 语句实现的。其原理也是 Java 语言的语法糖。根据 if 判断条件的真假，编译器直接把分支为 false 的代码块消除。通过该方式实现的条件编译，必须在方法体内实现，而无法在正整个 Java 类的结构或者类的属性上进行条件编译，这与 C&#x2F;C++的条件编译相比，确实更有局限性。在 Java 语言设计之初并没有引入条件编译的功能，虽有局限，但是总比没有更强。</strong></p><h3 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h3><p>在 Java 中，<code>assert</code>关键字是从 JAVA SE 1.4 引入的，为了避免和老版本的 Java 代码中使用了<code>assert</code>关键字导致错误，Java 在执行的时候默认是不启动断言检查的（这个时候，所有的断言语句都将忽略！），如果要开启断言检查，则需要用开关<code>-enableassertions</code>或<code>-ea</code>来开启。</p><p>看一段包含断言的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">assert</span> a == b;</span><br><span class="line">        System.out.println(<span class="string">&quot;公众号：Hollis&quot;</span>);</span><br><span class="line">        <span class="keyword">assert</span> a != b : <span class="string">&quot;Hollis&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;博客：www.hollischuang.com&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertTest</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">AssertTest</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(!$assertionsDisabled &amp;&amp; a != b)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AssertionError</span>();</span><br><span class="line">    System.out.println(<span class="string">&quot;\u516C\u4F17\u53F7\uFF1AHollis&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!$assertionsDisabled &amp;&amp; a == b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AssertionError</span>(<span class="string">&quot;Hollis&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;\u535A\u5BA2\uFF1Awww.hollischuang.com&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">$assertionsDisabled</span> <span class="operator">=</span> !com/hollis/suguar/AssertTest.desiredAssertionStatus();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>很明显，反编译之后的代码要比我们自己的代码复杂的多。所以，使用了 assert 这个语法糖我们节省了很多代码。<strong>其实断言的底层实现就是 if 语言，如果断言结果为 true，则什么都不做，程序继续执行，如果断言结果为 false，则程序抛出 AssertError 来打断程序的执行。</strong><code>-enableassertions</code>会设置$assertionsDisabled 字段的值。</p><h3 id="数值字面量"><a href="#数值字面量" class="headerlink" title="数值字面量"></a>数值字面量</h3><p>在 java 7 中，数值字面量，不管是整数还是浮点数，都允许在数字之间插入任意多个下划线。这些下划线不会对字面量的数值产生影响，目的就是方便阅读。</p><p>比如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10_000</span>;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后就是把<code>_</code>删除了。也就是说 <strong>编译器并不认识在数字字面量中的<code>_</code>，需要在编译阶段把他去掉。</strong></p><h3 id="for-each"><a href="#for-each" class="headerlink" title="for-each"></a>for-each</h3><p>增强 for 循环（<code>for-each</code>）相信大家都不陌生，日常开发经常会用到的，他会比 for 循环要少写很多代码，那么这个语法糖背后是如何实现的呢？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">    String[] strs = &#123;<span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;公众号：Hollis&quot;</span>, <span class="string">&quot;博客：www.hollischuang.com&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (String s : strs) &#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; strList = ImmutableList.of(<span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;公众号：Hollis&quot;</span>, <span class="string">&quot;博客：www.hollischuang.com&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (String s : strList) &#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">static</span> transient <span class="keyword">void</span> <span class="title function_">main</span>(<span class="params"><span class="built_in">String</span> args[]</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title class_">String</span> strs[] = &#123;</span><br><span class="line">        <span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;\u516C\u4F17\u53F7\uFF1AHollis&quot;</span>, <span class="string">&quot;\u535A\u5BA2\uFF1Awww.hollischuang.com&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title class_">String</span> args1[] = strs;</span><br><span class="line">    int i = args1.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">String</span> s = args1[j];</span><br><span class="line">        <span class="title class_">System</span>.<span class="property">out</span>.<span class="title function_">println</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">List</span> strList = <span class="title class_">ImmutableList</span>.<span class="title function_">of</span>(<span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;\u516C\u4F17\u53F7\uFF1AHollis&quot;</span>, <span class="string">&quot;\u535A\u5BA2\uFF1Awww.hollischuang.com&quot;</span>);</span><br><span class="line">    <span class="title class_">String</span> s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="title class_">Iterator</span> iterator = strList.<span class="title function_">iterator</span>(); iterator.<span class="title function_">hasNext</span>(); <span class="title class_">System</span>.<span class="property">out</span>.<span class="title function_">println</span>(s))</span><br><span class="line">        s = (<span class="title class_">String</span>)iterator.<span class="title function_">next</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>代码很简单，<strong>for-each 的实现原理其实就是使用了普通的 for 循环和迭代器。</strong></p><h3 id="try-with-resource"><a href="#try-with-resource" class="headerlink" title="try-with-resource"></a>try-with-resource</h3><p>Java 里，对于文件操作 IO 流、数据库连接等开销非常昂贵的资源，用完之后必须及时通过 close 方法将其关闭，否则资源会一直处于打开状态，可能会导致内存泄露等问题。</p><p>关闭资源的常用方式就是在<code>finally</code>块里是释放，即调用<code>close</code>方法。比如，我们经常会写这样的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String line;</span><br><span class="line">        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;d:\\hollischuang.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// handle exception</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (br != <span class="literal">null</span>) &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">            <span class="comment">// handle exception</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从 Java 7 开始，jdk 提供了一种更好的方式关闭资源，使用<code>try-with-resources</code>语句，改写一下上面的代码，效果如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> (<span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;d:\\ hollischuang.xml&quot;</span>))) &#123;</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="comment">// handle exception</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看，这简直是一大福音啊，虽然我之前一般使用<code>IOUtils</code>去关闭流，并不会使用在<code>finally</code>中写很多代码的方式，但是这种新的语法糖看上去好像优雅很多呢。看下他的背后：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">static</span> transient <span class="keyword">void</span> <span class="title function_">main</span>(<span class="params"><span class="built_in">String</span> args[]</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title class_">BufferedReader</span> br;</span><br><span class="line">        <span class="title class_">Throwable</span> throwable;</span><br><span class="line">        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;d:\\ hollischuang.xml&quot;</span>));</span><br><span class="line">        throwable = <span class="literal">null</span>;</span><br><span class="line">        <span class="title class_">String</span> line;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>((line = br.<span class="title function_">readLine</span>()) != <span class="literal">null</span>)</span><br><span class="line">                <span class="title class_">System</span>.<span class="property">out</span>.<span class="title function_">println</span>(line);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span>(<span class="title class_">Throwable</span> throwable2)</span><br><span class="line">        &#123;</span><br><span class="line">            throwable = throwable2;</span><br><span class="line">            <span class="keyword">throw</span> throwable2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(br != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">if</span>(throwable != <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">try</span></span><br><span class="line">                &#123;</span><br><span class="line">                    br.<span class="title function_">close</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span>(<span class="title class_">Throwable</span> throwable1)</span><br><span class="line">                &#123;</span><br><span class="line">                    throwable.<span class="title function_">addSuppressed</span>(throwable1);</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                br.<span class="title function_">close</span>();</span><br><span class="line">            <span class="keyword">break</span> <span class="variable constant_">MISSING_BLOCK_LABEL_113</span>;</span><br><span class="line">            <span class="title class_">Exception</span> exception;</span><br><span class="line">            exception;</span><br><span class="line">            <span class="keyword">if</span>(br != <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">if</span>(throwable != <span class="literal">null</span>)</span><br><span class="line">                    <span class="keyword">try</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        br.<span class="title function_">close</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">catch</span>(<span class="title class_">Throwable</span> throwable3)</span><br><span class="line">                      &#123;</span><br><span class="line">                        throwable.<span class="title function_">addSuppressed</span>(throwable3);</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    br.<span class="title function_">close</span>();</span><br><span class="line">        <span class="keyword">throw</span> exception;</span><br><span class="line">        <span class="title class_">IOException</span> ioexception;</span><br><span class="line">        ioexception;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>其实背后的原理也很简单，那些我们没有做的关闭资源的操作，编译器都帮我们做了。所以，再次印证了，语法糖的作用就是方便程序员的使用，但最终还是要转成编译器认识的语言。</strong></p><h3 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h3><p>关于 lambda 表达式，有人可能会有质疑，因为网上有人说他并不是语法糖。其实我想纠正下这个说法。<strong>Labmda 表达式不是匿名内部类的语法糖，但是他也是一个语法糖。实现方式其实是依赖了几个 JVM 底层提供的 lambda 相关 api。</strong></p><p>先来看一个简单的 lambda 表达式。遍历一个 list：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">    List&lt;String&gt; strList = ImmutableList.of(<span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;公众号：Hollis&quot;</span>, <span class="string">&quot;博客：www.hollischuang.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">    strList.forEach( s -&gt; &#123; System.out.println(s); &#125; );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为啥说他并不是内部类的语法糖呢，前面讲内部类我们说过，内部类在编译之后会有两个 class 文件，但是，包含 lambda 表达式的类编译后只有一个文件。</p><p>反编译后代码如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="comment">/* varargs */</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String ... args)</span> &#123;</span><br><span class="line">    <span class="type">ImmutableList</span> <span class="variable">strList</span> <span class="operator">=</span> ImmutableList.of((Object)<span class="string">&quot;Hollis&quot;</span>, (Object)<span class="string">&quot;\u516c\u4f17\u53f7\uff1aHollis&quot;</span>, (Object)<span class="string">&quot;\u535a\u5ba2\uff1awww.hollischuang.com&quot;</span>);</span><br><span class="line">    strList.forEach((Consumer&lt;String&gt;)LambdaMetafactory.metafactory(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, (Ljava/lang/Object;)V, lambda$main$<span class="number">0</span>(java.lang.String ), (Ljava/lang/String;)V)());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="comment">/* synthetic */</span> <span class="keyword">void</span> lambda$main$<span class="number">0</span>(String s) &#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到，在<code>forEach</code>方法中，其实是调用了<code>java.lang.invoke.LambdaMetafactory#metafactory</code>方法，该方法的第四个参数 <code>implMethod</code> 指定了方法实现。可以看到这里其实是调用了一个<code>lambda$main$0</code>方法进行了输出。</p><p>再来看一个稍微复杂一点的，先对 List 进行过滤，然后再输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">    List&lt;String&gt; strList = ImmutableList.of(<span class="string">&quot;Hollis&quot;</span>, <span class="string">&quot;公众号：Hollis&quot;</span>, <span class="string">&quot;博客：www.hollischuang.com&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">List</span> <span class="variable">HollisList</span> <span class="operator">=</span> strList.stream().filter(string -&gt; string.contains(<span class="string">&quot;Hollis&quot;</span>)).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">    HollisList.forEach( s -&gt; &#123; System.out.println(s); &#125; );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>反编译后代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="comment">/* varargs */</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String ... args)</span> &#123;</span><br><span class="line">    <span class="type">ImmutableList</span> <span class="variable">strList</span> <span class="operator">=</span> ImmutableList.of((Object)<span class="string">&quot;Hollis&quot;</span>, (Object)<span class="string">&quot;\u516c\u4f17\u53f7\uff1aHollis&quot;</span>, (Object)<span class="string">&quot;\u535a\u5ba2\uff1awww.hollischuang.com&quot;</span>);</span><br><span class="line">    List&lt;Object&gt; HollisList = strList.stream().filter((Predicate&lt;String&gt;)LambdaMetafactory.metafactory(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, (Ljava/lang/Object;)Z, lambda$main$<span class="number">0</span>(java.lang.String ), (Ljava/lang/String;)Z)()).collect(Collectors.toList());</span><br><span class="line">    HollisList.forEach((Consumer&lt;Object&gt;)LambdaMetafactory.metafactory(<span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, (Ljava/lang/Object;)V, lambda$main$<span class="number">1</span>(java.lang.Object ), (Ljava/lang/Object;)V)());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="comment">/* synthetic */</span> <span class="keyword">void</span> lambda$main$<span class="number">1</span>(Object s) &#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="comment">/* synthetic */</span> <span class="type">boolean</span> lambda$main$<span class="number">0</span>(String string) &#123;</span><br><span class="line">    <span class="keyword">return</span> string.contains(<span class="string">&quot;Hollis&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两个 lambda 表达式分别调用了<code>lambda$main$1</code>和<code>lambda$main$0</code>两个方法。</p><p><strong>所以，lambda 表达式的实现其实是依赖了一些底层的 api，在编译阶段，编译器会把 lambda 表达式进行解糖，转换成调用内部 api 的方式。</strong></p><h2 id="可能遇到的坑"><a href="#可能遇到的坑" class="headerlink" title="可能遇到的坑"></a>可能遇到的坑</h2><h3 id="泛型-1"><a href="#泛型-1" class="headerlink" title="泛型"></a>泛型</h3><p><strong>一、当泛型遇到重载</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTypes</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">(List&lt;String&gt; list)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;invoke method(List&lt;String&gt; list)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">(List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;invoke method(List&lt;Integer&gt; list)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面这段代码，有两个重载的函数，因为他们的参数类型不同，一个是<code>List&lt;String&gt;</code>另一个是<code>List&lt;Integer&gt;</code> ，但是，这段代码是编译通不过的。因为我们前面讲过，参数<code>List&lt;Integer&gt;</code>和<code>List&lt;String&gt;</code>编译之后都被擦除了，变成了一样的原生类型 List，擦除动作导致这两个方法的特征签名变得一模一样。</p><p><strong>二、当泛型遇到 catch</strong></p><p>泛型的类型参数不能用在 Java 异常处理的 catch 语句中。因为异常处理是由 JVM 在运行时刻来进行的。由于类型信息被擦除，JVM 是无法区分两个异常类型<code>MyException&lt;String&gt;</code>和<code>MyException&lt;Integer&gt;</code>的</p><p><strong>三、当泛型内包含静态变量</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        GT&lt;Integer&gt; gti = <span class="keyword">new</span> <span class="title class_">GT</span>&lt;Integer&gt;();</span><br><span class="line">        gti.<span class="keyword">var</span>=<span class="number">1</span>;</span><br><span class="line">        GT&lt;String&gt; gts = <span class="keyword">new</span> <span class="title class_">GT</span>&lt;String&gt;();</span><br><span class="line">        gts.<span class="keyword">var</span>=<span class="number">2</span>;</span><br><span class="line">        System.out.println(gti.<span class="keyword">var</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GT</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="keyword">var</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nothing</span><span class="params">(T x)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上代码输出结果为：2！</p><p>由于经过类型擦除，所有的泛型类实例都关联到同一份字节码上，泛型类的所有静态变量是共享的。</p><h3 id="自动装箱与拆箱-1"><a href="#自动装箱与拆箱-1" class="headerlink" title="自动装箱与拆箱"></a>自动装箱与拆箱</h3><p><strong>对象相等比较</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    System.out.println(<span class="string">&quot;a == b is &quot;</span> + (a == b));</span><br><span class="line">    System.out.println((<span class="string">&quot;c == d is &quot;</span> + (c == d)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a == b is <span class="literal">false</span></span><br><span class="line">c == d is <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>在 Java 5 中，在 Integer 的操作上引入了一个新功能来节省内存和提高性能。整型对象通过使用相同的对象引用实现了缓存和重用。</p><blockquote><p>适用于整数值区间-128 至 +127。</p><p>只适用于自动装箱。使用构造函数创建对象不适用。</p></blockquote><h3 id="增强-for-循环"><a href="#增强-for-循环" class="headerlink" title="增强 for 循环"></a>增强 for 循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Student stu : students) &#123;</span><br><span class="line">    <span class="keyword">if</span> (stu.getId() == <span class="number">2</span>)</span><br><span class="line">        students.remove(stu);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>会抛出<code>ConcurrentModificationException</code>异常。</p><p>Iterator 是工作在一个独立的线程中，并且拥有一个 mutex 锁。 Iterator 被创建之后会建立一个指向原来对象的单链索引表，当原来的对象数量发生变化时，这个索引表的内容不会同步改变，所以当索引指针往后移动的时候就找不到要迭代的对象，所以按照 fail-fast 原则 Iterator 会马上抛出<code>java.util.ConcurrentModificationException</code>异常。</p><p>所以 <code>Iterator</code> 在工作的时候是不允许被迭代的对象被改变的。但你可以使用 <code>Iterator</code> 本身的方法<code>remove()</code>来删除对象，<code>Iterator.remove()</code> 方法会在删除当前迭代对象的同时维护索引的一致性。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>前面介绍了 12 种 Java 中常用的语法糖。所谓语法糖就是提供给开发人员便于开发的一种语法而已。但是这种语法只有开发人员认识。要想被执行，需要进行解糖，即转成 JVM 认识的语法。当我们把语法糖解糖之后，你就会发现其实我们日常使用的这些方便的语法，其实都是一些其他更简单的语法构成的。</p><p>有了这些语法糖，我们在日常开发的时候可以大大提升效率，但是同时也要避过度使用。使用之前最好了解下原理，避免掉坑。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 语法糖 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.异常</title>
      <link href="/posts/6383d5e7.html"/>
      <url>/posts/6383d5e7.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="异常（面试）"><a href="#异常（面试）" class="headerlink" title="异常（面试）"></a>异常（面试）</h2><p><strong>Java 异常类层次结构图概览</strong> ：</p><p><img src="https://s2.loli.net/2023/04/02/luRm4Ij8gsfLCwO.png" alt="Java 异常类层次结构图"></p><h3 id="Exception-和-Error-有什么区别？"><a href="#Exception-和-Error-有什么区别？" class="headerlink" title="Exception 和 Error 有什么区别？"></a>Exception 和 Error 有什么区别？</h3><p>在 Java 中，所有的异常都有一个共同的祖先 <code>java.lang</code> 包中的 <code>Throwable</code> 类。<code>Throwable</code> 类有两个重要的子类:</p><ul><li><strong><code>Exception</code></strong> :程序本身可以处理的异常，可以通过 <code>catch</code> 来进行捕获。<code>Exception</code> 又可以分为 Checked Exception (受检查异常，必须处理) 和 Unchecked Exception (不受检查异常，可以不处理)。</li><li><strong><code>Error</code></strong> ：<code>Error</code> 属于程序无法处理的错误 ，<del>我们没办法通过 <code>catch</code> 来进行捕获</del>不建议通过<code>catch</code>捕获 。例如 Java 虚拟机运行错误（<code>Virtual MachineError</code>）、虚拟机内存不够错误(<code>OutOfMemoryError</code>)、类定义错误（<code>NoClassDefFoundError</code>）等 。这些异常发生时，Java 虚拟机（JVM）一般会选择线程终止。</li></ul><h3 id="Checked-Exception-和-Unchecked-Exception-有什么区别？"><a href="#Checked-Exception-和-Unchecked-Exception-有什么区别？" class="headerlink" title="Checked Exception 和 Unchecked Exception 有什么区别？"></a>Checked Exception 和 Unchecked Exception 有什么区别？</h3><p><strong>Checked Exception</strong> 即 受检查异常 ，Java 代码在编译过程中，如果受检查异常没有被 <code>catch</code>或者<code>throws</code> 关键字处理的话，就没办法通过编译。</p><p>比如下面这段 IO 操作的代码：</p><p><img src="https://s2.loli.net/2023/04/02/jI1MTvspzwZtuey.png" alt="img"></p><p>除了<code>RuntimeException</code>及其子类以外，其他的<code>Exception</code>类及其子类都属于受检查异常 。常见的受检查异常有： IO 相关的异常、<code>ClassNotFoundException</code> 、<code>SQLException</code>…。</p><p><strong>Unchecked Exception</strong> 即 <strong>不受检查异常</strong> ，Java 代码在编译过程中 ，我们即使不处理不受检查异常也可以正常通过编译。</p><p><code>RuntimeException</code> 及其子类都统称为非受检查异常，常见的有（建议记下来，日常开发中会经常用到）：</p><ul><li><code>NullPointerException</code>(空指针错误)</li><li><code>IllegalArgumentException</code>(参数错误比如方法入参类型错误)</li><li><code>NumberFormatException</code>（字符串转换为数字格式错误，<code>IllegalArgumentException</code>的子类）</li><li><code>ArrayIndexOutOfBoundsException</code>（数组越界错误）</li><li><code>ClassCastException</code>（类型转换错误）</li><li><code>ArithmeticException</code>（算术错误）</li><li><code>SecurityException</code> （安全错误比如权限不够）</li><li><code>UnsupportedOperationException</code>(不支持的操作错误比如重复创建同一用户)</li><li>……</li></ul><p><img src="https://s2.loli.net/2023/04/02/Q3V1sagOG8vYpSu.png" alt="img"></p><h3 id="Throwable-类常用方法有哪些？"><a href="#Throwable-类常用方法有哪些？" class="headerlink" title="Throwable 类常用方法有哪些？"></a>Throwable 类常用方法有哪些？</h3><ul><li><code>String getMessage()</code>: 返回异常发生时的简要描述</li><li><code>String toString()</code>: 返回异常发生时的详细信息</li><li><code>String getLocalizedMessage()</code>: 返回异常对象的本地化信息。使用 <code>Throwable</code> 的子类覆盖这个方法，可以生成本地化信息。如果子类没有覆盖该方法，则该方法返回的信息与 <code>getMessage()</code>返回的结果相同</li><li><code>void printStackTrace()</code>: 在控制台上打印 <code>Throwable</code> 对象封装的异常信息</li></ul><h3 id="try-catch-finally-如何使用？"><a href="#try-catch-finally-如何使用？" class="headerlink" title="try-catch-finally 如何使用？"></a>try-catch-finally 如何使用？</h3><ul><li><code>try</code>块 ： 用于捕获异常。其后可接零个或多个 <code>catch</code> 块，如果没有 <code>catch</code> 块，则必须跟一个 <code>finally</code> 块。</li><li><code>catch</code>块 ： 用于处理 try 捕获到的异常。</li><li><code>finally</code> 块 ： 无论是否捕获或处理异常，<code>finally</code> 块里的语句都会被执行。当在 <code>try</code> 块或 <code>catch</code> 块中遇到 <code>return</code> 语句时，<code>finally</code> 语句块将在方法返回之前被执行。</li></ul><p>代码示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Try to do something&quot;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;RuntimeException&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Catch Exception -&gt; &quot;</span> + e.getMessage());</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Finally&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Try to <span class="keyword">do</span> something</span><br><span class="line">Catch Exception -&gt; RuntimeException</span><br><span class="line">Finally</span><br></pre></td></tr></table></figure><p><strong>注意：不要在 finally 语句块中使用 return!</strong> 当 try 语句和 finally 语句中都有 return 语句时，try 语句块中的 return 语句会被忽略。这是因为 try 语句中的 return 返回值会先被暂存在一个本地变量中，当执行到 finally 语句中的 return 之后，这个本地变量的值就变为了 finally 语句中的 return 返回值。</p><p><a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10.2.5">jvm 官方文档</a>中有明确提到：</p><blockquote><p>If the <code>try</code> clause executes a <em>return</em>, the compiled code does the following:</p><ol><li>Saves the return value (if any) in a local variable.</li><li>Executes a <em>jsr</em> to the code for the <code>finally</code> clause.</li><li>Upon return from the <code>finally</code> clause, returns the value saved in the local variable.</li></ol></blockquote><p>代码示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    System.out.println(f(<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value * value;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure><h3 id="finally-中的代码一定会执行吗？"><a href="#finally-中的代码一定会执行吗？" class="headerlink" title="finally 中的代码一定会执行吗？"></a>finally 中的代码一定会执行吗？</h3><p>不一定的！在某些情况下，finally 中的代码不会被执行。</p><p>就比如说 finally 之前虚拟机被终止运行的话，finally 中的代码就不会被执行。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Try to do something&quot;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;RuntimeException&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Catch Exception -&gt; &quot;</span> + e.getMessage());</span><br><span class="line">    <span class="comment">// 终止当前正在运行的Java虚拟机</span></span><br><span class="line">    System.exit(<span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Finally&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Try to <span class="keyword">do</span> something</span><br><span class="line">Catch Exception -&gt; RuntimeException</span><br></pre></td></tr></table></figure><p>另外，在以下 2 种特殊情况下，<code>finally</code> 块的代码也不会被执行：</p><ol><li>程序所在的线程死亡。</li><li>关闭 CPU。</li></ol><p>相关 issue： <a href="https://github.com/Snailclimb/JavaGuide/issues/190">#190</a>。</p><p>🧗🏻 进阶一下：从字节码角度分析<code>try catch finally</code>这个语法糖背后的实现原理。</p><h3 id="如何使用-try-with-resources-代替try-catch-finally？"><a href="#如何使用-try-with-resources-代替try-catch-finally？" class="headerlink" title="如何使用 try-with-resources 代替try-catch-finally？"></a>如何使用 <code>try-with-resources</code> 代替<code>try-catch-finally</code>？</h3><ol><li><strong>适用范围（资源的定义）：</strong> 任何实现 <code>java.lang.AutoCloseable</code>或者 <code>java.io.Closeable</code> 的对象</li><li><strong>关闭资源和 finally 块的执行顺序：</strong> 在 <code>try-with-resources</code> 语句中，任何 catch 或 finally 块在声明的资源关闭后运行</li></ol><p>《Effective Java》中明确指出：</p><blockquote><p>面对必须要关闭的资源，我们总是应该优先使用 <code>try-with-resources</code> 而不是<code>try-finally</code>。随之产生的代码更简短，更清晰，产生的异常对我们也更有用。<code>try-with-resources</code>语句让我们更容易编写必须要关闭的资源的代码，若采用<code>try-finally</code>则几乎做不到这点。</p></blockquote><p>Java 中类似于<code>InputStream</code>、<code>OutputStream</code> 、<code>Scanner</code> 、<code>PrintWriter</code>等的资源都需要我们调用<code>close()</code>方法来手动关闭，一般情况下我们都是通过<code>try-catch-finally</code>语句来实现这个需求，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//读取文本文件的内容</span></span><br><span class="line"><span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    scanner = <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D://read.txt&quot;</span>));</span><br><span class="line">    <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">        System.out.println(scanner.nextLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (scanner != <span class="literal">null</span>) &#123;</span><br><span class="line">        scanner.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用 Java 7 之后的 <code>try-with-resources</code> 语句改造上面的代码:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (<span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>))) &#123;</span><br><span class="line">    <span class="keyword">while</span> (scanner.hasNext()) &#123;</span><br><span class="line">        System.out.println(scanner.nextLine());</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException fnfe) &#123;</span><br><span class="line">    fnfe.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当然多个资源需要关闭的时候，使用 <code>try-with-resources</code> 实现起来也非常简单，如果你还是用<code>try-catch-finally</code>可能会带来很多问题。</p><p>通过使用分号分隔，可以在<code>try-with-resources</code>块中声明多个资源。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (<span class="type">BufferedInputStream</span> <span class="variable">bin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>)));</span><br><span class="line">     <span class="type">BufferedOutputStream</span> <span class="variable">bout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;out.txt&quot;</span>)))) &#123;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    <span class="keyword">while</span> ((b = bin.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        bout.write(b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="异常使用有哪些需要注意的地方？"><a href="#异常使用有哪些需要注意的地方？" class="headerlink" title="异常使用有哪些需要注意的地方？"></a>异常使用有哪些需要注意的地方？</h3><ul><li>不要把异常定义为静态变量，因为这样会导致异常栈信息错乱。每次手动抛出异常，我们都需要手动 new 一个异常对象抛出。</li><li>抛出的异常信息一定要有意义。</li><li>建议抛出更加具体的异常比如字符串转换为数字格式错误的时候应该抛出<code>NumberFormatException</code>而不是其父类<code>IllegalArgumentException</code>。</li><li>使用日志打印异常之后就不要再抛出异常了（两者不要同时存在一段代码逻辑中）。</li><li>……</li></ul><h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><h3 id="什么是泛型？有什么作用？"><a href="#什么是泛型？有什么作用？" class="headerlink" title="什么是泛型？有什么作用？"></a>什么是泛型？有什么作用？</h3><p><strong>Java 泛型（Generics）</strong> 是 JDK 5 中引入的一个新特性。使用泛型参数，可以增强代码的可读性以及稳定性。</p><p>编译器可以对泛型参数进行检测，并且通过泛型参数可以指定传入的对象类型。比如 <code>ArrayList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;()</code> 这行代码就指明了该 <code>ArrayList</code> 对象只能传入 <code>Person</code> 对象，如果传入其他类型的对象就会报错。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br></pre></td></tr></table></figure><p>并且，原生 <code>List</code> 返回类型是 <code>Object</code> ，需要手动转换类型才能使用，使用泛型后编译器自动转换。</p><h3 id="泛型的使用方式有哪几种？"><a href="#泛型的使用方式有哪几种？" class="headerlink" title="泛型的使用方式有哪几种？"></a>泛型的使用方式有哪几种？</h3><p>泛型一般有三种使用方式:<strong>泛型类</strong>、<strong>泛型接口</strong>、<strong>泛型方法</strong>。</p><p><strong>1.泛型类</strong>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型</span></span><br><span class="line"><span class="comment">//在实例化泛型类时，必须指定T的具体类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Generic</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T key;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Generic</span><span class="params">(T key)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.key = key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getKey</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如何实例化泛型类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Generic&lt;Integer&gt; genericInteger = <span class="keyword">new</span> <span class="title class_">Generic</span>&lt;Integer&gt;(<span class="number">123456</span>);</span><br></pre></td></tr></table></figure><p><strong>2.泛型接口</strong> ：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Generator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现泛型接口，不指定类型：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GeneratorImpl</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现泛型接口，指定类型：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GeneratorImpl</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;String&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3.泛型方法</strong> ：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt; E &gt; <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">( E[] inputArray )</span></span><br><span class="line">&#123;</span><br><span class="line">      <span class="keyword">for</span> ( E element : inputArray )&#123;</span><br><span class="line">         System.out.printf( <span class="string">&quot;%s &quot;</span>, element );</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建不同类型数组： Integer, Double 和 Character</span></span><br><span class="line">Integer[] intArray = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</span><br><span class="line">String[] stringArray = &#123; <span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;World&quot;</span> &#125;;</span><br><span class="line">printArray( intArray  );</span><br><span class="line">printArray( stringArray  );</span><br></pre></td></tr></table></figure><blockquote><p>注意: <code>public static &lt; E &gt; void printArray( E[] inputArray )</code> 一般被称为静态泛型方法;在 java 中泛型只是一个占位符，必须在传递类型后才能使用。类在实例化时才能真正的传递类型参数，由于静态方法的加载先于类的实例化，也就是说类中的泛型还没有传递真正的类型参数，静态的方法的加载就已经完成了，所以静态泛型方法是没有办法使用类上声明的泛型的。只能使用自己声明的 <code>&lt;E&gt;</code></p></blockquote><h3 id="项目中哪里用到了泛型？"><a href="#项目中哪里用到了泛型？" class="headerlink" title="项目中哪里用到了泛型？"></a>项目中哪里用到了泛型？</h3><ul><li>自定义接口通用返回结果 <code>CommonResult&lt;T&gt;</code> 通过参数 <code>T</code> 可根据具体的返回类型动态指定结果的数据类型</li><li>定义 <code>Excel</code> 处理类 <code>ExcelUtil&lt;T&gt;</code> 用于动态指定 <code>Excel</code> 导出的数据类型</li><li>构建集合工具类（参考 <code>Collections</code> 中的 <code>sort</code>, <code>binarySearch</code> 方法）。</li><li>……</li></ul><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>关于反射的详细解读，请看这篇文章 <a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/basis/reflection.md">Java 反射机制详解</a> 。</p><h3 id="何谓反射？"><a href="#何谓反射？" class="headerlink" title="何谓反射？"></a>何谓反射？</h3><p>如果说大家研究过框架的底层原理或者咱们自己写过框架的话，一定对反射这个概念不陌生。反射之所以被称为框架的灵魂，主要是因为它赋予了我们在运行时分析类以及执行类中方法的能力。通过反射你可以获取任意一个类的所有属性和方法，你还可以调用这些方法和属性。</p><h3 id="反射的优缺点？"><a href="#反射的优缺点？" class="headerlink" title="反射的优缺点？"></a>反射的优缺点？</h3><p>反射可以让我们的代码更加灵活、为各种框架提供开箱即用的功能提供了便利。</p><p>不过，反射让我们在运行时有了分析操作类的能力的同时，也增加了安全问题，比如可以无视泛型参数的安全检查（泛型参数的安全检查发生在编译时）。另外，反射的性能也要稍差点，不过，对于框架来说实际是影响不大的。</p><p>相关阅读：<a href="https://stackoverflow.com/questions/1392351/java-reflection-why-is-it-so-slow">Java Reflection: Why is it so slow?</a> 。</p><h3 id="反射的应用场景？"><a href="#反射的应用场景？" class="headerlink" title="反射的应用场景？"></a>反射的应用场景？</h3><p>像咱们平时大部分时候都是在写业务代码，很少会接触到直接使用反射机制的场景。但是！这并不代表反射没有用。相反，正是因为反射，你才能这么轻松地使用各种框架。像 Spring&#x2F;Spring Boot、MyBatis 等等框架中都大量使用了反射机制。</p><p><strong>这些框架中也大量使用了动态代理，而动态代理的实现也依赖反射。</strong></p><p>比如下面是通过 JDK 实现动态代理的示例代码，其中就使用了反射类 <code>Method</code> 来调用指定的方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DebugInvocationHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 代理类中的真实对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DebugInvocationHandler</span><span class="params">(Object target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> InvocationTargetException, IllegalAccessException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before method &quot;</span> + method.getName());</span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">        System.out.println(<span class="string">&quot;after method &quot;</span> + method.getName());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外，像 Java 中的一大利器 <strong>注解</strong> 的实现也用到了反射。</p><p>为什么你使用 Spring 的时候 ，一个<code>@Component</code>注解就声明了一个类为 Spring Bean 呢？为什么你通过一个 <code>@Value</code>注解就读取到配置文件中的值呢？究竟是怎么起作用的呢？</p><p>这些都是因为你可以基于反射分析类，然后获取到类&#x2F;属性&#x2F;方法&#x2F;方法的参数上的注解。你获取到注解之后，就可以做进一步的处理。</p><h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h3 id="何谓注解？"><a href="#何谓注解？" class="headerlink" title="何谓注解？"></a>何谓注解？</h3><p><code>Annotation</code> （注解） 是 Java5 开始引入的新特性，可以看作是一种特殊的注释，主要用于修饰类、方法或者变量，提供某些信息供程序在编译或者运行时使用。</p><p>注解本质是一个继承了<code>Annotation</code> 的特殊接口：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Override &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Override</span> <span class="keyword">extends</span> <span class="title class_">Annotation</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>JDK 提供了很多内置的注解（比如 <code>@Override</code> 、<code>@Deprecated</code>），同时，我们还可以自定义注解。</p><h3 id="注解的解析方法有哪几种？"><a href="#注解的解析方法有哪几种？" class="headerlink" title="注解的解析方法有哪几种？"></a>注解的解析方法有哪几种？</h3><p>注解只有被解析之后才会生效，常见的解析方法有两种：</p><ul><li><strong>编译期直接扫描</strong> ：编译器在编译 Java 代码的时候扫描对应的注解并处理，比如某个方法使用<code>@Override</code> 注解，编译器在编译的时候就会检测当前的方法是否重写了父类对应的方法。</li><li><strong>运行期通过反射处理</strong> ：像框架中自带的注解(比如 Spring 框架的 <code>@Value</code> 、<code>@Component</code>)都是通过反射来进行处理的。</li></ul><h2 id="SPI"><a href="#SPI" class="headerlink" title="SPI"></a>SPI</h2><p>关于 SPI 的详细解读，请看这篇文章 <a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/basis/spi.md">Java SPI 机制详解</a> 。</p><h3 id="何谓-SPI"><a href="#何谓-SPI" class="headerlink" title="何谓 SPI?"></a>何谓 SPI?</h3><p>SPI 即 Service Provider Interface ，字面意思就是：“服务提供者的接口”，我的理解是：专门提供给服务提供者或者扩展框架功能的开发者去使用的一个接口。</p><p>SPI 将服务接口和具体的服务实现分离开来，将服务调用方和服务实现者解耦，能够提升程序的扩展性、可维护性。修改或者替换服务实现并不需要修改调用方。</p><p>很多框架都使用了 Java 的 SPI 机制，比如：Spring 框架、数据库加载驱动、日志接口、以及 Dubbo 的扩展实现等等。</p><p><img src="https://s2.loli.net/2023/04/02/A71KtJLSblVFXwZ.jpg" alt="img"></p><h3 id="SPI-和-API-有什么区别？"><a href="#SPI-和-API-有什么区别？" class="headerlink" title="SPI 和 API 有什么区别？"></a>SPI 和 API 有什么区别？</h3><p><strong>那 SPI 和 API 有啥区别？</strong></p><p>说到 SPI 就不得不说一下 API 了，从广义上来说它们都属于接口，而且很容易混淆。下面先用一张图说明一下：</p><p><img src="https://s2.loli.net/2023/04/02/DH2FBEJNG6OrqTy.png" alt="img"></p><p>一般模块之间都是通过接口进行通讯，那我们在服务调用方和服务实现方（也称服务提供者）之间引入一个“接口”。</p><p>当实现方提供了接口和实现，我们可以通过调用实现方的接口从而拥有实现方给我们提供的能力，这就是 API ，这种接口和实现都是放在实现方的。</p><p>当接口存在于调用方这边时，就是 SPI ，由接口调用方确定接口规则，然后由不同的厂商去根据这个规则对这个接口进行实现，从而提供服务。</p><p>举个通俗易懂的例子：公司 H 是一家科技公司，新设计了一款芯片，然后现在需要量产了，而市面上有好几家芯片制造业公司，这个时候，只要 H 公司指定好了这芯片生产的标准（定义好了接口标准），那么这些合作的芯片公司（服务提供者）就按照标准交付自家特色的芯片（提供不同方案的实现，但是给出来的结果是一样的）。</p><h3 id="SPI-的优缺点？"><a href="#SPI-的优缺点？" class="headerlink" title="SPI 的优缺点？"></a>SPI 的优缺点？</h3><p>通过 SPI 机制能够大大地提高接口设计的灵活性，但是 SPI 机制也存在一些缺点，比如：</p><ul><li>需要遍历加载所有的实现类，不能做到按需加载，这样效率还是相对较低的。</li><li>当多个 <code>ServiceLoader</code> 同时 <code>load</code> 时，会有并发问题。</li></ul><h2 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h2><p>关于序列化和反序列化的详细解读，请看这篇文章 <a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/basis/serialization.md">Java 序列化详解</a> ，里面涉及到的知识点和面试题更全面。</p><h3 id="什么是序列化-什么是反序列化"><a href="#什么是序列化-什么是反序列化" class="headerlink" title="什么是序列化?什么是反序列化?"></a>什么是序列化?什么是反序列化?</h3><p>如果我们需要持久化 Java 对象比如将 Java 对象保存在文件中，或者在网络传输 Java 对象，这些场景都需要用到序列化。</p><p>简单来说：</p><ul><li><strong>序列化</strong>： 将数据结构或对象转换成二进制字节流的过程</li><li><strong>反序列化</strong>：将在序列化过程中所生成的二进制字节流转换成数据结构或者对象的过程</li></ul><p>对于 Java 这种面向对象编程语言来说，我们序列化的都是对象（Object）也就是实例化后的类(Class)，但是在 C++这种半面向对象的语言中，struct(结构体)定义的是数据结构类型，而 class 对应的是对象类型。</p><p>下面是序列化和反序列化常见应用场景：</p><ul><li>对象在进行网络传输（比如远程方法调用 RPC 的时候）之前需要先被序列化，接收到序列化的对象之后需要再进行反序列化；</li><li>将对象存储到文件之前需要进行序列化，将对象从文件中读取出来需要进行反序列化；</li><li>将对象存储到数据库（如 Redis）之前需要用到序列化，将对象从缓存数据库中读取出来需要反序列化；</li><li>将对象存储到内存之前需要进行序列化，从内存中读取出来之后需要进行反序列化。</li></ul><p>维基百科是如是介绍序列化的：</p><blockquote><p><strong>序列化</strong>（serialization）在计算机科学的数据处理中，是指将数据结构或对象状态转换成可取用格式（例如存成文件，存于缓冲，或经由网络中发送），以留待后续在相同或另一台计算机环境中，能恢复原先状态的过程。依照序列化格式重新获取字节的结果时，可以利用它来产生与原始对象相同语义的副本。对于许多对象，像是使用大量引用的复杂对象，这种序列化重建的过程并不容易。面向对象中的对象序列化，并不概括之前原始对象所关系的函数。这种过程也称为对象编组（marshalling）。从一系列字节提取数据结构的反向操作，是反序列化（也称为解编组、deserialization、unmarshalling）。</p></blockquote><p>综上：<strong>序列化的主要目的是通过网络传输对象或者说是将对象存储到文件系统、数据库、内存中。</strong></p><p><img src="https://s2.loli.net/2023/04/02/OPJBjvy7r8VMWQz.png" alt="img"></p><p><a href="https://www.corejavaguru.com/java/serialization/interview-questions-1">https://www.corejavaguru.com/java/serialization/interview-questions-1</a></p><p><strong>序列化协议对应于 TCP&#x2F;IP 4 层模型的哪一层？</strong></p><p>我们知道网络通信的双方必须要采用和遵守相同的协议。TCP&#x2F;IP 四层模型是下面这样的，序列化协议属于哪一层呢？</p><ol><li>应用层</li><li>传输层</li><li>网络层</li><li>网络接口层</li></ol><p><img src="https://s2.loli.net/2023/04/02/HR54OLu1bpj6eyG.png" alt="TCP/IP 四层模型"></p><p>如上图所示，OSI 七层协议模型中，表示层做的事情主要就是对应用层的用户数据进行处理转换为二进制流。反过来的话，就是将二进制流转换成应用层的用户数据。这不就对应的是序列化和反序列化么？</p><p>因为，OSI 七层协议模型中的应用层、表示层和会话层对应的都是 TCP&#x2F;IP 四层模型中的应用层，所以序列化协议属于 TCP&#x2F;IP 协议应用层的一部分。</p><h3 id="如果有些字段不想进行序列化怎么办？"><a href="#如果有些字段不想进行序列化怎么办？" class="headerlink" title="如果有些字段不想进行序列化怎么办？"></a>如果有些字段不想进行序列化怎么办？</h3><p>对于不想进行序列化的变量，使用 <code>transient</code> 关键字修饰。</p><p><code>transient</code> 关键字的作用是：阻止实例中那些用此关键字修饰的的变量序列化；当对象被反序列化时，被 <code>transient</code> 修饰的变量值不会被持久化和恢复。</p><p>关于 <code>transient</code> 还有几点注意：</p><ul><li><code>transient</code> 只能修饰变量，不能修饰类和方法。</li><li><code>transient</code> 修饰的变量，在反序列化后变量值将会被置成类型的默认值。例如，如果是修饰 <code>int</code> 类型，那么反序列后结果就是 <code>0</code>。</li><li><code>static</code> 变量因为不属于任何对象(Object)，所以无论有没有 <code>transient</code> 关键字修饰，均不会被序列化。</li></ul><h3 id="常见序列化协议有哪些？"><a href="#常见序列化协议有哪些？" class="headerlink" title="常见序列化协议有哪些？"></a>常见序列化协议有哪些？</h3><p>JDK 自带的序列化方式一般不会用 ，因为序列化效率低并且存在安全问题。比较常用的序列化协议有 Hessian、Kryo、Protobuf、ProtoStuff，这些都是基于二进制的序列化协议。</p><p>像 JSON 和 XML 这种属于文本类序列化方式。虽然可读性比较好，但是性能较差，一般不会选择。</p><h3 id="为什么不推荐使用-JDK-自带的序列化？"><a href="#为什么不推荐使用-JDK-自带的序列化？" class="headerlink" title="为什么不推荐使用 JDK 自带的序列化？"></a>为什么不推荐使用 JDK 自带的序列化？</h3><p>我们很少或者说几乎不会直接使用 JDK 自带的序列化方式，主要原因有下面这些原因：</p><ul><li><strong>不支持跨语言调用</strong> : 如果调用的是其他语言开发的服务的时候就不支持了。</li><li><strong>性能差</strong> ：相比于其他序列化框架性能更低，主要原因是序列化之后的字节数组体积较大，导致传输成本加大。</li><li><strong>存在安全问题</strong> ：序列化和反序列化本身并不存在问题。但当输入的反序列化的数据可被用户控制，那么攻击者即可通过构造恶意输入，让反序列化产生非预期的对象，在此过程中执行构造的任意代码。相关阅读：<a href="https://cryin.github.io/blog/secure-development-java-deserialization-vulnerability/">应用安全：JAVA反序列化漏洞之殇</a> 。</li></ul><h2 id="I-x2F-O"><a href="#I-x2F-O" class="headerlink" title="I&#x2F;O"></a>I&#x2F;O</h2><p>关于I&#x2F;O的详细解读，请看下面这几篇文章，里面涉及到的知识点和面试题更全面。</p><ul><li><a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/io/io-basis.md">Java IO 基础知识总结</a></li><li><a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/io/io-design-patterns.md">Java IO 设计模式总结</a></li><li><a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/io/io-model.md">Java IO 模型详解</a></li></ul><h3 id="Java-IO-流了解吗？"><a href="#Java-IO-流了解吗？" class="headerlink" title="Java IO 流了解吗？"></a>Java IO 流了解吗？</h3><p>IO 即 <code>Input/Output</code>，输入和输出。数据输入到计算机内存的过程即输入，反之输出到外部存储（比如数据库，文件，远程主机）的过程即输出。数据传输过程类似于水流，因此称为 IO 流。IO 流在 Java 中分为输入流和输出流，而根据数据的处理方式又分为字节流和字符流。</p><p>Java IO 流的 40 多个类都是从如下 4 个抽象类基类中派生出来的。</p><ul><li><code>InputStream</code>&#x2F;<code>Reader</code>: 所有的输入流的基类，前者是字节输入流，后者是字符输入流。</li><li><code>OutputStream</code>&#x2F;<code>Writer</code>: 所有输出流的基类，前者是字节输出流，后者是字符输出流。</li></ul><h3 id="I-x2F-O-流为什么要分为字节流和字符流呢"><a href="#I-x2F-O-流为什么要分为字节流和字符流呢" class="headerlink" title="I&#x2F;O 流为什么要分为字节流和字符流呢?"></a>I&#x2F;O 流为什么要分为字节流和字符流呢?</h3><p>问题本质想问：<strong>不管是文件读写还是网络发送接收，信息的最小存储单元都是字节，那为什么 I&#x2F;O 流操作要分为字节流操作和字符流操作呢？</strong></p><p>个人认为主要有两点原因：</p><ul><li>字符流是由 Java 虚拟机将字节转换得到的，这个过程还算是比较耗时；</li><li>如果我们不知道编码类型的话，使用字节流的过程中很容易出现乱码问题。</li></ul><h3 id="Java-IO-中的设计模式有哪些？"><a href="#Java-IO-中的设计模式有哪些？" class="headerlink" title="Java IO 中的设计模式有哪些？"></a>Java IO 中的设计模式有哪些？</h3><p>参考答案：<a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/io/io-design-patterns.md">Java IO 设计模式总结</a></p><h3 id="BIO、NIO-和-AIO-的区别？"><a href="#BIO、NIO-和-AIO-的区别？" class="headerlink" title="BIO、NIO 和 AIO 的区别？"></a>BIO、NIO 和 AIO 的区别？</h3><p>参考答案：<a href="https://github.com/Snailclimb/JavaGuide/blob/main/docs/java/io/io-model.md">Java IO 模型详解</a></p><h2 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h2><h3 id="什么是语法糖？"><a href="#什么是语法糖？" class="headerlink" title="什么是语法糖？"></a>什么是语法糖？</h3><p><strong>语法糖（Syntactic sugar）</strong> 代指的是编程语言为了方便程序员开发程序而设计的一种特殊语法，这种语法对编程语言的功能并没有影响。实现相同的功能，基于语法糖写出来的代码往往更简单简洁且更易阅读。</p><p>举个例子，Java 中的 <code>for-each</code> 就是一个常用的语法糖，其原理其实就是基于普通的 for 循环和迭代器。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String[] strs = &#123;<span class="string">&quot;JavaGuide&quot;</span>, <span class="string">&quot;公众号：JavaGuide&quot;</span>, <span class="string">&quot;博客：https://javaguide.cn/&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">for</span> (String s : strs) &#123;</span><br><span class="line">  System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不过，JVM 其实并不能识别语法糖，Java 语法糖要想被正确执行，需要先通过编译器进行解糖，也就是在程序编译阶段将其转换成 JVM 认识的基本语法。这也侧面说明，Java 中真正支持语法糖的是 Java 编译器而不是 JVM。如果你去看<code>com.sun.tools.javac.main.JavaCompiler</code>的源码，你会发现在<code>compile()</code>中有一个步骤就是调用<code>desugar()</code>，这个方法就是负责解语法糖的实现的。</p><h3 id="Java-中有哪些常见的语法糖？"><a href="#Java-中有哪些常见的语法糖？" class="headerlink" title="Java 中有哪些常见的语法糖？"></a>Java 中有哪些常见的语法糖？</h3><p>Java 中最常用的语法糖主要有泛型、自动拆装箱、变长参数、枚举、内部类、增强 for 循环、try-with-resources 语法、lambda 表达式等。</p>]]></content>
      
      
      <categories>
          
          <category> Java面试题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象</title>
      <link href="/posts/816de279.html"/>
      <url>/posts/816de279.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="面向对象基础（面试题）"><a href="#面向对象基础（面试题）" class="headerlink" title="面向对象基础（面试题）"></a>面向对象基础（面试题）</h2><h3 id="面向对象和面向过程的区别"><a href="#面向对象和面向过程的区别" class="headerlink" title="面向对象和面向过程的区别"></a>面向对象和面向过程的区别</h3><p>两者的主要区别在于解决问题的方式不同：</p><ul><li>面向过程把解决问题的过程拆成一个个方法，通过一个个方法的执行解决问题。</li><li>面向对象会先抽象出对象，然后用对象执行方法的方式解决问题。</li></ul><p>另外，面向对象开发的程序一般更易维护、易复用、易扩展。</p><h3 id="创建一个对象用什么运算符-对象实体与对象引用有何不同"><a href="#创建一个对象用什么运算符-对象实体与对象引用有何不同" class="headerlink" title="创建一个对象用什么运算符?对象实体与对象引用有何不同?"></a>创建一个对象用什么运算符?对象实体与对象引用有何不同?</h3><p>new 运算符，new 创建对象实例（对象实例在堆内存中），对象引用指向对象实例（对象引用存放在栈内存中）。</p><p>一个对象引用可以指向 0 个或 1 个对象（一根绳子可以不系气球，也可以系一个气球）;一个对象可以有 n 个引用指向它（可以用 n 条绳子系住一个气球）。</p><h3 id="对象的相等和引用相等的区别"><a href="#对象的相等和引用相等的区别" class="headerlink" title="对象的相等和引用相等的区别"></a>对象的相等和引用相等的区别</h3><ul><li>对象的相等一般比较的是内存中存放的内容是否相等。</li><li>引用相等一般比较的是他们指向的内存地址是否相等。</li></ul><h3 id="类的构造方法的作用是什么"><a href="#类的构造方法的作用是什么" class="headerlink" title="类的构造方法的作用是什么?"></a>类的构造方法的作用是什么?</h3><p>构造方法是一种特殊的方法，主要作用是完成对象的初始化工作。</p><h3 id="如果一个类没有声明构造方法，该程序能正确执行吗"><a href="#如果一个类没有声明构造方法，该程序能正确执行吗" class="headerlink" title="如果一个类没有声明构造方法，该程序能正确执行吗?"></a>如果一个类没有声明构造方法，该程序能正确执行吗?</h3><p>如果一个类没有声明构造方法，也可以执行！因为一个类即使没有声明构造方法也会有默认的不带参数的构造方法。如果我们自己添加了类的构造方法（无论是否有参），Java 就不会再添加默认的无参数的构造方法了，我们一直在不知不觉地使用构造方法，这也是为什么我们在创建对象的时候后面要加一个括号（因为要调用无参的构造方法）。如果我们重载了有参的构造方法，记得都要把无参的构造方法也写出来（无论是否用到），因为这可以帮助我们在创建对象的时候少踩坑。</p><h3 id="构造方法有哪些特点？是否可被-override"><a href="#构造方法有哪些特点？是否可被-override" class="headerlink" title="构造方法有哪些特点？是否可被 override?"></a>构造方法有哪些特点？是否可被 override?</h3><p>构造方法特点如下：</p><ul><li>名字与类名相同。</li><li>没有返回值，但不能用 void 声明构造函数。</li><li>生成类的对象时自动执行，无需调用。</li></ul><p>构造方法不能被 override（重写）,但是可以 overload（重载）,所以你可以看到一个类中有多个构造函数的情况。</p><h3 id="面向对象三大特征"><a href="#面向对象三大特征" class="headerlink" title="面向对象三大特征"></a>面向对象三大特征</h3><h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><p>封装是指把一个对象的状态信息（也就是属性）隐藏在对象内部，不允许外部对象直接访问对象的内部信息。但是可以提供一些可以被外界访问的方法来操作属性。就好像我们看不到挂在墙上的空调的内部的零件信息（也就是属性），但是可以通过遥控器（方法）来控制空调。如果属性不想被外界访问，我们大可不必提供方法给外界访问。但是如果一个类没有提供给外界访问的方法，那么这个类也没有什么意义了。就好像如果没有空调遥控器，那么我们就无法操控空凋制冷，空调本身就没有意义了（当然现在还有很多其他方法 ，这里只是为了举例子）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Student &#123;</span><br><span class="line">    private int id;//id属性私有化</span><br><span class="line">    private String name;//name属性私有化</span><br><span class="line"></span><br><span class="line">    //获取id的方法</span><br><span class="line">    public int getId() &#123;</span><br><span class="line">        return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //设置id的方法</span><br><span class="line">    public void setId(int id) &#123;</span><br><span class="line">        this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //获取name的方法</span><br><span class="line">    public String getName() &#123;</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //设置name的方法</span><br><span class="line">    public void setName(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>不同类型的对象，相互之间经常有一定数量的共同点。例如，小明同学、小红同学、小李同学，都共享学生的特性（班级、学号等）。同时，每一个对象还定义了额外的特性使得他们与众不同。例如小明的数学比较好，小红的性格惹人喜爱；小李的力气比较大。继承是使用已存在的类的定义作为基础建立新类的技术，新类的定义可以增加新的数据或新的功能，也可以用父类的功能，但不能选择性地继承父类。通过使用继承，可以快速地创建新的类，可以提高代码的重用，程序的可维护性，节省大量创建新类的时间 ，提高我们的开发效率。</p><p><strong>关于继承如下 3 点请记住：</strong></p><ol><li>子类拥有父类对象所有的属性和方法（包括私有属性和私有方法），但是父类中的私有属性和方法子类是无法访问，<strong>只是拥有</strong>。</li><li>子类可以拥有自己属性和方法，即子类可以对父类进行扩展。</li><li>子类可以用自己的方式实现父类的方法。（以后介绍）。</li></ol><h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><p>多态，顾名思义，表示一个对象具有多种的状态，具体表现为父类的引用指向子类的实例。</p><p><strong>多态的特点:</strong></p><ul><li>对象类型和引用类型之间具有继承（类）&#x2F;实现（接口）的关系；</li><li>引用类型变量发出的方法调用的到底是哪个类中的方法，必须在程序运行期间才能确定；</li><li>多态不能调用“只在子类存在但在父类不存在”的方法；</li><li>如果子类重写了父类的方法，真正执行的是子类覆盖的方法，如果子类没有覆盖父类的方法，执行的是父类的方法。</li></ul><h3 id="接口和抽象类有什么共同点和区别？"><a href="#接口和抽象类有什么共同点和区别？" class="headerlink" title="接口和抽象类有什么共同点和区别？"></a>接口和抽象类有什么共同点和区别？</h3><p><strong>共同点</strong> ：</p><ul><li>都不能被实例化。</li><li>都可以包含抽象方法。</li><li>都可以有默认实现的方法（Java 8 可以用 <code>default</code> 关键字在接口中定义默认方法）。</li></ul><p><strong>区别</strong> ：</p><ul><li>接口主要用于对类的行为进行约束，你实现了某个接口就具有了对应的行为。抽象类主要用于代码复用，强调的是所属关系。</li><li>一个类只能继承一个类，但是可以实现多个接口。</li><li>接口中的成员变量只能是 <code>public static final</code> 类型的，不能被修改且必须有初始值，而抽象类的成员变量默认 default，可在子类中被重新定义，也可被重新赋值。</li></ul><h3 id="深拷贝和浅拷贝区别了解吗？什么是引用拷贝？"><a href="#深拷贝和浅拷贝区别了解吗？什么是引用拷贝？" class="headerlink" title="深拷贝和浅拷贝区别了解吗？什么是引用拷贝？"></a>深拷贝和浅拷贝区别了解吗？什么是引用拷贝？</h3><p>关于深拷贝和浅拷贝区别，我这里先给结论：</p><ul><li><strong>浅拷贝</strong>：浅拷贝会在堆上创建一个新的对象（区别于引用拷贝的一点），不过，如果原对象内部的属性是引用类型的话，浅拷贝会直接复制内部对象的引用地址，也就是说拷贝对象和原对象共用同一个内部对象。</li><li><strong>深拷贝</strong> ：深拷贝会完全复制整个对象，包括这个对象所包含的内部对象。</li></ul><p>上面的结论没有完全理解的话也没关系，我们来看一个具体的案例！</p><p><strong>浅拷贝</strong></p><p>浅拷贝的示例代码如下，我们这里实现了 <code>Cloneable</code> 接口，并重写了 <code>clone()</code> 方法。</p><p><code>clone()</code> 方法的实现很简单，直接调用的是父类 <code>Object</code> 的 <code>clone()</code> 方法。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class Address implements Cloneable&#123;</span><br><span class="line">    private String name;</span><br><span class="line">    // 省略构造函数、Getter&amp;Setter方法</span><br><span class="line">    @Override</span><br><span class="line">    public Address clone() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            return (Address) super.clone();</span><br><span class="line">        &#125; catch (CloneNotSupportedException e) &#123;</span><br><span class="line">            throw new AssertionError();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Person implements Cloneable &#123;</span><br><span class="line">    private Address address;</span><br><span class="line">    // 省略构造函数、Getter&amp;Setter方法</span><br><span class="line">    @Override</span><br><span class="line">    public Person clone() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            Person person = (Person) super.clone();</span><br><span class="line">            return person;</span><br><span class="line">        &#125; catch (CloneNotSupportedException e) &#123;</span><br><span class="line">            throw new AssertionError();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试 ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person1 = new Person(new Address(&quot;武汉&quot;));</span><br><span class="line">Person person1Copy = person1.clone();</span><br><span class="line">// true</span><br><span class="line">System.out.println(person1.getAddress() == person1Copy.getAddress());</span><br></pre></td></tr></table></figure><p>从输出结构就可以看出， <code>person1</code> 的克隆对象和 <code>person1</code> 使用的仍然是同一个 <code>Address</code> 对象。</p><p><strong>深拷贝</strong></p><p>这里我们简单对 <code>Person</code> 类的 <code>clone()</code> 方法进行修改，连带着要把 <code>Person</code> 对象内部的 <code>Address</code> 对象一起复制。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public Person clone() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        Person person = (Person) super.clone();</span><br><span class="line">        person.setAddress(person.getAddress().clone());</span><br><span class="line">        return person;</span><br><span class="line">    &#125; catch (CloneNotSupportedException e) &#123;</span><br><span class="line">        throw new AssertionError();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试 ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person1 = new Person(new Address(&quot;武汉&quot;));</span><br><span class="line">Person person1Copy = person1.clone();</span><br><span class="line">// false</span><br><span class="line">System.out.println(person1.getAddress() == person1Copy.getAddress());</span><br></pre></td></tr></table></figure><p>从输出结构就可以看出，虽然 <code>person1</code> 的克隆对象和 <code>person1</code> 包含的 <code>Address</code> 对象已经是不同的了。</p><p><strong>那什么是引用拷贝呢？</strong> 简单来说，引用拷贝就是两个不同的引用指向同一个对象。</p><p>我专门画了一张图来描述浅拷贝、深拷贝、引用拷贝：</p><p><img src="https://s2.loli.net/2023/04/02/XuwG3klzm6it7WR.png" alt="浅拷贝、深拷贝、引用拷贝示意图"></p><h2 id="Java-常见类"><a href="#Java-常见类" class="headerlink" title="Java 常见类"></a>Java 常见类</h2><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><h4 id="Object-类的常见方法有哪些？"><a href="#Object-类的常见方法有哪些？" class="headerlink" title="Object 类的常见方法有哪些？"></a>Object 类的常见方法有哪些？</h4><p>Object 类是一个特殊的类，是所有类的父类。它主要提供了以下 11 个方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * native 方法，用于返回当前运行时对象的 Class 对象，使用了 final 关键字修饰，故不允许子类重写。</span><br><span class="line"> */</span><br><span class="line">public final native Class&lt;?&gt; getClass()</span><br><span class="line">/**</span><br><span class="line"> * native 方法，用于返回对象的哈希码，主要使用在哈希表中，比如 JDK 中的HashMap。</span><br><span class="line"> */</span><br><span class="line">public native int hashCode()</span><br><span class="line">/**</span><br><span class="line"> * 用于比较 2 个对象的内存地址是否相等，String 类对该方法进行了重写以用于比较字符串的值是否相等。</span><br><span class="line"> */</span><br><span class="line">public boolean equals(Object obj)</span><br><span class="line">/**</span><br><span class="line"> * naitive 方法，用于创建并返回当前对象的一份拷贝。</span><br><span class="line"> */</span><br><span class="line">protected native Object clone() throws CloneNotSupportedException</span><br><span class="line">/**</span><br><span class="line"> * 返回类的名字实例的哈希码的 16 进制的字符串。建议 Object 所有的子类都重写这个方法。</span><br><span class="line"> */</span><br><span class="line">public String toString()</span><br><span class="line">/**</span><br><span class="line"> * native 方法，并且不能重写。唤醒一个在此对象监视器上等待的线程(监视器相当于就是锁的概念)。如果有多个线程在等待只会任意唤醒一个。</span><br><span class="line"> */</span><br><span class="line">public final native void notify()</span><br><span class="line">/**</span><br><span class="line"> * native 方法，并且不能重写。跟 notify 一样，唯一的区别就是会唤醒在此对象监视器上等待的所有线程，而不是一个线程。</span><br><span class="line"> */</span><br><span class="line">public final native void notifyAll()</span><br><span class="line">/**</span><br><span class="line"> * native方法，并且不能重写。暂停线程的执行。注意：sleep 方法没有释放锁，而 wait 方法释放了锁 ，timeout 是等待时间。</span><br><span class="line"> */</span><br><span class="line">public final native void wait(long timeout) throws InterruptedException</span><br><span class="line">/**</span><br><span class="line"> * 多了 nanos 参数，这个参数表示额外时间（以毫微秒为单位，范围是 0-999999）。 所以超时的时间还需要加上 nanos 毫秒。。</span><br><span class="line"> */</span><br><span class="line">public final void wait(long timeout, int nanos) throws InterruptedException</span><br><span class="line">/**</span><br><span class="line"> * 跟之前的2个wait方法一样，只不过该方法一直等待，没有超时时间这个概念</span><br><span class="line"> */</span><br><span class="line">public final void wait() throws InterruptedException</span><br><span class="line">/**</span><br><span class="line"> * 实例被垃圾回收器回收的时候触发的操作</span><br><span class="line"> */</span><br><span class="line">protected void finalize() throws Throwable &#123; &#125;</span><br></pre></td></tr></table></figure><h4 id="x3D-x3D-和-equals-的区别"><a href="#x3D-x3D-和-equals-的区别" class="headerlink" title="&#x3D;&#x3D; 和 equals() 的区别"></a>&#x3D;&#x3D; 和 equals() 的区别</h4><p><strong><code>==</code></strong> 对于基本类型和引用类型的作用效果是不同的：</p><ul><li>对于基本数据类型来说，<code>==</code> 比较的是值。</li><li>对于引用数据类型来说，<code>==</code> 比较的是对象的内存地址。</li></ul><blockquote><p>因为 Java 只有值传递，所以，对于 &#x3D;&#x3D; 来说，不管是比较基本数据类型，还是引用数据类型的变量，其本质比较的都是值，只是引用类型变量存的值是对象的地址。</p></blockquote><p><strong><code>equals()</code></strong> 不能用于判断基本数据类型的变量，只能用来判断两个对象是否相等。<code>equals()</code>方法存在于<code>Object</code>类中，而<code>Object</code>类是所有类的直接或间接父类，因此所有的类都有<code>equals()</code>方法。</p><p><code>Object</code> 类 <code>equals()</code> 方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public boolean equals(Object obj) &#123;</span><br><span class="line">     return (this == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>equals()</code> 方法存在两种使用情况：</p><ul><li><strong>类没有重写 <code>equals()</code>方法</strong> ：通过<code>equals()</code>比较该类的两个对象时，等价于通过“&#x3D;&#x3D;”比较这两个对象，使用的默认是 <code>Object</code>类<code>equals()</code>方法。</li><li><strong>类重写了 <code>equals()</code>方法</strong> ：一般我们都重写 <code>equals()</code>方法来比较两个对象中的属性是否相等；若它们的属性相等，则返回 true(即，认为这两个对象相等)。</li></ul><p>举个例子（这里只是为了举例。实际上，你按照下面这种写法的话，像 IDEA 这种比较智能的 IDE 都会提示你将 <code>==</code> 换成 <code>equals()</code> ）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String a = new String(&quot;ab&quot;); // a 为一个引用</span><br><span class="line">String b = new String(&quot;ab&quot;); // b为另一个引用,对象的内容一样</span><br><span class="line">String aa = &quot;ab&quot;; // 放在常量池中</span><br><span class="line">String bb = &quot;ab&quot;; // 从常量池中查找</span><br><span class="line">System.out.println(aa == bb);// true</span><br><span class="line">System.out.println(a == b);// false</span><br><span class="line">System.out.println(a.equals(b));// true</span><br><span class="line">System.out.println(42 == 42.0);// true</span><br></pre></td></tr></table></figure><p><code>String</code> 中的 <code>equals</code> 方法是被重写过的，因为 <code>Object</code> 的 <code>equals</code> 方法是比较的对象的内存地址，而 <code>String</code> 的 <code>equals</code> 方法比较的是对象的值。</p><p>当创建 <code>String</code> 类型的对象时，虚拟机会在常量池中查找有没有已经存在的值和要创建的值相同的对象，如果有就把它赋给当前引用。如果没有就在常量池中重新创建一个 <code>String</code> 对象。</p><p><code>String</code>类<code>equals()</code>方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public boolean equals(Object anObject) &#123;</span><br><span class="line">    if (this == anObject) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    if (anObject instanceof String) &#123;</span><br><span class="line">        String anotherString = (String)anObject;</span><br><span class="line">        int n = value.length;</span><br><span class="line">        if (n == anotherString.value.length) &#123;</span><br><span class="line">            char v1[] = value;</span><br><span class="line">            char v2[] = anotherString.value;</span><br><span class="line">            int i = 0;</span><br><span class="line">            while (n-- != 0) &#123;</span><br><span class="line">                if (v1[i] != v2[i])</span><br><span class="line">                    return false;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="hashCode-有什么用？"><a href="#hashCode-有什么用？" class="headerlink" title="hashCode() 有什么用？"></a>hashCode() 有什么用？</h4><p><code>hashCode()</code> 的作用是获取哈希码（<code>int</code> 整数），也称为散列码。这个哈希码的作用是确定该对象在哈希表中的索引位置。</p><p><code>hashCode()</code>定义在 JDK 的 <code>Object</code> 类中，这就意味着 Java 中的任何类都包含有 <code>hashCode()</code> 函数。另外需要注意的是： <code>Object</code> 的 <code>hashCode()</code> 方法是本地方法，也就是用 C 语言或 C++ 实现的，该方法通常用来将对象的内存地址转换为整数之后返回。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public native int hashCode();</span><br></pre></td></tr></table></figure><p>散列表存储的是键值对(key-value)，它的特点是：<strong>能根据“键”快速的检索出对应的“值”。这其中就利用到了散列码！（可以快速找到所需要的对象）</strong></p><h4 id="为什么要有-hashCode？"><a href="#为什么要有-hashCode？" class="headerlink" title="为什么要有 hashCode？"></a>为什么要有 hashCode？</h4><p>我们以“<code>HashSet</code> 如何检查重复”为例子来说明为什么要有 <code>hashCode</code>？</p><p>下面这段内容摘自我的 Java 启蒙书《Head First Java》:</p><blockquote><p>当你把对象加入 <code>HashSet</code> 时，<code>HashSet</code> 会先计算对象的 <code>hashCode</code> 值来判断对象加入的位置，同时也会与其他已经加入的对象的 <code>hashCode</code> 值作比较，如果没有相符的 <code>hashCode</code>，<code>HashSet</code> 会假设对象没有重复出现。但是如果发现有相同 <code>hashCode</code> 值的对象，这时会调用 <code>equals()</code> 方法来检查 <code>hashCode</code> 相等的对象是否真的相同。如果两者相同，<code>HashSet</code> 就不会让其加入操作成功。如果不同的话，就会重新散列到其他位置。这样我们就大大减少了 <code>equals</code> 的次数，相应就大大提高了执行速度。</p></blockquote><p>其实， <code>hashCode()</code> 和 <code>equals()</code>都是用于比较两个对象是否相等。</p><p><strong>那为什么 JDK 还要同时提供这两个方法呢？</strong></p><p>这是因为在一些容器（比如 <code>HashMap</code>、<code>HashSet</code>）中，有了 <code>hashCode()</code> 之后，判断元素是否在对应容器中的效率会更高（参考添加元素进<code>HashSet</code>的过程）！</p><p>我们在前面也提到了添加元素进<code>HashSet</code>的过程，如果 <code>HashSet</code> 在对比的时候，同样的 <code>hashCode</code> 有多个对象，它会继续使用 <code>equals()</code> 来判断是否真的相同。也就是说 <code>hashCode</code> 帮助我们大大缩小了查找成本。</p><p><strong>那为什么不只提供 <code>hashCode()</code> 方法呢？</strong></p><p>这是因为两个对象的<code>hashCode</code> 值相等并不代表两个对象就相等。</p><p><strong>那为什么两个对象有相同的 <code>hashCode</code> 值，它们也不一定是相等的？</strong></p><p>因为 <code>hashCode()</code> 所使用的哈希算法也许刚好会让多个对象传回相同的哈希值。越糟糕的哈希算法越容易碰撞，但这也与数据值域分布的特性有关（所谓哈希碰撞也就是指的是不同的对象得到相同的 <code>hashCode</code> )。</p><p>总结下来就是 ：</p><ul><li>如果两个对象的<code>hashCode</code> 值相等，那这两个对象不一定相等（哈希碰撞）。</li><li>如果两个对象的<code>hashCode</code> 值相等并且<code>equals()</code>方法也返回 <code>true</code>，我们才认为这两个对象相等。</li><li>如果两个对象的<code>hashCode</code> 值不相等，我们就可以直接认为这两个对象不相等。</li></ul><p>相信大家看了我前面对 <code>hashCode()</code> 和 <code>equals()</code> 的介绍之后，下面这个问题已经难不倒你们了。</p><h4 id="为什么重写-equals-时必须重写-hashCode-方法？"><a href="#为什么重写-equals-时必须重写-hashCode-方法？" class="headerlink" title="为什么重写 equals() 时必须重写 hashCode() 方法？"></a>为什么重写 equals() 时必须重写 hashCode() 方法？</h4><p>因为两个相等的对象的 <code>hashCode</code> 值必须是相等。也就是说如果 <code>equals</code> 方法判断两个对象是相等的，那这两个对象的 <code>hashCode</code> 值也要相等。</p><p>如果重写 <code>equals()</code> 时没有重写 <code>hashCode()</code> 方法的话就可能会导致 <code>equals</code> 方法判断是相等的两个对象，<code>hashCode</code> 值却不相等。</p><p><strong>思考</strong> ：重写 <code>equals()</code> 时没有重写 <code>hashCode()</code> 方法的话，使用 <code>HashMap</code> 可能会出现什么问题。</p><p><strong>总结</strong> ：</p><ul><li><code>equals</code> 方法判断两个对象是相等的，那这两个对象的 <code>hashCode</code> 值也要相等。</li><li>两个对象有相同的 <code>hashCode</code> 值，他们也不一定是相等的（哈希碰撞）。</li></ul><p>更多关于 <code>hashCode()</code> 和 <code>equals()</code> 的内容可以查看：<a href="https://www.cnblogs.com/skywang12345/p/3324958.html">Java hashCode() 和 equals()的若干问题解答</a></p><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><h4 id="String、StringBuffer、StringBuilder-的区别？"><a href="#String、StringBuffer、StringBuilder-的区别？" class="headerlink" title="String、StringBuffer、StringBuilder 的区别？"></a>String、StringBuffer、StringBuilder 的区别？</h4><p><strong>可变性</strong></p><p><code>String</code> 是不可变的（后面会详细分析原因）。</p><p><code>StringBuilder</code> 与 <code>StringBuffer</code> 都继承自 <code>AbstractStringBuilder</code> 类，在 <code>AbstractStringBuilder</code> 中也是使用字符数组保存字符串，不过没有使用 <code>final</code> 和 <code>private</code> 关键字修饰，最关键的是这个 <code>AbstractStringBuilder</code> 类还提供了很多修改字符串的方法比如 <code>append</code> 方法。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">abstract class AbstractStringBuilder implements Appendable, CharSequence &#123;</span><br><span class="line">    char[] value;</span><br><span class="line">    public AbstractStringBuilder append(String str) &#123;</span><br><span class="line">        if (str == null)</span><br><span class="line">            return appendNull();</span><br><span class="line">        int len = str.length();</span><br><span class="line">        ensureCapacityInternal(count + len);</span><br><span class="line">        str.getChars(0, len, value, count);</span><br><span class="line">        count += len;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>线程安全性</strong></p><p><code>String</code> 中的对象是不可变的，也就可以理解为常量，线程安全。<code>AbstractStringBuilder</code> 是 <code>StringBuilder</code> 与 <code>StringBuffer</code> 的公共父类，定义了一些字符串的基本操作，如 <code>expandCapacity</code>、<code>append</code>、<code>insert</code>、<code>indexOf</code> 等公共方法。<code>StringBuffer</code> 对方法加了同步锁或者对调用的方法加了同步锁，所以是线程安全的。<code>StringBuilder</code> 并没有对方法进行加同步锁，所以是非线程安全的。</p><p><strong>性能</strong></p><p>每次对 <code>String</code> 类型进行改变的时候，都会生成一个新的 <code>String</code> 对象，然后将指针指向新的 <code>String</code> 对象。<code>StringBuffer</code> 每次都会对 <code>StringBuffer</code> 对象本身进行操作，而不是生成新的对象并改变对象引用。相同情况下使用 <code>StringBuilder</code> 相比使用 <code>StringBuffer</code> 仅能获得 10%~15% 左右的性能提升，但却要冒多线程不安全的风险。</p><p><strong>对于三者使用的总结：</strong></p><ol><li>操作少量的数据: 适用 <code>String</code></li><li>单线程操作字符串缓冲区下操作大量数据: 适用 <code>StringBuilder</code></li><li>多线程操作字符串缓冲区下操作大量数据: 适用 <code>StringBuffer</code></li></ol><h4 id="String-为什么是不可变的"><a href="#String-为什么是不可变的" class="headerlink" title="String 为什么是不可变的?"></a>String 为什么是不可变的?</h4><p><code>String</code> 类中使用 <code>final</code> 关键字修饰字符数组来保存字符串，<del>所以<code>String</code> 对象是不可变的。</del></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public final class String implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123;</span><br><span class="line">    private final char value[];</span><br><span class="line">//...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>🐛 修正 ： 我们知道被 <code>final</code> 关键字修饰的类不能被继承，修饰的方法不能被重写，修饰的变量是基本数据类型则值不能改变，修饰的变量是引用类型则不能再指向其他对象。因此，<code>final</code> 关键字修饰的数组保存字符串并不是 <code>String</code> 不可变的根本原因，因为这个数组保存的字符串是可变的（<code>final</code> 修饰引用类型变量的情况）。</p><p><code>String</code> 真正不可变有下面几点原因：</p><ol><li>保存字符串的数组被 <code>final</code> 修饰且为私有的，并且<code>String</code> 类没有提供&#x2F;暴露修改这个字符串的方法。</li><li><code>String</code> 类被 <code>final</code> 修饰导致其不能被继承，进而避免了子类破坏 <code>String</code> 不可变。</li></ol><p>相关阅读：<a href="https://www.zhihu.com/question/20618891/answer/114125846">如何理解 String 类型值的不可变？ - 知乎提问</a></p><p>补充（来自<a href="https://github.com/Snailclimb/JavaGuide/issues/675">issue 675</a>）：在 Java 9 之后，<code>String</code> 、<code>StringBuilder</code> 与 <code>StringBuffer</code> 的实现改用 <code>byte</code> 数组存储字符串。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public final class String implements java.io.Serializable,Comparable&lt;String&gt;, CharSequence &#123;</span><br><span class="line">    // @Stable 注解表示变量最多被修改一次，称为“稳定的”。</span><br><span class="line">    @Stable</span><br><span class="line">    private final byte[] value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class AbstractStringBuilder implements Appendable, CharSequence &#123;</span><br><span class="line">    byte[] value;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Java 9 为何要将 <code>String</code> 的底层实现由 <code>char[]</code> 改成了 <code>byte[]</code> ?</strong></p><p>新版的 String 其实支持两个编码方案： Latin-1 和 UTF-16。如果字符串中包含的汉字没有超过 Latin-1 可表示范围内的字符，那就会使用 Latin-1 作为编码方案。Latin-1 编码方案下，<code>byte</code> 占一个字节(8 位)，<code>char</code> 占用 2 个字节（16），<code>byte</code> 相较 <code>char</code> 节省一半的内存空间。</p><p>JDK 官方就说了绝大部分字符串对象只包含 Latin-1 可表示的字符。</p><p><img src="https://s2.loli.net/2023/04/02/Mu5IhAUV3pKqdfG.png" alt="img"></p><p>如果字符串中包含的汉字超过 Latin-1 可表示范围内的字符，<code>byte</code> 和 <code>char</code> 所占用的空间是一样的。</p><p>这是官方的介绍：<a href="https://openjdk.java.net/jeps/254">https://openjdk.java.net/jeps/254</a> 。</p></blockquote><h4 id="字符串拼接用“-”-还是-StringBuilder"><a href="#字符串拼接用“-”-还是-StringBuilder" class="headerlink" title="字符串拼接用“+” 还是 StringBuilder?"></a>字符串拼接用“+” 还是 StringBuilder?</h4><p>Java 语言本身并不支持运算符重载，“+”和“+&#x3D;”是专门为 String 类重载过的运算符，也是 Java 中仅有的两个重载过的运算符。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str1 = &quot;he&quot;;</span><br><span class="line">String str2 = &quot;llo&quot;;</span><br><span class="line">String str3 = &quot;world&quot;;</span><br><span class="line">String str4 = str1 + str2 + str3;</span><br></pre></td></tr></table></figure><p>上面的代码对应的字节码如下：</p><p><img src="https://s2.loli.net/2023/04/02/H2fuIcnzAkKJXlT.png" alt="img"></p><p>可以看出，字符串对象通过“+”的字符串拼接方式，实际上是通过 <code>StringBuilder</code> 调用 <code>append()</code> 方法实现的，拼接完成之后调用 <code>toString()</code> 得到一个 <code>String</code> 对象 。</p><p>不过，在循环内使用“+”进行字符串的拼接的话，存在比较明显的缺陷：<strong>编译器不会创建单个 <code>StringBuilder</code> 以复用，会导致创建过多的 <code>StringBuilder</code> 对象</strong>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String[] arr = &#123;&quot;he&quot;, &quot;llo&quot;, &quot;world&quot;&#125;;</span><br><span class="line">String s = &quot;&quot;;</span><br><span class="line">for (int i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">    s += arr[i];</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure><p><code>StringBuilder</code> 对象是在循环内部被创建的，这意味着每循环一次就会创建一个 <code>StringBuilder</code> 对象。</p><p><img src="https://s2.loli.net/2023/04/02/LIO3Fqvn5PYgtH8.png" alt="img"></p><p>如果直接使用 <code>StringBuilder</code> 对象进行字符串拼接的话，就不会存在这个问题了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String[] arr = &#123;&quot;he&quot;, &quot;llo&quot;, &quot;world&quot;&#125;;</span><br><span class="line">StringBuilder s = new StringBuilder();</span><br><span class="line">for (String value : arr) &#123;</span><br><span class="line">    s.append(value);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/04/02/xs81YiDROc9KebF.png" alt="img"></p><p>如果你使用 IDEA 的话，IDEA 自带的代码检查机制也会提示你修改代码。</p><h4 id="String-equals-和-Object-equals-有何区别？"><a href="#String-equals-和-Object-equals-有何区别？" class="headerlink" title="String#equals() 和 Object#equals() 有何区别？"></a>String#equals() 和 Object#equals() 有何区别？</h4><p><code>String</code> 中的 <code>equals</code> 方法是被重写过的，比较的是 String 字符串的值是否相等。 <code>Object</code> 的 <code>equals</code> 方法是比较的对象的内存地址。</p><h4 id="字符串常量池的作用了解吗？"><a href="#字符串常量池的作用了解吗？" class="headerlink" title="字符串常量池的作用了解吗？"></a>字符串常量池的作用了解吗？</h4><p><strong>字符串常量池</strong> 是 JVM 为了提升性能和减少内存消耗针对字符串（String 类）专门开辟的一块区域，主要目的是为了避免字符串的重复创建。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 在堆中创建字符串对象”ab“</span><br><span class="line">// 将字符串对象”ab“的引用保存在字符串常量池中</span><br><span class="line">String aa = &quot;ab&quot;;</span><br><span class="line">// 直接返回字符串常量池中字符串对象”ab“的引用</span><br><span class="line">String bb = &quot;ab&quot;;</span><br><span class="line">System.out.println(aa==bb);// true</span><br></pre></td></tr></table></figure><p>更多关于字符串常量池的介绍可以看一下 <a href="https://javaguide.cn/java/jvm/memory-area.html">Java 内存区域详解</a> 这篇文章。</p><h4 id="String-s1-x3D-new-String-“abc”-这句话创建了几个字符串对象？"><a href="#String-s1-x3D-new-String-“abc”-这句话创建了几个字符串对象？" class="headerlink" title="String s1 &#x3D; new String(“abc”);这句话创建了几个字符串对象？"></a>String s1 &#x3D; new String(“abc”);这句话创建了几个字符串对象？</h4><p>会创建 1 或 2 个字符串对象。</p><p>1、如果字符串常量池中不存在字符串对象“abc”的引用，那么会在堆中创建 2 个字符串对象“abc”。</p><p>示例代码（JDK 1.8）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s1 = new String(&quot;abc&quot;);</span><br></pre></td></tr></table></figure><p>对应的字节码：</p><p><img src="https://s2.loli.net/2023/04/02/TyGtVvHl9p6XIWB.png" alt="img"></p><p><code>ldc</code> 命令用于判断字符串常量池中是否保存了对应的字符串对象的引用，如果保存了的话直接返回，如果没有保存的话，会在堆中创建对应的字符串对象并将该字符串对象的引用保存到字符串常量池中。</p><p>2、如果字符串常量池中已存在字符串对象“abc”的引用，则只会在堆中创建 1 个字符串对象“abc”。</p><p>示例代码（JDK 1.8）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 字符串常量池中已存在字符串对象“abc”的引用</span><br><span class="line">String s1 = &quot;abc&quot;;</span><br><span class="line">// 下面这段代码只会在堆中创建 1 个字符串对象“abc”</span><br><span class="line">String s2 = new String(&quot;abc&quot;);</span><br></pre></td></tr></table></figure><p>对应的字节码：</p><p><img src="https://s2.loli.net/2023/04/02/2MJcKFViwvAQ31t.png" alt="img"></p><p>这里就不对上面的字节码进行详细注释了，7 这个位置的 <code>ldc</code> 命令不会在堆中创建新的字符串对象“abc”，这是因为 0 这个位置已经执行了一次 <code>ldc</code> 命令，已经在堆中创建过一次字符串对象“abc”了。7 这个位置执行 <code>ldc</code> 命令会直接返回字符串常量池中字符串对象“abc”对应的引用。</p><h4 id="intern-方法有什么作用"><a href="#intern-方法有什么作用" class="headerlink" title="intern 方法有什么作用?"></a>intern 方法有什么作用?</h4><p><code>String.intern()</code> 是一个 native（本地）方法，其作用是将指定的字符串对象的引用保存在字符串常量池中，可以简单分为两种情况：</p><ul><li>如果字符串常量池中保存了对应的字符串对象的引用，就直接返回该引用。</li><li>如果字符串常量池中没有保存了对应的字符串对象的引用，那就在常量池中创建一个指向该字符串对象的引用并返回。</li></ul><p>示例代码（JDK 1.8） :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 在堆中创建字符串对象”Java“</span><br><span class="line">// 将字符串对象”Java“的引用保存在字符串常量池中</span><br><span class="line">String s1 = &quot;Java&quot;;</span><br><span class="line">// 直接返回字符串常量池中字符串对象”Java“对应的引用</span><br><span class="line">String s2 = s1.intern();</span><br><span class="line">// 会在堆中在单独创建一个字符串对象</span><br><span class="line">String s3 = new String(&quot;Java&quot;);</span><br><span class="line">// 直接返回字符串常量池中字符串对象”Java“对应的引用</span><br><span class="line">String s4 = s3.intern();</span><br><span class="line">// s1 和 s2 指向的是堆中的同一个对象</span><br><span class="line">System.out.println(s1 == s2); // true</span><br><span class="line">// s3 和 s4 指向的是堆中不同的对象</span><br><span class="line">System.out.println(s3 == s4); // false</span><br><span class="line">// s1 和 s4 指向的是堆中的同一个对象</span><br><span class="line">System.out.println(s1 == s4); //true</span><br></pre></td></tr></table></figure><h4 id="String-类型的变量和常量做“-”运算时发生了什么？"><a href="#String-类型的变量和常量做“-”运算时发生了什么？" class="headerlink" title="String 类型的变量和常量做“+”运算时发生了什么？"></a>String 类型的变量和常量做“+”运算时发生了什么？</h4><p>先来看字符串不加 <code>final</code> 关键字拼接的情况（JDK1.8）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String str1 = &quot;str&quot;;</span><br><span class="line">String str2 = &quot;ing&quot;;</span><br><span class="line">String str3 = &quot;str&quot; + &quot;ing&quot;;</span><br><span class="line">String str4 = str1 + str2;</span><br><span class="line">String str5 = &quot;string&quot;;</span><br><span class="line">System.out.println(str3 == str4);//false</span><br><span class="line">System.out.println(str3 == str5);//true</span><br><span class="line">System.out.println(str4 == str5);//false</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意</strong> ：比较 String 字符串的值是否相等，可以使用 <code>equals()</code> 方法。 <code>String</code> 中的 <code>equals</code> 方法是被重写过的。 <code>Object</code> 的 <code>equals</code> 方法是比较的对象的内存地址，而 <code>String</code> 的 <code>equals</code> 方法比较的是字符串的值是否相等。如果你使用 <code>==</code> 比较两个字符串是否相等的话，IDEA 还是提示你使用 <code>equals()</code> 方法替换。</p></blockquote><p><img src="https://s2.loli.net/2023/04/02/lBuRM2IZDTaefrC.png" alt="img"></p><p><strong>对于编译期可以确定值的字符串，也就是常量字符串 ，jvm 会将其存入字符串常量池。并且，字符串常量拼接得到的字符串常量在编译阶段就已经被存放字符串常量池，这个得益于编译器的优化。</strong></p><p>在编译过程中，Javac 编译器（下文中统称为编译器）会进行一个叫做 <strong>常量折叠(Constant Folding)</strong> 的代码优化。《深入理解 Java 虚拟机》中是也有介绍到：</p><p><img src="https://s2.loli.net/2023/04/02/LFzEDgI9kNGvnRf.png" alt="img"></p><p>常量折叠会把常量表达式的值求出来作为常量嵌在最终生成的代码中，这是 Javac 编译器会对源代码做的极少量优化措施之一(代码优化几乎都在即时编译器中进行)。</p><p>对于 <code>String str3 = &quot;str&quot; + &quot;ing&quot;;</code> 编译器会给你优化成 <code>String str3 = &quot;string&quot;;</code> 。</p><p>并不是所有的常量都会进行折叠，只有编译器在程序编译期就可以确定值的常量才可以：</p><ul><li>基本数据类型( <code>byte</code>、<code>boolean</code>、<code>short</code>、<code>char</code>、<code>int</code>、<code>float</code>、<code>long</code>、<code>double</code>)以及字符串常量。</li><li><code>final</code> 修饰的基本数据类型和字符串变量</li><li>字符串通过 “+”拼接得到的字符串、基本数据类型之间算数运算（加减乘除）、基本数据类型的位运算（&lt;&lt;、&gt;&gt;、&gt;&gt;&gt; ）</li></ul><p><strong>引用的值在程序编译期是无法确定的，编译器无法对其进行优化。</strong></p><p>对象引用和“+”的字符串拼接方式，实际上是通过 <code>StringBuilder</code> 调用 <code>append()</code> 方法实现的，拼接完成之后调用 <code>toString()</code> 得到一个 <code>String</code> 对象 。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str4 = new StringBuilder().append(str1).append(str2).toString();</span><br></pre></td></tr></table></figure><p>我们在平时写代码的时候，尽量避免多个字符串对象拼接，因为这样会重新创建对象。如果需要改变字符串的话，可以使用 <code>StringBuilder</code> 或者 <code>StringBuffer</code>。</p><p>不过，字符串使用 <code>final</code> 关键字声明之后，可以让编译器当做常量来处理。</p><p>示例代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">final String str1 = &quot;str&quot;;</span><br><span class="line">final String str2 = &quot;ing&quot;;</span><br><span class="line">// 下面两个表达式其实是等价的</span><br><span class="line">String c = &quot;str&quot; + &quot;ing&quot;;// 常量池中的对象</span><br><span class="line">String d = str1 + str2; // 常量池中的对象</span><br><span class="line">System.out.println(c == d);// true</span><br></pre></td></tr></table></figure><p>被 <code>final</code> 关键字修改之后的 <code>String</code> 会被编译器当做常量来处理，编译器在程序编译期就可以确定它的值，其效果就相当于访问常量。</p><p>如果 ，编译器在运行时才能知道其确切值的话，就无法对其优化。</p><p>示例代码（<code>str2</code> 在运行时才能确定其值）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">final String str1 = &quot;str&quot;;</span><br><span class="line">final String str2 = getStr();</span><br><span class="line">String c = &quot;str&quot; + &quot;ing&quot;;// 常量池中的对象</span><br><span class="line">String d = str1 + str2; // 在堆上创建的新的对象</span><br><span class="line">System.out.println(c == d);// false</span><br><span class="line">public static String getStr() &#123;</span><br><span class="line">      return &quot;ing&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>深入解析 String#intern<a href="https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html">https://tech.meituan.com/2014/03/06/in-depth-understanding-string-intern.html</a></li><li>R 大（RednaxelaFX）关于常量折叠的回答：<a href="https://www.zhihu.com/question/55976094/answer/147302764">https://www.zhihu.com/question/55976094/answer/147302764</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Java面试题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hadoop安全模式</title>
      <link href="/posts/61691ff1.html"/>
      <url>/posts/61691ff1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Hadoop安全模式"><a href="#Hadoop安全模式" class="headerlink" title="Hadoop安全模式"></a>Hadoop安全模式</h1><h4 id="1-什么是安全模式"><a href="#1-什么是安全模式" class="headerlink" title="1.什么是安全模式"></a>1.什么是安全模式</h4><p>​安全模式是HDFS所处的一种特殊状态，在这种状态下，文件系统只接受读数据请求，而不接受删除、修改等变更请求。</p><p>​在NameNode主节点启动时，HDFS首先进入安全模式，DataNode在启动的时候会向namenode汇报可用的block等状态，当整个系统达到安全标准时，HDFS自动离开安全模式。如果HDFS出于安全模式下，则文件block不能进行任何的副本复制操作，因此达到最小的副本数量要求是基于datanode启动时的状态来判定的，启动时不会再做任何复制（从而达到最小副本数量要求）。</p><p>​如果没有安全模式，Hadoop集群使用的风险较大。集群的安全机制是较大的，Hadoop的开发者就设定了一个安全模式，说明如下：</p><ul><li>用户只能访问有权限的的HDFS目录或文件。</li><li>用户只能访问或修改自身的Mapreduce任务。</li><li>用户使用Hadoop集群的相关服务要进行身份认证。</li><li>服务和服务之间也需要相互认证，以防止未经授权的服务。</li></ul><h4 id="3-相关命令"><a href="#3-相关命令" class="headerlink" title="3 相关命令"></a>3 相关命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hadoop dfsadmin -safemode &lt;command&gt;</span><br><span class="line"></span><br><span class="line">- get 查看当前状态</span><br><span class="line">- enter 进入安全模式</span><br><span class="line">- leave  强制离开安全模式</span><br><span class="line">- wait 一直等待直到安全模式结束</span><br></pre></td></tr></table></figure><h3 id="Overview-‘master0-8020’-active"><a href="#Overview-‘master0-8020’-active" class="headerlink" title="Overview ‘master0:8020’ (active)"></a>Overview ‘master0:8020’ (active)</h3><table><thead><tr><th align="left">Started:</th><th>Sat Mar 18 20:10:30 +0800 2023</th></tr></thead><tbody><tr><td align="left">Version:</td><td>3.3.0, rUnknown</td></tr><tr><td align="left">Compiled:</td><td>Thu Jul 15 15:35:00 +0800 2021 by root from Unknown</td></tr><tr><td align="left">Cluster ID:</td><td>CID-669e7490-b65b-422c-b7be-3604c7ab3c41</td></tr><tr><td align="left">Block Pool ID:</td><td>BP-1833732125-192.168.169.110-1678865312411</td></tr></tbody></table><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>Security is off.</p><p>Safemode is off.</p><p>1 files and directories, 0 blocks (0 replicated blocks, 0 erasure coded block groups) &#x3D; 1 total filesystem object(s).</p><p>Heap Memory used 99.39 MB of 220 MB Heap Memory. Max Heap Memory is 1.02 GB.</p><p>Non Heap Memory used 54.61 MB of 56 MB Commited Non Heap Memory. Max Non Heap Memory is <unbounded>.</p><table><thead><tr><th align="left">Configured Capacity:</th><th>45.22 GB</th></tr></thead><tbody><tr><td align="left">Configured Remote Capacity:</td><td>0 B</td></tr><tr><td align="left">DFS Used:</td><td>8 KB (0%)</td></tr><tr><td align="left">Non DFS Used:</td><td>2.95 GB</td></tr><tr><td align="left">DFS Remaining:</td><td>42.27 GB (93.49%)</td></tr><tr><td align="left">Block Pool Used:</td><td>8 KB (0%)</td></tr><tr><td align="left">DataNodes usages% (Min&#x2F;Median&#x2F;Max&#x2F;stdDev):</td><td>0.00% &#x2F; 0.00% &#x2F; 0.00% &#x2F; 0.00%</td></tr><tr><td align="left"><a href="http://192.168.169.110:9870/dfshealth.html#tab-datanode">Live Nodes</a></td><td>1 (Decommissioned: 0, In Maintenance: 0)</td></tr><tr><td align="left"><a href="http://192.168.169.110:9870/dfshealth.html#tab-datanode">Dead Nodes</a></td><td>0 (Decommissioned: 0, In Maintenance: 0)</td></tr><tr><td align="left"><a href="http://192.168.169.110:9870/dfshealth.html#tab-datanode">Decommissioning Nodes</a></td><td>0</td></tr><tr><td align="left"><a href="http://192.168.169.110:9870/dfshealth.html#tab-datanode">Entering Maintenance Nodes</a></td><td>0</td></tr><tr><td align="left"><a href="http://192.168.169.110:9870/dfshealth.html#tab-datanode-volume-failures">Total Datanode Volume Failures</a></td><td>0 (0 B)</td></tr><tr><td align="left">Number of Under-Replicated Blocks</td><td>0</td></tr><tr><td align="left">Number of Blocks Pending Deletion (including replicas)</td><td>0</td></tr><tr><td align="left">Block Deletion Start Time</td><td>Sat Mar 18 20:10:30 +0800 2023</td></tr><tr><td align="left">Last Checkpoint Time</td><td>Sat Mar 18 20:10:46 +0800 2023</td></tr><tr><td align="left">Enabled Erasure Coding Policies</td><td>RS-6-3-1024k</td></tr></tbody></table><ul><li>Configured Capacity: 表示已经配置的文件系统存储总量，目前为45.22 GB</li><li>DFS Used: 表示已经使用的HDFS存储总量，目前  8 KB (0%)</li><li>Non DFS Used:表示被非HDFS的应用所占用的存储总量，目前为2.95 GB</li><li>DFS Remaining:表示HDFS可使用的存储总量，42.27 GB (93.49%)</li><li>Live Nodes：表示在线的DataNode，目前是一个</li></ul><h3 id="NameNode-Journal-Status"><a href="#NameNode-Journal-Status" class="headerlink" title="NameNode Journal Status"></a>NameNode Journal Status</h3><p><strong>Current transaction ID:</strong> 8</p><table><thead><tr><th align="left">Journal Manager</th><th align="left">State</th></tr></thead><tbody><tr><td align="left">FileJournalManager(root&#x3D;&#x2F;export&#x2F;data&#x2F;hadoop-3.3.0&#x2F;dfs&#x2F;name)</td><td align="left">EditLogFileOutputStream(&#x2F;export&#x2F;data&#x2F;hadoop-3.3.0&#x2F;dfs&#x2F;name&#x2F;current&#x2F;edits_inprogress_0000000000000000008)</td></tr></tbody></table><h3 id="NameNode-Storage"><a href="#NameNode-Storage" class="headerlink" title="NameNode Storage"></a>NameNode Storage</h3><table><thead><tr><th><strong>Storage Directory</strong></th><th><strong>Type</strong></th><th><strong>State</strong></th></tr></thead><tbody><tr><td>&#x2F;export&#x2F;data&#x2F;hadoop-3.3.0&#x2F;dfs&#x2F;name</td><td>IMAGE_AND_EDITS</td><td>Active</td></tr></tbody></table><h3 id="DFS-Storage-Types"><a href="#DFS-Storage-Types" class="headerlink" title="DFS Storage Types"></a>DFS Storage Types</h3><p>Storage TypeConfigured CapacityCapacity UsedCapacity RemainingBlock Pool UsedNodes In ServiceDISK45.22 GB8 KB (0%)42.27 GB (93.49%)8 KB1</p>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack一键安装脚本</title>
      <link href="/posts/a1b82ddb.html"/>
      <url>/posts/a1b82ddb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="使用Packstack工具一键安装OpenStack"><a href="#使用Packstack工具一键安装OpenStack" class="headerlink" title="使用Packstack工具一键安装OpenStack"></a>使用Packstack工具一键安装OpenStack</h2><h2 id="1-环境规划"><a href="#1-环境规划" class="headerlink" title="1.环境规划"></a>1.环境规划</h2><table><thead><tr><th><strong>操作系统版本</strong></th><th><strong>硬件配置</strong></th><th><strong>IP地址规划</strong></th><th><strong>主机名</strong></th><th><strong>虚拟机软件</strong></th><th><strong>OpenStack版本</strong></th></tr></thead><tbody><tr><td>centos7.9</td><td>4vCPUS&#x2F;15G 30G硬盘</td><td>172.17.2.60&#x2F;24</td><td>openstack</td><td>VMware WorkStation16</td><td>Stein</td></tr></tbody></table><p>centos7.9镜像获取地址：<a href="http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso">http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso</a></p><h2 id="2-准备资料"><a href="#2-准备资料" class="headerlink" title="2.准备资料"></a>2.准备资料</h2><p>OpenStack官方文档：<a href="https://docs.openstack.org/install-guide/">https://docs.openstack.org/install-guide/</a></p><p>使用Packstack一键部署OpenStack的方式，隐藏了技术细节，如果使用中出来任何问题，我们都无法解决，所以体验完OpenStack的日常界面操作后，后期还是要仔细查看官方文档，然后一步步手工安装OpenStack各组件。</p><p>阿里云yum源设置官方文档：<a href="https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11Jpkdzb">https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11Jpkdzb</a></p><h3 id="3-修改centos系统的主机名"><a href="#3-修改centos系统的主机名" class="headerlink" title="3.修改centos系统的主机名"></a>3.修改centos系统的主机名</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname openstack</span><br></pre></td></tr></table></figure><h3 id="4-设置centos系统为静态IP地址"><a href="#4-设置centos系统为静态IP地址" class="headerlink" title="4.设置centos系统为静态IP地址"></a>4.设置centos系统为静态IP地址</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">注意修改自己的网卡配置文件</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens32</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启网络服务</span></span><br><span class="line">systemctl restart network</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证IP地址</span></span><br><span class="line">ip addr</span><br></pre></td></tr></table></figure><h2 id="5-添加主机hosts记录"><a href="#5-添加主机hosts记录" class="headerlink" title="5.添加主机hosts记录"></a>5.添加主机hosts记录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;172.17.2.60 openstack&quot; &gt;&gt; /etc/hosts</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证修改结果</span></span><br><span class="line">more /etc/hosts</span><br></pre></td></tr></table></figure><h3 id="6-设置本机SSH免密码登录"><a href="#6-设置本机SSH免密码登录" class="headerlink" title="6.设置本机SSH免密码登录"></a>6.设置本机SSH免密码登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">生成ssh密钥</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">添加密钥信息到~./ssh/know_hosts文件</span></span><br><span class="line">ssh-copy-id root@172.17.2.60</span><br></pre></td></tr></table></figure><h3 id="7-关闭防火墙"><a href="#7-关闭防火墙" class="headerlink" title="7.关闭防火墙"></a>7.关闭防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看防火墙状态</span></span><br><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><h3 id="8-关闭SeLinux"><a href="#8-关闭SeLinux" class="headerlink" title="8.关闭SeLinux"></a>8.关闭SeLinux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s/SELINUX=enforcing/SELINUX=disabled/&#x27; /etc/selinux/config</span><br></pre></td></tr></table></figure><h3 id="9-关闭NetworkManager服务"><a href="#9-关闭NetworkManager服务" class="headerlink" title="9.关闭NetworkManager服务"></a>9.关闭NetworkManager服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop NetworkManager</span><br><span class="line">systemctl disable NetworkManager</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看NetworkManager状态</span></span><br><span class="line">systemctl status NetworkManager</span><br></pre></td></tr></table></figure><h3 id="10-修改官方yum源为阿里云yum源"><a href="#10-修改官方yum源为阿里云yum源" class="headerlink" title="10.修改官方yum源为阿里云yum源"></a>10.修改官方yum源为阿里云yum源</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重建本地yum索引缓存</span></span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure><h3 id="11-系统升级"><a href="#11-系统升级" class="headerlink" title="11.系统升级"></a>11.系统升级</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">升级</span></span><br><span class="line">yum -y update</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><h2 id="12-安装常用的软件"><a href="#12-安装常用的软件" class="headerlink" title="12.安装常用的软件"></a>12.安装常用的软件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install vim bash-completion yum-utils</span><br></pre></td></tr></table></figure><h3 id="13-安装OpenStack-Stein的yum库"><a href="#13-安装OpenStack-Stein的yum库" class="headerlink" title="13.安装OpenStack Stein的yum库"></a>13.安装<code>OpenStack Stein</code>的<code>yum</code>库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install centos-release-openstack-stein</span><br></pre></td></tr></table></figure><h3 id="14-修改CentOS-OpenStack-stein-repo配置文件"><a href="#14-修改CentOS-OpenStack-stein-repo配置文件" class="headerlink" title="14.修改CentOS-OpenStack-stein.repo配置文件"></a>14.修改<code>CentOS-OpenStack-stein.repo</code>配置文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">备份</span></span><br><span class="line">cp -a CentOS-OpenStack-stein.repo CentOS-OpenStack-stein.repo.bak</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改配置文件</span></span><br><span class="line">vim CentOS-OpenStack-stein.repo</span><br><span class="line">[centos-openstack-stein]</span><br><span class="line">baseurl=http://mirrors.aliyun.com/$contentdir/$releasever/cloud/$basearch/openstack-stein/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mirrorlist=http://mirrorlist.centos.org/?release=<span class="variable">$releasever</span>&amp;<span class="built_in">arch</span>=<span class="variable">$basearch</span>&amp;repo=cloud-openstack-stein</span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">清除本地yum索引缓存，然后再重建索引缓存</span></span><br><span class="line">yum clean all &amp;&amp; yum makecache</span><br></pre></td></tr></table></figure><h3 id="15-安装packstack工具"><a href="#15-安装packstack工具" class="headerlink" title="15.安装packstack工具"></a>15.安装packstack工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install openstack-packstack</span><br></pre></td></tr></table></figure><h3 id="16-安装OpenStack-allinone"><a href="#16-安装OpenStack-allinone" class="headerlink" title="16.安装OpenStack allinone"></a>16.安装OpenStack allinone</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">packstack --allinone</span><br></pre></td></tr></table></figure><p>自动化安装时间很长，静静等待，直到出现如下信息，表示成功安装。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**** Installation completed successfully ******</span><br><span class="line"></span><br><span class="line">Additional information:</span><br><span class="line"> * Parameter CONFIG_NEUTRON_L2_AGENT: You have choosen OVN neutron backend. Note that this backend does not support LBaaS, VPNaaS or FWaaS services. Geneve will be used as encapsulation method for tenant networks</span><br><span class="line"> * A new answerfile was created in: /root/packstack-answers-20220222-171022.txt</span><br><span class="line"> * Time synchronization installation was skipped. Please note that unsynchronized time on server instances might be problem for some OpenStack components.</span><br><span class="line"> * File /root/keystonerc_admin has been created on OpenStack client host 172.17.2.60. To use the command line tools you need to source the file.</span><br><span class="line"> * To access the OpenStack Dashboard browse to http://172.17.2.60/dashboard .</span><br><span class="line">Please, find your login credentials stored in the keystonerc_admin in your home directory.</span><br><span class="line"> * The installation log file is available at: /var/tmp/packstack/20220222-171021-YFXtB3/openstack-setup.log</span><br><span class="line"> * The generated manifests are available at: /var/tmp/packstack/20220222-171021-YFXtB3/manifests</span><br></pre></td></tr></table></figure><h3 id="17-查看Dashboard-web页面的登录账号及密码"><a href="#17-查看Dashboard-web页面的登录账号及密码" class="headerlink" title="17 .查看Dashboard web页面的登录账号及密码"></a>17 .查看Dashboard web页面的登录账号及密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat keystonerc_admin </span><br><span class="line">unset OS_SERVICE_TOKEN</span><br><span class="line">    export OS_USERNAME=admin#Dashboard登录账号</span><br><span class="line">    export OS_PASSWORD=&#x27;12b2ca7e963242ae&#x27;#Dashboard登录密码</span><br><span class="line">    export OS_REGION_NAME=RegionOne</span><br><span class="line">    export OS_AUTH_URL=http://172.17.2.60:5000/v3</span><br><span class="line">    export PS1=&#x27;[\u@\h \W(keystone_admin)]\$ &#x27;</span><br><span class="line">    </span><br><span class="line">export OS_PROJECT_NAME=admin</span><br><span class="line">export OS_USER_DOMAIN_NAME=Default</span><br><span class="line">export OS_PROJECT_DOMAIN_NAME=Default</span><br><span class="line">export OS_IDENTITY_API_VERSION=3</span><br></pre></td></tr></table></figure><h3 id="18-修改密码"><a href="#18-修改密码" class="headerlink" title="18.修改密码"></a>18.修改密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim keystonerc_admin</span><br><span class="line">export OS_PASSWORD=&#x27;admin&#x27;#填入修改后的新密码</span><br></pre></td></tr></table></figure><h3 id="19-本人亲测没有问题"><a href="#19-本人亲测没有问题" class="headerlink" title="19.本人亲测没有问题"></a>19.本人亲测没有问题</h3><p><img src="https://s2.loli.net/2023/01/29/ys49ZU6JiKDtSvl.png" alt="image-20230129181318202"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.Spark介绍</title>
      <link href="/posts/2522bbf5.html"/>
      <url>/posts/2522bbf5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Spark简介"><a href="#Spark简介" class="headerlink" title="Spark简介"></a>Spark简介</h1><h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><p>Spark 于 2009 年诞生于加州大学伯克利分校 AMPLab，2013 年被捐赠给 Apache 软件基金会，2014 年 2 月成为 Apache 的顶级项目。相对于 MapReduce 的批处理计算，Spark 可以带来上百倍的性能提升，因此它成为继 MapReduce 之后，最为广泛使用的分布式计算框架。</p><h2 id="二、特点"><a href="#二、特点" class="headerlink" title="二、特点"></a>二、特点</h2><p>Apache Spark 具有以下特点：</p><ul><li>使用先进的 DAG 调度程序，查询优化器和物理执行引擎，以实现性能上的保证；</li><li>多语言支持，目前支持的有 Java，Scala，Python 和 R；</li><li>提供了 80 多个高级 API，可以轻松地构建应用程序；</li><li>支持批处理，流处理和复杂的业务分析；</li><li>丰富的类库支持：包括 SQL，MLlib，GraphX 和 Spark Streaming 等库，并且可以将它们无缝地进行组合；</li><li>丰富的部署模式：支持本地模式和自带的集群模式，也支持在 Hadoop，Mesos，Kubernetes 上运行；</li><li>多数据源支持：支持访问 HDFS，Alluxio，Cassandra，HBase，Hive 以及数百个其他数据源中的数据。</li></ul><p><img src="https://s2.loli.net/2023/03/27/3liqBHXO85Q4amj.png" alt="img"></p><h2 id="三、集群架构"><a href="#三、集群架构" class="headerlink" title="三、集群架构"></a>三、集群架构</h2><table><thead><tr><th>Term（术语）</th><th>Meaning（含义）</th></tr></thead><tbody><tr><td>Application</td><td>Spark 应用程序，由集群上的一个 Driver 节点和多个 Executor 节点组成。</td></tr><tr><td>Driver program</td><td>主运用程序，该进程运行应用的 main() 方法并且创建 SparkContext</td></tr><tr><td>Cluster manager</td><td>集群资源管理器（例如，Standlone Manager，Mesos，YARN）</td></tr><tr><td>Worker node</td><td>执行计算任务的工作节点</td></tr><tr><td>Executor</td><td>位于工作节点上的应用进程，负责执行计算任务并且将输出数据保存到内存或者磁盘中</td></tr><tr><td>Task</td><td>被发送到 Executor 中的工作单元</td></tr></tbody></table><p><img src="https://s2.loli.net/2023/03/27/Bs5l2NA9pcqFbGP.png" alt="img"></p><p><strong>执行过程</strong>：</p><ol><li>用户程序创建 SparkContext 后，它会连接到集群资源管理器，集群资源管理器会为用户程序分配计算资源，并启动 Executor；</li><li>Driver 将计算程序划分为不同的执行阶段和多个 Task，之后将 Task 发送给 Executor；</li><li>Executor 负责执行 Task，并将执行状态汇报给 Driver，同时也会将当前节点资源的使用情况汇报给集群资源管理器。</li></ol><h2 id="四、核心组件"><a href="#四、核心组件" class="headerlink" title="四、核心组件"></a>四、核心组件</h2><p>Spark 基于 Spark Core 扩展了四个核心组件，分别用于满足不同领域的计算需求。</p><p><img src="https://s2.loli.net/2023/03/27/lWgxtNvKXLSkEmq.png" alt="img"></p><h3 id="3-1-Spark-SQL"><a href="#3-1-Spark-SQL" class="headerlink" title="3.1 Spark SQL"></a>3.1 Spark SQL</h3><p>Spark SQL 主要用于结构化数据的处理。其具有以下特点：</p><ul><li>能够将 SQL 查询与 Spark 程序无缝混合，允许您使用 SQL 或 DataFrame API 对结构化数据进行查询；</li><li>支持多种数据源，包括 Hive，Avro，Parquet，ORC，JSON 和 JDBC；</li><li>支持 HiveQL 语法以及用户自定义函数 (UDF)，允许你访问现有的 Hive 仓库；</li><li>支持标准的 JDBC 和 ODBC 连接；</li><li>支持优化器，列式存储和代码生成等特性，以提高查询效率。</li></ul><h3 id="3-2-Spark-Streaming"><a href="#3-2-Spark-Streaming" class="headerlink" title="3.2 Spark Streaming"></a>3.2 Spark Streaming</h3><p>Spark Streaming 主要用于快速构建可扩展，高吞吐量，高容错的流处理程序。支持从 HDFS，Flume，Kafka，Twitter 和 ZeroMQ 读取数据，并进行处理。</p><p><img src="https://s2.loli.net/2023/03/27/QLavBI2F3mW1ufD.png" alt="img"></p><p>Spark Streaming 的本质是微批处理，它将数据流进行极小粒度的拆分，拆分为多个批处理，从而达到接近于流处理的效果。</p><p><img src="https://s2.loli.net/2023/03/27/9f4udpqbYAxyDS3.png" alt="img"></p><h3 id="3-3-MLlib"><a href="#3-3-MLlib" class="headerlink" title="3.3 MLlib"></a>3.3 MLlib</h3><p>MLlib 是 Spark 的机器学习库。其设计目标是使得机器学习变得简单且可扩展。它提供了以下工具：</p><ul><li><strong>常见的机器学习算法</strong>：如分类，回归，聚类和协同过滤；</li><li><strong>特征化</strong>：特征提取，转换，降维和选择；</li><li><strong>管道</strong>：用于构建，评估和调整 ML 管道的工具；</li><li><strong>持久性</strong>：保存和加载算法，模型，管道数据；</li><li><strong>实用工具</strong>：线性代数，统计，数据处理等。</li></ul><h3 id="3-4-Graphx"><a href="#3-4-Graphx" class="headerlink" title="3.4 Graphx"></a>3.4 Graphx</h3><p>GraphX 是 Spark 中用于图形计算和图形并行计算的新组件。在高层次上，GraphX 通过引入一个新的图形抽象来扩展 RDD(一种具有附加到每个顶点和边缘的属性的定向多重图形)。为了支持图计算，GraphX 提供了一组基本运算符（如： subgraph，joinVertices 和 aggregateMessages）以及优化后的 Pregel API。此外，GraphX 还包括越来越多的图形算法和构建器，以简化图形分析任务。</p>]]></content>
      
      
      <categories>
          
          <category> Spark </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.Spark开发环境搭建</title>
      <link href="/posts/5af44e45.html"/>
      <url>/posts/5af44e45.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Spark开发环境搭建"><a href="#Spark开发环境搭建" class="headerlink" title="Spark开发环境搭建"></a>Spark开发环境搭建</h1><h2 id="一、安装Spark"><a href="#一、安装Spark" class="headerlink" title="一、安装Spark"></a>一、安装Spark</h2><h3 id="1-1-下载并解压"><a href="#1-1-下载并解压" class="headerlink" title="1.1 下载并解压"></a>1.1 下载并解压</h3><p>官方下载地址：<a href="http://spark.apache.org/downloads.html">http://spark.apache.org/downloads.html</a> ，选择 Spark 版本和对应的 Hadoop 版本后再下载：</p><p><img src="https://s2.loli.net/2023/03/27/6MDYVQnsZGoibey.png" alt="img"></p><p>解压安装包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf  spark-2.2.3-bin-hadoop2.6.tgz</span><br></pre></td></tr></table></figure><h3 id="1-2-配置环境变量"><a href="#1-2-配置环境变量" class="headerlink" title="1.2 配置环境变量"></a>1.2 配置环境变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p>添加环境变量：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export SPARK_HOME=/usr/app/spark-2.2.3-bin-hadoop2.6</span><br><span class="line">export  PATH=$&#123;SPARK_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p>使得配置的环境变量立即生效：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="1-3-Local模式"><a href="#1-3-Local模式" class="headerlink" title="1.3 Local模式"></a>1.3 Local模式</h3><p>Local 模式是最简单的一种运行方式，它采用单节点多线程方式运行，不用部署，开箱即用，适合日常测试开发。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动spark-shell</span></span><br><span class="line">spark-shell --master local[2]</span><br></pre></td></tr></table></figure><ul><li><strong>local</strong>：只启动一个工作线程；</li><li>**local[k]**：启动 k 个工作线程；</li><li>**local[*]**：启动跟 cpu 数目相同的工作线程数。</li></ul><p><img src="https://s2.loli.net/2023/03/27/SEaoFhGn8BWT57Z.png" alt="img"></p><p>进入 spark-shell 后，程序已经自动创建好了上下文 <code>SparkContext</code>，等效于执行了下面的 Scala 代码：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val conf = new SparkConf().setAppName(&quot;Spark shell&quot;).setMaster(&quot;local[2]&quot;)</span><br><span class="line">val sc = new SparkContext(conf)</span><br></pre></td></tr></table></figure><h2 id="二、词频统计案例"><a href="#二、词频统计案例" class="headerlink" title="二、词频统计案例"></a>二、词频统计案例</h2><p>安装完成后可以先做一个简单的词频统计例子，感受 spark 的魅力。准备一个词频统计的文件样本 <code>wc.txt</code>，内容如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop,spark,hadoop</span><br><span class="line">spark,flink,flink,spark</span><br><span class="line">hadoop,hadoop</span><br></pre></td></tr></table></figure><p>在 scala 交互式命令行中执行如下 Scala 语句：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">val file = spark.sparkContext.textFile(&quot;file:///usr/app/wc.txt&quot;)</span><br><span class="line">val wordCounts = file.flatMap(line =&gt; line.split(&quot;,&quot;)).map((word =&gt; (word, 1))).reduceByKey(_ + _)</span><br><span class="line">wordCounts.collect</span><br></pre></td></tr></table></figure><p>执行过程如下，可以看到已经输出了词频统计的结果：</p><p><img src="https://s2.loli.net/2023/03/27/kOVWGFjteChRAuc.png" alt="img"></p><p>同时还可以通过 Web UI 查看作业的执行情况，访问端口为 <code>4040</code>：</p><p><img src="https://s2.loli.net/2023/03/27/OhUJGv6kWKNfHe4.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Spark </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spark </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.用户和组</title>
      <link href="/posts/b330f276.html"/>
      <url>/posts/b330f276.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="用户和组"><a href="#用户和组" class="headerlink" title="用户和组"></a>用户和组</h2><h3 id="1-1-用户和组"><a href="#1-1-用户和组" class="headerlink" title="1.1 用户和组"></a>1.1 用户和组</h3><ul><li>​Linux是一个具有很好的稳定性与安全性的多用户、多任务操作系统，在幕后保障Linux系统安全的则是一系列复杂的配置工作。</li><li>​Linux系统对用户分配如下：系统管理员（root）、系统用户（不可登录）和普通用户（可登录）。我们登录linux系统时输入的是账号，但是Linux系统并不会直接识别账号，而是通过我们建立账号时系统分配的ID号码，其中，系统管理员（root）ID为0，可登录的普通用户ID为1000~65535。</li><li>​在建立用户账号时，系统会为用户账号分配至少两个ID，一个用户ID（User ID，UID），一个组ID（Group ID，GID）。UID的知识已经在前面介绍过了，下面了解一下GID,管理员（root）组ID为0,非系统组ID为1000~65535。</li><li>​对于一个用户而言，只有唯一一个UID，但是可以有多个不同的组，分别为主组群和附属组，主组群名与用户名相同，且只有一个用户（本身），也可以称为私有组。主组群以外的组为附属组。</li><li>在Linux系统中，用户账号、用户密码、用户组信息和用户组密码均存放在不同的配置文件中，所创建的用户账号及其相关信息(密码除外)均存放在&#x2F;etc&#x2F;passwd配置文件中。由于所有用户对passwd文件均有读取的权限，因此密码信息并未保存在该文件中，而是保存在&#x2F;etc&#x2F;shadow配置文件中。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在passwd配置文件中，一行定义一个用户账号，每行均由多个不同的字段构成，各字段值间用“：”分隔如下。</span><br><span class="line">［root@fishyoung~］# cat /etc/passwd   //查看passwd文件信息</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">……省略部分信息……</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/Fnomd2trYSqaey8.png" alt="image-20230125100922706"></p><p>因为passwd不再保存密码信息，所以用x占位代表，若要使某个用户账户不能登录Linux，只需设置该用户所使用的shell为&#x2F;sbin&#x2F;nologin即可。</p><h3 id="1-2-添加，修改，删除"><a href="#1-2-添加，修改，删除" class="headerlink" title="1.2 添加，修改，删除"></a>1.2 添加，修改，删除</h3><p>​用户账户的管理工作主要涉及用户账户的添加、修改和删除。添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录shell等资源，刚添加的账号是被锁定的，无法使用。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（1）useradd命令用来添加新的用户账户，该命令操作的语法格式为：</span><br><span class="line"></span><br><span class="line">useradd［参数选项］用户名</span><br></pre></td></tr></table></figure><p>​使用useradd命令在创建用户账户时，默认家目录是 &#x2F;home&#x2F;“创建用户名”，默认的shell解释器为&#x2F;bin&#x2F;bash，同时会创建一个同名的主组群。这些默认值都是可以搭配参数选项进行更改的，具体的参数及作用见表3-2。</p><p><img src="https://s2.loli.net/2023/01/25/iFIXRLAJDk8OSaE.png" alt="image-20230125101204481"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">【例3-1】创建一个普通用户zs。</span><br><span class="line">［root@fishyoung~］# tail -1 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］# useradd zs</span><br><span class="line">［root@fishyoung~］# tail -2 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyoungzs</span><br><span class="line">［root@fishyoung~］# id zs</span><br><span class="line">uid=1001(zs) gid=1001(zs) groups=1001(zs)</span><br><span class="line">分析得出：zs用户的UID为1001，GID为1001，同时创建用户私有组为1001，用户家目录默认为/home/zs，shell默认为/bin/bash。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>【例3-2】创建一个普通用户ls，用户的UID为1111，GID为1001，不创建用户私有组，所属的附属组群为0和1，用户家目录为&#x2F;home&#x2F;lshome，shell为&#x2F;sbin&#x2F;nologin（不能登录使用）。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# tail -1 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］# useradd -u 1111 -g 1001 -n -G 0,1 -d /home/lshome -s /sbin/nologin ls</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">ls:x:1111:1001::/home/lshome:/sbin/nologin</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomezs</span><br><span class="line">［root@fishyoung~］# id ls</span><br><span class="line">uid=1111(ls) gid=1001(zs) groups=1001(zs),0(root),1(bin)</span><br></pre></td></tr></table></figure><p>【例3-3】创建一个普通用户ww，用户账户过期日期为2018年4月7日。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# date</span><br><span class="line">Sat Apr7 11:28:52 CST 2018</span><br><span class="line">［root@fishyoung~］# useradd -e 2018-04-07 ww</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomewwzs</span><br><span class="line">［root@fishyoung~］# id ww</span><br><span class="line">uid=1112(ww) gid=1112(ww) groups=1112(ww)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>学习使用passwd命令来设置用户登录密码，该命令操作的语法格式为:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd［参数选项］［用户账户名］</span><br></pre></td></tr></table></figure><p>​若指定了账户名称，则设置指定账户的登录密码，原密码被自动覆盖。只有root用户才有权设置指定账户的密码，一般用户只能设置或修改自己账户的密码（不带参数）。</p><p><img src="https://s2.loli.net/2023/01/25/Uzi1K6g3vhlcjXG.png" alt="image-20230125102003688"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">设置账户登录密码后，该账户就可以登录系统了，就可以继续完善【例3-3】了。</span><br><span class="line">首先用ssh登录测试（ssh的用法后面会讲到），再更改系统时间为2018年4月6日 23:59:00，用ssh再次登录Linux系统进行测试。</span><br><span class="line">［root@fishyoung~］# date //查看当前系统时间</span><br><span class="line">Sat Apr7 11:49:30 CST 2018</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128 //用ww账户登录系统</span><br><span class="line">ww@192.168.244.128’s password:  //输入登录密码</span><br><span class="line">Your account has expired; please contact your system administrator</span><br><span class="line">Authentication failed.∥账户过期，登录失败</span><br><span class="line">［root@fishyoung~］# date -s &quot;2018-04-06 23:59:00&quot; //设置系统时间</span><br><span class="line">Fri Apr6 23:59:00 CST 2018</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128 //用ww账户再次登录</span><br><span class="line">ww@192.168.244.128’s password:</span><br><span class="line">Last failed login: Sat Apr7 11:49:36 CST 2018 from 192.168.244.128 on ssh:notty</span><br><span class="line">There were 1 failed login attempts since the last successful login.</span><br><span class="line">［ww@fishyoung~］$ pwd //登录成功，查看当前目录</span><br><span class="line">/home/ww</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>（3）usermod命令用来修改用户的属性，该命令操作的语法格式为：</p><p>usermod［参数选项］用户账户名</p><p>Linux系统中的一切都是文件，系统管理员可以直接用文本编辑器来修改其中的用户参数项目，也可以用usermod命令修改已经创建的用户信息，如用户的UID、主组群、附属组群、默认shell等。usermod命令具体的参数及作用见表3-4。</p><p><img src="https://s2.loli.net/2023/01/25/nLZrJwyTUobPYDi.png" alt="image-20230125102252136"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">【例3-5】修改ww账户的过期时间为2018年5月7日，再进行登录测试。</span><br><span class="line">［root@fishyoung~］# date</span><br><span class="line">Sat Apr7 12:39:59 CST 2018</span><br><span class="line">［root@fishyoung~］# usermod -e &quot;2018-05-07&quot; ww //修改过期时间</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128∥登录测试</span><br><span class="line">ww@192.168.244.128’s password:  //输入ww密码</span><br><span class="line">［ww@fishyoung~］</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>（4）userdel命令用来删除用户，该命令操作的语法格式为：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel［-r］用户账户名</span><br></pre></td></tr></table></figure><p>“-r”为可选项，若带上该参数，则在删除该账户的同时一并删除该账户对应的主目录。<br>【例3-7】删除之前创建的zs、ls、ww账户及其家目录。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# tail -4 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">ls:x:1111:1001::/home/lshome:/sbin/nologin</span><br><span class="line">ww:x:2222:1000::/home/wwhome:/bin/bash</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomewwhomezs</span><br><span class="line">［root@fishyoung~］# userdel -rf zs //强制删除账户及其家目录</span><br><span class="line">［root@fishyoung~］# userdel -rf ls</span><br><span class="line">［root@fishyoung~］# userdel -rf ww</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyoung</span><br><span class="line">［root@fishyoung~］#</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">（1）groupadd命令用来增加一个新的用户组，该命令操作的语法格式为：</span><br><span class="line">groupadd［-g］用户组</span><br><span class="line">groupadd命令在创建用户组时，可以通过“-g”参数来指定GID号。</span><br><span class="line">【例3-8】增加两个新组groupA和groupB。</span><br><span class="line">［root@fishyoung~］# groupadd groupA</span><br><span class="line">［root@fishyoung~］# groupadd -g 2222 groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:1001:</span><br><span class="line">groupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line">用命令向系统中增加了一个新组groupA，新组的组标识号是在当前已有的最大组标识号的基础上加1，另外用命令向系统中增加了一个新组groupB，同时指定新组的组标识号为2222。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/fs8ZGyX9ztYCPiD.png" alt="image-20230125102638149"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【例3-9】新增两个用户组groupA和groupB。</span><br><span class="line">［root@fishyoung~］# groupadd groupA</span><br><span class="line">［root@fishyoung~］# groupadd -g 2222 groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:1001:</span><br><span class="line">groupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line">用命令向系统中增加了一个新组groupA，新组的组标识号是在当前已有的最大组标识号的基础上加1，另外用命令向系统中增加了一个新组groupB，同时指定新组的组标识号为2222。</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【例3-10】修改组groupA的GID号为3333和groupB的组名为NewgroupB。</span><br><span class="line">［root@fishyoung~］# groupmod -g 3333 groupA</span><br><span class="line">［root@fishyoung~］# groupmod -n NewgroupB groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:3333:</span><br><span class="line">NewgroupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">（3）groupdel命令用来删除用户组，该命令操作的语法格式为：</span><br><span class="line">userdel［参数选项］用户账户名</span><br><span class="line">【例3-11】删除上述创建的groupA和NewgroupB两个用户组。</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:3333:</span><br><span class="line">NewgroupB:x:2222:</span><br><span class="line">［root@fishyoung~］# groupdel groupA</span><br><span class="line">［root@fishyoung~］# groupdel NewgroupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">postdrop:x:90:</span><br><span class="line">postfix:x:89:</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.文件和权限</title>
      <link href="/posts/3f315f69.html"/>
      <url>/posts/3f315f69.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="文件和目录权限"><a href="#文件和目录权限" class="headerlink" title="文件和目录权限"></a>文件和目录权限</h2><p>​文件是操作系统用来存储信息的基本结构，是一组信息的集合。与其他操作系统相比，Linux系统最大的不同点是没有“扩展名”的概念，也就是说文件的名称和该文件的种类并没有直接的关联。例如，1.txt可能是一个运行文件，1.exe也有可能是一个文本文件，甚至可以不使用扩展名。在Linux系统中，如果文件名以“.”开始，表示该文件为隐藏文件，需要使用“ls -a”命令才能显示。</p><p>​一个Linux目录或者文件都会有一个所属主（user）和所属组(group)。所属主是指文件的拥有者，而所属组是指该文件的所属主所在的一个组。Linux这样设置文件属性的目的是保证文件的安全。例如，1.txt文件的所属主是zs，而2.txt文件的所属主是ls，那么ls是不能查看1.txt文件的，相应的zs也不能查看2.txt文件。有时我们也会有这样的需求，即使一个文件同时让zs和ls来查看，这如何实现呢？</p><p>​这时，先创建一个群组shares，让zs和ls同属于shares组，然后建立一个文件3.txt，且其所属组为shares，那么zs和ls都可以访问3.txt文件。Linux文件属性不仅规定了所属主和所属组，还规定了所属主、所属组及其他用户（others）对该文件的权限，可以通过“ ls -l”命令来查看这些属性。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">在当前目录下用touch命令创建一个普通文件2.txt，用mkdir命令创建一个BB目录，用ln命令为2.txt创建软链接到BB目录里，再用“ ls -l”命令查看刚才创建的3个文件，代码如下。</span><br><span class="line">［root@fishyoung~］# touch 2.txt</span><br><span class="line">［root@fishyoung~］# mkdir BB</span><br><span class="line">［root@fishyoung~］# ln -s ~/2.txt BB</span><br><span class="line">［root@fishyoung~］# ls -l 2.txt; ls -ld BB; ls -l BB/2.txt</span><br><span class="line">-rw-r--r--.1 root root 0Apr7 15:42 2.txt</span><br><span class="line">Drwxr-xr-x.2 root root 19 Apr7 15:43 BB</span><br><span class="line">lrwxrwxrwx.1 root root 11 Apr7 15:43 BB/2.txt-&gt; /root/2.txt</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/K2x5ogB48VwSpMt.png" alt="image-20230125103018879"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">（1）第1列：文件类型权限，包含文件所属类型及用户对该文件的权限。第1列共11位，有的文件是10位，即没有最后面的一位“.”（此位与selinux和acl有关）。</span><br><span class="line">①第1位用来描述该文件的类型，有</span><br><span class="line">“-”“d”“l”“b”“c”“s”等。</span><br><span class="line">a.“-”表示该文件为普通文件。</span><br><span class="line">b.“d”表示该文件为目录。</span><br><span class="line">c.“l”表示该文件为软链接文件。</span><br><span class="line">d.“b”表示该文件为块设备，如 /dev/sda。</span><br><span class="line">e.“c”表示该文件为串行端口设备，如键盘、鼠标等。</span><br><span class="line">f.“s”表示该文件为套接字文件（socket），用于进程间通信。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​②后边的9位，每3位为一组，均是“r”“w”“x”三个参数的组合，其中“r”代表可读，“w”代表可写，“x”代表可执行。前三位为所属主（user，u）的权限，中间3位为所属组（group，g）的权限，最后3位为其他非本群组（others，o）的权限。</p><p>​a.“-rw-r–r–.”代表该文件为普通文件，文件拥有者可读可写不可执行，文件所属组可读不可写不可执行，其他用户可读不可写不可执行。</p><p>​b.“drwxr-xr-x.”代表该文件为目录。文件拥有者可读可写可执行，文件所属组可读不可写可执行，其他用户可读不可写可执行。</p><p>​对于一般文件来说，权限比较容易理解：“可读”表示能够读取文件的实际内容；“可写”表示能够编辑、新增、修改、删除文件的实际内容；“可执行”则表示能够运行一个脚本程序。但是，对于目录文件来说，“可读”表示能够读取目录内的文件列表；“可写”表示能够在目录内新增、删除、重命名文件；而“可执行”则表示能够进入该目录。</p><p>​文件的读、写、执行权限可以简写为rwx，也可分别用数字4、2、1来表示，文件所属主、所属组及其他用户权限之间无关联，具体见表3-6。</p><p><img src="https://s2.loli.net/2023/01/25/LnH9wxSkEDUX75A.png" alt="image-20230125103231852"></p><p>​文件权限的数字法表示基于字符表示（rwx）的权限计算而来，其目的是简化权限的表示。例如，若某个文件的权限为7，则代表可读、可写、可执行（4+2+1）；若权限为6，则代表可读、可写（4+2）。</p><p>​现在有这样一个文件，其所有者拥有可读、可写、可执行的权限，其文件所属组拥有可读、可写的权限，而其他人只有可读的权限。那么，该文件的权限就是rwxrw-r–，用数字法表示即为764。Linux系统的文件权限相当复杂，但是用途很广泛，建议读者把它彻底搞清楚之后再学习后面的内容。</p><p><strong>练一练：</strong></p><p>请分别计算数字表示法744、632、453、751所对应的字符表示法，然后把rwxrw-rw-、rw-rw–wx、rw-r-xr–转换成数字表示法。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（1）chown命令用来更改文件的所属主和所属组，该命令操作的语法格式为</span><br><span class="line"></span><br><span class="line">chown［-R ］账户名［：组名］文件名</span><br><span class="line"></span><br><span class="line">如果文件名是目录，并要求同时更改目录下的所有文件，则需要加入“-R”参数递归更改。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.Linux基础</title>
      <link href="/posts/a4a81253.html"/>
      <url>/posts/a4a81253.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linux文件系统基础命令"><a href="#Linux文件系统基础命令" class="headerlink" title="Linux文件系统基础命令"></a>Linux文件系统基础命令</h2><h3 id="1-1-Linux文件系统概念"><a href="#1-1-Linux文件系统概念" class="headerlink" title="1.1 Linux文件系统概念"></a>1.1 Linux文件系统概念</h3><ul><li><p>操作系统中负责管理和存储文件信息的软件机构称为文件管</p><p>  理系统，简称文件系统：</p></li><li><p>文件系统的结构通常叫做目录树结构，从斜杠&#x2F;根目录开始：</p></li><li><p>Liux号称”万物皆文件”，意味着针对Liux的操作，大多数时间是在针对Linux文件系统操作。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/E51mVpiokLIbzFG.png" alt="image-20230109132526566"></p><h3 id="1-2-文件系统的通用性"><a href="#1-2-文件系统的通用性" class="headerlink" title="1.2 文件系统的通用性"></a>1.2 文件系统的通用性</h3><ul><li>几乎主流的文件系统都是从&#x2F;根目录开始的，Liux也不例外，而windows,文件系统会以盘符来区分不同文件系统；</li><li>目录树中节点分为两个种类：目录(directory)、文件(file);</li><li>从根目录开始，路径具有唯一性：</li><li>只有在目录下才可以继续创建下一级目录，换句话说目录树到文件终止蔓延。</li></ul><h3 id="1-3-易混概念"><a href="#1-3-易混概念" class="headerlink" title="1.3 易混概念"></a>1.3 易混概念</h3><ul><li>当前路径：也叫当前工作目录，当下用户所属的位置：</li><li>相对路径：相对当前工作目录开始的路径，会随当前路径变化而变化：</li><li>绝对路径：不管工作目录在哪，绝对路径都是从&#x2F;根目录开始，唯一不重复。</li></ul><p><img src="https://s2.loli.net/2023/01/09/3aTXKNA1gBYVUqR.png" alt="image-20230109132856954"></p><h3 id="1-4-特殊符号"><a href="#1-4-特殊符号" class="headerlink" title="1.4 特殊符号"></a>1.4 特殊符号</h3><ul><li>. 目录或者文件名字以开始表示是隐藏的文件，如果路径以.开始表示当前路径</li><li>.. 当前目录的上一级目录</li><li>~ 当前用户的home目录，比如root用户home目录是&#x2F;root</li><li>&#x2F; 根目录</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录下的a</span></span><br><span class="line">cd ./a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入根目录下的a</span></span><br><span class="line">cd /a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录上一级下的a</span></span><br><span class="line">cd ../a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前操作用户home目录下的a</span></span><br><span class="line">cd ~/a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录下的a a是隐藏的</span></span><br><span class="line">cd .a</span><br></pre></td></tr></table></figure><h3 id="1-5-Linux-命令帮助手册"><a href="#1-5-Linux-命令帮助手册" class="headerlink" title="1.5 Linux 命令帮助手册"></a>1.5 Linux 命令帮助手册</h3><ul><li>help命令</li></ul><p><img src="https://s2.loli.net/2023/01/09/KkmGe3bH98jP5Zr.png" alt="image-20230109133251050"></p><ul><li>man命令</li></ul><p><img src="https://s2.loli.net/2023/01/09/LBSxMaoE52APIWb.png" alt="image-20230109133324255"></p><h2 id="Linux基础命令"><a href="#Linux基础命令" class="headerlink" title="Linux基础命令"></a>Linux基础命令</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><ul><li>命令属于死东西，属于多用多会，不用就忘的知识，孰能生巧；</li><li>Tab键可以实现自动补全和提示，要合理使用；</li><li>history命令可以显示历史执行记录，或者使用方向键来切换前后执行过的命令；</li></ul><h3 id="1-2-显示目录内容"><a href="#1-2-显示目录内容" class="headerlink" title="1.2 显示目录内容"></a>1.2 显示目录内容</h3><ul><li>Is (list files)命令：用于显示指定工作目录下之内容（列出目前工作目录所含之文件及子目录）。</li><li>-a 显示所有文件及目录（开头的隐藏文件也会列出）</li><li>-l 除文件名称外，亦将文件型态、权限、拥有者、文件大小等详细列出</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s path</span><br><span class="line">ls -a path # 查看所有文件 包括隐藏文件</span><br><span class="line">ls -l =ll # 查看文件详细信息 包括权限 类型 时间 大小等</span><br><span class="line">ll -h path # 表示以人性化的显示内容</span><br><span class="line">ll * # *通配符表示任意字符 ?表示有且只有一个字符</span><br></pre></td></tr></table></figure><h3 id="1-3-切换目录"><a href="#1-3-切换目录" class="headerlink" title="1.3 切换目录"></a>1.3 切换目录</h3><ul><li><p>cd（change directory）命令：用于切换当前工作目录。切换的路径可为绝对路径或相对路径。若路径省略，则 变换至使用者的home目录 。 </p></li><li><p>~ 也表示为home目录的意思</p></li><li><p>. 则是表示目前所在的目录 </p></li><li><p>. .则表示目前目录位置的上一层目录</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pwd #查看自己当前所在目录</span><br><span class="line">cd path #注意自己写的是相对还是绝对的 还可以结合特殊符</span><br><span class="line">号使用</span><br><span class="line">cd ./ </span><br><span class="line">cd /</span><br><span class="line">cd ../</span><br><span class="line">cd ~</span><br></pre></td></tr></table></figure><h3 id="1-4-创建-删除"><a href="#1-4-创建-删除" class="headerlink" title="1.4 创建 删除"></a>1.4 创建 删除</h3><ul><li>mkdir（make directory）命令：用于创建目录。<ul><li>-p 确保父目录名称存在，不存在的就建一个。</li></ul></li><li>touch 命令：创建一个空文件，无任何内容。</li><li>rm（remove）命令：用于删除一个文件或者目录。<ul><li>-f 强制直接删除，无需用户确认。</li><li>-r 将目录及以下所有递归逐一删除。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# mkdir /a/b/c</span><br><span class="line">mkdir: cannot create directory ‘/a/b/c’: No such file or directory</span><br><span class="line">[root@node1 ~]# mkdir -p /a/b/c</span><br><span class="line">[root@node1 ~]# rm -rf /a/b/c</span><br><span class="line">[root@node1 ~]# rm -rf /a</span><br><span class="line">-f #强制删除 不给与提示</span><br><span class="line">-r #递归删除 针对文件夹</span><br><span class="line">-rf #杀伤力极大 问问自己在干什么</span><br><span class="line">坐牢眼：rm -rf /*</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-5-复制与移动"><a href="#1-5-复制与移动" class="headerlink" title="1.5 复制与移动"></a>1.5 复制与移动</h3><ul><li>cp（copy file）命令：用于复制文件或目录。</li><li>-r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。</li><li>mv（move file）命令：用来为文件或目录改名、或将文件或目录移入其它位置</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp [options] source... directory</span><br><span class="line">mv source_file(文件) dest_file(文件) #将源文件名 source_file 改为目标文件名 dest_file</span><br><span class="line">mv source_file(文件) dest_directory(目录) #将文件 source_file 移动到目标目录 dest_directory中</span><br><span class="line">mv source_directory(目录) dest_directory(目录) #目录名 dest_directory 已存在，将source_directory 移动到目录名 dest_directory 中；目录名 dest_directory 不存在则source_directory 改名为目录名 dest_directory</span><br><span class="line">mv source_directory(目录) dest_file(文件) #出错</span><br></pre></td></tr></table></figure><h3 id="1-6-文件内容查看"><a href="#1-6-文件内容查看" class="headerlink" title="1.6 文件内容查看"></a>1.6 文件内容查看</h3><ul><li>cat（concatenate）命令：用于连接文件并打印到标准输出设备如console控制台上。适合小文件内容查看。</li><li>more 命令：类似cat，不过会以一页一页的形式显示，更方便使用者逐页阅读，翻页结束自动退出。适合大文件 查看。按space键翻下一页，按b往回（back）上一页 </li><li>tail 命令：用于查看文件的结尾部分的内容。<ul><li>-n 用于显示行数，默认为10，即显示 10 行的内容。</li><li>-f 用于实时显示文件动态追加的内容。会把文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 文件有更新，就可以看到最新的文件内容</li></ul></li></ul><h3 id="1-7-其他"><a href="#1-7-其他" class="headerlink" title="1.7 其他"></a>1.7 其他</h3><ul><li>| 管道命令：将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作。 命令1|命令2 可以将命令1的结果通过命令2作进一步的处理 </li><li>echo 命令：用于内容的输出，将内容输出到console控制台上。 echo string</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@node1 ~]# ls</span><br><span class="line">1.txt anaconda-ks.cfg hello lrzsz-0.12.20.tar.gz test test.file</span><br><span class="line">[root@node1 ~]# ls | grep ^t</span><br><span class="line">test</span><br><span class="line">test.file </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">相当于<span class="built_in">print</span> 将内容输出console控制台</span></span><br><span class="line">[root@node1 test]# echo 111</span><br><span class="line">111</span><br><span class="line">[root@node1 test]# echo &quot;hello &quot;</span><br><span class="line">hello </span><br></pre></td></tr></table></figure><ul><li><p>&gt; 输出重定向（覆盖）命令 command &gt; file 执行command然后将输出的内容存入file，file内已经存在的内容将被新内容覆盖替代</p></li><li><p>&gt;&gt; 输出重定向（追加）命令 command &gt;&gt; file 执行command然后将输出的内容存入file，新内容追加在文件末尾。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 test]# echo 111 &gt; 4.txt</span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">111</span><br><span class="line">[root@node1 test]# echo 222 &gt; 4.txt </span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">222</span><br><span class="line">[root@node1 test]# echo 333 &gt;&gt; 4.txt</span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">222</span><br><span class="line">333</span><br></pre></td></tr></table></figure><h3 id="1-8-解压命令"><a href="#1-8-解压命令" class="headerlink" title="1.8 解压命令"></a>1.8 解压命令</h3><p>​tar（tape archive ）命令：常用于备份文件。是用来建立，还原备份文件的工具程序，它可以加入，解开备份文件内 的文件。</p><ul><li>-c 或–create 建立新的备份文件。</li><li>-x 或–extract或–get 从备份文件中还原文件。</li><li>-v 或–verbose 显示指令执行过程。</li><li>-f &lt;备份文件&gt;或–file&#x3D;&lt;备份文件&gt; 指定备份文件。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar cvf 打包名.tar 文件或者目录</span></span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">[root@node1 test]# tar -cvf test.tar 1.txt 2.txt</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br><span class="line">[root@node1 test]# tar xvf test.tar </span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br></pre></td></tr></table></figure><p>​在打包备份或者解包的过程中，可以通过指定压缩算法，对打包的文件进行压缩，解压的时候也需要指定相应的算法。</p><ul><li><p>-z 或–gzip或–ungzip 通过gzip指令处理备份文件</p></li><li><p>重要的搭配： tar -zxvf xxxxx.tar.gz</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">[root@node1 test]# tar zcvf test.tar.gz 1.txt 2.txt </span><br><span class="line">[root@node1 test]# tar zcvf test.tgz 1.txt 2.txt </span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 142 Aug 10 19:35 test.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root 142 Aug 10 19:35 test.tgz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@node1 test]# tar zxvf test.tar.gz #解压到当前目录</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# tar zxvf test.tar.gz -C /root/ #-C参数</span><br><span class="line">可以设定解压到指定目录</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br></pre></td></tr></table></figure><h2 id="Linux系统常用命令"><a href="#Linux系统常用命令" class="headerlink" title="Linux系统常用命令"></a>Linux系统常用命令</h2><h3 id="1-1-时间日期查看"><a href="#1-1-时间日期查看" class="headerlink" title="1.1 时间日期查看"></a>1.1 时间日期查看</h3><ul><li>date命令：用来显示或设定系统的日期与时间，在显示方面，使用者可以设定欲显示的格式，格式设定为一个加号 后接数个标记。 </li><li>cal（calendar）命令：用于用于显示当前或者指定日期的公历。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 linux02]# date</span><br><span class="line">Tue May 18 14:44:13 CST 2021</span><br><span class="line">[root@node1 linux02]# date +&quot;%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2021-05-18 14:44:53</span><br><span class="line">[root@node1 linux02]# cal</span><br><span class="line">May 2021 </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">1</span><br><span class="line">2 3 4 5 6 7 8</span><br><span class="line">9 10 11 12 13 14 15</span><br><span class="line">16 17 18 19 20 21 22</span><br><span class="line">23 24 25 26 27 28 29</span><br><span class="line">30 31</span><br></pre></td></tr></table></figure><h3 id="1-2-内存、磁盘使用率查看"><a href="#1-2-内存、磁盘使用率查看" class="headerlink" title="1.2 内存、磁盘使用率查看"></a>1.2 内存、磁盘使用率查看</h3><ul><li>free命令：用于显示内存状态。会显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以 及系统核心使用的缓冲区等。 </li><li>df（英文全拼：disk free）命令：用于显示目前在 Linux 系统上的文件系统磁盘使用情况统计。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 linux02]# df -h</span><br><span class="line">Filesystem Size Used Avail Use% Mounted on</span><br><span class="line">devtmpfs 1.9G 0 1.9G 0% /dev</span><br><span class="line">tmpfs 1.9G 0 1.9G 0% /dev/shm</span><br><span class="line">tmpfs 1.9G 12M 1.9G 1% /run</span><br><span class="line">tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root 38G 1.5G 36G 5% / #重点关注这一行</span><br><span class="line">/dev/sda1 1014M 152M 863M 15% /boot</span><br><span class="line">/dev/mapper/centos-home 19G 33M 19G 1% /home</span><br><span class="line">tmpfs 378M 0 378M 0% /run/user/0</span><br><span class="line">tmpfs 378M 0 378M 0% /run/user/1000</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">内存使用情况</span></span><br><span class="line">[root@node1 linux02]# free -h</span><br><span class="line">total used free shared buff/cache available</span><br><span class="line">Mem: 3.7G 257M 3.0G 11M 467M 3.2G</span><br><span class="line">Swap: 3.9G 0B 3.9G</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-3-vi-x2F-vim文本编辑器"><a href="#1-3-vi-x2F-vim文本编辑器" class="headerlink" title="1.3 vi&#x2F;vim文本编辑器"></a>1.3 vi&#x2F;vim文本编辑器</h3><h4 id="1-3-1-简介"><a href="#1-3-1-简介" class="headerlink" title="1.3.1 简介"></a>1.3.1 简介</h4><ul><li>vi是一款很多unix及其延伸系统内置的文本编辑器，具有强大的文本编辑能力。</li><li>vim是从vi发展出来的一个文本编辑器，可以理解为vi编辑器的增强版。vim中代码补完、编译及错误跳转等方便编 程的功能特别丰富</li><li>vi&#x2F;vim编辑器的核心设计思想：让程序员的手指始终保持在键盘的核心区域, 就能完成所有的编辑操作。</li><li>学习使用vi&#x2F;vim编辑器最大挑战：万物皆命令</li></ul><h4 id="1-3-2-打开与新建文件"><a href="#1-3-2-打开与新建文件" class="headerlink" title="1.3.2 打开与新建文件"></a>1.3.2 打开与新建文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /path/file</span><br></pre></td></tr></table></figure><ul><li>如果打开的文件不存在，此时就是新建文件，编辑器左下角会提示new file</li><li>如果文件已经存在，此时就打开这个文件，进入命令模式</li></ul><h4 id="1-3-3-vim编辑器的3种编辑器"><a href="#1-3-3-vim编辑器的3种编辑器" class="headerlink" title="1.3.3 vim编辑器的3种编辑器"></a>1.3.3 vim编辑器的3种编辑器</h4><ul><li><p>命令模式（Command mode） 命令模式下，所敲的按键编辑器都理解为命令，以命令驱动执行不同的功能。 此模型下，不能自由进行文本编辑。</p></li><li><p>输入模式（Insert mode） 也就是所谓的编辑模式、插入模式。 此模式下，才可以对文件内容进行自由编辑。</p></li><li><p>底线命令模式（Last line mode） 以：开始，通常用于文件的保存、退出。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/TqJVP4aFZG1hCDS.png" alt="image-20230109140922378"></p><h4 id="1-3-4-输入模式"><a href="#1-3-4-输入模式" class="headerlink" title="1.3.4 输入模式"></a>1.3.4 输入模式</h4><ul><li><p>i 进入到编辑输入模式后，定位到当前光标前面</p></li><li><p>o 进入到编辑输入模式后，在当前行的后面添加一行空行（当前行的下一行）</p></li><li><p>输入模式下按ESC退回到命令模式</p></li></ul><h3 id="1-3-5-底线模式"><a href="#1-3-5-底线模式" class="headerlink" title="1.3.5 底线模式"></a>1.3.5 底线模式</h3><ul><li><p>在命令模式下，输入:进入底线命令模式。</p></li><li><p>常用的底线命令有：</p><ul><li>:q 退出 :w 保存</li><li>:wq 保存退出 </li><li>:wq! 强制保存退出</li></ul></li><li><p>在命令模式下按下shift + zz，可以实现快速的保存退出。</p></li></ul><h4 id="1-3-6-光标移动"><a href="#1-3-6-光标移动" class="headerlink" title="1.3.6 光标移动"></a>1.3.6 光标移动</h4><ul><li>方向键控制移动 </li><li>翻页 pageup pagedown </li><li>行首（home 0） 行尾（end $）</li><li>跳到文件的最后一行 G </li><li>跳到文件的第一行 gg</li></ul><h4 id="1-3-7-复制-粘贴"><a href="#1-3-7-复制-粘贴" class="headerlink" title="1.3.7 复制 粘贴"></a>1.3.7 复制 粘贴</h4><ul><li><p>复制</p><ul><li><p>yy 复制光标当前所在行内容 </p></li><li><p>nyy 复制当前行往下n行</p></li></ul></li><li><p>粘贴</p><ul><li>p 当前行的下一行粘贴 </li><li>P 当前行的上一行粘贴</li></ul></li></ul><p>注意：使用鼠标从window或者其他地方复制内容到vim编辑器粘贴，一定一定要在输入模式下进行，否则数据会有丢 失的风险</p><h4 id="1-3-8-删除-撤销"><a href="#1-3-8-删除-撤销" class="headerlink" title="1.3.8 删除 撤销"></a>1.3.8 删除 撤销</h4><ul><li><p>删除命令</p><ul><li>dd 删除光标所在当前行内容</li><li>ndd 删除当前行往下n行</li></ul></li><li><p>撤销</p><ul><li>u 撤销上一步的操作（后悔药） </li><li>ctrl+r 反撤销</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7.Java io流</title>
      <link href="/posts/385d07b8.html"/>
      <url>/posts/385d07b8.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-io流"><a href="#1-io流" class="headerlink" title="1. io流"></a>1. io流</h2><h3 id="1-1-oi流概念"><a href="#1-1-oi流概念" class="headerlink" title="1.1 oi流概念"></a>1.1 oi流概念</h3><p>​java的io是实现输入和输出的基础，可以方便的实现数据的输入和输出操作。</p><p>在java中把对于输入&#x2F;输入操作是以流的方式进行操作的。java.io 包下提供了大</p><p>量的供我们使用的操作【流】的方法和接口，用于进行各类数据的处理和输。</p><p>​计算机的输入和输出都是通过二进制来完成的。在网络中我们要传递数据就要将数据【流化】，换句话说就是讲文件、复杂的对象转化成能够在网络上传输的一个个的0和1。</p><h3 id="1-2-文件操作"><a href="#1-2-文件操作" class="headerlink" title="1.2 文件操作"></a>1.2 文件操作</h3><p>​在Java中，File类是java.io 包中唯一代表磁盘文件本身的对象。File 类定义了</p><p>一些与平台无关的方法来操作文件，File类主要用来获取或处理与磁盘文件相关</p><p>的信息，像文件名、文件路径、访问权限和修改日期等，还可以浏览子目录层</p><p>次结构。<br>    File类表示处理文件和文件系统的相关信息。也就是说，File类不具有从文件</p><p>读取信息和向文件写入信息的功能，它仅描述文件本身的属性。</p><h3 id="1-3-文件路径"><a href="#1-3-文件路径" class="headerlink" title="1.3 文件路径"></a>1.3 文件路径</h3><p>正斜杠，又称左斜杠，符号是”&#x2F;”；反斜杠，也称右斜杠，符号是””。</p><p>在Unix&#x2F;Linux中，路径的分隔采用正斜杠””，比如”&#x2F;home&#x2F;hutaow”；而在、、</p><p>Windows中，路径分隔采用反斜杠”，比如”C:1WindowsiSystem”</p><p>在java当中反斜杠代表的是转义:<br>        比如:制表符（也叫)的功能是在不使用表格的情况下在垂直方向按列对齐文本，就是咱们的tab键。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.泛型</title>
      <link href="/posts/7678a22a.html"/>
      <url>/posts/7678a22a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-5-2-泛型"><a href="#1-5-2-泛型" class="headerlink" title="1.5.2 泛型"></a>1.5.2 泛型</h3><h4 id="1-5-2-1泛型的定义"><a href="#1-5-2-1泛型的定义" class="headerlink" title="1.5.2.1泛型的定义"></a>1.5.2.1泛型的定义</h4><p>​看表面的意思是，泛型是广泛的，普通的类型，泛型可以帮助我们在【类型明确】的工作延迟到对象或方法的时候。意思就是我定义类不管他是什么类型，new这个对象或调用方法的时候才确定具体的类型。</p><p>​泛型类就是把泛型定义到类上，这样在用户使用类的时候才可以报类型确定下来。具体的方法就是&lt;&gt; 加一个未知数，通常用KTV大写字母表示，事实上是一个单词就行。</p><p><strong>java 中泛型标记符：</strong></p><ul><li><strong>E</strong> - Element (在集合中使用，因为集合中存放的是元素)</li><li><strong>T</strong> - Type（Java 类）</li><li><strong>K</strong> - Key（键）</li><li><strong>V</strong> - Value（值）</li><li><strong>N</strong> - Number（数值类型）</li><li><strong>？</strong> - 表示不确定的 java 类型</li></ul><p>​泛型方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt;  T <span class="title function_">show</span><span class="params">(T t)</span>&#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">show</span> <span class="operator">=</span> test.show(<span class="number">1425</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类型通配符感觉和泛型方法差不多，只是不能用在使用前进行定义。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest</span> &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; name = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        List&lt;Integer&gt; age = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        List&lt;Number&gt; number = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Number&gt;();</span><br><span class="line">        </span><br><span class="line">        name.add(<span class="string">&quot;icon&quot;</span>);</span><br><span class="line">        age.add(<span class="number">18</span>);</span><br><span class="line">        number.add(<span class="number">314</span>);</span><br><span class="line"> </span><br><span class="line">        getData(name);</span><br><span class="line">        getData(age);</span><br><span class="line">        getData(number);</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getData</span><span class="params">(List&lt;?&gt; data)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;data :&quot;</span> + data.get(<span class="number">0</span>));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-5-3-枚举enum"><a href="#1-5-3-枚举enum" class="headerlink" title="1.5.3 枚举enum"></a>1.5.3 枚举enum</h3><p>​在一些情况，一个类的对象有限且固定，比如说星期一到星期五，春夏秋冬等，这时候就可以使用。 </p><p>静态方法    </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season DEFAULT= <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;秋天&quot;</span>, <span class="number">4</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">WINTER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;冬天&quot;</span>, <span class="number">3</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING= <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;春天&quot;</span>, <span class="number">1</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SUMMER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;夏天&quot;</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SeasonEnum</span> &#123;</span><br><span class="line">    JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SeasonEnum</span> &#123;</span><br><span class="line">    JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(SeasonEnum.JANUARY.name());<span class="comment">//姓名</span></span><br><span class="line">        System.out.println(SeasonEnum.JANUARY.ordinal()); <span class="comment">//序号</span></span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​enum 定义的枚举类默认继承了 java.lang.Enum 类，并实现了 java.lang.Serializable 和 java.lang.Comparable 两个接口。values(), ordinal() 和 valueOf() 方法位于 java.lang.Enum 类中：</p><ul><li>values() 返回枚举类中所有的值。</li><li>ordinal()方法可以找到每个枚举常量的索引，就像数组索引一样。</li><li>valueOf()方法返回指定字符串值的枚举常量。</li></ul><h3 id="1-5-4-多线程"><a href="#1-5-4-多线程" class="headerlink" title="1.5.4 多线程"></a>1.5.4 多线程</h3><p>​Java 给多线程编程提供了内置的支持。 一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。</p><p>​多线程是多任务的一种特别的形式，但多线程使用了更小的资源开销。</p><p>​这里定义和线程相关的另一个术语 - 进程：一个进程包括由操作系统分配的内存空间，包含一个或多个线程。一个线程不能独立的存在，它必须是进程的一部分。一个进程一直运行，直到所有的非守护线程都结束运行后才能结束。</p><p>​多线程能满足程序员编写高效率的程序来达到充分利用 CPU 的目的。</p><p>线程是一个动态执行的过程，它也有一个从产生到死亡的过程。</p><p>下图显示了一个线程完整的生命周期。</p><p><img src="https://www.runoob.com/wp-content/uploads/2014/01/java-thread.jpg" alt="img"></p><ul><li><p>新建状态:</p><p>  使用 <strong>new</strong> 关键字和 <strong>Thread</strong> 类或其子类建立一个线程对象后，该线程对象就处于新建状态。它保持这个状态直到程序 <strong>start()</strong> 这个线程。</p></li><li><p>就绪状态:</p><p>  当线程对象调用了start()方法之后，该线程就进入就绪状态。就绪状态的线程处于就绪队列中，要等待JVM里线程调度器的调度。</p></li><li><p>运行状态:</p><p>  如果就绪状态的线程获取 CPU 资源，就可以执行 **run()**，此时线程便处于运行状态。处于运行状态的线程最为复杂，它可以变为阻塞状态、就绪状态和死亡状态。</p></li><li><p>阻塞状态:</p><p>  如果一个线程执行了sleep（睡眠）、suspend（挂起）等方法，失去所占用资源之后，该线程就从运行状态进入阻塞状态。在睡眠时间已到或获得设备资源后可以重新进入就绪状态。可以分为三种：</p><ul><li>等待阻塞：运行状态中的线程执行 wait() 方法，使线程进入到等待阻塞状态。</li><li>同步阻塞：线程在获取 synchronized 同步锁失败(因为同步锁被其他线程占用)。</li><li>其他阻塞：通过调用线程的 sleep() 或 join() 发出了 I&#x2F;O 请求时，线程就会进入到阻塞状态。当sleep() 状态超时，join() 等待线程终止或超时，或者 I&#x2F;O 处理完毕，线程重新转入就绪状态。</li></ul></li><li><p>死亡状态:</p><p>  一个运行状态的线程完成任务或者其他终止条件发生时，该线程就切换到终止状态。</p></li></ul><hr><h5 id="1-5-4-1线程的优先级"><a href="#1-5-4-1线程的优先级" class="headerlink" title="1.5.4.1线程的优先级"></a>1.5.4.1线程的优先级</h5><p>​每一个 Java 线程都有一个优先级，这样有助于操作系统确定线程的调度顺序。</p><p>Java 线程的优先级是一个整数，其取值范围是 1 （Thread.MIN_PRIORITY ） - 10 （Thread.MAX_PRIORITY ）。</p><p>默认情况下，每一个线程都会分配一个优先级 NORM_PRIORITY（5）。</p><p>具有较高优先级的线程对程序更重要，并且应该在低优先级的线程之前分配处理器资源。但是，线程优先级不能保证线程执行的顺序，而且非常依赖于平台。</p><hr><h5 id="1-5-4-2创建一个线程"><a href="#1-5-4-2创建一个线程" class="headerlink" title="1.5.4.2创建一个线程"></a>1.5.4.2创建一个线程</h5><p>Java 提供了三种创建线程的方法：</p><ul><li>通过实现 Runnable 接口；</li><li>通过继承 Thread 类本身；</li><li>通过 Callable 和 Future 创建线程。</li></ul><p>（1） 继承Thread重写run方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">UseThread</span>().start();  <span class="comment">//开启线程</span></span><br><span class="line">        System.out.println(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（2） Runnable  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">UseRunnable</span>()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">UseRunnable</span>()).sleep(<span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3） 通过 Callable 和 Future 创建线程。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Formattable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseCallable</span>  <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">        <span class="comment">// futureTask 保存返回值</span></span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>(<span class="keyword">new</span> <span class="title class_">UseCallable</span>());</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(futureTask).start(); <span class="comment">//开启线程</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> futureTask.get(); <span class="comment">//等待线程获取返回值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        System.out.println(integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Formattable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseCallable</span>  <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> from;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> to;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UseCallable</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.from = from;</span><br><span class="line">        <span class="built_in">this</span>.to = to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UseCallable</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i= from; i &lt; to; i++) &#123;</span><br><span class="line">            res +=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">int</span> res= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">100000</span> ; i++) &#123;</span><br><span class="line">            res+=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">        <span class="comment">//多线程</span></span><br><span class="line">        start = System.currentTimeMillis();</span><br><span class="line">        res= <span class="number">0</span>;</span><br><span class="line">        FutureTask[] futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">5</span> ; i++) &#123;</span><br><span class="line">            FutureTask&lt;Integer&gt; task = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">UseCallable</span>(i*<span class="number">20000</span>,(i+<span class="number">1</span>)*<span class="number">20000</span>));</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(task).start(); <span class="comment">//开启线程</span></span><br><span class="line">            futureTask[i]=task;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; futureTask.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> (<span class="type">int</span>)futureTask[i].get();</span><br><span class="line">            res+=sum;</span><br><span class="line">        &#125;</span><br><span class="line">        end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下表列出了Thread类的一些重要方法：</p><table><thead><tr><th align="left"><strong>序号</strong></th><th align="left"><strong>方法描述</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>public void start()</strong> 使该线程开始执行；<strong>Java</strong> 虚拟机调用该线程的 run 方法。</td></tr><tr><td align="left">2</td><td align="left"><strong>public void run()</strong> 如果该线程是使用独立的 Runnable 运行对象构造的，则调用该 Runnable 对象的 run 方法；否则，该方法不执行任何操作并返回。</td></tr><tr><td align="left">3</td><td align="left"><strong>public final void setName(String name)</strong> 改变线程名称，使之与参数 name 相同。</td></tr><tr><td align="left">4</td><td align="left"><strong>public final void setPriority(int priority)</strong>  更改线程的优先级。</td></tr><tr><td align="left">5</td><td align="left"><strong>public final void setDaemon(boolean on)</strong> 将该线程标记为守护线程或用户线程。</td></tr><tr><td align="left">6</td><td align="left"><strong>public final void join(long millisec)</strong> 等待该线程终止的时间最长为 millis 毫秒。</td></tr><tr><td align="left">7</td><td align="left"><strong>public void interrupt()</strong> 中断线程。</td></tr><tr><td align="left">8</td><td align="left"><strong>public final boolean isAlive()</strong> 测试线程是否处于活动状态。</td></tr></tbody></table><p>上述方法是被 Thread 对象调用的，下面表格的方法是 Thread 类的静态方法。</p><table><thead><tr><th align="left"><strong>序号</strong></th><th align="left"><strong>方法描述</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>public static void yield()</strong> 暂停当前正在执行的线程对象，并执行其他线程。</td></tr><tr><td align="left">2</td><td align="left"><strong>public static void sleep(long millisec)</strong> 在指定的毫秒数内让当前正在执行的线程休眠（暂停执行），此操作受到系统计时器和调度程序精度和准确性的影响。</td></tr><tr><td align="left">3</td><td align="left"><strong>public static boolean holdsLock(Object x)</strong> 当且仅当当前线程在指定的对象上保持监视器锁时，才返回 true。</td></tr><tr><td align="left">4</td><td align="left"><strong>public static Thread currentThread()</strong> 返回对当前正在执行的线程对象的引用。</td></tr><tr><td align="left">5</td><td align="left"><strong>public static void dumpStack()</strong> 将当前线程的堆栈跟踪打印至标准错误流。</td></tr></tbody></table><h5 id="1-5-4-3-线程安全的实现方法"><a href="#1-5-4-3-线程安全的实现方法" class="headerlink" title="1.5.4.3 线程安全的实现方法"></a>1.5.4.3 线程安全的实现方法</h5><ol><li><p>数据不可变</p><p> 在Java当中，一切不可变的对象（immutable） 一定是线程安全的，无论是对象的方法实现还是方法的调用者。</p></li><li><p>互斥同步</p><p> 互斥同步是常见的一种正确性的保障手段，同步是指在多个线程并发访问共享数据，保证共享数据在同一时刻被同一线程使用。</p></li><li><p>非阻塞同步</p><p> 互斥同步面临的主要问题是，进行线程阻塞和唤醒带来的性能开销，因此这种同步也被称为阻塞同步，从解决问题的方式上来看互斥同步是一种【悲观的并发策略】，其总是认为，只要不去做正确的同步措施，那就肯定会出现问题，无论共享的数据是否真的出现，都会进行加锁。这<br> 将会导致用户态到内核态的转化、维护锁计数器和检查是否被阻塞的线程需要被唤醒等等开销。<br>     随看硬件指令级的发展，我们已经有了另外的选择，基于冲突检的乐观并发策略。通俗的说，就是不管有没有风险，先进行操作，如果没有其他线程征用共享数据，那就直接成功，如果共享数据确实被征用产生了冲突，就再进行补偿策略，常见的补偿策略就是不折的重试，直到<br> 出现设有竞争的共享数据为止，这种乐观并发策略的实现，不再需要把线程阻塞挂起，因此同步操作也被称为非阻塞同步，这种措施的代码也常常被称之为【无锁编程】。</p></li><li><p>无同步方案</p><p> ​在我们这个工作当中，还经常遇到这样一种情况，多个线程需要共享数据，但是这些数据又可以再单独的线程当中计算，得出结果，而不被其他的线程所影响，如果能保证这一点，我们就可以把共享数据的可见范国限制在一个线程之内，这样就无需同步，也能够保证个个线程之间不出现数据征用的问题，说人话就是数据拿过来，我用我的，你用你的，从而保证线程安全，比如说咱们的ThreadLocal。,<br> ​ThreadLoca提供了线程内存储变量的能力，这些变量不同之处在于每一个线程读取的变量是对应的互相独立的。通过ge和set方法就，可以得到当前线程对应的值。</p></li></ol><h3 id="1-5-5锁机制"><a href="#1-5-5锁机制" class="headerlink" title="1.5.5锁机制"></a>1.5.5锁机制</h3><h4 id="1-5-5-1-synchronized简介"><a href="#1-5-5-1-synchronized简介" class="headerlink" title="1.5.5.1 synchronized简介"></a>1.5.5.1 synchronized简介</h4><p>​在多线程并发编程中synchronized一直是元老级角色，很多人都会称呼它为重呈级锁。但是，随看Java SE 1.6对synchronized进行了各种优化之后，有些情况下它就并不那么重，JavaSE1.6中为了减少获得锁和释放锁带来的性能消耗而引入的偏向锁和轻量级锁。<br>synchronized有三种方式来加锁，分别是</p><ul><li>修饰实例方法，作用于当前实例加锁，进入同步代码前要获得当前实例的锁</li><li>静态方法，作用于当前类对象加锁，进入同步代码前要获得当前类对象的锁</li><li>修饰代码块，指定加锁对象，对给定对象加锁，进入同步代码库前要获得给定对象的锁。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">lock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">ray</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;word&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                say();</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-5-2-死锁"><a href="#1-5-5-2-死锁" class="headerlink" title="1.5.5.2 死锁"></a>1.5.5.2 死锁</h4><p>锁升级中涉及的四把锁：</p><ul><li><p>无锁：不加锁</p></li><li><p>偏向锁：不加锁，只有一个线程争夺时，偏心某一个线程，这个线程来了不加锁。</p></li><li><p>轻量级锁：少量量线程来了之后，先尝试自旋，不挂起线程</p><p>  注：挂起线程和恢复线程的操作都需要转入内核态中完成这些操作，给系统的并发性带来很大的压力。在许多应用上共享数据的锁定状态<br>  只会持续很短的一段时间，为了这段时间去挂机和恢复现场并不值得，我们就可以让后边请求的线程稍等一下，不要放弃处理器的执行时<br>  间，看看持有锁的线程是否很快就会释放，锁为了让线程等待，我们只需要让线程执行一个言循环也就是我们说的自旋，这项技术就是所调<br>  的【自旋锁】</p></li><li><p>重量级锁：排队挂起线程</p><p> 死锁</p></li></ul><p>​死锁是这样一种情形：多个线程同时被阻塞，它们中的一个或者全部部在等待某个资源被释放。由于线程被无限期地阻塞，因此程序不可能<br>正常终止。<br>java死锁产生的四个必要条件：</p><ul><li>互斥使用，即当资源被一个线程使用（占有）时，别的线程不能使用</li><li>不可抢占，资源清求者不能强制从资源占有者手中夺取资源，资源只能由资源占有者主动释放。</li><li>请求和保持，即当资源请求者在请求其他的资源的同时保持对原有资源的占有。</li><li>循环等待，即存在一个等待队列：P1占有P2的资源，P2占有P3的资源，P3占有P1的资源。这样就形成了一个等待环路。</li></ul><p>​当上述四个条件都成立的时候，便形成死锁。当然，死锁的情况下如果打破上述任何一个条件，便可让死锁消失。下面用java代码来模拟一下死锁的产生。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeadLock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">final</span> Object MONITOR1= <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">final</span> Object MONITOR2= <span class="string">&quot;12345&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR1) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取一号锁&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (MONITOR2) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取二号锁&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;thread1&quot;</span>).start();  <span class="comment">//开启线程</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR2) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取二号锁&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (MONITOR1) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取一号锁&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;thread1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/BkiDUHdlQM25C9R.png" alt="image-20221208113445732"></p><p> wait和notify 等待和唤醒</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WaitTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Object MONITOR= <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">           <span class="keyword">synchronized</span> (MONITOR) &#123;</span><br><span class="line">               System.out.println(<span class="string">&quot;线程1开始&quot;</span>);</span><br><span class="line">               <span class="keyword">try</span> &#123;</span><br><span class="line">                   MONITOR.wait();</span><br><span class="line">               &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">               System.out.println(<span class="string">&quot;线程1结束 &quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;线程2开始&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">200</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                MONITOR.notify();</span><br><span class="line">                System.out.println(<span class="string">&quot;线程2结束&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-5-3-lock"><a href="#1-5-5-3-lock" class="headerlink" title="1.5.5.3 lock"></a>1.5.5.3 lock</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.rmi.runtime.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">lock</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">ray</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;word&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    say();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-4-线程池"><a href="#1-5-4-线程池" class="headerlink" title="1.5.4 线程池"></a>1.5.4 线程池</h4><p>Java通过Executors提供四种线程池，分别为：</p><ol><li>newCachedThreadPoo1创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</li><li>newFixedThreadPoo1创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</li><li>newScheduledThreadPool创建一个定长线程池，支持定时及周期性任务执行。</li><li>newsing1 eThreadExecutor创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序执行。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pool</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span>() -&gt;&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;__________&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">500</span> ; i++) &#123;</span><br><span class="line">            executorService.submit(task); <span class="comment">//提交任务</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.集合</title>
      <link href="/posts/d366874c.html"/>
      <url>/posts/d366874c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-集合"><a href="#1-1-集合" class="headerlink" title="1.1 集合"></a>1.1 集合</h3><h4 id="1-1-2-集合的体系结构"><a href="#1-1-2-集合的体系结构" class="headerlink" title="1.1.2 集合的体系结构"></a>1.1.2 集合的体系结构</h4><p>集合框架被设计成要满足以下几个目标。</p><ul><li><p>该框架必须是高性能的。基本集合（动态数组，链表，树，哈希表）的实现也必须是高效的。</p></li><li><p>该框架允许不同类型的集合，以类似的方式工作，具有高度的互操作性。</p></li><li><p>对一个集合的扩展和适应必须是简单的。</p></li><li><p>list系列集合：添加的元素是有序，可重复，有索引。</p></li><li><p>set系列集合：添加元素是无序，不重复，无索引</p></li><li><p>collection是单列集合的祖宗接口，它的功能是全部单列集合都可以继承使用的。</p></li></ul><p>常见的方法</p><p><img src="https://s2.loli.net/2022/12/29/8Kzhlj4a1LI2fRO.png" alt="image-20221209153927894"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * public boolean add(E e)   添加</span></span><br><span class="line"><span class="comment"> * public void clear()       清空</span></span><br><span class="line"><span class="comment"> * public boolean remove(E e)  删除</span></span><br><span class="line"><span class="comment"> * public boolean contains（Object obj） 判断是否包含</span></span><br><span class="line"><span class="comment"> * public boolean isEmpty()  判断是否为空</span></span><br><span class="line"><span class="comment"> * public int size() 集合长度</span></span><br><span class="line"><span class="comment"> * 注意 ：</span></span><br><span class="line"><span class="comment"> * collection是一个接口 我们不能直接创建他的对象，</span></span><br><span class="line"><span class="comment"> * 我们学习他的方法的时候只能创建他的实现类的对象，</span></span><br><span class="line"><span class="comment"> * 实现类Arraylist</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        <span class="comment">//如果我们要往list集合中添加数据，那么方法返回true 因为list集合可以重复</span></span><br><span class="line">        coll.add(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line"><span class="comment">//        //清空</span></span><br><span class="line"><span class="comment">//        coll.clear();</span></span><br><span class="line">        <span class="comment">//删除  不能通过索引删除</span></span><br><span class="line">        coll.remove(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        System.out.println(coll);</span><br><span class="line">        <span class="comment">//判断</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">aaa</span> <span class="operator">=</span> coll.contains(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        System.out.println(aaa);</span><br><span class="line">        <span class="comment">//判断集合是否为空</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">empty</span> <span class="operator">=</span> coll.isEmpty();</span><br><span class="line">        System.out.println(empty);</span><br><span class="line">        <span class="comment">//判断长度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> coll.size();</span><br><span class="line">        System.out.println(size);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-1-3collection遍历方式"><a href="#1-1-3collection遍历方式" class="headerlink" title="1.1.3collection遍历方式"></a>1.1.3collection遍历方式</h4><h5 id="1-迭代器遍历"><a href="#1-迭代器遍历" class="headerlink" title="1.迭代器遍历"></a>1.迭代器遍历</h5><p>​迭代器在Java中的类是iterator ，迭代器是集合专用的遍历方式。</p><p><img src="https://s2.loli.net/2022/12/29/uS81aET7c9OYbCU.png" alt="image-20221209172523274"></p><p><img src="https://s2.loli.net/2022/12/29/32AErTN6unq9svj.png" alt="image-20221210103457393"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt;  coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">        <span class="comment">//2.获取迭代器对象,默认指向0索引处</span></span><br><span class="line">        Iterator&lt;String&gt; it= coll.iterator();</span><br><span class="line">        <span class="comment">//3.利用循环获取元素</span></span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="comment">//获取元素，并移动指针</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//当迭代器结束，指针指向最后一个元素，若在次调用it.next()</span></span><br><span class="line">        <span class="comment">//会报NoSuchElementException</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>报错NoSuchElementException</li><li>,迭代器遍历完毕，指针不会复位</li><li>循环中只能用一次next方法</li><li>迭代器遍历时，不能用集合的方法进行增加或者删除</li></ul><h5 id="2-增强for遍历"><a href="#2-增强for遍历" class="headerlink" title="2.增强for遍历"></a>2.增强for遍历</h5><ul><li>增强fo的底层就是迭代器，为了简化迭代器的代码书写的。</li><li>它是DK5之后出现的，其内部原理就是一个Iteratori迭代器。</li><li>所有的单列集合和数组才能用增强fo进行遍历。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">增强<span class="keyword">for</span>格式：</span><br><span class="line"><span class="keyword">for</span>(数据类型变量名：集合/数组)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">快速生成方式：</span><br><span class="line">    集合的名字+<span class="keyword">for</span> 回车</span><br><span class="line">        </span><br><span class="line">使用增强<span class="keyword">for</span>不会改变集合中原来的数据</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for遍历</span></span><br><span class="line">        <span class="keyword">for</span> (String s: coll) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-lambda表达式遍历"><a href="#3-lambda表达式遍历" class="headerlink" title="3.lambda表达式遍历"></a>3.lambda表达式遍历</h5><p>​得益于DK8开始的新技术Lambda表达式，提供了一种更简单、更直接的遍历集合的方式。</p><p><img src="https://s2.loli.net/2022/12/29/GtuJFi7oxwMsg9Z.png" alt="image-20221210113032495"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        coll.forEach((String s) -&gt;&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(s);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        );</span></span><br><span class="line">        coll.forEach(s -&gt; System.out.println(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-2-list集合"><a href="#1-2-list集合" class="headerlink" title="1.2 list集合"></a>1.2 list集合</h3><ul><li>collection的方法都继承了</li><li>list集合因为都有索引，所以多了很多索引操作的方法 ·</li></ul><p><img src="https://s2.loli.net/2022/12/29/pUTiWYylVnC1b3E.png" alt="image-20221210143014838"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">list_test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合</span></span><br><span class="line">        List&lt;String&gt; list= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//在1索引处添加qqqqq</span></span><br><span class="line">        list.add(<span class="number">1</span>,<span class="string">&quot;qqqqq&quot;</span>);</span><br><span class="line">        <span class="comment">//删除指定索引</span></span><br><span class="line">        list.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.set(<span class="number">1</span>,<span class="string">&quot;56566&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-collection遍历方式"><a href="#1-collection遍历方式" class="headerlink" title="1.collection遍历方式"></a>1.collection遍历方式</h5><ul><li>迭代器遍历</li><li>列表迭代器遍历</li><li>增强for遍历</li><li>lambda表达式遍历</li><li>普通for遍历</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">list_test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建集合</span></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        <span class="comment">//迭代器遍历</span></span><br><span class="line">        Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">next</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for</span></span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//lambda表达式</span></span><br><span class="line">        list.forEach(s -&gt; System.out.println(s));</span><br><span class="line">        <span class="comment">//普通for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//列表迭代器</span></span><br><span class="line">        <span class="comment">//获取迭代器对象,默认指向0,在遍历的时候可以添加元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        ListIterator&lt;String&gt; ita = list.listIterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (ita.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> ita.next();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;1&quot;</span>.equals(str))&#123;</span><br><span class="line">                ita.add(<span class="string">&quot;748545&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/ym3eCKAZ49rNzOf.png" alt="image-20221210155011708"></p><h3 id="1-3set-集合"><a href="#1-3set-集合" class="headerlink" title="1.3set 集合"></a>1.3set 集合</h3><p>set集合实现类</p><ul><li>HashSet：无序、不重复、无索引</li><li>LinkedHashSet：有序、不重复、无索引</li><li>TreeSet:可排序、不重复、无索引</li></ul><p><img src="D:\学习笔记\图片\image-20221212102141001.png" alt="image-20221212102141001"></p><p>利用Set系列的集合，添加字符串，并使用多种方式遍历。</p><p>① 迭代器</p><p>② 增强for</p><p>③ Lambda表达式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Set_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建一个集合对象</span></span><br><span class="line">        Set&lt;String&gt; s= <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> s.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> s.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b3</span> <span class="operator">=</span> s.add(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b4</span> <span class="operator">=</span> s.add(<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        <span class="comment">//无序，不重复</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        <span class="comment">//迭代器遍历</span></span><br><span class="line">        Iterator&lt;String&gt; iterator = s.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for</span></span><br><span class="line">        <span class="keyword">for</span> (String s1 : s) &#123;</span><br><span class="line">            System.out.println(s1);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//lambda表达式</span></span><br><span class="line">        s.forEach(a -&gt; System.out.println(a));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>HashSet底层原理</p><ul><li>HashSet集合底层采取哈希表存储数据</li><li>哈希表是一种对于增删改查数据性能都较好的结构</li><li>哈希表组成</li><li>JDK8之前：数组+链表</li><li>JDK8开始：数组+链表+红黑树</li></ul><p>哈希值</p><ul><li>根据hashCode方法算出来的int类型的整数</li><li>该方法定义在Object类中，所有对象都可以调用，默认使用地址值进行计算</li><li>一般情况下，会重写hashCode方法，利用对象内部的属性值计算哈希值</li></ul><p>对象的哈希值特点</p><ul><li>如果没有重写hashCode方法，不同对象计算出的哈希值是不同的</li><li>如果已经重写hashcode方法，不同的对象只要属性值相同，计算出的哈希值就是一样的</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line">        HashSet&lt;Student&gt; hs= <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Student&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        hs.add(s);</span><br><span class="line">        hs.add(s3);</span><br><span class="line">        hs.add(s2);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(hs);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>LinkedHashSet底层原理</p><ul><li>有序、不重复、无索引。</li><li>这里的有序指的是保证存储和取出的元素顺序一致</li><li>原理：底层数据结构是依然哈希表，只是每个元素又额外的多了一个双链表的机制记录存储的顺序</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line">        LinkedHashSet&lt;Student&gt; hs= <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;Student&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        System.out.println(hs.add(s));</span><br><span class="line">        System.out.println(hs.add(s3));</span><br><span class="line">        System.out.println(hs.add(s2));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeSet的特点</p><ul><li><p>不重复、无索引、可排序</p></li><li><p>可排序：按照元素的默认规则（有小到大）排序。</p></li><li><p>TreeSet集合底层是基于红黑树的数据结构实现排序的，增删改查性能都较好。</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSet_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeSet&lt;Integer&gt; ts= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;Integer&gt;();</span><br><span class="line">        ts.add(<span class="number">8</span>);</span><br><span class="line">        ts.add(<span class="number">2</span>);</span><br><span class="line">        ts.add(<span class="number">7</span>);</span><br><span class="line">        ts.add(<span class="number">4</span>);</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">        <span class="keyword">for</span> (Integer t : ts) &#123;</span><br><span class="line">            System.out.println(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.面向对象</title>
      <link href="/posts/28239a8d.html"/>
      <url>/posts/28239a8d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-5-1-面向对象"><a href="#1-5-1-面向对象" class="headerlink" title="1.5.1 面向对象"></a>1.5.1 面向对象</h3><h4 id="1-5-1-1-类与对象"><a href="#1-5-1-1-类与对象" class="headerlink" title="1.5.1.1 类与对象"></a>1.5.1.1 类与对象</h4><p>​类是一个模板，它描述一类对象的行为和状态。定义类就是定义类的属性与行为（方法）。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 权限修饰符] [ 修饰符] class 类名&#123;</span><br><span class="line">    成员变量;</span><br><span class="line">    类方法;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    String employeeName;  <span class="comment">//类的属性</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">name</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(employeeName)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​对象是类的实例，定义对象和定义变量一样。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">类名 对象名</span><br><span class="line">在使用对象之前必须给他分配内存,必须通过<span class="keyword">new</span> 关键字来实现</span><br><span class="line">Empoyee =<span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Student</span> <span class="variable">s</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">Student 是一个引用数据类型</span><br><span class="line">s是一个变量名</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Student</span> 是一个学生对象</span><br><span class="line">读取数据：引用.变量名</span><br><span class="line">s.name</span><br><span class="line">修改数据：引用.变量名=值;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-2-封装"><a href="#1-5-1-2-封装" class="headerlink" title="1.5.1.2 封装"></a>1.5.1.2 封装</h4><pre><code> 封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。</code></pre><p>要访问该类的代码和数据，必须通过严格的接口控制。</p><p>优点：</p><ul><li><p>良好的封装能够减少耦合。</p></li><li><p>类内部的结构可以自由修改。</p></li><li><p>可以对成员变量进行更精确的控制。</p></li><li><p>隐藏信息，实现细节</p></li><li><p>安全性高</p></li><li><p>封装之后才可以成为对象，真正的独立体</p></li><li><p>封装之后可以重复使用</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="1-5-1-3-继承"><a href="#1-5-1-3-继承" class="headerlink" title="1.5.1.3 继承"></a>1.5.1.3 继承</h4><p>​继承就是子类继承父类的特征和行为，使得子类对象（实例）具有父类的实例域和方法，或子类从父类继承方法，使得子类具有父类相同的行为。</p><ul><li>子类拥有父类非 private 的属性、方法。</li><li>子类可以拥有自己的属性和方法，即子类可以对父类进行扩展。</li><li>子类可以用自己的方式实现父类的方法。</li><li>Java 的继承是单继承，但是可以多重继承，单继承就是一个子类只能继承一个父类，多重继承就是，例如 B 类继承 A 类，C 类继承 B 类，所以按照关系就是 B 类是 C 类的父类，A 类是 B 类的父类，这是 Java 继承区别于 C++ 继承的一个特性。</li><li>提高了类之间的耦合性（继承的缺点，耦合度高就会造成代码之间的联系越紧密，代码独立性越差）。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class 父类 &#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">class 子类 extends 父类 &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-4-多态"><a href="#1-5-1-4-多态" class="headerlink" title="1.5.1.4 多态"></a>1.5.1.4 多态</h4><p>​多态是同一个行为具有多个不同表现形式或形态的能力。</p><p>​优点</p><ul><li>消除类型之间的耦合关系</li><li>可替换性</li><li>可扩充性</li><li>接口性</li><li>灵活性</li><li>简化性</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test12</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    p.drink();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;water&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;tea&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>要有重写</li><li>有继承</li><li>父类引用指向子类对象</li></ol><h4 id="1-5-1-5构造方法"><a href="#1-5-1-5构造方法" class="headerlink" title="1.5.1.5构造方法"></a>1.5.1.5构造方法</h4><p>​构造方法包含初始化类的成员变量的代码，当类的对象在创建时，它自动执行，不管谁创建类对象，构造方法被激活，成员变量被初始化。</p><p>​特征：</p><ul><li><p>它具有与类相同的名称</p></li><li><p>不能有返回值，写上void就是普通方法</p></li><li><p>它不能在用return语句返回一个值</p></li><li><p>构造方法必须与类名一致        </p><p>  public class Employee {<br>  String EmployeeName;   &#x2F;&#x2F;姓名<br>  int EmployeeNo&#x3D;45;        &#x2F;&#x2F;编号<br>  double Salary;          &#x2F;&#x2F;薪水<br>  public Employee(){<br><br><br>  }</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">调用：</span><br><span class="line">普通方法有static：类名.方法名(实参);</span><br><span class="line">    普通方法没有static：引用.方法名（实参）;</span><br><span class="line">构造方法：在创建对象的时候被调用：new 构造方法（实参）</span><br></pre></td></tr></table></figure><h4 id="1-5-1-6-访问说明符和修饰符"><a href="#1-5-1-6-访问说明符和修饰符" class="headerlink" title="1.5.1.6  访问说明符和修饰符"></a>1.5.1.6  访问说明符和修饰符</h4><table><thead><tr><th align="left">修饰符</th><th align="left">当前类</th><th align="left">同一包内</th><th align="left">子孙类(同一包)</th><th align="left">子孙类(不同包)</th><th align="left">其他包</th></tr></thead><tbody><tr><td align="left"><code>public</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td></tr><tr><td align="left"><code>protected</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y&#x2F;N</td><td align="left">N</td></tr><tr><td align="left"><code>default</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">N</td><td align="left">N</td></tr><tr><td align="left"><code>private</code></td><td align="left">Y</td><td align="left">N</td><td align="left">N</td><td align="left">N</td><td align="left">N</td></tr></tbody></table><h5 id="1-final-修饰符："><a href="#1-final-修饰符：" class="headerlink" title="1.final 修饰符："></a>1.final 修饰符：</h5><ul><li>一个final 不能被继承</li><li>一个final 不能被子类重载</li><li>final 成员变量不能在被初始化后被改变</li><li>在final类里面所有的成员变量和方法都是final类型</li></ul><h5 id="2-abstract修饰符"><a href="#2-abstract修饰符" class="headerlink" title="2.abstract修饰符"></a>2.abstract修饰符</h5><ul><li>类中包含一个明确声明的抽象方法</li><li>类中的任何一个父类包含一个没有实现的抽象方法</li><li>抽象类必须有子类</li></ul><h4 id="1-5-1-7方法的重载"><a href="#1-5-1-7方法的重载" class="headerlink" title="1.5.1.7方法的重载"></a>1.5.1.7方法的重载</h4><ul><li>方法名一样，形式参数不一样</li><li>方法的参数类型，参数个不一样</li><li>方法的返回类型可以不相同</li><li>方法的修饰符可以不相同</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span> &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> x+y;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> z)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x+y+z;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> name)</span>&#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-8this关键字"><a href="#1-5-1-8this关键字" class="headerlink" title="1.5.1.8this关键字"></a>1.5.1.8this关键字</h4><p><img src="https://s2.loli.net/2022/12/29/wkF5CU4zEJtOBNu.png" alt="image-20221130155516527"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    String EmployeeName;   <span class="comment">//姓名</span></span><br><span class="line">    <span class="type">int</span> EmployeeNo=<span class="number">45</span>;        <span class="comment">//编号</span></span><br><span class="line">    <span class="type">double</span> Salary;          <span class="comment">//薪水</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String employeeName, <span class="type">int</span> employeeNo, <span class="type">double</span> salary)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.EmployeeName=EmployeeName;</span><br><span class="line">        <span class="built_in">this</span>.EmployeeNo=EmployeeNo;</span><br><span class="line">        <span class="built_in">this</span>.Salary=Salary;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-9super关键字"><a href="#1-5-1-9super关键字" class="headerlink" title="1.5.1.9super关键字"></a>1.5.1.9super关键字</h4><p>使用super调用父类的方法和属性，super 可以理解为是指向自己超（父）类对象的一个指针，而这个超类指的是离自己最近的一个父类。</p><ol><li>父类开始找，父类没有才开始找子类</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    String name=<span class="string">&quot;hdjk&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ect</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;在吃饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>  String name=<span class="string">&quot;金中豪&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        String name=<span class="string">&quot;wang&quot;</span>;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line"></span><br><span class="line">        son.run();</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-0-toString方法"><a href="#1-5-2-0-toString方法" class="headerlink" title="1.5.2.0 toString方法"></a>1.5.2.0 toString方法</h4><p>​toString() 方法用于返回以一个字符串表示的 Number 对象值。</p><p>如果方法使用了原生的数据类型作为参数，返回原生数据类型的 String 对象值。如果方法有两个参数， 返回用第二个参数指定基数表示的第一个参数的字符串表示形式</p><h4 id="1-5-2-1-对象转型"><a href="#1-5-2-1-对象转型" class="headerlink" title="1.5.2.1 对象转型"></a>1.5.2.1 对象转型</h4><ul><li>向上转型：子类对象转为父类，向上转型不需要显示转化。Father father &#x3D;son  向上转型会丢失子类原来有的特性。</li><li>向下转型：父类对象转为子类，向下转型需要强制类型转换。Son son&#x3D;(son)Father</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Father s=<span class="keyword">new</span> <span class="title class_">Son</span>();  <span class="comment">//自动类型转换</span></span><br><span class="line">        s.ect();</span><br><span class="line">        <span class="comment">//强制类型转换</span></span><br><span class="line">        Father s2=<span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">        <span class="type">Son</span> <span class="variable">s3</span> <span class="operator">=</span> (Son) s2;</span><br><span class="line">        s3.pary();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-2-抽象类"><a href="#1-5-2-2-抽象类" class="headerlink" title="1.5.2.2 抽象类"></a>1.5.2.2 抽象类</h4><p>​用abstract关键字来修饰一个类时这个类就是抽象类。</p><ul><li>抽象类必须使用abstract关键字来修饰，抽象方法也必须用abstract来修饰。</li><li>抽象类不能被实例化，不能使用new关键字生成对象。</li><li>抽象方法只需声明，不需实现</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">gh</span> &#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">M1</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>类和类叫继承，类和接口之间叫实现。</li><li>继承使用extends 关键字。</li><li>实现用implements 关键字。</li><li>抽象使用abstract。</li><li>当一个非抽象类实现接口的话，必须将接口里面的抽象方法全部重写。</li><li>当一个非抽象类实现接口的时候必须将接口中所有方法加以实现。</li><li>一个类可以实现多个接口</li><li>extends和implements可以共存，extends在前，implements在后。</li><li>使用接口，写接口的时候，可以使用多态（父类引用指向子类对象）</li></ol><h4 id="1-5-2-3接口"><a href="#1-5-2-3接口" class="headerlink" title="1.5.2.3接口"></a>1.5.2.3接口</h4><p>​接口是一种特殊的抽象类，这种抽象类中只包含常量和方法的定义。</p><ul><li>接口是完成抽象的</li><li>接口支持多继承</li><li>接口中只包含部分内容，常量，抽象方法</li><li>接口中所有的元素都是public</li><li>接口中不能有方法体</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> interface 接口名&#123;</span><br><span class="line">    <span class="comment">//常量</span></span><br><span class="line">    <span class="comment">//方法声明</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class 类名 extends 基类 implements 接口 接口&#123;</span><br><span class="line"><span class="comment">//成员定义</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-4代码块"><a href="#1-5-2-4代码块" class="headerlink" title="1.5.2.4代码块"></a>1.5.2.4代码块</h4><p>​代码块又称初始化块，属于类中的成员，它讲的是逻辑代码块封装在方法体中通过{}包裹，代码块没有方法名，返回值，只有方法体，而且不通过对象和类进行调用，他会在类加载的时候调用，或创建对象的时候隐式调用。</p><ol><li>静态代码块</li></ol><p>一个类在加载的时候调用，做一些全局初始化的工作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​2.实例代码块</p><p>每次创建实例都会被调用一次</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ydl.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">block</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;nihao&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;buhap1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-4-静态方法和成员方法"><a href="#1-5-2-4-静态方法和成员方法" class="headerlink" title="1.5.2.4 静态方法和成员方法"></a>1.5.2.4 静态方法和成员方法</h4><p>​静态方法的调用无论在那都是类名.方法名</p><p>​静态方法中调用实例方法必须new一个对象。</p><h4 id="1-5-2-4-内部类"><a href="#1-5-2-4-内部类" class="headerlink" title="1.5.2.4 内部类"></a>1.5.2.4 内部类</h4><p>​内部类就是在类里面定义了一个类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.xml.soap.Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sperlinked</span> &#123;</span><br><span class="line">    Node head;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-5-Java-异常处理"><a href="#1-5-2-5-Java-异常处理" class="headerlink" title="1.5.2.5 Java 异常处理"></a>1.5.2.5 Java 异常处理</h4><p>​异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。</p><p>比如说，你的代码少了一个分号，那么运行出来结果是提示是错误 java.lang.Error；如果你用System.out.println(11&#x2F;0)，那么你是因为你用0做了除数，会抛出 java.lang.ArithmeticException 的异常。</p><p>异常发生的原因有很多，通常包含以下几大类：</p><ul><li>用户输入了非法数据。</li><li>要打开的文件不存在。</li><li>网络通信时连接中断，或者JVM内存溢出。</li></ul><p>这些异常有的是因为用户错误引起，有的是程序错误引起的，还有其它一些是因为物理错误引起的。-</p><p>要理解Java异常处理是如何工作的，你需要掌握以下三种类型的异常：</p><ul><li><strong>检查性异常：</strong>最具代表的检查性异常是用户错误或问题引起的异常，这是程序员无法预见的。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。</li><li><strong>运行时异常：</strong> 运行时异常是可能被程序员避免的异常。与检查性异常相反，运行时异常可以在编译时被忽略。</li><li><strong>错误：</strong> 错误不是异常，而是脱离程序员控制的问题。错误在代码中通常被忽略。例如，当栈溢出时，一个错误就发生了，它们在编译也检查不到的。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">捕获异常</span><br><span class="line">使用 <span class="keyword">try</span> 和 <span class="keyword">catch</span> 关键字可以捕获异常。<span class="keyword">try</span>/<span class="keyword">catch</span> 代码块放在异常可能发生的地方。</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">catch</span>代码块中的代码称为保护代码，使用 <span class="keyword">try</span>/<span class="keyword">catch</span> 的语法如下：</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">// 程序代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(ExceptionName e1)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">//Catch 块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-5throws-x2F-throw-关键字"><a href="#1-5-2-5throws-x2F-throw-关键字" class="headerlink" title="1.5.2.5throws&#x2F;throw 关键字"></a>1.5.2.5throws&#x2F;throw 关键字</h4><p>​如果一个方法没有捕获到一个检查性异常，那么该方法必须使用 throws 关键字来声明。throws 关键字放在方法签名的尾部。</p><p>也可以使用 throw 关键字抛出一个异常，无论它是新实例化的还是刚捕获到的。</p><p>下面方法的声明抛出一个 RemoteException 异常：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">className</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amount)</span> <span class="keyword">throws</span> RemoteException</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// Method implementation</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RemoteException</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//Remainder of class definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例如，下面的方法声明抛出 RemoteException 和 InsufficientFundsException：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">className</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">(<span class="type">double</span> amount)</span> <span class="keyword">throws</span> RemoteException,</span><br><span class="line">                              InsufficientFundsException</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="comment">// Method implementation</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//Remainder of class definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-1-集合"><a href="#1-5-2-1-集合" class="headerlink" title="1.5.2.1 集合"></a>1.5.2.1 集合</h4><p>​数组就是一个集合。其实集合就是一个容器。可以用来容纳其他类型的数据，集合是一个容器，是一个载体，可以一个容纳多个数据。</p><p>​集合不能直接存储基本数据类型，也不能直接存储Java对象，集合中存储的Java对象的内存地址，也可以说是引用。</p><ol><li>集合在Java中本身就是一个容器，是一个对象，也有内存地址。</li><li>集合在任何时候存储的都是一个引用。</li><li>Java中每一个不同集合，底层都会对应不同的数据结构，往不同的集合中存储元素等于将数据放入了数据结构当中。不同的数据结构数据的存储方式不同。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.Java基础语法</title>
      <link href="/posts/ea538f2a.html"/>
      <url>/posts/ea538f2a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-3-Java基础语法"><a href="#1-3-Java基础语法" class="headerlink" title="1.3 Java基础语法"></a>1.3 Java基础语法</h3><h4 id="1-1-基础数据类型"><a href="#1-1-基础数据类型" class="headerlink" title="1.1 基础数据类型"></a>1.1 基础数据类型</h4><ul><li>整型 int  byte short int long </li><li>浮点 类型float 单精度  double 双精度</li><li>char 字符型</li><li>布尔类型boolean</li></ul><h4 id="1-2-命名规范"><a href="#1-2-命名规范" class="headerlink" title="1.2 命名规范"></a>1.2 命名规范</h4><p>编写 Java 程序时，应注意以下几点：</p><ul><li><strong>大小写敏感</strong>：Java 是大小写敏感的，这就意味着标识符 Hello 与 hello 是不同的。</li><li><strong>类名</strong>：对于所有的类来说，类名的首字母应该大写。如果类名由若干单词组成，那么每个单词的首字母应该大写，例如 <strong>MyFirstJavaClass</strong> 。</li><li><strong>方法名</strong>：所有的方法名都应该以小写字母开头。如果方法名含有若干单词，则后面的每个单词首字母大写。</li><li><strong>源文件名</strong>：源文件名必须和类名相同。当保存文件的时候，你应该使用类名作为文件名保存（切记 Java 是大小写敏感的），文件名的后缀为 <strong>.java</strong>。（如果文件名和类名不相同则会导致编译错误）。</li></ul><h4 id="1-3Java-标识符"><a href="#1-3Java-标识符" class="headerlink" title="1.3Java 标识符"></a>1.3Java 标识符</h4><p>Java 所有的组成部分都需要名字。类名、变量名以及方法名都被称为标识符。</p><p>关于 Java 标识符，有以下几点需要注意：</p><ul><li>所有的标识符都应该以字母（A-Z 或者 a-z）,美元符（$）、或者下划线（_）开始</li><li>首字符之后可以是字母（A-Z 或者 a-z）,美元符（$）、下划线（_）或数字的任何字符组合</li><li>关键字不能用作标识符</li><li>标识符是大小写敏感的</li><li>合法标识符举例：age、$salary、_value、__1_value</li><li>非法标识符举例：123abc、-salary</li></ul><h4 id="1-4Java修饰符"><a href="#1-4Java修饰符" class="headerlink" title="1.4Java修饰符"></a>1.4Java修饰符</h4><ul><li>像其他语言一样，Java可以使用修饰符来修饰类中方法和属性。主要有两类修饰符：</li><li>访问控制修饰符 : default, public , protected, private</li><li>非访问控制修饰符 : final, abstract, static, synchronized</li></ul><h4 id="1-5Java-变量Java-中几种类型的变量"><a href="#1-5Java-变量Java-中几种类型的变量" class="headerlink" title="1.5Java 变量Java 中几种类型的变量"></a>1.5Java 变量Java 中几种类型的变量</h4><ul><li>局部变量</li><li>类变量（静态变量）</li><li>成员变量（非静态变量）</li></ul><h4 id="1-6-if-语句的语法如下："><a href="#1-6-if-语句的语法如下：" class="headerlink" title="1.6 if 语句的语法如下："></a>1.6 if 语句的语法如下：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔表达式)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">//如果布尔表达式为true将执行的语句</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">      <span class="keyword">if</span>( x &lt; <span class="number">20</span> )&#123;</span><br><span class="line">         System.out.print(<span class="string">&quot;这是 if 语句&quot;</span>);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          System.out.println(<span class="string">&quot;0000000&quot;</span>)      </span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-7switch语句"><a href="#1-7switch语句" class="headerlink" title="1.7switch语句"></a>1.7switch语句</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression)&#123;</span><br><span class="line">    <span class="keyword">case</span> value :语句  <span class="keyword">break</span>; <span class="comment">//可选</span></span><br><span class="line">    <span class="keyword">case</span> value :语句<span class="keyword">break</span>; <span class="comment">//可选</span></span><br><span class="line">    <span class="keyword">default</span> : <span class="comment">//可选</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">      <span class="comment">//char grade = args[0].charAt(0);</span></span><br><span class="line"></span><br><span class="line">      <span class="type">char</span> <span class="variable">grade</span> <span class="operator">=</span> <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">switch</span>(grade)</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;优秀&quot;</span>); </span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span> :</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;良好&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;及格&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;F&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;你需要再努力努力&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">default</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;未知等级&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(<span class="string">&quot;你的等级是 &quot;</span> + grade);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-8-while"><a href="#1-8-while" class="headerlink" title="1.8 while"></a>1.8 while</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( 布尔表达式 ) &#123;</span><br><span class="line">  <span class="comment">//循环内容</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">      <span class="keyword">while</span>( x &lt; <span class="number">20</span> ) &#123;</span><br><span class="line">         System.out.print(<span class="string">&quot;value of x : &quot;</span> + x );</span><br><span class="line">         x++;</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-9-for循环"><a href="#1-9-for循环" class="headerlink" title="1.9 for循环"></a>1.9 for循环</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">or(初始化; 布尔表达式; 更新) &#123;</span><br><span class="line">    <span class="comment">//代码语句</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-0-break-关键字"><a href="#2-0-break-关键字" class="headerlink" title="2.0 break 关键字"></a>2.0 break 关键字</h4><p>​break 主要用在循环语句或者 switch 语句中，用来跳出整个语句块。</p><p>break 跳出最里层的循环，并且继续执行该循环下面的语句</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> [] numbers = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> x : numbers ) &#123;</span><br><span class="line">         <span class="comment">// x 等于 30 时跳出循环</span></span><br><span class="line">         <span class="keyword">if</span>( x == <span class="number">30</span> ) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.print( x );</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-1-continue"><a href="#2-1-continue" class="headerlink" title="2.1 continue"></a>2.1 continue</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> [] numbers = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> x : numbers ) &#123;</span><br><span class="line">         <span class="keyword">if</span>( x == <span class="number">30</span> ) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.print( x );</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.Java简介</title>
      <link href="/posts/9c4b5cef.html"/>
      <url>/posts/9c4b5cef.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-Java-简介"><a href="#1-1-Java-简介" class="headerlink" title="1.1 Java 简介"></a>1.1 Java 简介</h3><p>Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由  James Gosling和同事们共同研发，并在 1995 年正式推出。</p><p>后来 Sun 公司被 Oracle （甲骨文）公司收购，Java 也随之成为 Oracle 公司的产品。</p><p>Java分为三个体系：</p><ul><li>JavaSE（J2SE）（Java2 Platform Standard Edition，java平台标准版）</li><li>JavaEE(J2EE)(Java 2 Platform,Enterprise Edition，java平台企业版)</li><li>JavaME(J2ME)(Java 2 Platform Micro Edition，java平台微型版)。</li></ul><h3 id="1-2主要特性"><a href="#1-2主要特性" class="headerlink" title="1.2主要特性"></a><strong>1.2主要特性</strong></h3><ul><li>Java 语言是简单的：</li></ul><p>Java 语言的语法与 C 语言和 C++ 语言很接近，使得大多数程序员很容易学习和使用。另一方面，Java 丢弃了 C++ 中很少使用的、很难理解的、令人迷惑的那些特性，如操作符重载、多继承、自动的强制类型转换。特别地，Java 语言不使用指针，而是引用。并提供了自动分配和回收内存空间，使得程序员不必为内存管理而担忧。</p><ul><li>Java 语言是面向对象的：</li></ul><p>Java 语言提供类、接口和继承等面向对象的特性，为了简单起见，只支持类之间的单继承，但支持接口之间的多继承，并支持类与接口之间的实现机制（关键字为 implements）。Java 语言全面支持动态绑定，而 C++语言只对虚函数使用动态绑定。总之，Java语言是一个纯的面向对象程序设计语言。</p><ul><li>Java语言是分布式的：</li></ul><p>Java 语言支持 Internet 应用的开发，在基本的 Java 应用编程接口中有一个网络应用编程接口（java net），它提供了用于网络应用编程的类库，包括 URL、URLConnection、Socket、ServerSocket 等。Java 的 RMI（远程方法激活）机制也是开发分布式应用的重要手段。</p><ul><li>Java 语言是健壮的：</li></ul><p>Java 的强类型机制、异常处理、垃圾的自动收集等是 Java 程序健壮性的重要保证。对指针的丢弃是 Java 的明智选择。Java 的安全检查机制使得 Java 更具健壮性。</p><ul><li>Java语言是安全的：</li></ul><p>Java通常被用在网络环境中，为此，Java 提供了一个安全机制以防恶意代码的攻击。除了Java 语言具有的许多安全特性以外，Java 对通过网络下载的类具有一个安全防范机制（类 ClassLoader），如分配不同的名字空间以防替代本地的同名类、字节代码检查，并提供安全管理机制（类 SecurityManager）让 Java 应用设置安全哨兵。</p><ul><li>Java 语言是体系结构中立的</li></ul><p>Java 程序（后缀为 java 的文件）在 Java 平台上被编译为体系结构中立的字节码格式（后缀为 class 的文件），然后可以在实现这个 Java 平台的任何系统中运行。这种途径适合于异构的网络环境和软件的分发。</p><ul><li>Java 语言是可移植的：</li></ul><p>这种可移植性来源于体系结构中立性，另外，Java 还严格规定了各个基本数据类型的长度。Java  系统本身也具有很强的可移植性，Java 编译器是用 Java 实现的，Java 的运行环境是用 ANSI C 实现的。</p><ul><li>Java 语言是解释型的：</li></ul><p>如前所述，Java 程序在 Java 平台上被编译为字节码格式，然后可以在实现这个 Java 平台的任何系统中运行。在运行时，Java 平台中的 Java 解释器对这些字节码进行解释执行，执行过程中需要的类在联接阶段被载入到运行环境中。</p><ul><li>Java 是高性能的：</li></ul><p>与那些解释型的高级脚本语言相比，Java 的确是高性能的。事实上，Java 的运行速度随着 JIT(Just-In-Time）编译器技术的发展越来越接近于 C++。</p><ul><li>Java 语言是多线程的：</li></ul><p>在 Java 语言中，线程是一种特殊的对象，它必须由 Thread 类或其子（孙）类来创建。通常有两种方法来创建线程：其一，使用型构为 Thread(Runnable) 的构造子类将一个实现了 Runnable 接口的对象包装成一个线程，其二，从 Thread 类派生出子类并重写 run 方法，使用该子类创建的对象即为线程。值得注意的是 Thread 类已经实现了 Runnable 接口，因此，任何一个线程均有它的 run 方法，而 run 方法中包含了线程所要运行的代码。线程的活动由一组方法来控制。Java 语言支持多个线程的同时执行，并提供多线程之间的同步机制（关键字为 synchronized）。</p><ul><li>Java 语言是动态的：</li></ul><p>Java 语言的设计目标之一是适应于动态变化的环境。Java 程序需要的类能够动态地被载入到运行环境，也可以通过网络来载入所需要的类。这也有利于软件的升级。另外，Java 中的类有一个运行时刻的表示，能进行运行时刻的类型检查。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.jdk安装教程</title>
      <link href="/posts/312ccbd4.html"/>
      <url>/posts/312ccbd4.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="JDK的安装"><a href="#JDK的安装" class="headerlink" title="JDK的安装"></a>JDK的安装</h3><ol><li>双击运行安装包</li></ol><p><img src="https://s2.loli.net/2023/01/22/in6mfaRuhPVoyTO.png" alt="image-20230122145808954"></p><ol start="2"><li>修改JDK安装目录</li></ol><p><img src="https://s2.loli.net/2023/01/22/tSH2Rmnps1CKxdA.png" alt="image-20230122145847137"></p><p>3.根据提示安装完成，这就完成jdk安装了，可以直接点关闭了。</p><p><img src="https://s2.loli.net/2023/01/22/WRHO1lANVSJfP4Q.png" alt="image-20230122145928487"></p><h3 id="JDK的环境配置"><a href="#JDK的环境配置" class="headerlink" title="JDK的环境配置"></a>JDK的环境配置</h3><p>4.“我的电脑”右键→属性→高级系统设置→环境变量</p><p><img src="https://s2.loli.net/2023/01/22/8IOwYbhc3PlMJ5D.png" alt="image-20230122150031496"></p><p><img src="https://s2.loli.net/2023/01/22/nI5Pp4OgYTjtiAH.png" alt="image-20230122150045537"></p><p><img src="https://s2.loli.net/2023/01/22/1ZuSLvBIWoGDxsi.png" alt="image-20230122150100978"></p><p>5.点击“新建”，新建系统变量JAVA_HOME，值为JDK安装根目录，安装目录是bin目录</p><p><img src="D:\学习笔记\图片\image-20230122150145610.png" alt="image-20230122150145610"></p><p><img src="https://s2.loli.net/2023/01/22/Q8EXyZHb7lSMGd6.png" alt="image-20230122150153933"></p><ol start="6"><li>复制刚才安装jdk的路径，bin目录下面是可执行环境</li></ol><p><img src="https://s2.loli.net/2023/01/22/daMTNluJcqKzCEv.png" alt="image-20230122150336223"></p><ol start="7"><li><p>安装好了之后点击保存即可</p></li><li><p>同时按住win + R，输入cmd，回车，进入命令提示符窗口</p></li></ol><p><img src="https://s2.loli.net/2023/01/22/IQ6dzf5qwbetZGA.png" alt="image-20230122150440646"></p><ol start="9"><li><img src="https://s2.loli.net/2023/01/22/NsiO27tyVWEnv3c.png" alt="image-20230122150500056"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jdk安装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.docker基础</title>
      <link href="/posts/5ae6092.html"/>
      <url>/posts/5ae6092.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-docker服务相关命令"><a href="#1-1-docker服务相关命令" class="headerlink" title="1.1 docker服务相关命令"></a>1.1 docker服务相关命令</h3><p>启动docker</p><ul><li>启动docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker  //启动docker</span><br></pre></td></tr></table></figure><ul><li>查看服务状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker   //查看服务状态</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/wYeCE19bdzgQDNI.png" alt="image-20230107125643054"></p><ul><li>停止服务</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker //停止服务</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/fnANZCYWFjXtdus.png" alt="image-20230107125809665"></p><ul><li>重启docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker   //重启docker</span><br></pre></td></tr></table></figure><ul><li>开机启动</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker  //开机自启</span><br></pre></td></tr></table></figure><h2 id="1-2-docker-镜像相关命令"><a href="#1-2-docker-镜像相关命令" class="headerlink" title="1.2 docker 镜像相关命令"></a>1.2 docker 镜像相关命令</h2><ul><li>查看命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><ul><li>搜索镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search redist</span><br></pre></td></tr></table></figure><ul><li>下载镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis  </span><br><span class="line">docker pull redis:5.0 //指定下载</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>docker 官网</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://hub.docker.com</span><br></pre></td></tr></table></figure><ul><li>删除镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rmi  c5da061a611a  //加上id</span><br><span class="line">docker rmi  名字：版本号 </span><br></pre></td></tr></table></figure><h3 id="1-3-容器相关命令"><a href="#1-3-容器相关命令" class="headerlink" title="1.3 容器相关命令"></a>1.3 容器相关命令</h3><ul><li>创建容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> docker run -it --name=cl centos  /bin/bash</span><br><span class="line">--name=名字  centos 镜像   使用it来创建容器一退出就关闭了</span><br><span class="line">//第二种方式</span><br><span class="line"> docker run -id --name=cll centos</span><br><span class="line"> -id 创建之后不会进入容器，在后台运行</span><br></pre></td></tr></table></figure><ul><li>查看正在运行的容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps    //查看正在运行的容器</span><br><span class="line"> docker ps -a //查看所有容器</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/bqGJckvex7RDy9M.png" alt="image-20230107130500835"></p><ul><li>进入容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it cll /bin/bash</span><br></pre></td></tr></table></figure><ul><li>停止容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop 容器名称 </span><br></pre></td></tr></table></figure><ul><li>启动容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器名称</span><br></pre></td></tr></table></figure><ul><li>删除容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm 容器名称</span><br></pre></td></tr></table></figure><ul><li>查看容器信息</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect 容器名称</span><br></pre></td></tr></table></figure><h3 id="1-4-docker的数据卷"><a href="#1-4-docker的数据卷" class="headerlink" title="1.4 docker的数据卷"></a>1.4 docker的数据卷</h3><h4 id="1-4-1数据卷"><a href="#1-4-1数据卷" class="headerlink" title="1.4.1数据卷"></a>1.4.1数据卷</h4><ul><li>数据卷是宿主机的一个目录或文件</li><li>当容器目录和数据卷目录绑定后，双方的修改会立即同步</li><li>一个数据卷可以被多个容器同时挂载</li><li>一个容器也可以挂载多个数据卷</li></ul><p><img src="https://s2.loli.net/2023/01/07/n4opJqj2mZLcVEr.png" alt="image-20230107130856496"></p><h4 id="1-4-2-配置数据卷"><a href="#1-4-2-配置数据卷" class="headerlink" title="1.4.2 配置数据卷"></a>1.4.2 配置数据卷</h4><p><img src="https://s2.loli.net/2023/01/07/nhiLFR36IH2yPaw.png" alt="image-20230107131056438"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=centos -v /root/data:/root/data_container centos /bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-5-配置数据卷"><a href="#1-5-配置数据卷" class="headerlink" title="1.5 配置数据卷"></a>1.5 配置数据卷</h3><h4 id="1-5-1-数据卷容器"><a href="#1-5-1-数据卷容器" class="headerlink" title="1.5.1 数据卷容器"></a>1.5.1 数据卷容器</h4><p><img src="https://s2.loli.net/2023/01/07/ZQEopgIb1hVBDvl.png" alt="image-20230107131227158"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=c3 --volumes-from c2 centos</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/gmnTC7d41brvjPi.png" alt="image-20230107131254966"></p><h3 id="1-6-docker应用部署"><a href="#1-6-docker应用部署" class="headerlink" title="1.6 docker应用部署"></a>1.6 docker应用部署</h3><h4 id="1-6-1-mysql部署"><a href="#1-6-1-mysql部署" class="headerlink" title="1.6.1 mysql部署"></a>1.6.1 mysql部署</h4><p><img src="https://s2.loli.net/2023/01/07/bqvGSO32Fgef8Ct.png" alt="image-20230107131350040"></p><ul><li>搜索MySQL镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure><ul><li>拉取镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker  pull mysql:5.7</span><br></pre></td></tr></table></figure><ul><li>创建容器</li></ul><p><img src="https://s2.loli.net/2023/01/07/kKwCYQjocNn83bT.png" alt="image-20230107131534454"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-20-13-centos mysql]# docker run -id -p 3306:3306 --name=c_mysql \</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">-v <span class="variable">$PWD</span>/conf:/etc/mysql/conf.d \</span></span><br><span class="line"><span class="language-bash">&gt; -v  <span class="variable">$PWD</span>/logs:/logs \</span></span><br><span class="line"><span class="language-bash">&gt; -v <span class="variable">$PWD</span>/dat:/var/lib/mysql \</span></span><br><span class="line"><span class="language-bash">&gt; -e MYSQL_ROOT_PASSWORD=123456 \</span></span><br><span class="line"><span class="language-bash">&gt; mysql:5.7</span></span><br><span class="line">2d4e596da3f959a75a50488ef8057fc9ebfaa37f5d2197616358ebd66aac804f</span><br><span class="line">[root@VM-20-13-centos mysql]# docker  exec -it c_mysql /bin/bash</span><br><span class="line">root@2d4e596da3f9:/# </span><br></pre></td></tr></table></figure><ul><li>操作容器中的mysql</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">root@2d4e596da3f9:/# mysql -uroot -p       </span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.36 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line">root@2d4e596da3f9:/# </span><br><span class="line">root@2d4e596da3f9:/# </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run -it -d</span><br><span class="line"> --name nginx</span><br><span class="line">-v ~/software/nginx/:/etc/nginx/</span><br><span class="line">-v ~/software/nginx/logs:/var/log/nginx/ </span><br><span class="line">-v ~/software/nginx/www/:/usr/share/nginx/html/ -p 80:80 </span><br><span class="line">nginx</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算,docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.docker的安装</title>
      <link href="/posts/c696c8e1.html"/>
      <url>/posts/c696c8e1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="docker安装教程"><a href="#docker安装教程" class="headerlink" title="docker安装教程"></a>docker安装教程</h3><ul><li>第一步：安装一组工具</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils</span><br></pre></td></tr></table></figure><ul><li>第二步设置yum仓库地址</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/dockerce.reposudo yum-config-manager --add-repo</span><br><span class="line"> http://mirrors.aliyun.com/dockerce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><ul><li>第三步 更新yum缓存</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum makecache fast #yum 是包管理器</span><br></pre></td></tr></table></figure><ul><li>第四步 安装新版docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><ul><li>第5步 安装完成检测安装状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指令：</span><br><span class="line">docker info</span><br><span class="line">// 查看版本</span><br><span class="line">docker -v</span><br></pre></td></tr></table></figure><ul><li>第6步镜像加速</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//加速地址</span><br><span class="line">https://ol7717dv.mirror.aliyuncs.com</span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://ol7717dv.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/yfw7vDAOUFiGruP.png" alt="image-20230107164859228"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算,docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.多表关系</title>
      <link href="/posts/f1b10c2a.html"/>
      <url>/posts/f1b10c2a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="4-1-多表关系介绍"><a href="#4-1-多表关系介绍" class="headerlink" title="4-1 多表关系介绍"></a>4-1 多表关系介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 为什么有多表关系(把数据存在一张表的弊端)</span><br><span class="line">1. 组织结构不清晰</span><br><span class="line">2. 浪费硬盘空间</span><br><span class="line">3. 扩展性差</span><br><span class="line">-- 什么是多表关系</span><br><span class="line">把不同的数据存放在不同的表中时，需要将这些表通过某种方式建立关联，关联建好之后，这些表之间就存在关系了，在MySQL中表与表之间的关系是通过外键来建立的，表与表之间的关系共有三种，分别是一对一、一对多和多对多。</span><br><span class="line">-- 如何使用多表关系</span><br><span class="line">请大家看后续的笔记哦😊</span><br></pre></td></tr></table></figure><h1 id="4-2-如何确定表关系"><a href="#4-2-如何确定表关系" class="headerlink" title="4-2 如何确定表关系"></a>4-2 如何确定表关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 如何确定表和表之间的关系</span><br><span class="line">换位思考</span><br><span class="line">-- 案例</span><br><span class="line"> 图书 作者 出版社 作者信息 ？ 它们之间的关系是什么</span><br><span class="line">图书和出版社之间的关系：</span><br><span class="line">站在图书的角度，一本书只能由授权一个出版社出版，</span><br><span class="line">一个出版社可以出版多本书籍，</span><br><span class="line">所以图书和出版社是一对多的关系</span><br><span class="line">作者和作者信息之间的关系：</span><br><span class="line">站在作者的角度，一个作者只能有一个作者信息，</span><br><span class="line">一个作者信息只能对应一个作者，</span><br><span class="line">作者和作者信息是一对一的关系</span><br><span class="line">图书和作者之间的关系：</span><br><span class="line">站在图书的角度，一本书的作者可以有多个也可以有一个，</span><br><span class="line">站在作者的角度，一个作者可以写多本书</span><br><span class="line">所以图书和作者之间的关系就是多对多的关系</span><br><span class="line">    图书和作者信息：没有直接关系，需要通过作者对这两个表进行关联</span><br></pre></td></tr></table></figure><h1 id="4-3-创建多表关系-一对一关系"><a href="#4-3-创建多表关系-一对一关系" class="headerlink" title="4-3 创建多表关系 - 一对一关系"></a>4-3 创建多表关系 - 一对一关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-- foreign key</span><br><span class="line">在MySQL中表与表之间的关系是通过外键(foreign key)来建立的，外键也是属于约束条件的一种，外键就是将表和表之间的数据进行一个硬绑定。</span><br><span class="line"></span><br><span class="line">-- 如何建立表关系</span><br><span class="line">在建立表关系时，表和表之间的关联通常以主键id作为关联字段。</span><br><span class="line"></span><br><span class="line">-- 什么时候需要用到一对一的关系？</span><br><span class="line">如果一张表的字段特别多，每次查询数据时又不是所有的字段都能用的到，我们就可以将表一分为二，比如说用户信息表，用户的信息包括用户名 密码 用户的年龄 用户的性别 地址 电话等等，可能经常用的只有用户的用户名和密码，这种情况我们就可以将一张用户信息表拆分成用户基本信息表和用户详细信息表，同样判断这两张表的关系还是通过换位思考：</span><br><span class="line">首先看用户基本信息表：一个用户能否有多个详细信息？答案是不可以；</span><br><span class="line">    再看用户详情表：一个用户详情能否属于多个用户？答案是不可以;</span><br><span class="line">    单向的一对多都不成立，那么两者之间的表关系就是一对一或者没有关系。</span><br><span class="line">-- 使用SQL语句建立一对一的外键关系时需要遵循的规则</span><br><span class="line">外键建在任意一张表中都可以都可以，但是推荐将外键建在查询频率较高的表中，在创建表的时候需要先创建被关联表。</span><br><span class="line">在写入数据的时候需要先向被关联表中写入数据</span><br><span class="line">当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">-- 创建用户详情表</span><br><span class="line">create table authordetail(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">phone int,</span><br><span class="line">addr varchar(64)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 用户基本信息表</span><br><span class="line">create table author(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">    name varchar(32),</span><br><span class="line">    age int,</span><br><span class="line">    authordetail_id int,</span><br><span class="line">    foreign key(authordetail_id) references authordetail(id)  -- authordetail_id外键字段，authordetail(id)被关联字段</span><br><span class="line">    on update cascade  -- 级联更新</span><br><span class="line">    on delete cascade  -- 级联删除</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="4-4-创建多表关系-一对多"><a href="#4-4-创建多表关系-一对多" class="headerlink" title="4-4 创建多表关系 - 一对多"></a>4-4 创建多表关系 - 一对多</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">-- 在MySQL的关系在没有多对一的概念，一对多和多对一都是一对多以部门和员工关系为例：</span><br><span class="line">-- 分析员工和部门表的表关系</span><br><span class="line">员工可以属于多个部门吗？答案：不能</span><br><span class="line">一个部门可以有多个员工吗？ 答案：可以</span><br><span class="line">员工对部门表就是一对多的关系</span><br><span class="line">-- 在创建一对多表关系时需要遵循以下几点</span><br><span class="line">    第一，外键字段建立在多的一方，即员工表</span><br><span class="line">    第二，在创建表的时候，一定要先创建被关联一方，即部门表</span><br><span class="line">    第三，在录入数据的时候也必须先录入被关联表的数据，即部门表的数据</span><br><span class="line">    第四，当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line">    </span><br><span class="line">-- 创建表</span><br><span class="line">-- 创建被关联表，部门表</span><br><span class="line">mysql&gt; create table bm(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    bm_name varchar(10), </span><br><span class="line">    bm_desc char(64)</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">-- 创建外键所在的表，员工表</span><br><span class="line">mysql&gt; create table yg(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    yg_name varchar(6), </span><br><span class="line">    bm_id int, </span><br><span class="line">    foreign key(bm_id) references bm(id)  -- 表示bm_id是外键字段，关联到bm表中的id字段</span><br><span class="line">    on update cascade  # 级联更新</span><br><span class="line">    on delete cascade  # 级联删除</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.10 sec)</span><br></pre></td></tr></table></figure><h1 id="4-5-创建多表关系-多对多"><a href="#4-5-创建多表关系-多对多" class="headerlink" title="4-5 创建多表关系 - 多对多"></a>4-5 创建多表关系 - 多对多</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-- 分析作者和图书之间的关系</span><br><span class="line">    站在图书的角度，一本书的作者可以有多个也可以有一个，</span><br><span class="line">    站在作者的角度，一个作者可以写多本书</span><br><span class="line">    所以图书和作者之间的关系就是多对多的关系</span><br><span class="line">-- 多对多关系创建需要注意的点</span><br><span class="line">多对多的关系就是双向的一对多，多对多关系中的表每个表都会有外键，就会导致如果只创建两张表，是不可能创建成功的，因此在创建多对多关系的表时，需要创建第三张表，这第三张表用来专门存储多对多关系的两张表的关联。</span><br><span class="line">在第三章表中存储表关系</span><br><span class="line">-- 创建书籍表</span><br><span class="line">mysql&gt; create table book(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    name varchar(10), </span><br><span class="line">    price int</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">-- 创建作者表</span><br><span class="line">mysql&gt; create table author(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    name varchar(6), </span><br><span class="line">    age int</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 创建第三章表，存储book和author表的关联关系</span><br><span class="line">mysql&gt; create table book2author(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    author_id int, </span><br><span class="line">    book_id int, </span><br><span class="line">    foreign key(author_id) references author(id) </span><br><span class="line">    on update cascade </span><br><span class="line">    on delete cascade, </span><br><span class="line">    foreign key(book_id) references book(id) </span><br><span class="line">    on update cascade </span><br><span class="line">    on delete cascade);</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4-6-创建多表关系总结"><a href="#4-6-创建多表关系总结" class="headerlink" title="4-6 创建多表关系总结"></a>4-6 创建多表关系总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 为什么有多表关系(把数据存在一张表的弊端)</span><br><span class="line">1. 组织结构不清晰</span><br><span class="line">2. 浪费硬盘空间</span><br><span class="line">3. 扩展性差</span><br><span class="line">-- 如何判断和建立表与表之间的关系</span><br><span class="line">换位思考确定表与表之间的关系，表与表之间的关系有一对一 一对多 多对多</span><br><span class="line">在MySQL中表与表之间的关系是通过外键(foreign key)来建立的，外键也是属于约束条件的一种，外键就是将表和表之间的数据进行一个硬绑定。</span><br><span class="line">在建立表关系时，表和表之间的关联通常以主键id作为关联字段。</span><br><span class="line">当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line">-- 表与表之间的关系有哪些</span><br><span class="line">一对一：外键建在查询频率高的一方，需要先创建被关联的表，添加数据时也是先添加被关联表的数据</span><br><span class="line">一对多：外键建在多的一方，需要先创建被关联的表，添加数据时也是先添加被关联表的数据</span><br><span class="line">多对多：需要创建第三张表去存储多对多关系的表的外键关联</span><br></pre></td></tr></table></figure><h1 id="4-7-多表查询和笛卡尔乘积"><a href="#4-7-多表查询和笛卡尔乘积" class="headerlink" title="4-7 多表查询和笛卡尔乘积"></a>4-7 多表查询和笛卡尔乘积</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 什么是多表查询</span><br><span class="line">需要的数据来自于多张表，单表无法满足，实际上是将多张表有关联的数据合并成一张新表，在新表中做where group by/ having / limit / order by等子句等操作</span><br><span class="line"></span><br><span class="line">-- 多表查询的类型：连表查询和子查询</span><br><span class="line">连表查询</span><br><span class="line">        笛卡尔乘积join</span><br><span class="line">        内连接inner join</span><br><span class="line">        外连接left join/right join</span><br><span class="line">子查询</span><br><span class="line"></span><br><span class="line">-- 笛卡尔乘积join(join可以省略)</span><br><span class="line">select 表名.字段 from 表1 join 表2;</span><br><span class="line">将两张表中所有的数据进行一一对应然后生成一张大表，通常不建议使用使用笛卡尔乘积</span><br><span class="line">SELECT * from author join authordetail;  -- 两个表进行‘x’的操作得到一张大表</span><br><span class="line"></span><br><span class="line">SELECT * FROM author, authordetail WHERE author.authordetail_id = authordetail.id;  -- 找到两个表之间的对应关系</span><br><span class="line"></span><br><span class="line">-- 查询作者小明的电话号码</span><br><span class="line">SELECT author.name, authordetail.phone FROM author, authordetail </span><br><span class="line">    WHERE author.authordetail_id = authordetail.id AND author.NAME = &#x27;小明&#x27;;</span><br><span class="line"></span><br><span class="line">-- 查询电话号码是119的作者名字</span><br><span class="line">SELECT author.NAME, authordetail.phone FROM author JOIN authordetail </span><br><span class="line">WHERE author.authordetail_id = authordetail.id AND authordetail.phone = &#x27;119&#x27;;</span><br></pre></td></tr></table></figure><h1 id="4-8-多表查询-内连接"><a href="#4-8-多表查询-内连接" class="headerlink" title="4-8 多表查询 - 内连接"></a>4-8 多表查询 - 内连接</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- inner join: 应用最广泛，取两张表有关联部分的数据</span><br><span class="line">select 表名.字段 from 表1 inner join 表2 on 表1.表1外键字段=表2.id；</span><br><span class="line"></span><br><span class="line">-- 连表查询两张表有关的数据</span><br><span class="line">SELECT * FROM author INNER JOIN authordetail ON author.authordetail_id = authordetail.id;</span><br><span class="line"></span><br><span class="line">-- 连表之后进行其他操作</span><br><span class="line">-- 电话号码是119的作者名称和地址</span><br><span class="line">SELECT author.name, authordetail.addr </span><br><span class="line">FROM author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">WHERE authordetail.phone=&#x27;119&#x27;;</span><br><span class="line">-- 查看每个城市作者的数量以及作者的姓名</span><br><span class="line">SELECT</span><br><span class="line">authordetail.addr AS &#x27;城市&#x27;,</span><br><span class="line">GROUP_CONCAT( author.NAME ) AS &#x27;作者姓名&#x27; </span><br><span class="line">FROM</span><br><span class="line">author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">GROUP BY authordetail.addr;</span><br><span class="line"></span><br><span class="line">-- 将查询作者的姓名、年龄、地址并且按照作者的年龄从大到小进行排序</span><br><span class="line">SELECT</span><br><span class="line">author.NAME,</span><br><span class="line">authordetail.age,</span><br><span class="line">authordetail.addr </span><br><span class="line">FROM</span><br><span class="line">author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">ORDER BY</span><br><span class="line">authordetail.age DESC;</span><br></pre></td></tr></table></figure><h1 id="4-9-多表查询-外连接"><a href="#4-9-多表查询-外连接" class="headerlink" title="4-9 多表查询 - 外连接"></a>4-9 多表查询 - 外连接</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 外连接有两种分别是left join和right join</span><br><span class="line">-- left join：left join左边的表是主表，数据全部显示，left join右边的表是辅表,如果辅表的数据比主表中的数据多多的数据不会显示，如果少的话就使用null补全。right join和left join相反，通常使用left join的场景较多。</span><br><span class="line">SELECT * FROM bm LEFT JOIN yg ON bm.id = yg.bm_id;</span><br><span class="line"></span><br><span class="line">-- 表1 join 表2 on 关联条件 的原理：驱动表</span><br><span class="line">拿到其中一张表作为驱动表，使用关联条件(on之后的条件)去和另外一张表进行比对，如果符合就将这两张表的数据进行拼接。当两张表的行数差异较大时，将小表（查询得到的结果更少的结果集）作为驱动表，可以优化查询降低数据比对的次数，对于内连接来说，无法控制驱动表是谁，完全由优化器决定，如果需要人为干预驱动表，可以通过外连接实现。</span><br><span class="line">left join中驱动表就是左表，right join中驱动表就是右表</span><br></pre></td></tr></table></figure><h1 id="4-10-多表查询-子查询"><a href="#4-10-多表查询-子查询" class="headerlink" title="4-10 多表查询 - 子查询"></a>4-10 多表查询 - 子查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-- 子查询指一个查询语句嵌套在另一个查询语句内部的查询，在 SELECT 子句中先进行子查询，子查询结果作为外层另一个查询的过滤条件，查询可以基于一个表或者多个表</span><br><span class="line"></span><br><span class="line">-- 每个部门员工的人数</span><br><span class="line">SELECT (SELECT bm_name from bm WHERE id=bm_id) as &#x27;部门名称&#x27;, COUNT(id) from yg GROUP BY bm_id;</span><br><span class="line"></span><br><span class="line">-- 思路</span><br><span class="line">1. 首先先按照bm_id进行分组</span><br><span class="line">select bm_id, count(id) from yg group by bm_id;</span><br><span class="line"></span><br><span class="line">2. 通过子查询将select之后的bm_id替换成部门名称</span><br><span class="line">SELECT (SELECT bm_name from bm WHERE id=bm_id) as &#x27;部门名称&#x27;, COUNT(id) from yg GROUP BY bm_id;</span><br><span class="line"></span><br><span class="line">-- 查询小雨所在部门的部门信息和该部门的所有员工姓名</span><br><span class="line">SELECT id, bm_name, bm_desc, (select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=id) as &#x27;部门员工&#x27; from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;);</span><br><span class="line">-- 思路</span><br><span class="line">1. 查询小雨所在的部门id</span><br><span class="line">SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;;</span><br><span class="line"></span><br><span class="line">2. 根据上一条得到的id去bm表中查询部门信息</span><br><span class="line">SELECT id, bm_name, bm_desc from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;); </span><br><span class="line"></span><br><span class="line">3. 根据部门id进行分组，得到不同部门的员工的名字(列转行)，再进行筛选，筛选出部门是第一条的到部门id的数据</span><br><span class="line">select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=第一条查询所得到的id;</span><br><span class="line"></span><br><span class="line">4. 将上述查询组合一下</span><br><span class="line">SELECT id, bm_name, bm_desc, (select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=id) as &#x27;部门员工&#x27; from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;);</span><br></pre></td></tr></table></figure><h1 id="4-11-多表查询总结"><a href="#4-11-多表查询总结" class="headerlink" title="4-11 多表查询总结"></a>4-11 多表查询总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 什么是多表查询</span><br><span class="line">需要的数据来自于多张表，单表无法满足，实际上是将多张表有关联的数据合并成一张新表，在新表中做where group by/ having / limit / order by等子句等操作</span><br><span class="line"></span><br><span class="line">-- 多表查询的类型：连表查询和子查询</span><br><span class="line">多表查询</span><br><span class="line">        笛卡尔乘积join</span><br><span class="line">        内连接inner join</span><br><span class="line">        外连接left join/right join</span><br><span class="line">子查询</span><br><span class="line"></span><br><span class="line">-- 笛卡尔乘积join(join可以省略)</span><br><span class="line">select 表名.字段 from 表1 join 表2;</span><br><span class="line">将两张表中所有的数据进行一一对应然后生成一张大表，通常不建议使用使用笛卡尔乘积</span><br><span class="line"></span><br><span class="line">-- inner join: 应用最广泛，取两张表有关联部分的数据</span><br><span class="line">select 表名.字段 from 表1 inner join 表2 on 表1.表1外键字段=表2.id；</span><br><span class="line"></span><br><span class="line">-- 外连接有两种分别是left join和right join</span><br><span class="line">    -- left join：left join左边的表是主表，数据全部显示，left join右边的表是辅表,如果辅表的数据比主表中的数据多多的数据不会显示，如果少的话就使用null补全。right join和left join相反，通常使用left join的场景较多。</span><br><span class="line">    -- 表1 join 表2 on 关联条件 的原理：驱动表</span><br><span class="line">    拿到其中一张表作为驱动表，使用关联条件(on之后的条件)去和另外一张表进行比对，如果符合就将这两张表的数据进行拼接。当两张表的行数差异较大时，将小表（查询得到的结果更少的结果集）作为驱动表，可以优化查询降低数据比对的次数，对于内连接来说，无法控制驱动表是谁，完全由优化器决定，如果需要人为干预驱动表，可以通过外连接实现。</span><br><span class="line">    left join中驱动表就是左表，right join中驱动表就是右表</span><br><span class="line">    </span><br><span class="line">-- 子查询指一个查询语句嵌套在另一个查询语句内部的查询，在 SELECT 子句中先进行子查询，子查询结果作为外层另一个查询的过滤条件，查询可以基于一个表或者多个表</span><br></pre></td></tr></table></figure><h1 id="4-12-多表关系-增删改操作"><a href="#4-12-多表关系-增删改操作" class="headerlink" title="4-12 多表关系 - 增删改操作"></a>4-12 多表关系 - 增删改操作</h1><ul><li>一对一关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 一对一表关系：(作者/作者信息)</span><br><span class="line">-- 增加数据：先增加没有外键的表的数据，再增加另一张表的数据</span><br><span class="line">INSERT INTO authordetail ( phone, addr ) </span><br><span class="line">VALUES </span><br><span class="line">( &#x27;110&#x27;, &#x27;上海&#x27; ), </span><br><span class="line">( &#x27;119&#x27;, &#x27;北京&#x27; ),</span><br><span class="line">( &#x27;114&#x27;, &#x27;重庆&#x27; ),</span><br><span class="line">( &#x27;120&#x27;, &#x27;天津&#x27; );  -- 向被关联表中写入数据</span><br><span class="line">INSERT INTO author ( NAME, age, authordetail_id ) VALUES</span><br><span class="line">( &#x27;小明&#x27;, 27, 1 ),</span><br><span class="line">( &#x27;小红&#x27;, 28, 2 ),</span><br><span class="line">( &#x27;小鱼&#x27;, 29, 3 ),</span><br><span class="line">(&#x27;小雪&#x27;, 30, 4 );  -- 向另一张表中写入数据，关联字段的数据必须存在于被关联表中，否则会报错</span><br><span class="line"></span><br><span class="line">-- 修改数据：</span><br><span class="line">UPDATE authordetail INNER JOIN author ON authordetail.id = author.authordetail_id </span><br><span class="line">SET authordetail.addr = &#x27;天津&#x27; WHERE author.NAME = &#x27;小明&#x27;;-- 小明的地址修改为天津，使用的连表的方式</span><br><span class="line"></span><br><span class="line">-- 删除数据：</span><br><span class="line">DELETE FROM author WHERE authordetail_id = ( SELECT id FROM authordetail WHERE phone = &#x27;109&#x27; );-- 删除电话号码是109的作者，可以删除并且不会影响作者详情表</span><br><span class="line">delete from authordetail where phone=&#x27;117&#x27;; -- 删除电话号码是117的作者信息，作者表中对应的数据也会被删除</span><br><span class="line">-- 删除表</span><br><span class="line">必须先删除被关联表</span><br></pre></td></tr></table></figure><ul><li>一对多关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 增加数据：先增加没有外键的表的数据，再增加另一张表的数据</span><br><span class="line">-- 修改数据：</span><br><span class="line">UPDATE bm set bm_desc=&#x27;测试工作&#x27; WHERE id = (SELECT bm_id FROM yg WHERE yg_name=&#x27;小吴&#x27;); -- -- 把小吴所在的部门的部门描述修改成 测试工作，子查询的方式</span><br><span class="line"></span><br><span class="line">-- 删除数据</span><br><span class="line">delete from bm where bm_name=&#x27;测试&#x27;;-- 部门数据被删除，对应部门的yg数据肯定被删除</span><br><span class="line"></span><br><span class="line">    delete from yg WHERE bm_id = (SELECT id from bm WHERE bm_name=&#x27;测试&#x27;)-- 删除测试部门的所有同学，删除员工不会影响部门</span><br><span class="line">    </span><br><span class="line">-- 删除表</span><br><span class="line">必须先删除被关联表</span><br></pre></td></tr></table></figure><ul><li>多对多关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 增加数据：先增加两张没有外键约束的表，最后再增加第三张表的数据</span><br><span class="line">-- 修改数据</span><br><span class="line">   UPDATE book2author SET author_id =( SELECT id FROM author WHERE NAME = &#x27;小明&#x27; ) WHERE book_id =( SELECT id FROM book WHERE `name` = &#x27;西游&#x27; ); -- 将西游的作者修改成小明</span><br><span class="line"></span><br><span class="line">-- 删除数据</span><br><span class="line">-- 不管删除哪一方的表格最终影响的都是第三章表的数据，删除第三章表格的数据不会影响另两张表的数据</span><br><span class="line">-- 删除表，需要先删除第三张表</span><br></pre></td></tr></table></figure><h1 id="4-13-多表关系实战-设计表关系"><a href="#4-13-多表关系实战-设计表关系" class="headerlink" title="4-13 多表关系实战 - 设计表关系"></a>4-13 多表关系实战 - 设计表关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">设计一个简单的培训机构的管理系统，需求如下：</span><br><span class="line">1. 学校有以下培训班，比如python go DBA linux运维 软件测试</span><br><span class="line">2. 老师可以教不同班级</span><br><span class="line">3. 学生只能在班级中的一个里边上课</span><br><span class="line">根据上述的需求设计一个简单的数据库，以及表，关于表的字段可以随意发挥</span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">班级和学生一对多,外键建在多的一方即学生</span><br><span class="line">学生和学生信息一对一</span><br><span class="line">班级和老师多对多</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 创建库</span><br><span class="line">create database manage_sys charset=utf8mb4;</span><br><span class="line">-- 创建表</span><br><span class="line">-- 创建班级表</span><br><span class="line">CREATE TABLE bj (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">bj_name VARCHAR ( 10 ),</span><br><span class="line">bj_desc VARCHAR ( 36 )</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建学生表</span><br><span class="line">CREATE TABLE xs (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">xs_name VARCHAR ( 10 ),</span><br><span class="line">score FLOAT ( 5, 2 ) UNSIGNED,</span><br><span class="line">bj_id INT,</span><br><span class="line">    info_id INT,</span><br><span class="line">    FOREIGN KEY ( bj_id ) REFERENCES bj ( id ) ON UPDATE CASCADE ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY ( info_id  ) REFERENCES stu_info ( id ) ON UPDATE CASCADE ON DELETE CASCADE</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建老师表</span><br><span class="line">CREATE TABLE teacher ( id INT PRIMARY KEY auto_increment, teacher_name VARCHAR ( 10 ), age INT UNSIGNED, sex enum ( &#x27;男&#x27;, &#x27;女&#x27; ) ) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建班级和老师的多对多关系表</span><br><span class="line">CREATE TABLE bj2teacher (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">bj_id INT,</span><br><span class="line">teacher_id INT,</span><br><span class="line">FOREIGN KEY ( bj_id ) REFERENCES bj ( id ) ON UPDATE CASCADE ON DELETE CASCADE,</span><br><span class="line">FOREIGN KEY ( teacher_id ) REFERENCES teacher ( id ) ON UPDATE CASCADE ON DELETE CASCADE </span><br><span class="line">) ENGINE = INNODB charset = utf8mb4; </span><br><span class="line"></span><br><span class="line">-- 创建学生信息表</span><br><span class="line">CREATE TABLE stu_info ( </span><br><span class="line">id INT PRIMARY KEY auto_increment, </span><br><span class="line">age INT, </span><br><span class="line">sex enum ( &#x27;男&#x27;, &#x27;女&#x27; ), </span><br><span class="line">employment bool DEFAULT ( TRUE )</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;</span><br></pre></td></tr></table></figure><h1 id="4-14-多表查询实战-连表查询"><a href="#4-14-多表查询实战-连表查询" class="headerlink" title="4-14 多表查询实战 - 连表查询"></a>4-14 多表查询实战 - 连表查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 查询每个班级的人数</span><br><span class="line">SELECT bj.bj_name, count( xs.id ) </span><br><span class="line">FROM xs INNER JOIN bj ON xs.bj_id = bj.id </span><br><span class="line">GROUP BY bj.bj_name;</span><br><span class="line"></span><br><span class="line">-- 查询DBA班级里学生的分数并按照从大到小的顺序排序</span><br><span class="line">SELECT xs.xs_name, xs.score </span><br><span class="line">FROM xs INNER JOIN bj ON xs.bj_id = bj.id </span><br><span class="line">WHERE bj.bj_name = &#x27;python&#x27; </span><br><span class="line">ORDER BY xs.score DESC;</span><br><span class="line"></span><br><span class="line">-- 查询python班级的就业信息，哪些同学就业哪些同学没就业</span><br><span class="line">select stu_info.employment, GROUP_CONCAT(xs.xs_name) </span><br><span class="line">from (xs inner join bj on xs.bj_id=bj.id) inner join stu_info on xs.info_id=stu_info.id</span><br><span class="line">where bj.bj_name=&#x27;python&#x27;</span><br><span class="line">group by stu_info.employment;</span><br></pre></td></tr></table></figure><h1 id="4-15-多表查询实战-子查询"><a href="#4-15-多表查询实战-子查询" class="headerlink" title="4-15 多表查询实战 - 子查询"></a>4-15 多表查询实战 - 子查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 查询每个班级的人数</span><br><span class="line">select (select bj_name from bj where id=bj_id) as 班级, count(id) as &#x27;学生人数&#x27; from xs group by bj_id;</span><br><span class="line">-- 思路</span><br><span class="line">1. 首先在学生表中根据班级id进行分类，得到班级id</span><br><span class="line">2. 得到班级id之后就可以去bj表里查询班级名称</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询DBA班级里学生的分数并按照从大到小的顺序排序</span><br><span class="line">select xs_name, score from xs where bj_id=(select id from bj where bj_name=&#x27;DBA&#x27;) order by score desc;</span><br><span class="line">-- 思路</span><br><span class="line">1. 首先确定从哪张表中查询数据</span><br><span class="line">2. 筛选条件班级id可以从班级表中查询得到</span><br><span class="line"></span><br><span class="line">-- 查询小雨所在班级的班级信息和班级所有学生的姓名</span><br><span class="line">select </span><br><span class="line">bj.bj_name,</span><br><span class="line">bj.bj_desc, </span><br><span class="line">(SELECT GROUP_CONCAT(xs_name) from xs group by bj_id having bj_id=id) as &#x27;学生姓名&#x27; </span><br><span class="line">from bj</span><br><span class="line">where id=(select bj_id from xs where xs_name=&#x27;小雨&#x27;);</span><br><span class="line">-- 思路</span><br><span class="line">1. 找到小雨所在的班级id</span><br><span class="line">select bj_id from xs where xs_name=&#x27;小雨&#x27;;</span><br><span class="line">2. 根据找到的班级id找到小雨所在的班级信息</span><br><span class="line">select * from bj where id=班级id;</span><br><span class="line">3. 在学生表中根据班级id进行分组筛选出班级id是小雨所在的班级id的学生姓名</span><br><span class="line">SELECT GROUP_CONCAT(xs_name) from xs group by bj_id having bj_id=小雨所在的班级id；</span><br><span class="line">4. 组合上述sql得到最终结果</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create view V_score as select student.学号,student.姓名,student.民族,student.性别,课程号,成绩 from student,score where student.学号=score.学号 and student.性别=&#x27;男&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select 学号,姓名,课程号,成绩 from v_score where 民族=&#x27;侗&#x27;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.HDFS常用指令</title>
      <link href="/posts/309d25ea.html"/>
      <url>/posts/309d25ea.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="HDFS-常用-shell-命令"><a href="#HDFS-常用-shell-命令" class="headerlink" title="HDFS 常用 shell 命令"></a>HDFS 常用 shell 命令</h1><p><strong>1. 显示当前目录结构</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示当前目录结构</span></span><br><span class="line">hadoop fs -ls  &lt;path&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">递归显示当前目录结构</span></span><br><span class="line">hadoop fs -ls  -R  &lt;path&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示根目录下内容</span></span><br><span class="line">hadoop fs -ls  /</span><br></pre></td></tr></table></figure><p><strong>2. 创建目录</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建目录</span></span><br><span class="line">hadoop fs -mkdir  &lt;path&gt; </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">递归创建目录</span></span><br><span class="line">hadoop fs -mkdir -p  &lt;path&gt;  </span><br></pre></td></tr></table></figure><p><strong>3. 删除操作</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除文件</span></span><br><span class="line">hadoop fs -rm  &lt;path&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">递归删除目录和文件</span></span><br><span class="line">hadoop fs -rm -R  &lt;path&gt; </span><br></pre></td></tr></table></figure><p><strong>4. 从本地加载文件到 HDFS</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">二选一执行即可</span></span><br><span class="line">hadoop fs -put  [localsrc] [dst] </span><br><span class="line">hadoop fs - copyFromLocal [localsrc] [dst] </span><br></pre></td></tr></table></figure><p><strong>5. 从 HDFS 导出文件到本地</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">二选一执行即可</span></span><br><span class="line">hadoop fs -get  [dst] [localsrc] </span><br><span class="line">hadoop fs -copyToLocal [dst] [localsrc] </span><br></pre></td></tr></table></figure><p><strong>6. 查看文件内容</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">二选一执行即可</span></span><br><span class="line">hadoop fs -text  &lt;path&gt; </span><br><span class="line">hadoop fs -cat  &lt;path&gt;  </span><br></pre></td></tr></table></figure><p><strong>7. 显示文件的最后一千字节</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -tail  &lt;path&gt; </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">和Linux下一样，会持续监听文件内容变化 并显示文件的最后一千字节</span></span><br><span class="line">hadoop fs -tail -f  &lt;path&gt; </span><br></pre></td></tr></table></figure><p><strong>8. 拷贝文件</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -cp [src] [dst]</span><br></pre></td></tr></table></figure><p><strong>9. 移动文件</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mv [src] [dst] </span><br></pre></td></tr></table></figure><p><strong>10. 统计当前目录下各文件大小</strong></p><ul><li>默认单位字节</li><li>-s : 显示所有文件大小总和，</li><li>-h : 将以更友好的方式显示文件大小（例如 64.0m 而不是 67108864）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -du  &lt;path&gt;  </span><br></pre></td></tr></table></figure><p><strong>11. 合并下载多个文件</strong></p><ul><li>-nl 在每个文件的末尾添加换行符（LF）</li><li>-skip-empty-file 跳过空文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -getmerge</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">示例 将HDFS上的hbase-policy.xml和hbase-site.xml文件合并后下载到本地的/usr/test.xml</span></span><br><span class="line">hadoop fs -getmerge -nl  /test/hbase-policy.xml /test/hbase-site.xml /usr/test.xml</span><br></pre></td></tr></table></figure><p><strong>12. 统计文件系统的可用空间信息</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -df -h /</span><br></pre></td></tr></table></figure><p><strong>13. 更改文件复制因子</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -setrep [-R] [-w] &lt;numReplicas&gt; &lt;path&gt;</span><br></pre></td></tr></table></figure><ul><li>更改文件的复制因子。如果 path 是目录，则更改其下所有文件的复制因子</li><li>-w : 请求命令是否等待复制完成</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">示例</span></span><br><span class="line">hadoop fs -setrep -w 3 /user/hadoop/dir1</span><br></pre></td></tr></table></figure><p><strong>14. 权限控制</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 权限控制和Linux上使用方式一致</span><br><span class="line"># 变更文件或目录的所属群组。 用户必须是文件的所有者或超级用户。</span><br><span class="line">hadoop fs -chgrp [-R] GROUP URI [URI ...]</span><br><span class="line"># 修改文件或目录的访问权限  用户必须是文件的所有者或超级用户。</span><br><span class="line">hadoop fs -chmod [-R] &lt;MODE[,MODE]... | OCTALMODE&gt; URI [URI ...]</span><br><span class="line"># 修改文件的拥有者  用户必须是超级用户。</span><br><span class="line">hadoop fs -chown [-R] [OWNER][:[GROUP]] URI [URI ]</span><br></pre></td></tr></table></figure><p><strong>15. 文件检测</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -test - [defsz]  URI</span><br></pre></td></tr></table></figure><p>可选选项：</p><ul><li>-d：如果路径是目录，返回 0。</li><li>-e：如果路径存在，则返回 0。</li><li>-f：如果路径是文件，则返回 0。</li><li>-s：如果路径不为空，则返回 0。</li><li>-r：如果路径存在且授予读权限，则返回 0。</li><li>-w：如果路径存在且授予写入权限，则返回 0。</li><li>-z：如果文件长度为零，则返回 0。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">示例</span></span><br><span class="line">hadoop fs -test -e filename</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop,hdfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.HDFS基础概念</title>
      <link href="/posts/40945b78.html"/>
      <url>/posts/40945b78.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-HDFS分布式文件系统基础"><a href="#一-HDFS分布式文件系统基础" class="headerlink" title="一.HDFS分布式文件系统基础"></a>一.HDFS分布式文件系统基础</h2><h3 id="1-1-文件系统-分布式文件系统"><a href="#1-1-文件系统-分布式文件系统" class="headerlink" title="1. 1 文件系统,分布式文件系统"></a>1. 1 文件系统,分布式文件系统</h3><h4 id="1-1-1-文件系统定义"><a href="#1-1-1-文件系统定义" class="headerlink" title="1.1.1 文件系统定义"></a>1.1.1 文件系统定义</h4><ul><li>文件系统是一种存储和组织数据的方法，实现了数据的存储、分级组织、访问和获取等操作，使得用户对文件访问和查找变得容易；</li><li>文件系统使用树形目录的抽象逻辑概念代替了硬盘等物理设备使用数据块的概念，用户不必关心数据底层存在硬盘哪里，只需要记住这个文件的所属目录和文件名即可；</li><li>文件系统通常使用硬盘和光盘这样的存储设备，并维护文件在设备中的物理位置。</li></ul><h4 id="1-1-2-传统的文件系统"><a href="#1-1-2-传统的文件系统" class="headerlink" title="1.1.2 传统的文件系统"></a>1.1.2 传统的文件系统</h4><ul><li>所谓传统常见的文件系统更多指的的单机的文件系统，也就是底层不会横跨多台机器实现。比如windows操作系统 上的文件系统、Linux上的文件系统、FTP文件系统等等。</li><li>这些文件系统的共同特征包括：</li></ul><ol><li>带有抽象的目录树结构，树都是从&#x2F;根目录开始往下蔓延；</li><li>树中节点分为两类：目录和文件； </li><li>从根目录开始，节点路径具有唯一性。</li></ol><h3 id="1-2-数据-元数据"><a href="#1-2-数据-元数据" class="headerlink" title="1.2 数据 .元数据"></a>1.2 数据 .元数据</h3><ul><li>数据</li></ul><p>​指存储的内容本身，比如文件、视频、图片等，这些数据底层最终是存储在磁盘等存储介质上的，一般用户无需关心， 只需要基于目录树进行增删改查即可，实际针对数据的操作由文件系统完成。</p><ul><li>元数据</li></ul><p>​元数据（metadata）又称之为解释性数据，记录数据的数据； 文件系统元数据一般指文件大小、最后修改时间、底层存储位置、属性、所属用户、权限等信息。</p><ol><li>大数据时代，面对海量数据，传统的文件存储系统 会面临哪些挑战呢？</li></ol><h4 id="1-2-1海量数据遇到数据的问题"><a href="#1-2-1海量数据遇到数据的问题" class="headerlink" title="1.2.1海量数据遇到数据的问题"></a>1.2.1海量数据遇到数据的问题</h4><ul><li>成本高</li></ul><p>​传统存储硬件通用性差，设备投资加上后期维护、升级扩容的成本非常高。</p><ul><li>如何支撑高效的计算分析</li></ul><p>​传统存储方式意味着数据：存储是存储，计算是计算，当需要处理数据的时候把数据移动过来。 程序和数据存储是属于不同的技术厂商实现，无法有机统一整合在一起。</p><ul><li>性能低</li></ul><p>​单节点I&#x2F;O性能瓶颈无法逾越，难以支撑海量数据的高并发高吞吐场景。</p><ul><li>可扩展性差</li></ul><p>​无法实现快速部署和弹性扩展，动态扩容、缩容成本高，技术实现难度大。</p><h4 id="1-2-2-思考"><a href="#1-2-2-思考" class="headerlink" title="1.2.2 思考"></a>1.2.2 思考</h4><ol><li><p>当遇到海量数据存储的场景，传统的文件系统如何 解决海量数据的存储问题？</p></li><li><p>一款能够支撑海量数据存储的系统需要追求什么？ 吞吐量？性能？安全？效率？</p></li><li><p>如果让你设计一款存储系统软件来支撑海量数据存 储，如何设计？</p></li></ol><h3 id="1-3-分布式存储的核心"><a href="#1-3-分布式存储的核心" class="headerlink" title="1.3 分布式存储的核心"></a>1.3 分布式存储的核心</h3><p>分布式存储系统核心属性 </p><ul><li>分布式存储 </li><li>元数据记录</li><li>分块存储 </li><li>副本机制</li></ul><h4 id="1-3-1-分布式存储的优点"><a href="#1-3-1-分布式存储的优点" class="headerlink" title="1.3.1 分布式存储的优点"></a>1.3.1 分布式存储的优点</h4><ul><li><p>问题：数据量大，单机存储遇到瓶颈</p></li><li><p>解决：</p><ul><li>单机纵向扩展：磁盘不够加磁盘，有上限瓶颈限制</li><li>多机横向扩展：机器不够加机器，理论上无限扩展</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/09/EPgkpVJT9GRMx1A.png" alt="image-20230109165359069"></p><h4 id="1-3-2-元数据记录功能"><a href="#1-3-2-元数据记录功能" class="headerlink" title="1.3.2 元数据记录功能"></a>1.3.2 元数据记录功能</h4><ul><li><p>问题：文件分布在不同机器上不利于寻找</p></li><li><p>解决：元数据记录下文件及其存储位置信息，快速定位文件位置</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/nQrbRLCYtAJ4UNu.png" alt="image-20230109165605074"></p><h4 id="1-3-3分块存储的好处"><a href="#1-3-3分块存储的好处" class="headerlink" title="1.3.3分块存储的好处"></a>1.3.3分块存储的好处</h4><ul><li><p>问题：文件过大导致单机存不下、上传下载效率低</p></li><li><p>解决：文件分块存储在不同机器，针对块并行操作提高效率</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/fDc9dr25J6MYQNF.png" alt="image-20230109165801026"></p><h4 id="1-3-4-副本机制的作用"><a href="#1-3-4-副本机制的作用" class="headerlink" title="1.3.4 副本机制的作用"></a>1.3.4 副本机制的作用</h4><ul><li>问题：硬件故障难以避免，数据易丢失</li><li>解决：不同机器设置备份，冗余存储，保障数据安全</li></ul><p><img src="https://s2.loli.net/2023/01/09/J5tIybMFz6BsRLm.png" alt="image-20230109170022677"></p><h4 id="1-3-5-总结"><a href="#1-3-5-总结" class="headerlink" title="1.3.5 总结"></a>1.3.5 总结</h4><ol><li>分布式存储的优点是什么？</li></ol><p>​无限扩展支撑海量数据存储</p><ol start="2"><li>元数据记录的功能是什么？</li></ol><p>​ 快速定位文件位置便于查找</p><ol start="3"><li>文件分块存储好处是什么？</li></ol><p>​ 针对块并行操作提高效率</p><ol start="4"><li>设置副本备份的作用是什么？</li></ol><p>​ 冗余存储保障数据安全</p><h2 id="二-HDFS简介"><a href="#二-HDFS简介" class="headerlink" title="二.HDFS简介"></a>二.HDFS简介</h2><h3 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h3><ul><li><p>HDFS（Hadoop Distributed File System ），意为：Hadoop分布式文件系统。</p></li><li><p>是Apache Hadoop核心组件之一，作为大数据生态圈最底层的分布式存储服务而存在。也可以说大数据首先要解 决的问题就是海量数据的存储问题。</p></li><li><p>HDFS主要是解决大数据如何存储问题的。分布式意味着是HDFS是横跨在多台计算机上的存储系统。</p></li><li><p>HDFS是一种能够在普通硬件上运行的分布式文件系统，它是高度容错的，适应于具有大数据集的应用程序，它非 常适于存储大型数据 (比如 TB 和 PB)。</p></li><li><p>HDFS使用多台计算机存储文件, 并且提供统一的访问接口, 像是访问一个普通文件系统一样使用分布式文件系统。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/SxWaynhL41I93ZC.png" alt="image-20230109171329731"></p><h3 id="1-2-HDFS起源"><a href="#1-2-HDFS起源" class="headerlink" title="1.2 HDFS起源"></a>1.2 HDFS起源</h3><ul><li>Doug Cutting领导Nutch项目研发，Nutch的设计目标是构建一个大型的全网搜索引擎，包括网页抓取、索引、 查询等功能。</li><li>随着爬虫抓取网页数量的增加，遇到了严重的可扩展性问题——如何解决数十亿网页的存储和索引问题。</li><li>2003年的时候, Google 发表的论文为该问题提供了可行的解决方案。 《分布式文件系统（GFS），可用于处理海量网页的存储》</li><li>Nutch的开发人员完成了相应的开源实现HDFS，并从Nutch中剥离和MapReduce成为独立项目HADOOP。</li></ul><p><img src="https://s2.loli.net/2023/01/09/A2gGm6BFkecvLi9.png" alt="image-20230109175045334"></p><h3 id="1-3-HDFS设计目标"><a href="#1-3-HDFS设计目标" class="headerlink" title="1.3 HDFS设计目标"></a>1.3 HDFS设计目标</h3><ul><li><p>硬件故障（Hardware Failure）是常态， HDFS可能有成百上千的服务器组成，每一个组件都有可能出现故障。因 此故障检测和自动快速恢复是HDFS的核心架构目标。</p></li><li><p>HDFS上的应用主要是以流式读取数据（Streaming Data Access）。HDFS被设计成用于批处理，而不是用户交互 式的。相较于数据访问的反应时间，更注重数据访问的高吞吐量。</p></li><li><p>典型的HDFS文件大小是GB到TB的级别。所以，HDFS被调整成支持大文件（Large Data Sets）。它应该提供很 高的聚合数据带宽，一个集群中支持数百个节点，一个集群中还应该支持千万级别的文件。</p></li><li><p>大部分HDFS应用对文件要求的是write-one-read-many访问模型。一个文件一旦创建、写入、关闭之后就不需 要修改了。这一假设简化了数据一致性问题，使高吞吐量的数据访问成为可能。</p></li><li><p>移动计算的代价比之移动数据的代价低。一个应用请求的计算，离它操作的数据越近就越高效。将计算移动到数据 附近，比之将数据移动到应用所在显然更好</p></li><li><p>HDFS被设计为可从一个平台轻松移植到另一个平台。这有助于将HDFS广泛用作大量应用程序的首选平台。</p></li></ul><h3 id="1-4-HDFS-适用场景"><a href="#1-4-HDFS-适用场景" class="headerlink" title="1.4 HDFS 适用场景"></a>1.4 HDFS 适用场景</h3><ul><li>大文件 </li><li>数据流式访问 </li><li>一次写入多次读取</li><li>低成本部署，廉价PC </li><li>高容错</li></ul><p>不适合</p><ul><li>小文件 </li><li>数据交互式访问 </li><li>频繁任意修改</li><li>低延迟处理</li></ul><h3 id="1-5-HDFS重要特性"><a href="#1-5-HDFS重要特性" class="headerlink" title="1.5 HDFS重要特性"></a>1.5 HDFS重要特性</h3><ul><li>主从架构 </li><li>分块存储</li><li>副本机制 </li><li>元数据记录</li><li>抽象统一的目录树结构（namespace）</li></ul><p><strong>主从架构</strong></p><ul><li>HDFS集群是标准的master&#x2F;slave主从架构集群。</li><li>一般一个HDFS集群是有一个Namenode和一定数目的Datanode组成。</li><li>Namenode是HDFS主节点，Datanode是HDFS从节点，两种角色各司其职，共同协调完成分布式的文件存储服 务。</li><li>官方架构图中是一主五从模式，其中五个从角色位于两个机架（Rack）的不同服务器上。</li></ul><p><img src="https://s2.loli.net/2023/01/09/sBgVK34RHdDjepT.png" alt="image-20230109175748914"></p><h3 id="1-6分块存储"><a href="#1-6分块存储" class="headerlink" title="1.6分块存储"></a>1.6分块存储</h3><ul><li>HDFS中的文件在物理上是分块存储（block）的，默认大小是128M（134217728），不足128M则本身就是一块 。</li><li>块的大小可以通过配置参数来规定，参数位于hdfs-default.xml中：dfs.blocksize。</li></ul><h4 id="1-7-副本机制"><a href="#1-7-副本机制" class="headerlink" title="1.7 副本机制"></a>1.7 副本机制</h4><ul><li>文件的所有block都会有副本。副本系数可以在文件创建的时候指定，也可以在之后通过命令改变。</li><li>副本数由参数dfs.replication控制，默认值是3，也就是会额外再复制2份，连同本身总共3份副本。</li></ul><h4 id="1-8-元数据管理"><a href="#1-8-元数据管理" class="headerlink" title="1.8 元数据管理"></a>1.8 元数据管理</h4><ul><li>文件自身属性信息<ul><li>文件名称、权限，修改时间，文件大小，复制因子，数据块大小。</li></ul></li><li>文件块位置映射信息<ul><li>记录文件块和DataNode之间的映射信息，即哪个块位于哪个节点上。</li></ul></li></ul><h4 id="1-9-namespace"><a href="#1-9-namespace" class="headerlink" title="1.9 namespace"></a>1.9 namespace</h4><ul><li>HDFS支持传统的层次型文件组织结构。用户可以创建目录，然后将文件保存在这些目录里。文件系统名字空间的 层次结构和大多数现有的文件系统类似：用户可以创建、删除、移动或重命名文件。</li><li>Namenode负责维护文件系统的namespace名称空间，任何对文件系统名称空间或属性的修改都将被Namenode 记录下来。</li><li>HDFS会给客户端提供一个统一的抽象目录树，客户端通过路径来访问文件，形如：hdfs:&#x2F;&#x2F;namenode:port&#x2F;dira&#x2F;dir-b&#x2F;dir-c&#x2F;file.data。</li></ul><p><img src="https://s2.loli.net/2023/01/09/tFfMh3Y2PHk9CWV.png" alt="image-20230109184727864"></p><h4 id="2-0-数据块存储"><a href="#2-0-数据块存储" class="headerlink" title="2.0 数据块存储"></a>2.0 数据块存储</h4><ul><li>文件的各个block的具体存储管理由DataNode节点承担。</li><li>每一个block都可以在多个DataNode上存储。</li></ul><p><img src="https://s2.loli.net/2023/01/09/dwC8YmfRIyuZcTn.png" alt="image-20230109184918014"></p><h2 id="三-HDFS命令行"><a href="#三-HDFS命令行" class="headerlink" title="三.HDFS命令行"></a>三.HDFS命令行</h2><h3 id="1-1-介绍"><a href="#1-1-介绍" class="headerlink" title="1.1 介绍"></a>1.1 介绍</h3><ul><li><p>命令行界面（英语：command-line interface，缩写：CLI），是指用户通过键盘输入指令，计算机接收到指令后 ，予以执行一种人际交互方式。</p></li><li><p>Hadoop提供了文件系统的shell命令行客户端: hadoop fs [generic options]</p></li></ul><p><img src="https://s2.loli.net/2023/01/10/Jlem2RcYWrf7yd3.png" alt="image-20230110093509194"></p><h3 id="1-2-文件系统协议"><a href="#1-2-文件系统协议" class="headerlink" title="1.2 文件系统协议"></a>1.2 文件系统协议</h3><ul><li><p>HDFS Shell CLI支持操作多种文件系统，包括本地文件系统（file:&#x2F;&#x2F;&#x2F;）、分布式文件系统（hdfs:&#x2F;&#x2F;nn:8020）等</p></li><li><p>具体操作的是什么文件系统取决于命令中文件路径URL中的前缀协议。</p></li><li><p>如果没有指定前缀，则将会读取环境变量中的fs.defaultFS属性，以该属性值作为默认文件系统。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -ls file:/// #操作本地文件系统</span><br><span class="line">hadoop fs -ls hdfs://node1:8020/ #操作HDFS分布式文件系统</span><br><span class="line">hadoop fs -ls / #直接根目录，没有指定协议 将加载读取fs.defaultFS值</span><br></pre></td></tr></table></figure><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul><li><p>hadoop dfs 只能操作HDFS文件系统（包括与Local FS间的操作），不过已经Deprecated； </p></li><li><p>hdfs dfs 只能操作HDFS文件系统相关（包括与Local FS间的操作）,常用； </p></li><li><p>hadoop fs 可操作任意文件系统，不仅仅是hdfs文件系统，使用范围更广；</p></li><li><p>目前版本来看，官方最终推荐使用的是hadoop fs。当然hdfs dfs在市面上的使用也比较多。</p></li><li><p>HDFS文件系统的操作命令很多和Linux类似，因此学习成本相对较低。</p></li><li><p>可以通过hadoop fs -help命令来查看每个命令的详细用法。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage: hadoop fs [generic options]</span><br><span class="line">[-appendToFile &lt;localsrc&gt; ... &lt;dst&gt;]</span><br><span class="line">[-cat [-ignoreCrc] &lt;src&gt; ...]</span><br><span class="line">……</span><br><span class="line">-appendToFile &lt;localsrc&gt; ... &lt;dst&gt; :</span><br><span class="line">Appends the contents of all the given local files to the given dst file. The dst</span><br><span class="line">file will be created if it does not exist. If &lt;localSrc&gt; is -, then the input is</span><br><span class="line">read from stdin.</span><br><span class="line">-cat [-ignoreCrc] &lt;src&gt; ... :</span><br><span class="line">Fetch all files that match the file pattern &lt;src&gt; and display their content on</span><br><span class="line">stdout</span><br></pre></td></tr></table></figure><h3 id="1-3-FDHS基础命令"><a href="#1-3-FDHS基础命令" class="headerlink" title="1.3 FDHS基础命令"></a>1.3 FDHS基础命令</h3><h4 id="1-3-1-创建文件夹"><a href="#1-3-1-创建文件夹" class="headerlink" title="1.3.1 创建文件夹"></a>1.3.1 创建文件夹</h4><ul><li>hadoop fs -mkdir [-p]  … <ul><li>path 为待创建的目录</li><li>-p选项的行为与Unix mkdir -p非常相似，它会沿着路径创建父目录。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /itcast</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-2-查看指定目录下的内容"><a href="#1-3-2-查看指定目录下的内容" class="headerlink" title="1.3.2 查看指定目录下的内容"></a>1.3.2 查看指定目录下的内容</h4><ul><li>hadoop fs -ls [-h] [-R] [ …] <ul><li>path 指定目录路径</li><li>-h 人性化显示文件size</li><li>-R 递归查看指定目录及其子目录</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/10/YBip4EunMPGUOjc.png" alt="image-20230110094428899"></p><h4 id="1-3-3上传文件到HDFS指定目录下"><a href="#1-3-3上传文件到HDFS指定目录下" class="headerlink" title="1.3.3上传文件到HDFS指定目录下"></a>1.3.3上传文件到HDFS指定目录下</h4><ul><li>hadoop fs -put [-f] [-p]  … <ul><li>-f 覆盖目标文件（已存在下）</li><li>-p 保留访问和修改时间，所有权和权限。</li><li>lcalsrc 本地文件系统（客户端所在机器）</li><li>dst 目标文件系统（HDFS）</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -put zookeeper.out /itcast</span><br><span class="line">hadoop fs -put file:///etc/profile hdfs://node1:8020/itcast</span><br></pre></td></tr></table></figure><h4 id="1-3-4-查看HDFS文件内容"><a href="#1-3-4-查看HDFS文件内容" class="headerlink" title="1.3.4 查看HDFS文件内容"></a>1.3.4 查看HDFS文件内容</h4><ul><li>hadoop fs -cat  … <ul><li>读取指定文件全部内容，显示在标准输出控制台。</li><li>注意：对于大文件内容读取，慎重。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -cat /itcast/zookeeper.out</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-5-下载HDFS文件"><a href="#1-3-5-下载HDFS文件" class="headerlink" title="1.3.5 下载HDFS文件"></a>1.3.5 下载HDFS文件</h4><ul><li>hadoop fs -get [-f] [-p]  … <ul><li>下载文件到本地文件系统指定目录，localhst必须是目录</li><li>-f 覆盖目标文件（已存在下）</li><li>-p 保留访问和修改时间，所有权和权限。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node2 ~]# mkdir test</span><br><span class="line">[root@node2 ~]# cd test/</span><br><span class="line">[root@node2 test]# ll</span><br><span class="line">total 0</span><br><span class="line">[root@node2 test]# hadoop fs -get /itcast/zookeeper.out ./</span><br><span class="line">[root@node2 test]# ll</span><br><span class="line">total 20</span><br><span class="line">-rw-r--r-- 1 root root 18213 Aug 18 17:54 zookeeper.out</span><br></pre></td></tr></table></figure><h4 id="1-3-6-拷贝HDFS文件"><a href="#1-3-6-拷贝HDFS文件" class="headerlink" title="1.3.6 拷贝HDFS文件"></a>1.3.6 拷贝HDFS文件</h4><ul><li>hadoop fs -cp [-f]  … <ul><li>-f 覆盖目标文件（已存在下）</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# hadoop fs -cp /small/1.txt /itcast</span><br><span class="line">[root@node3 ~]# hadoop fs -cp /small/1.txt /itcast/666.txt #重命令</span><br><span class="line">[root@node3 ~]# hadoop fs -ls /itcast</span><br><span class="line">Found 4 items</span><br><span class="line">-rw-r--r-- 3 root supergroup 2 2021-08-18 17:58 /itcast/1.txt</span><br><span class="line">-rw-r--r-- 3 root supergroup 2 2021-08-18 17:59 /itcast/666.txt</span><br></pre></td></tr></table></figure><h4 id="1-3-7-追加数据到HDFS文件种"><a href="#1-3-7-追加数据到HDFS文件种" class="headerlink" title="1.3.7 追加数据到HDFS文件种"></a>1.3.7 追加数据到HDFS文件种</h4><ul><li>hadoop fs -appendToFile  <localhost> … <dst><ul><li>将所有给定本地文件的内容追加到给定dst文件。</li><li>dst如果文件不存在，将创建该文件。</li><li>如果为-，则输入为从标准输入中读取。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# echo 1 &gt;&gt; 1.txt</span><br><span class="line">[root@node3 ~]# echo 2 &gt;&gt; 2.txt </span><br><span class="line">[root@node3 ~]# echo 3 &gt;&gt; 3.txt </span><br><span class="line">[root@node3 ~]# hadoop fs -put 1.txt /</span><br><span class="line">[root@node3 ~]# hadoop fs -cat /1.txt</span><br><span class="line">1</span><br><span class="line">[root@node3 ~]# hadoop fs -appendToFile 2.txt 3.txt /1.txt</span><br><span class="line">[root@node3 ~]# hadoop fs -cat /1.txt</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-8-HDFS-数据移动操作"><a href="#1-3-8-HDFS-数据移动操作" class="headerlink" title="1.3.8 HDFS 数据移动操作"></a>1.3.8 HDFS 数据移动操作</h4><ul><li>hadoop fs -mv  &lt; src&gt; ..  <dst><ul><li>移动文件到指定文件夹下</li><li>可以使用该命令移动数据，重命名文件的名称</li></ul></li></ul><h4 id="1-3-9-指导文档"><a href="#1-3-9-指导文档" class="headerlink" title="1.3.9 指导文档"></a>1.3.9 指导文档</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://hadoop.apache.org/docs/r3.3.0/hadoop-project-dist/hadoop-common/FileSystemShell.html</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.Zookeeper单机环境和集群环境搭建</title>
      <link href="/posts/3bb5ed61.html"/>
      <url>/posts/3bb5ed61.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Zookeeper单机环境和集群环境搭建"><a href="#Zookeeper单机环境和集群环境搭建" class="headerlink" title="Zookeeper单机环境和集群环境搭建"></a>Zookeeper单机环境和集群环境搭建</h2><h2 id="一、单机环境搭建"><a href="#一、单机环境搭建" class="headerlink" title="一、单机环境搭建"></a>一、单机环境搭建</h2><h3 id="1-1-下载"><a href="#1-1-下载" class="headerlink" title="1.1 下载"></a>1.1 下载</h3><p>下载对应版本 Zookeeper，这里我下载的版本 <code>3.4.14</code>。官方下载地址：<a href="https://archive.apache.org/dist/zookeeper/">https://archive.apache.org/dist/zookeeper/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://archive.apache.org/dist/zookeeper/zookeeper-3.4.14/zookeeper-3.4.14.tar.gz</span><br></pre></td></tr></table></figure><h3 id="1-2-解压"><a href="#1-2-解压" class="headerlink" title="1.2 解压"></a>1.2 解压</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf zookeeper-3.4.14.tar.gz</span><br></pre></td></tr></table></figure><h3 id="1-3-配置环境变量"><a href="#1-3-配置环境变量" class="headerlink" title="1.3 配置环境变量"></a>1.3 配置环境变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br></pre></td></tr></table></figure><p>添加环境变量：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZOOKEEPER_HOME=/usr/app/zookeeper-3.4.14</span><br><span class="line">export PATH=$ZOOKEEPER_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p>使得配置的环境变量生效：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="1-4-修改配置"><a href="#1-4-修改配置" class="headerlink" title="1.4 修改配置"></a>1.4 修改配置</h3><p>进入安装目录的 <code>conf/</code> 目录下，拷贝配置样本并进行修改：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp zoo_sample.cfg  zoo.cfg</span><br></pre></td></tr></table></figure><p>指定数据存储目录和日志文件目录（目录不用预先创建，程序会自动创建），修改后完整配置如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The number of milliseconds of each tick</span></span><br><span class="line">tickTime=2000</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The number of ticks that the initial</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">synchronization phase can take</span></span><br><span class="line">initLimit=10</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The number of ticks that can pass between</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">sending a request and getting an acknowledgement</span></span><br><span class="line">syncLimit=5</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the directory <span class="built_in">where</span> the snapshot is stored.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">do</span> not use /tmp <span class="keyword">for</span> storage, /tmp here is just</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">example sakes.</span></span><br><span class="line">dataDir=/usr/local/zookeeper/data</span><br><span class="line">dataLogDir=/usr/local/zookeeper/log</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the port at <span class="built_in">which</span> the clients will connect</span></span><br><span class="line">clientPort=2181</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the maximum number of client connections.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">increase this <span class="keyword">if</span> you need to handle more clients</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">maxClientCnxns=60</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Be sure to read the maintenance section of the</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">administrator guide before turning on autopurge.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># The number of snapshots to retain in dataDir</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">autopurge.snapRetainCount=3</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Purge task interval <span class="keyword">in</span> hours</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set to <span class="string">&quot;0&quot;</span> to <span class="built_in">disable</span> auto purge feature</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">autopurge.purgeInterval=1</span></span><br></pre></td></tr></table></figure><blockquote><p>配置参数说明：</p><ul><li><strong>tickTime</strong>：用于计算的基础时间单元。比如 session 超时：N*tickTime；</li><li><strong>initLimit</strong>：用于集群，允许从节点连接并同步到 master 节点的初始化连接时间，以 tickTime 的倍数来表示；</li><li><strong>syncLimit</strong>：用于集群， master 主节点与从节点之间发送消息，请求和应答时间长度（心跳机制）；</li><li><strong>dataDir</strong>：数据存储位置；</li><li><strong>dataLogDir</strong>：日志目录；</li><li><strong>clientPort</strong>：用于客户端连接的端口，默认 2181</li></ul></blockquote><h3 id="1-5-启动"><a href="#1-5-启动" class="headerlink" title="1.5 启动"></a>1.5 启动</h3><p>由于已经配置过环境变量，直接使用下面命令启动即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="1-6-验证"><a href="#1-6-验证" class="headerlink" title="1.6 验证"></a>1.6 验证</h3><p>使用 JPS 验证进程是否已经启动，出现 <code>QuorumPeerMain</code> 则代表启动成功。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 bin]# jps</span><br><span class="line">3814 QuorumPeerMain</span><br></pre></td></tr></table></figure><h2 id="二、集群环境搭建"><a href="#二、集群环境搭建" class="headerlink" title="二、集群环境搭建"></a>二、集群环境搭建</h2><p>为保证集群高可用，Zookeeper 集群的节点数最好是奇数，最少有三个节点，所以这里演示搭建一个三个节点的集群。这里我使用三台主机进行搭建，主机名分别为 hadoop001，hadoop002，hadoop003。</p><h3 id="2-1-修改配置"><a href="#2-1-修改配置" class="headerlink" title="2.1 修改配置"></a>2.1 修改配置</h3><p>解压一份 zookeeper 安装包，修改其配置文件 <code>zoo.cfg</code>，内容如下。之后使用 scp 命令将安装包分发到三台服务器上：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tickTime=2000</span><br><span class="line">initLimit=10</span><br><span class="line">syncLimit=5</span><br><span class="line">dataDir=/usr/local/zookeeper-cluster/data/</span><br><span class="line">dataLogDir=/usr/local/zookeeper-cluster/log/</span><br><span class="line">clientPort=2181</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">server.1 这个1是服务器的标识，可以是任意有效数字，标识这是第几个服务器节点，这个标识要写到dataDir目录下面myid文件里</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指名集群间通讯端口和选举端口</span></span><br><span class="line">server.1=hadoop001:2287:3387</span><br><span class="line">server.2=hadoop002:2287:3387</span><br><span class="line">server.3=hadoop003:2287:3387</span><br></pre></td></tr></table></figure><h3 id="2-2-标识节点"><a href="#2-2-标识节点" class="headerlink" title="2.2 标识节点"></a>2.2 标识节点</h3><p>分别在三台主机的 <code>dataDir</code> 目录下新建 <code>myid</code> 文件,并写入对应的节点标识。Zookeeper 集群通过 <code>myid</code> 文件识别集群节点，并通过上文配置的节点通信端口和选举端口来进行节点通信，选举出 Leader 节点。</p><p>创建存储目录：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">三台主机均执行该命令</span></span><br><span class="line">mkdir -vp  /usr/local/zookeeper-cluster/data/</span><br></pre></td></tr></table></figure><p>创建并写入节点标识到 <code>myid</code> 文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hadoop001主机</span></span><br><span class="line">echo &quot;1&quot; &gt; /usr/local/zookeeper-cluster/data/myid</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hadoop002主机</span></span><br><span class="line">echo &quot;2&quot; &gt; /usr/local/zookeeper-cluster/data/myid</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hadoop003主机</span></span><br><span class="line">echo &quot;3&quot; &gt; /usr/local/zookeeper-cluster/data/myid</span><br></pre></td></tr></table></figure><h3 id="2-3-启动集群"><a href="#2-3-启动集群" class="headerlink" title="2.3 启动集群"></a>2.3 启动集群</h3><p>分别在三台主机上，执行如下命令启动服务：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/app/zookeeper-cluster/zookeeper/bin/zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="2-4-集群验证"><a href="#2-4-集群验证" class="headerlink" title="2.4 集群验证"></a>2.4 集群验证</h3><p>启动后使用 <code>zkServer.sh status</code> 查看集群各个节点状态。如图所示：三个节点进程均启动成功，并且 hadoop002 为 leader 节点，hadoop001 和 hadoop003 为 follower 节点。</p>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.MapReduce</title>
      <link href="/posts/bc1fb66d.html"/>
      <url>/posts/bc1fb66d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-Hadoop-MapReduce"><a href="#一-Hadoop-MapReduce" class="headerlink" title="一.Hadoop MapReduce"></a>一.Hadoop MapReduce</h2><h3 id="1-1-理解Map-Reduce思想"><a href="#1-1-理解Map-Reduce思想" class="headerlink" title="1.1 理解Map Reduce思想"></a>1.1 理解Map Reduce思想</h3><ul><li><p>MapReduce的思想核心是“先分再合，分而治之”。</p></li><li><p>所谓“分而治之”就是把一个复杂的问题，按照一定的“分解”方法分为等价的规模较小的若干部分，然后逐个解 决，分别找出各部分的结果，然后把各部分的结果组成整个问题的最终结果。</p></li><li><p>这种思想来源于日常生活与工作时的经验。即使是发布过论文实现分布式计算的谷歌也只是实现了这种思想，而不 是自己原创。</p></li><li><p>Map表示第一阶段，负责“拆分”：即把复杂的任务分解为若干个“简单的子任务”来并行处理。可以进行拆分的 前提是这些小任务可以并行计算，彼此间几乎没有依赖关系。 </p></li><li><p>Reduce表示第二阶段，负责“合并”：即对map阶段的结果进行全局汇总。</p></li><li><p>这两个阶段合起来正是MapReduce思想的体现。</p></li></ul><p><img src="https://s2.loli.net/2023/01/10/pGRFJhL4Ede76fu.png" alt="image-20230110104953917"></p><ul><li>一个比较形象的语言解释MapReduce<ul><li>要数停车场中的所有停放车的总数量。 你数第一列，我数第二列…这就是Map阶段，人越多，能够同时数车的人就越多，速度就越快。 数完之后，聚到一起，把所有人的统计数加在一起。这就是Reduce合并汇总阶段。</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/10/DxVsmrvyncG83zX.png" alt="image-20230110105246494"></p><h3 id="1-2如何对付大数据处理常见"><a href="#1-2如何对付大数据处理常见" class="headerlink" title="1.2如何对付大数据处理常见"></a>1.2如何对付大数据处理常见</h3><ul><li>对相互间不具有计算依赖关系的大数据计算任务，实现并行最自然的办法就是采取MapReduce分而治之的策略。</li><li>首先Map阶段进行拆分，把大数据拆分成若干份小数据，多个程序同时并行计算产生中间结果；然后是Reduce聚 合阶段，通过程序对并行的结果进行最终的汇总计算，得出最终的结果。</li><li>不可拆分的计算任务或相互间有依赖关系的数据无法进行并行计算</li></ul><p><img src="https://s2.loli.net/2023/01/10/hXa3dki7MbOnFf8.png" alt="image-20230110120355470"></p><h3 id="1-4-构建抽象编程模型"><a href="#1-4-构建抽象编程模型" class="headerlink" title="1.4 构建抽象编程模型"></a>1.4 构建抽象编程模型</h3><ul><li><p>MapReduce借鉴了函数式语言中的思想，用Map和Reduce两个函数提供了高层的并行编程抽象模型。</p><ul><li>map: 对一组数据元素进行某种重复式的处理；</li><li>reduce: 对Map的中间结果进行某种进一步的结果整理。</li></ul></li><li><p>MapReduce中定义了如下的Map和Reduce两个抽象的编程接口，由用户去编程实现:</p><ul><li>map: (k1; v1) → (k2; v2) </li><li>reduce: (k2; [v2]) → (k3; v3)</li></ul></li><li><p>​通过以上两个编程接口，大家可以看出MapReduce处理的数据类型是键值对。</p></li></ul><h3 id="1-4-统一架构"><a href="#1-4-统一架构" class="headerlink" title="1.4 统一架构"></a>1.4 统一架构</h3><ul><li>如何提供统一的计算框架，如果没有统一封装底层细节，那么程序员则需要考虑诸如数据存储、划分、分发、结果 收集、错误恢复等诸多细节；为此，MapReduce设计并提供了统一的计算框架，为程序员隐藏了绝大多数系统层 面的处理细节。 </li><li>MapReduce最大的亮点在于通过抽象模型和计算框架把需要做什么(what need to do)与具体怎么做(how to  do)分开了，为程序员提供一个抽象和高层的编程接口和框架。</li><li>程序员仅需要关心其应用层的具体计算问题，仅需编写少量的处理应用本身计算问题的业务程序代码</li><li>至于如何具体完成这个并行计算任务所相关的诸多系统层细节被隐藏起来,交给计算框架去处理：从分布代码的执 行，到大到数千小到单个节点集群的自动调度使用。</li></ul><h3 id="1-5-分布式计算概念"><a href="#1-5-分布式计算概念" class="headerlink" title="1.5 分布式计算概念"></a>1.5 分布式计算概念</h3><ul><li>分布式计算是一种计算方法，和集中式计算是相对的。</li><li>随着计算技术的发展，有些应用需要非常巨大的计算能力才能完成，如果采用集中式计算，需要耗费相当长的时间 来完成。</li><li>分布式计算将该应用分解成许多小的部分，分配给多台计算机进行处理。这样可以节约整体计算时间，大大提高计 算效率。</li></ul><p><img src="https://s2.loli.net/2023/01/10/sMqNdI56r3fwUXL.png" alt="image-20230110123449590"></p><h3 id="1-6-MapReduce-介绍"><a href="#1-6-MapReduce-介绍" class="headerlink" title="1.6 MapReduce 介绍"></a>1.6 MapReduce 介绍</h3><ul><li>Hadoop MapReduce是一个分布式计算框架，用于轻松编写分布式应用程序，这些应用程序以可靠，容错的方式 并行处理大型硬件集群（数千个节点）上的大量数据（多TB数据集）。</li><li>MapReduce是一种面向海量数据处理的一种指导思想，也是一种用于对大规模数据进行分布式计算的编程模型。</li></ul><h3 id="1-7-MapReduce-产生背景"><a href="#1-7-MapReduce-产生背景" class="headerlink" title="1.7 MapReduce 产生背景"></a>1.7 MapReduce 产生背景</h3><ul><li>MapReduce最早由Google于2004年在一篇名为《MapReduce:Simplified Data Processingon Large Clusters 》的论文中提出。 </li><li>论文中谷歌把分布式数据处理的过程拆分为Map和Reduce两个操作函数（受到函数式编程语言的启发），随后被 Apache Hadoop参考并作为开源版本提供支持，叫做Hadoop MapReduce。</li><li>它的出现解决了人们在最初面临海量数据束手无策的问题，同时它还是易于使用和高度可扩展的，使得开发者无需 关系分布式系统底层的复杂性即可很容易的编写分布式数据处理程序，并在成千上万台普通的商用服务器中运行。</li></ul><p><img src="https://s2.loli.net/2023/01/10/NpveTs4IZnc2J7X.png" alt="image-20230110123955561"></p><h3 id="1-8-MapReduce的特点"><a href="#1-8-MapReduce的特点" class="headerlink" title="1.8 MapReduce的特点"></a>1.8 MapReduce的特点</h3><ul><li>易于编程</li></ul><p>Mapreduce框架提供了用于二次开发的接口；简单地实现一些接口，就可以完成一个分布式程序。任务计算交给计算 框架去处理，将分布式程序部署到hadoop集群上运行，集群节点可以扩展到成百上千个等。</p><ul><li>良好的扩展性</li></ul><p>当计算机资源不能得到满足的时候，可以通过增加机器来扩展它的计算能力。基于MapReduce的分布式计算得特点可 以随节点数目增长保持近似于线性的增长，这个特点是MapReduce处理海量数据的关键，通过将计算节点增至几百或 者几千可以很容易地处理数百TB甚至PB级别的离线数据。</p><ul><li>高容错性</li></ul><p>Hadoop集群是分布式搭建和部署得，任何单一机器节点宕机了，它可以把上面的计算任务转移到另一个节点上运行， 不影响整个作业任务得完成，过程完全是由Hadoop内部完成的。</p><ul><li>适合海量数据的离线处理</li></ul><p>可以处理GB、TB和PB级别得数据量</p><h3 id="1-9MapReduce-局限性"><a href="#1-9MapReduce-局限性" class="headerlink" title="1.9MapReduce 局限性"></a>1.9MapReduce 局限性</h3><p>​MapReduce虽然有很多的优势，也有相对得局限性，局限性不代表不能做，而是在有些场景下实现的效果比较差，并 不适合用MapReduce来处理，主要表现在以下结果方面：</p><ul><li>实时计算性能差</li></ul><p>​MapReduce主要应用于离线作业，无法作到秒级或者是亚秒级得数据响应。</p><ul><li>不能进行流式计算</li></ul><p>​流式计算特点是数据是源源不断得计算，并且数据是动态的；而MapReduce作为一个离线计算框架，主要是针对静态 数据集得，数据是不能动态变化得。</p><h3 id="2-0-MapReduce实例进程"><a href="#2-0-MapReduce实例进程" class="headerlink" title="2.0 MapReduce实例进程"></a>2.0 MapReduce实例进程</h3><p>一个完整的MapReduce程序在分布式运行时有三类</p><ul><li>MRAppMaster：负责整个MR程序的过程调度及状态协调</li><li>MapTask：负责map阶段的整个数据处理流程</li><li>ReduceTask：负责reduce阶段的整个数据处理流程</li></ul><h3 id="2-1-阶段组成"><a href="#2-1-阶段组成" class="headerlink" title="2.1 阶段组成"></a>2.1 阶段组成</h3><ul><li>一个MapReduce编程模型中只能包含一个Map阶段和一个Reduce阶段，或者只有Map阶段；</li><li>不能有诸如多个map阶段、多个reduce阶段的情景出现； </li><li>如果用户的业务逻辑非常复杂，那就只能多个MapReduce程序串行运行。</li></ul><p><img src="https://s2.loli.net/2023/01/10/sr8W4CMHNZRFI7J.png" alt="image-20230110125013189"></p><h3 id="2-2-MapRedece数据类型"><a href="#2-2-MapRedece数据类型" class="headerlink" title="2.2 MapRedece数据类型"></a>2.2 MapRedece数据类型</h3><ul><li>注意：整个MapReduce程序中，数据都是以kv键值对的形式流转的；</li><li>在实际编程解决各种业务问题中，需要考虑每个阶段的输入输出kv分别是什么；</li><li>MapReduce内置了很多默认属性，比如排序、分组等，都和数据的k有关，所以说kv的类型数据确定及其重要的</li></ul><h3 id="2-3-map阶段的执行过程"><a href="#2-3-map阶段的执行过程" class="headerlink" title="2.3 map阶段的执行过程"></a>2.3 map阶段的执行过程</h3><ul><li>第一阶段：把输入目录下文件按照一定的标准逐个进行逻辑切片，形成切片规划。 默认Split size &#x3D; Block size（128M），每一个切片由一个MapTask处理。（getSplits）</li><li>第二阶段：对切片中的数据按照一定的规则读取解析返回对。 默认是按行读取数据。key是每一行的起始位置偏移量，value是本行的文本内容。（TextInputFormat）</li><li>第三阶段：调用Mapper类中的map方法处理数据。 每读取解析出来的一个 ，调用一次map方法。</li><li>第四阶段：按照一定的规则对Map输出的键值对进行分区partition。默认不分区，因为只有一个reducetask。 分区的数量就是reducetask运行的数量。</li><li>第五阶段：Map输出数据写入内存缓冲区，达到比例溢出到磁盘上。溢出spill的时候根据key进行排序sort。 默认根据key字典序排序。 </li><li>第六阶段：对所有溢出文件进行最终的merge合并，成为一个文件。</li></ul><h3 id="2-4-reduce阶段的执行过程"><a href="#2-4-reduce阶段的执行过程" class="headerlink" title="2.4 reduce阶段的执行过程"></a>2.4 reduce阶段的执行过程</h3><ul><li>第一阶段：ReduceTask会主动从MapTask复制拉取属于需要自己处理的数据。</li><li>第二阶段：把拉取来数据，全部进行合并merge，即把分散的数据合并成一个大的数据。再对合并后的数据排序 。 </li><li>第三阶段是对排序后的键值对调用reduce方法。键相等的键值对调用一次reduce方法。最后把这些输出的键值对 写入到HDFS文件中。</li></ul><h2 id="二-shffle概念"><a href="#二-shffle概念" class="headerlink" title="二 .shffle概念"></a>二 .shffle概念</h2><h3 id="1-1-shffle概念"><a href="#1-1-shffle概念" class="headerlink" title="1.1 shffle概念"></a>1.1 shffle概念</h3><ul><li>Shuffle的本意是洗牌、混洗的意思，把一组有规则的数据尽量打乱成无规则的数据。</li><li>而在MapReduce中，Shuffle更像是洗牌的逆过程，指的是将map端的无规则输出按指定的规则“打乱”成具有一 定规则的数据，以便reduce端接收处理。</li><li>一般把从Map产生输出开始到Reduce取得数据作为输入之前的过程称作shuffle。</li></ul><h3 id="1-2-Map端Shuffle"><a href="#1-2-Map端Shuffle" class="headerlink" title="1.2 Map端Shuffle"></a>1.2 Map端Shuffle</h3><ul><li>Collect阶段：将MapTask的结果收集输出到默认大小为100M的环形缓冲区，保存之前会对key进行分区的计算， 默认Hash分区。 </li><li>Spill阶段：当内存中的数据量达到一定的阀值的时候，就会将数据写入本地磁盘，在将数据写入磁盘之前需要对数 据进行一次排序的操作，如果配置了combiner，还会将有相同分区号和key的数据进行排序。</li><li>Merge阶段：把所有溢出的临时文件进行一次合并操作，以确保一个MapTask最终只产生一个中间数据文件。</li></ul><h3 id="1-3-Reducer端shuffle"><a href="#1-3-Reducer端shuffle" class="headerlink" title="1.3 Reducer端shuffle"></a>1.3 Reducer端shuffle</h3><ul><li>Copy阶段： ReduceTask启动Fetcher线程到已经完成MapTask的节点上复制一份属于自己的数据。</li><li>Merge阶段：在ReduceTask远程复制数据的同时，会在后台开启两个线程对内存到本地的数据文件进行合并操作 。 </li><li>Sort阶段：在对数据进行合并的同时，会进行排序操作，由于MapTask阶段已经对数据进行了局部的排序， ReduceTask只需保证Copy的数据的最终整体有效性即可。</li></ul><h3 id="1-4-shuffle弊端"><a href="#1-4-shuffle弊端" class="headerlink" title="1.4 shuffle弊端"></a>1.4 shuffle弊端</h3><ul><li>Shuffle是MapReduce程序的核心与精髓，是MapReduce的灵魂所在。 </li><li>Shuffle也是MapReduce被诟病最多的地方所在。MapReduce相比较于Spark、Flink计算引擎慢的原因，跟 Shuffle机制有很大的关系。</li><li>Shuffle中频繁涉及到数据在内存、磁盘之间的多次往复。</li></ul><h2 id="三-Hadoop-YARN介绍"><a href="#三-Hadoop-YARN介绍" class="headerlink" title="三.Hadoop YARN介绍"></a>三.Hadoop YARN介绍</h2><h3 id="1-1-YARN简介"><a href="#1-1-YARN简介" class="headerlink" title="1.1 YARN简介"></a>1.1 YARN简介</h3><ul><li>Apache Hadoop YARN （Yet Another Resource Negotiator，另一种资源协调者）是一种新的Hadoop资源管 理器。</li><li>YARN是一个通用资源管理系统和调度平台，可为上层应用提供统一的资源管理和调度。 </li><li>它的引入为集群在利用率、资源统一管理和数据共享等方面带来了巨大好处。</li></ul><p><img src="https://s2.loli.net/2023/01/10/PwjcanVFeWY7CDq.png" alt="image-20230110155522061"></p><h3 id="1-2-YARN-功能"><a href="#1-2-YARN-功能" class="headerlink" title="1.2 YARN 功能"></a>1.2 YARN 功能</h3><ul><li>资源管理系统：集群的硬件资源，和程序运行相关，比如内存、CPU等。</li><li>调度平台：多个程序同时申请计算资源如何分配，调度的规则（算法）。</li><li>通用：不仅仅支持MapReduce程序，理论上支持各种计算程序。YARN不关心你干什么，只关心你要资源，在有 的情况下给你，用完之后还我。</li></ul><h3 id="1-3-YARW概述"><a href="#1-3-YARW概述" class="headerlink" title="1.3 YARW概述"></a>1.3 YARW概述</h3><ul><li>可以把Hadoop YARN理解为相当于一个分布式的操作系统平台，而MapReduce等计算程序则相当于运行于操作 系统之上的应用程序，YARN为这些程序提供运算所需的资源（内存、CPU等）。 </li><li>Hadoop能有今天这个地位，YARN可以说是功不可没。因为有了YARN ，更多计算框架可以接入到 HDFS中，而 不单单是 MapReduce，正是因为YARN的包容，使得其他计算框架能专注于计算性能的提升。</li><li>HDFS可能不是最优秀的大数据存储系统，但却是应用最广泛的大数据存储系统， YARN功不可没。</li></ul><h3 id="1-4-YARW3大组件"><a href="#1-4-YARW3大组件" class="headerlink" title="1.4 YARW3大组件"></a>1.4 YARW3大组件</h3><ul><li>ResourceManager（RM）</li></ul><p>​YARN集群中的主角色，决定系统中所有应用程序之间资源分配的最终权限，即最终仲裁者。 接收用户的作业提交，并通过NM分配、管理各个机器上的计算资源。</p><ul><li>NodeManager（NM）</li></ul><p>​YARN中的从角色，一台机器上一个，负责管理本机器上的计算资源。 根据RM命令，启动Container容器、监视容器的资源使用情况。并且向RM主角色汇报资源使用情况。</p><ul><li>ApplicationMaster（AM）</li></ul><p>​用户提交的每个应用程序均包含一个AM。 应用程序内的“老大”，负责程序内部各阶段的资源申请，监督程序的执行情况。</p><h3 id="1-5-调度器策略"><a href="#1-5-调度器策略" class="headerlink" title="1.5 调度器策略"></a>1.5 调度器策略</h3><ul><li>三种调度器 FIFO Scheduler（先进先出调度器）、Capacity Scheduler（容量调度器）、Fair Scheduler（公平调度器）。</li><li>Apache版本YARN默认使用Capacity Scheduler。</li><li>如果需要使用其他的调度器，可以在yarn-site.xml中的yarn.resourcemanager.scheduler.class进行配置。</li></ul><h3 id="1-6-FIFO-Scheduler概述"><a href="#1-6-FIFO-Scheduler概述" class="headerlink" title="1.6 FIFO Scheduler概述"></a>1.6 FIFO Scheduler概述</h3><ul><li>FIFO Scheduler是Hadoop1.x中JobTracker原有的调度器实现，此调度器在YARN中保留了下来。 </li><li>FIFO Scheduler是一个先进先出的思想，即先提交的应用先运行。调度工作不考虑优先级和范围，适用于负载较低 的小规模集群。当使用大型共享集群时，它的效率较低且会导致一些问题。 </li><li>FIFO Scheduler拥有一个控制全局的队列queue，默认queue名称为default，该调度器会获取当前集群上所有的 资源信息作用于这个全局的queue。</li></ul><h4 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h4><ul><li>优势： 无需配置、先到先得、易于执行</li><li>坏处： 任务的优先级不会变高，因此高优先级的作业需要等待 不适合共享集群</li></ul>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MapReduce </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hive搭建教程</title>
      <link href="/posts/70607de9.html"/>
      <url>/posts/70607de9.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Hive3安装"><a href="#Hive3安装" class="headerlink" title="Hive3安装"></a>Hive3安装</h3><hr><h4 id="Mysql安装"><a href="#Mysql安装" class="headerlink" title="Mysql安装"></a>Mysql安装</h4><ul><li><p>卸载Centos7自带的mariadb</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# rpm -qa|grep mariadb</span><br><span class="line">mariadb-libs-5.5.64-1.el7.x86_64</span><br><span class="line"></span><br><span class="line">[root@node3 ~]# rpm -e mariadb-libs-5.5.64-1.el7.x86_64 --nodeps</span><br><span class="line">[root@node3 ~]# rpm -qa|grep mariadb                            </span><br><span class="line">[root@node3 ~]# </span><br></pre></td></tr></table></figure>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -e mariadb-libs --nodeps</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>安装mysql</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mkdir /export/software/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">上传mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar 到上述文件夹下  解压</span></span><br><span class="line">tar xvf mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行安装</span></span><br><span class="line">yum -y install libaio</span><br><span class="line"></span><br><span class="line">[root@node3 mysql]# rpm -ivh mysql-community-common-5.7.29-1.el7.x86_64.rpm mysql-community-libs-5.7.29-1.el7.x86_64.rpm mysql-community-client-5.7.29-1.el7.x86_64.rpm mysql-community-server-5.7.29-1.el7.x86_64.rpm </span><br><span class="line"></span><br><span class="line">warning: mysql-community-common-5.7.29-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</span><br><span class="line">Preparing...                          ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">   1:mysql-community-common-5.7.29-1.e################################# [ 25%]</span><br><span class="line">   2:mysql-community-libs-5.7.29-1.el7################################# [ 50%]</span><br><span class="line">   3:mysql-community-client-5.7.29-1.e################################# [ 75%]</span><br><span class="line">   4:mysql-community-server-5.7.29-1.e################                  ( 49%)</span><br></pre></td></tr></table></figure></li><li><p>mysql初始化设置</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">初始化</span></span><br><span class="line">mysqld --initialize</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">更改所属组</span></span><br><span class="line">chown mysql:mysql /var/lib/mysql -R</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动mysql</span></span><br><span class="line">systemctl start mysqld.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看生成的临时root密码</span></span><br><span class="line">cat  /var/log/mysqld.log</span><br><span class="line"></span><br><span class="line">[Note] A temporary password is generated for root@localhost: o+TU+KDOm004</span><br></pre></td></tr></table></figure></li><li><p>修改root密码 授权远程访问 设置开机自启动</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@node2 ~]# mysql -u root -p</span><br><span class="line">Enter password:     #这里输入在日志中生成的临时密码</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.29</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">更新root密码  设置为hadoop</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user user() identified by <span class="string">&quot;123456&quot;</span>;</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">授权</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">use mysql;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;12345&#x27;</span> WITH GRANT OPTION;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">FLUSH PRIVILEGES;</span> </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mysql的启动和关闭 状态查看 （这几个命令必须记住）</span></span><br><span class="line">systemctl stop mysqld</span><br><span class="line">systemctl status mysqld</span><br><span class="line">systemctl start mysqld</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">建议设置为开机自启动服务</span></span><br><span class="line">[root@node2 ~]# systemctl enable  mysqld                             </span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/mysqld.service to /usr/lib/systemd/system/mysqld.service.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看是否已经设置自启动成功</span></span><br><span class="line">[root@node2 ~]# systemctl list-unit-files | grep mysqld</span><br><span class="line">mysqld.service                                enabled </span><br></pre></td></tr></table></figure></li><li><p>Centos7 干净卸载mysql 5.7</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">关闭mysql服务</span></span><br><span class="line">systemctl stop mysqld.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查找安装mysql的rpm包</span></span><br><span class="line">[root@node3 ~]# rpm -qa | grep -i mysql      </span><br><span class="line">mysql-community-libs-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-common-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-client-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-server-5.7.29-1.el7.x86_64</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">卸载</span></span><br><span class="line">[root@node3 ~]# yum remove mysql-community-libs-5.7.29-1.el7.x86_64 mysql-community-common-5.7.29-1.el7.x86_64 mysql-community-client-5.7.29-1.el7.x86_64 mysql-community-server-5.7.29-1.el7.x86_64</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看是否卸载干净</span></span><br><span class="line">rpm -qa | grep -i mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查找mysql相关目录 删除</span></span><br><span class="line">[root@node1 ~]# find / -name mysql</span><br><span class="line">/var/lib/mysql</span><br><span class="line">/var/lib/mysql/mysql</span><br><span class="line">/usr/share/mysql</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# rm -rf /var/lib/mysql</span><br><span class="line">[root@node1 ~]# rm -rf /var/lib/mysql/mysql</span><br><span class="line">[root@node1 ~]# rm -rf /usr/share/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">删除默认配置 日志</span></span><br><span class="line">rm -rf /etc/my.cnf </span><br><span class="line">rm -rf /var/log/mysqld.log</span><br></pre></td></tr></table></figure></li></ul><hr><h4 id="Hive的安装"><a href="#Hive的安装" class="headerlink" title="Hive的安装"></a>Hive的安装</h4><ul><li><p>上传安装包 解压</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf apache-hive-3.1.2-bin.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解决Hive与Hadoop之间guava版本差异</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/</span><br><span class="line">rm -rf lib/guava-19.0.jar</span><br><span class="line">cp /export/server/hadoop-3.3.0/share/hadoop/common/lib/guava-27.0-jre.jar ./lib/</span><br></pre></td></tr></table></figure></li><li><p>修改配置文件</p><ul><li><p>hive-env.sh</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/conf</span><br><span class="line">mv hive-env.sh.template hive-env.sh</span><br><span class="line"></span><br><span class="line">vim hive-env.sh</span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export HIVE_CONF_DIR=/export/server/apache-hive-3.1.2-bin/conf</span><br><span class="line">export HIVE_AUX_JARS_PATH=/export/server/apache-hive-3.1.2-bin/lib</span><br></pre></td></tr></table></figure></li><li><p>hive-site.xml</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hive-site.xml</span><br></pre></td></tr></table></figure>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 存储元数据mysql相关配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://node1:3306/hive3?createDatabaseIfNotExist=true<span class="symbol">&amp;amp;</span>useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- H2S运行绑定host --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.bind.host<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>node1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 远程模式部署metastore metastore地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.uris<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>thrift://node1:9083<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 关闭元数据存储授权  --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.event.db.notification.api.auth<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p>上传mysql jdbc驱动到hive安装包lib下</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql-connector-java-5.1.32.jar</span><br></pre></td></tr></table></figure></li><li><p>初始化元数据</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/</span><br><span class="line"></span><br><span class="line">bin/schematool -initSchema -dbType mysql -verbos</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">初始化成功会在mysql中创建74张表</span></span><br></pre></td></tr></table></figure></li><li><p>在hdfs创建hive存储目录（如存在则不用操作）</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /tmp</span><br><span class="line">hadoop fs -mkdir -p /user/hive/warehouse</span><br><span class="line">hadoop fs -chmod g+w /tmp</span><br><span class="line">hadoop fs -chmod g+w /user/hive/warehouse</span><br></pre></td></tr></table></figure></li><li><p>&#x3D;&#x3D;启动hive&#x3D;&#x3D;</p><ul><li><p>1、启动metastore服务</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">前台启动  关闭ctrl+c</span></span><br><span class="line">/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">前台启动开启debug日志</span></span><br><span class="line">/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore --hiveconf hive.root.logger=DEBUG,console  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">后台启动 进程挂起  关闭使用jps+ <span class="built_in">kill</span> -9</span></span><br><span class="line">nohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &amp;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>2、启动hiveserver2服务</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &amp;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">注意 启动hiveserver2需要一定的时间  不要启动之后立即beeline连接 可能连接不上</span></span><br></pre></td></tr></table></figure></li><li><p>3、beeline客户端连接</p><ul><li><p>拷贝node1安装包到beeline客户端机器上（node3）</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/apache-hive-3.1.2-bin/ node3:/export/server/</span><br></pre></td></tr></table></figure></li><li><p>错误</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Could not open client transport with JDBC Uri: jdbc:hive2://node1:10000: Failed to open new session: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.authorize.AuthorizationException): User: root is not allowed to impersonate root (state=08S01,code=0)</span><br></pre></td></tr></table></figure><ul><li><p>修改</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在hadoop的配置文件core-site.xml中添加如下属性：</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>连接访问</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/export/server/apache-hive-3.1.2-bin/bin/beeline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">! connect jdbc:hive2://node1:10000</span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">root</span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">直接回车</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p>错误解决：&#x3D;&#x3D;Hive3执行insert插入操作 statstask异常&#x3D;&#x3D;</p><ul><li><p>现象</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在执行insert + values操作的时候  虽然最终执行成功，结果正确。但是在执行日志中会出现如下的错误信息。</span><br></pre></td></tr></table></figure><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109144915808.png" alt="image-20201109144915808"></p></li><li><p>开启hiveserver2执行日志。查看详细信息</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2020-11-09 00:37:48,963 WARN  [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] metastore.RetryingMetaStoreClient: MetaStoreClient lost connection. Attempting to reconnect (1 of 1) after 1s. setPartitionColumnStatistics</span><br><span class="line"></span><br><span class="line">ERROR [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] exec.StatsTask: Failed to run stats task</span><br></pre></td></tr></table></figure><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145136486.png" alt="image-20201109145136486"></p></li><li><p>但是 &#x3D;&#x3D;此错误并不影响最终的插入语句执行成功&#x3D;&#x3D;。</p></li><li><p>分析原因和解决</p><ul><li><p>statstask是一个hive中用于统计插入等操作的状态任务  其返回结果如下</p><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145304560.png" alt="image-20201109145304560"></p></li><li><p>此信息类似于计数器 用于告知用户插入数据的相关信息 但是不影响程序的正常执行。</p></li><li><p>Hive新版本中 这是一个issues  临时解决方式如下</p><p>  <a href="https://community.cloudera.com/t5/Support-Questions/Hive-Metastore-Connection-Failure-then-Retry/td-p/151661">https://community.cloudera.com/t5/Support-Questions/Hive-Metastore-Connection-Failure-then-Retry/td-p/151661</a></p><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145621381.png" alt="image-20201109145621381"></p></li><li><p>&#x3D;&#x3D;在mysql metastore中删除 PART_COL_STATS这张表即可&#x3D;&#x3D;。</p></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据仓库基本概念</title>
      <link href="/posts/1d59ffb2.html"/>
      <url>/posts/1d59ffb2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-数据仓库基本概念"><a href="#一-数据仓库基本概念" class="headerlink" title="一.数据仓库基本概念"></a>一.数据仓库基本概念</h2><h3 id="1-1-数仓的概念"><a href="#1-1-数仓的概念" class="headerlink" title="1.1 数仓的概念"></a>1.1 数仓的概念</h3><ul><li>数据仓库（英语：Data Warehouse，简称数仓、DW）,是一个用于存储、分析、报告的数据系统。</li><li>数据仓库的目的是构建面向分析的集成化数据环境，分析结果为企业提供决策支持（Decision Support）。</li></ul><h3 id="1-2-数仓专注分析"><a href="#1-2-数仓专注分析" class="headerlink" title="1.2 数仓专注分析"></a>1.2 数仓专注分析</h3><ul><li>数据仓库本身并不“生产”任何数据，其数据来源于不同外部系统；</li><li>同时数据仓库自身也不需要“消费”任何的数据，其结果开放给各个外部应用使用； </li><li>这也是为什么叫“仓库”，而不叫“工厂”的原因。</li><li>联机事务处理系统（OLTP）正好可以满足上述业务需求开展, 其主要任务是执行联机事务处理。其基本特征是前台 接收的用户数据可以立即传送到后台进行处理，并在很短的时间内给出处理结果。</li></ul><p><img src="https://s2.loli.net/2023/01/10/jWScLwuIBsHQyKh.png" alt="image-20230110183603505"></p><ul><li>关系型数据库（RDBMS）是OLTP典型应用，比如：Oracle、MySQL、SQL Server等。</li></ul><p><img src="https://s2.loli.net/2023/01/10/eIlZCtndAuv9xLT.png" alt="image-20230110183658019"></p><ul><li><p>OLTP环境开展分析可行吗？</p><p>  可以，但是没必要 </p></li><li><p>OLTP系统的核心是面向业务，支持业务，支持事务。所有的业务操作可以分为读、写两种操作，一般来说读的压 力明显大于写的压力。如果在OLTP环境直接开展各种分析，有以下问题需要考虑：</p></li><li><p>数据分析也是对数据进行读取操作，会让读取压力倍增；</p></li><li><p>OLTP仅存储数周或数月的数据；</p></li><li><p>数据分散在不同系统不同表中，字段类型属性不统一；</p></li></ul><h3 id="1-3-数据仓库面世"><a href="#1-3-数据仓库面世" class="headerlink" title="1.3 数据仓库面世"></a>1.3 数据仓库面世</h3><ul><li>当分析所涉及数据规模较小的时候，在业务低峰期时可以在OLTP系统上开展直接分析。 </li><li>但为了更好的进行各种规模的数据分析，同时也不影响OLTP系统运行，此时需要构建一个集成统一的数据分析平 台。该平台的目的很简单：面向分析，支持分析，并且和OLTP系统解耦合。</li><li>基于这种需求，数据仓库的雏形开始在企业中出现了。</li></ul><h3 id="1-4-数据仓库的构建"><a href="#1-4-数据仓库的构建" class="headerlink" title="1.4 数据仓库的构建"></a>1.4 数据仓库的构建</h3><ul><li>如数仓定义所说,数仓是一个用于存储、分析、报告的数据系统，目的是构建面向分析的集成化数据环境。我们把 这种面向分析、支持分析的系统称之为OLAP（联机分析处理）系统。当然，数据仓库是OLAP系统的一种实现。 </li><li>中国人寿保险公司就可以基于分析决策需求，构建数仓平台。</li></ul><p><img src="https://s2.loli.net/2023/01/10/tgNlOMbUn287Bfe.png" alt="image-20230110184142713"></p><h3 id="1-5数据仓库的主要特征"><a href="#1-5数据仓库的主要特征" class="headerlink" title="1.5数据仓库的主要特征"></a>1.5数据仓库的主要特征</h3><ul><li>面向 主题</li></ul><p>​（Subject-Oriented）主题是一个抽象的概念，是较高层次上 数据综合、归类并进行分析利用的抽象</p><ul><li>集成 性</li></ul><p>​（Integrated）主题相关的数据通常会分布在多个操作型 系统中，彼此分散、独立、异构。需要集 成到数仓主题下。</p><ul><li>非易 失性</li></ul><p>​(Non-Volatile)也叫非易变性。数据仓库是分析数 据的平台，而不是创造数据的平台。</p><ul><li>时变 性</li></ul><p>​(Time-Variant)数据仓库的数据需要随着时间更新，以适 应决策的需要。</p><h4 id="1-5-1-面向主题性（Subject-Oriented）"><a href="#1-5-1-面向主题性（Subject-Oriented）" class="headerlink" title="1. 5.1 面向主题性（Subject-Oriented）"></a>1. 5.1 面向主题性（Subject-Oriented）</h4><ul><li>主题是一个抽象的概念，是较高层次上企业信息系统中的数据综合、归类并进行分析利用的抽象。在逻辑意义上， 它是对应企业中某一宏观分析领域所涉及的分析对象。</li><li>传统OLTP系统对数据的划分并不适用于决策分析。而基于主题组织的数据则不同，它们被划分为各自独立的领域 ，每个领域有各自的逻辑内涵但互不交叉，在抽象层次上对数据进行完整、一致和准确的描述。</li></ul><h4 id="1-5-2-集成性（Integrated）"><a href="#1-5-2-集成性（Integrated）" class="headerlink" title="1.5.2 集成性（Integrated）"></a>1.5.2 集成性（Integrated）</h4><ul><li>主题相关的数据通常会分布在多个操作型系统中，彼此分散、独立、异构。</li><li>因此在数据进入数据仓库之前，必然要经过统一与综合，对数据进行抽取、清理、转换和汇总，这一步是数据仓库 建设中最关键、最复杂的一步，所要完成的工作有：</li><li>要统一源数据中所有矛盾之处； 如字段的同名异义、异名同义、单位不统一、字长不一致等等。 </li><li>进行数据综合和计算。 数据仓库中的数据综合工作可以在从原有数据库抽取数据时生成，但许多是在数据仓库内部生成的，即进入数据仓库以 后进行综合生成的。</li></ul><h4 id="1-5-3-非易失性、非异变性（Non-Volatile）"><a href="#1-5-3-非易失性、非异变性（Non-Volatile）" class="headerlink" title="1.5.3 非易失性、非异变性（Non-Volatile）"></a>1.5.3 非易失性、非异变性（Non-Volatile）</h4><ul><li>数据仓库是分析数据的平台，而不是创造数据的平台。我们是通过数仓去分析数据中的规律，而不是去创造修改其 中的规律。因此数据进入数据仓库后，它便稳定且不会改变。 </li><li>数据仓库的数据反映的是一段相当长的时间内历史数据的内容，数据仓库的用户对数据的操作大多是数据查询或比 较复杂的挖掘，一旦数据进入数据仓库以后，一般情况下被较长时间保留。 </li><li>数据仓库中一般有大量的查询操作，但修改和删除操作很少。</li></ul><h4 id="1-5-4-时变性（Time-Variant"><a href="#1-5-4-时变性（Time-Variant" class="headerlink" title="1.5.4 时变性（Time-Variant)"></a>1.5.4 时变性（Time-Variant)</h4><ul><li>数据仓库包含各种粒度的历史数据，数据可能与某个特定日期、星期、月份、季度或者年份有关。 </li><li>当业务变化后会失去时效性。因此数据仓库的数据需要随着时间更新，以适应决策的需要。</li><li>从这个角度讲，数据仓库建设是一个项目，更是一个过程 。</li></ul><h2 id="二-数仓开发语言概述"><a href="#二-数仓开发语言概述" class="headerlink" title="二.数仓开发语言概述"></a>二.数仓开发语言概述</h2><h3 id="1-1-数据仓库开发语言概述"><a href="#1-1-数据仓库开发语言概述" class="headerlink" title="1.1 数据仓库开发语言概述"></a>1.1 数据仓库开发语言概述</h3><ul><li>数仓作为面向分析的数据平台，其主职工作就是对存储在其中的数据开展分析，那么如何读取数据分析呢？</li><li>理论上来说，任何一款编程语言只要具备读写数据、处理数据的能力，都可以用于数仓的开发。比如大家耳熟能详 的C、java、Python等；</li><li>关键在于编程语言是否易学、好用、功能是否强大。遗憾的是上面所列出的C、Python等编程语言都需要一定的时 间进行语法的学习，并且学习语法之后还需要结合分析的业务场景进行编码，跑通业务逻辑。</li><li>不管从学习成本还是开发效率来说，上述所说的编程语言都不是十分友好的。</li><li>在数据分析领域，不得不提的就是SQL编程语言，应该称之为分析领域主流开发语言。</li></ul><h3 id="1-2-SQL语言介绍"><a href="#1-2-SQL语言介绍" class="headerlink" title="1.2 SQL语言介绍"></a>1.2 SQL语言介绍</h3><ul><li>结构化查询语言（Structured Query Language）简称SQL，是一种数据库查询和程序设计语言，用于存取数据 以及查询、更新和管理数据。 </li><li>SQL语言使我们有能力访问数据库，并且SQL是一种ANSI（美国国家标准化组织）的标准计算机语言，各大数据库 厂商在生产数据库软件的时候，几乎都会去支持SQL的语法，以使得用户在使用软件时更加容易上手，以及在不同 厂商软件之间进行切换时更加适应，因为大家的SQL语法都差不多。 </li><li>SQL语言功能很强，十分简洁，核心功能只用了9个动词。语法接近英语口语，所以，用户很容易学习和使用。</li></ul><h3 id="1-3-数据仓库与SQL"><a href="#1-3-数据仓库与SQL" class="headerlink" title="1.3 数据仓库与SQL"></a>1.3 数据仓库与SQL</h3><ul><li>虽然SQL语言本身是针对数据库软件设计的，但是在数据仓库领域，尤其是大数据数仓领域，很多数仓软件都会去 支持SQL语法； </li><li>原因在于一是用户学习SQL成本低，二是SQL语言对于数据分析真的十分友好，爱不释手。</li></ul><h3 id="1-4-结构化数据"><a href="#1-4-结构化数据" class="headerlink" title="1.4 结构化数据"></a>1.4 结构化数据</h3><ul><li>结构化数据也称作行数据，是由二维表结构来逻辑表达和实现的数据，严格地遵循数据格式与长度规范，主要通过 关系型数据库进行存储和管理。 </li><li>与结构化数据相对的是不适于由数据库二维表来表现的非结构化数据，包括所有格式的办公文档、XML、HTML、 各类报表、图片和音频、视频信息等。 </li><li>通俗来说，结构化数据会有严格的行列对齐，便于解读与理解。</li></ul><p><img src="https://s2.loli.net/2023/01/11/GCN3SejQTUAlaxF.png" alt="image-20230111131756447"></p><h3 id="1-5-二维表结构"><a href="#1-5-二维表结构" class="headerlink" title="1.5 二维表结构"></a>1.5 二维表结构</h3><ul><li>表由一个名字标识（例如“客户”或者“订单”），叫做表名。表包含带有数据的记录（行）。</li><li>下面的例子是一个名为 “Persons” 的表，包含三条记录（每一条对应一个人）和五个列（Id、姓、名、地址和 城市）。</li></ul><p><img src="https://s2.loli.net/2023/01/11/MBToR7AHjYugsbk.png" alt="image-20230111131922847"></p><h3 id="1-6-SQL语法分类"><a href="#1-6-SQL语法分类" class="headerlink" title="1.6 SQL语法分类"></a>1.6 SQL语法分类</h3><p>​SQL主要语法分为两个部分：数据定义语言 (DDL)和数据操纵语言 (DML) 。</p><ul><li><p>DDL语法使我们有能力创建或删除表，以及数据库、索引等各种对象，但是不涉及表中具体数据操作：</p><ul><li><p>CREATE DATABASE - 创建新数据库</p></li><li><p>CREATE TABLE - 创建新表</p></li></ul></li><li><p>DML语法是我们有能力针对表中的数据进行插入、更新、删除、查询操作：</p><ul><li><p>SELECT - 从数据库表中获取数据 </p></li><li><p>UPDATE - 更新数据库表中的数据 </p></li><li><p>DELETE - 从数据库表中删除数据 </p></li><li><p>INSERT - 向数据库表中插入数据</p></li></ul></li></ul><h3 id="三-Apache-Hive-入门"><a href="#三-Apache-Hive-入门" class="headerlink" title="三 .Apache Hive 入门"></a>三 .Apache Hive 入门</h3><h3 id="1-1-什么是Hive"><a href="#1-1-什么是Hive" class="headerlink" title="1.1 什么是Hive"></a>1.1 什么是Hive</h3><ul><li>Apache Hive是一款建立在Hadoop之上的开源数据仓库系统，可以将存储在Hadoop文件中的结构化、半结构化 数据文件映射为一张数据库表，基于表提供了一种类似SQL的查询模型，称为Hive查询语言（HQL），用于访问和 分析存储在Hadoop文件中的大型数据集。</li><li>Hive核心是将HQL转换为MapReduce程序，然后将程序提交到Hadoop群集执行。</li><li>Hive由Facebook实现并开源。</li></ul><p><img src="https://s2.loli.net/2023/01/11/mgMXyZ3pdcC1NEr.png" alt="image-20230111132444336"></p><h3 id="1-2-为什么使用Hive"><a href="#1-2-为什么使用Hive" class="headerlink" title="1.2 为什么使用Hive"></a>1.2 为什么使用Hive</h3><ul><li><p>使用Hadoop MapReduce直接处理数据所面临的问题 </p><ul><li>人员学习成本太高 需要掌握java语言 </li><li>MapReduce实现复杂查询逻辑开发难度太大</li></ul></li><li><p>使用Hive处理数据的好处</p><ul><li>操作接口采用类SQL语法，提供快速开发的能力（简单、容易上手）</li><li>避免直接写MapReduce，减少开发人员的学习成本 支持自定义函数，功能扩展很方便</li><li>背靠Hadoop，擅长存储分析海量数据集</li></ul></li></ul><h3 id="1-3-Hive-和Hadoop关系"><a href="#1-3-Hive-和Hadoop关系" class="headerlink" title="1.3 Hive 和Hadoop关系"></a>1.3 Hive 和Hadoop关系</h3><ul><li>从功能来说，数据仓库软件，至少需要具备下述两种能力： 存储数据的能力、分析数据的能力</li><li>Apache Hive作为一款大数据时代的数据仓库软件，当然也具备上述两种能力。只不过Hive并不是自己实现了上述 两种能力，而是借助Hadoop。<ul><li>Hive利用HDFS存储数据，利用MapReduce查询分析数据。</li></ul></li><li>这样突然发现Hive没啥用，不过是套壳Hadoop罢了。其实不然，Hive的最大的魅力在于用户专注于编写HQL，<ul><li>Hive帮您转换成为MapReduce程序完成对数据的分析。</li></ul></li></ul><h3 id="1-4-Hive架构"><a href="#1-4-Hive架构" class="headerlink" title="1.4 Hive架构"></a>1.4 Hive架构</h3><p><img src="https://s2.loli.net/2023/01/11/KGpDYS2xMCEtm8P.png" alt="image-20230111134151513"></p><h3 id="1-5-Hive组件"><a href="#1-5-Hive组件" class="headerlink" title="1.5 Hive组件"></a>1.5 Hive组件</h3><ul><li><h4 id="用户接口"><a href="#用户接口" class="headerlink" title="用户接口"></a>用户接口</h4></li></ul><p>​包括 CLI、JDBC&#x2F;ODBC、WebGUI。其中，CLI(command line interface)为shell命令行；Hive中的Thrift服务器允许 外部客户端通过网络与Hive进行交互，类似于JDBC或ODBC协议。WebGUI是通过浏览器访问Hive。</p><ul><li><h4 id="元数据存储"><a href="#元数据存储" class="headerlink" title="元数据存储"></a>元数据存储</h4></li></ul><p>​通常是存储在关系数据库如 mysql&#x2F;derby中。Hive 中的元数据包括表的名字，表的列和分区及其属性，表的属性（是 否为外部表等），表的数据所在目录等。</p><ul><li><h4 id="Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器"><a href="#Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器" class="headerlink" title="Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器"></a>Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器</h4></li></ul><p>​完成 HQL 查询语句从词法分析、语法分析、编译、优化以及查询计划的生成。生成的查询计划存储在 HDFS 中，并在 随后有执行引擎调用执行。</p><ul><li><h4 id="执行引擎"><a href="#执行引擎" class="headerlink" title="执行引擎"></a>执行引擎</h4></li></ul><p>​Hive本身并不直接处理数据文件。而是通过执行引擎处理。当下Hive支持MapReduce、Tez、Spark3种执行引擎。</p>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.基于Zookeeper环境搭建Hadoop高可用集群</title>
      <link href="/posts/b4e8f16.html"/>
      <url>/posts/b4e8f16.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="基于zookeeeper搭建Hadoop高可用集群"><a href="#基于zookeeeper搭建Hadoop高可用集群" class="headerlink" title="基于zookeeeper搭建Hadoop高可用集群"></a>基于zookeeeper搭建Hadoop高可用集群</h2><h2 id="一、高可用简介"><a href="#一、高可用简介" class="headerlink" title="一、高可用简介"></a>一、高可用简介</h2><p>Hadoop 高可用 (High Availability) 分为 HDFS 高可用和 YARN 高可用，两者的实现基本类似，但 HDFS NameNode 对数据存储及其一致性的要求比 YARN ResourceManger 高得多，所以它的实现也更加复杂，故下面先进行讲解：</p><h3 id="1-1-高可用整体架构"><a href="#1-1-高可用整体架构" class="headerlink" title="1.1 高可用整体架构"></a>1.1 高可用整体架构</h3><p>HDFS 高可用架构如下：</p><p><img src="https://s2.loli.net/2023/03/25/OdKJHyBRiVPWmhs.png" alt="img"></p><p>HDFS 高可用架构主要由以下组件所构成：</p><ul><li><strong>Active NameNode 和 Standby NameNode</strong>：两台 NameNode 形成互备，一台处于 Active 状态，为主 NameNode，另外一台处于 Standby 状态，为备 NameNode，只有主 NameNode 才能对外提供读写服务。</li><li><strong>主备切换控制器 ZKFailoverController</strong>：ZKFailoverController 作为独立的进程运行，对 NameNode 的主备切换进行总体控制。ZKFailoverController 能及时检测到 NameNode 的健康状况，在主 NameNode 故障时借助 Zookeeper 实现自动的主备选举和切换，当然 NameNode 目前也支持不依赖于 Zookeeper 的手动主备切换。</li><li><strong>Zookeeper 集群</strong>：为主备切换控制器提供主备选举支持。</li><li><strong>共享存储系统</strong>：共享存储系统是实现 NameNode 的高可用最为关键的部分，共享存储系统保存了 NameNode 在运行过程中所产生的 HDFS 的元数据。主 NameNode 和 NameNode 通过共享存储系统实现元数据同步。在进行主备切换的时候，新的主 NameNode 在确认元数据完全同步之后才能继续对外提供服务。</li><li><strong>DataNode 节点</strong>：除了通过共享存储系统共享 HDFS 的元数据信息之外，主 NameNode 和备 NameNode 还需要共享 HDFS 的数据块和 DataNode 之间的映射关系。DataNode 会同时向主 NameNode 和备 NameNode 上报数据块的位置信息。</li></ul><h3 id="1-2-基于-QJM-的共享存储系统的数据同步机制分析"><a href="#1-2-基于-QJM-的共享存储系统的数据同步机制分析" class="headerlink" title="1.2 基于 QJM 的共享存储系统的数据同步机制分析"></a>1.2 基于 QJM 的共享存储系统的数据同步机制分析</h3><p>目前 Hadoop 支持使用 Quorum Journal Manager (QJM) 或 Network File System (NFS) 作为共享的存储系统，这里以 QJM 集群为例进行说明：Active NameNode 首先把 EditLog 提交到 JournalNode 集群，然后 Standby NameNode 再从 JournalNode 集群定时同步 EditLog，当 Active NameNode 宕机后， Standby NameNode 在确认元数据完全同步之后就可以对外提供服务。</p><p>需要说明的是向 JournalNode 集群写入 EditLog 是遵循 “过半写入则成功” 的策略，所以你至少要有 3 个 JournalNode 节点，当然你也可以继续增加节点数量，但是应该保证节点总数是奇数。同时如果有 2N+1 台 JournalNode，那么根据过半写的原则，最多可以容忍有 N 台 JournalNode 节点挂掉。</p><p><img src="https://s2.loli.net/2023/03/25/NrjMiIC6RbSqp2Z.png" alt="img"></p><h3 id="1-3-NameNode-主备切换"><a href="#1-3-NameNode-主备切换" class="headerlink" title="1.3 NameNode 主备切换"></a>1.3 NameNode 主备切换</h3><p>NameNode 实现主备切换的流程下图所示：</p><p><img src="https://s2.loli.net/2023/03/25/4kJG73UPuAZgisM.png" alt="img"></p><p>\1. HealthMonitor 初始化完成之后会启动内部的线程来定时调用对应 NameNode 的 HAServiceProtocol RPC 接口的方法，对 NameNode 的健康状态进行检测。</p><ol start="2"><li>HealthMonitor 如果检测到 NameNode 的健康状态发生变化，会回调 ZKFailoverController 注册的相应方法进行处理。</li><li>如果 ZKFailoverController 判断需要进行主备切换，会首先使用 ActiveStandbyElector 来进行自动的主备选举。 </li><li>ActiveStandbyElector 与 Zookeeper 进行交互完成自动的主备选举。</li><li>ActiveStandbyElector 在主备选举完成后，会回调 ZKFailoverController 的相应方法来通知当前的 NameNode 成为主 NameNode 或备 NameNode。</li><li>ZKFailoverController 调用对应 NameNode 的 HAServiceProtocol RPC 接口的方法将 NameNode 转换为 Active 状态或 Standby 状态。</li></ol><h4 id="1-3-1-自动触发主备选举"><a href="#1-3-1-自动触发主备选举" class="headerlink" title="1.3.1 自动触发主备选举"></a>1.3.1 自动触发主备选举</h4><p>NameNode 在选举成功后，会在 zk 上创建了一个 &#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveStandbyElectorLock 节点，而没有选举成功的备 NameNode 会监控这个节点，通过 Watcher 来监听这个节点的状态变化事件，ZKFC 的 ActiveStandbyElector 主要关注这个节点的 NodeDeleted 事件（这部分实现跟 Kafka 中 Controller 的选举一样）。</p><p>如果 Active NameNode 对应的 HealthMonitor 检测到 NameNode 的状态异常时， ZKFailoverController 会主动删除当前在 Zookeeper 上建立的临时节点 &#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveStandbyElectorLock，这样处于 Standby 状态的 NameNode 的 ActiveStandbyElector 注册的监听器就会收到这个节点的 NodeDeleted 事件。收到这个事件之后，会马上再次进入到创建 &#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveStandbyElectorLock 节点的流程，如果创建成功，这个本来处于 Standby 状态的 NameNode 就选举为主 NameNode 并随后开始切换为 Active 状态。</p><p>当然，如果是 Active 状态的 NameNode 所在的机器整个宕掉的话，那么根据 Zookeeper 的临时节点特性，&#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveStandbyElectorLock 节点会自动被删除，从而也会自动进行一次主备切换。</p><h4 id="1-3-2-HDFS-脑裂问题"><a href="#1-3-2-HDFS-脑裂问题" class="headerlink" title="1.3.2 HDFS 脑裂问题"></a>1.3.2 HDFS 脑裂问题</h4><p>在实际中，NameNode 可能会出现这种情况，NameNode 在垃圾回收（GC）时，可能会在长时间内整个系统无响应，因此，也就无法向 zk 写入心跳信息，这样的话可能会导致临时节点掉线，备 NameNode 会切换到 Active 状态，这种情况，可能会导致整个集群会有同时有两个 NameNode，这就是脑裂问题。</p><p>脑裂问题的解决方案是隔离（Fencing），主要是在以下三处采用隔离措施：</p><p>第三方共享存储：任一时刻，只有一个 NN 可以写入； DataNode：需要保证只有一个 NN 发出与管理数据副本有关的删除命令； Client：需要保证同一时刻只有一个 NN 能够对 Client 的请求发出正确的响应。 关于这个问题目前解决方案的实现如下：</p><p>ActiveStandbyElector 为了实现 fencing，会在成功创建 Zookeeper 节点 hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveStandbyElectorLock 从而成为 Active NameNode 之后，创建另外一个路径为 &#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveBreadCrumb 的持久节点，这个节点里面保存了这个 Active NameNode 的地址信息； Active NameNode 的 ActiveStandbyElector 在正常的状态下关闭 Zookeeper Session 的时候，会一起删除这个持久节点； 但如果 ActiveStandbyElector 在异常的状态下 Zookeeper Session 关闭 (比如前述的 Zookeeper 假死)，那么由于 &#x2F;hadoop-ha&#x2F;${dfs.nameservices}&#x2F;ActiveBreadCrumb 是持久节点，会一直保留下来，后面当另一个 NameNode 选主成功之后，会注意到上一个 Active NameNode 遗留下来的这个节点，从而会回调 ZKFailoverController 的方法对旧的 Active NameNode 进行 fencing。 在进行 fencing 的时候，会执行以下的操作：</p><p>首先尝试调用这个旧 Active NameNode 的 HAServiceProtocol RPC 接口的 transitionToStandby 方法，看能不能把它转换为 Standby 状态； 如果 transitionToStandby 方法调用失败，那么就执行 Hadoop 配置文件之中预定义的隔离措施。 Hadoop 目前主要提供两种隔离措施，通常会选择第一种：</p><p>sshfence：通过 SSH 登录到目标机器上，执行命令 fuser 将对应的进程杀死； shellfence：执行一个用户自定义的 shell 脚本来将对应的进程隔离。 只有在成功地执行完成 fencing 之后，选主成功的 ActiveStandbyElector 才会回调 ZKFailoverController 的 becomeActive 方法将对应的 NameNode 转换为 Active 状态，开始对外提供服务。</p><p>NameNode 选举的实现机制与 Kafka 的 Controller 类似，那么 Kafka 是如何避免脑裂问题的呢？</p><p>Controller 给 Broker 发送的请求中，都会携带 controller epoch 信息，如果 broker 发现当前请求的 epoch 小于缓存中的值，那么就证明这是来自旧 Controller 的请求，就会决绝这个请求，正常情况下是没什么问题的； 但是异常情况下呢？如果 Broker 先收到异常 Controller 的请求进行处理呢？现在看 Kafka 在这一部分并没有适合的方案； 正常情况下，Kafka 新的 Controller 选举出来之后，Controller 会向全局所有 broker 发送一个 metadata 请求，这样全局所有 Broker 都可以知道当前最新的 controller epoch，但是并不能保证可以完全避免上面这个问题，还是有出现这个问题的几率的，只不过非常小，而且即使出现了由于 Kafka 的高可靠架构，影响也非常有限，至少从目前看，这个问题并不是严重的问题。</p><h3 id="1-4-YARN高可用"><a href="#1-4-YARN高可用" class="headerlink" title="1.4 YARN高可用"></a>1.4 YARN高可用</h3><p>YARN ResourceManager 的高可用与 HDFS NameNode 的高可用类似，但是 ResourceManager 不像 NameNode ，没有那么多的元数据信息需要维护，所以它的状态信息可以直接写到 Zookeeper 上，并依赖 Zookeeper 来进行主备选举。</p><h2 id="二、集群规划"><a href="#二、集群规划" class="headerlink" title="二、集群规划"></a>二、集群规划</h2><p>按照高可用的设计目标：需要保证至少有两个 NameNode (一主一备) 和 两个 ResourceManager (一主一备) ，同时为满足“过半写入则成功”的原则，需要至少要有 3 个 JournalNode 节点。这里使用三台主机进行搭建，集群规划如下：</p><p><img src="https://s2.loli.net/2023/03/25/QLgVYCr4GanvzcB.png" alt="img"></p><h2 id="三、前置条件"><a href="#三、前置条件" class="headerlink" title="三、前置条件"></a>三、前置条件</h2><ul><li>所有服务器都安装有 JDK，安装步骤可以参见：<a href="https://www.cwwwxl.top/posts/51741172.html">Linux 下 JDK 的安装</a>；</li><li>搭建好 ZooKeeper 集群，搭建步骤可以参见：<a href="https://www.cwwwxl.top/posts/3bb5ed61.html">Zookeeper 单机环境和集群环境搭建</a></li><li>所有服务器之间都配置好 SSH 免密登录。</li></ul><h2 id="四、集群配置"><a href="#四、集群配置" class="headerlink" title="四、集群配置"></a>四、集群配置</h2><h3 id="4-1-下载并解压"><a href="#4-1-下载并解压" class="headerlink" title="4.1 下载并解压"></a>4.1 下载并解压</h3><p>下载 Hadoop。这里我下载的是 CDH 版本 Hadoop，下载地址为：<a href="http://archive.cloudera.com/cdh5/cdh/5/">http://archive.cloudera.com/cdh5/cdh/5/</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># tar -zvxf hadoop-2.6.0-cdh5.15.2.tar.gz </span><br></pre></td></tr></table></figure><h3 id="4-2-配置环境变量"><a href="#4-2-配置环境变量" class="headerlink" title="4.2 配置环境变量"></a>4.2 配置环境变量</h3><p>编辑 <code>profile</code> 文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/profile</span><br></pre></td></tr></table></figure><p>增加如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/usr/app/hadoop-2.6.0-cdh5.15.2</span><br><span class="line">export  PATH=$&#123;HADOOP_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p>执行 <code>source</code> 命令，使得配置立即生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="4-3-修改配置"><a href="#4-3-修改配置" class="headerlink" title="4.3 修改配置"></a>4.3 修改配置</h3><p>进入 <code>$&#123;HADOOP_HOME&#125;/etc/hadoop</code> 目录下，修改配置文件。各个配置文件内容如下：</p><h4 id="1-hadoop-env-sh"><a href="#1-hadoop-env-sh" class="headerlink" title="1. hadoop-env.sh"></a>1. hadoop-env.sh</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指定JDK的安装位置</span><br><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_201/</span><br></pre></td></tr></table></figure><h4 id="2-core-site-xml"><a href="#2-core-site-xml" class="headerlink" title="2. core-site.xml"></a>2. core-site.xml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 指定 namenode 的 hdfs 协议文件系统的通信地址 --&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://hadoop001:8020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 指定 hadoop 集群存储临时文件的目录 --&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/home/hadoop/tmp&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- ZooKeeper 集群的地址 --&gt;</span><br><span class="line">        &lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:2181,hadoop002:2181,hadoop003:2181&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- ZKFC 连接到 ZooKeeper 超时时长 --&gt;</span><br><span class="line">        &lt;name&gt;ha.zookeeper.session-timeout.ms&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;10000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="3-hdfs-site-xml"><a href="#3-hdfs-site-xml" class="headerlink" title="3. hdfs-site.xml"></a>3. hdfs-site.xml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 指定 HDFS 副本的数量 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;3&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- namenode 节点数据（即元数据）的存放位置，可以指定多个目录实现容错，多个目录用逗号分隔 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/home/hadoop/namenode/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- datanode 节点数据（即数据块）的存放位置 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/home/hadoop/datanode/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 集群服务的逻辑名称 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.nameservices&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mycluster&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- NameNode ID 列表--&gt;</span><br><span class="line">        &lt;name&gt;dfs.ha.namenodes.mycluster&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;nn1,nn2&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- nn1 的 RPC 通信地址 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn1&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:8020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- nn2 的 RPC 通信地址 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn2&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop002:8020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- nn1 的 http 通信地址 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.http-address.mycluster.nn1&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:50070&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- nn2 的 http 通信地址 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.http-address.mycluster.nn2&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop002:50070&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- NameNode 元数据在 JournalNode 上的共享存储目录 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;qjournal://hadoop001:8485;hadoop002:8485;hadoop003:8485/mycluster&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- Journal Edit Files 的存储目录 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/home/hadoop/journalnode/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 配置隔离机制，确保在任何给定时间只有一个 NameNode 处于活动状态 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;sshfence&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 使用 sshfence 机制时需要 ssh 免密登录 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/root/.ssh/id_rsa&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- SSH 超时时间 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.ha.fencing.ssh.connect-timeout&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;30000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 访问代理类，用于确定当前处于 Active 状态的 NameNode --&gt;</span><br><span class="line">        &lt;name&gt;dfs.client.failover.proxy.provider.mycluster&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 开启故障自动转移 --&gt;</span><br><span class="line">        &lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="4-yarn-site-xml"><a href="#4-yarn-site-xml" class="headerlink" title="4. yarn-site.xml"></a>4. yarn-site.xml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--配置 NodeManager 上运行的附属服务。需要配置成 mapreduce_shuffle 后才可以在 Yarn 上运行 MapReduce 程序。--&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 是否启用日志聚合 (可选) --&gt;</span><br><span class="line">        &lt;name&gt;yarn.log-aggregation-enable&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 聚合日志的保存时间 (可选) --&gt;</span><br><span class="line">        &lt;name&gt;yarn.log-aggregation.retain-seconds&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;86400&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 启用 RM HA --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM 集群标识 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;my-yarn-cluster&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM 的逻辑 ID 列表 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;rm1,rm2&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM1 的服务地址 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop002&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM2 的服务地址 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop003&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM1 Web 应用程序的地址 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.webapp.address.rm1&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop002:8088&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- RM2 Web 应用程序的地址 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.webapp.address.rm2&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop003:8088&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- ZooKeeper 集群的地址 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.zk-address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop001:2181,hadoop002:2181,hadoop003:2181&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 启用自动恢复 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.recovery.enabled&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!-- 用于进行持久化存储的类 --&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.store.class&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="5-mapred-site-xml"><a href="#5-mapred-site-xml" class="headerlink" title="5. mapred-site.xml"></a>5. mapred-site.xml</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--指定 mapreduce 作业运行在 yarn 上--&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="5-slaves"><a href="#5-slaves" class="headerlink" title="5. slaves"></a>5. slaves</h4><p>配置所有从属节点的主机名或 IP 地址，每行一个。所有从属节点上的 <code>DataNode</code> 服务和 <code>NodeManager</code> 服务都会被启动。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop001</span><br><span class="line">hadoop002</span><br><span class="line">hadoop003</span><br></pre></td></tr></table></figure><h3 id="4-4-分发程序"><a href="#4-4-分发程序" class="headerlink" title="4.4 分发程序"></a>4.4 分发程序</h3><p>将 Hadoop 安装包分发到其他两台服务器，分发后建议在这两台服务器上也配置一下 Hadoop 的环境变量。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 将安装包分发到hadoop002</span><br><span class="line">scp -r /usr/app/hadoop-2.6.0-cdh5.15.2/  hadoop002:/usr/app/</span><br><span class="line"># 将安装包分发到hadoop003</span><br><span class="line">scp -r /usr/app/hadoop-2.6.0-cdh5.15.2/  hadoop003:/usr/app/</span><br></pre></td></tr></table></figure><h2 id="五、启动集群"><a href="#五、启动集群" class="headerlink" title="五、启动集群"></a>五、启动集群</h2><h3 id="5-1-启动ZooKeeper"><a href="#5-1-启动ZooKeeper" class="headerlink" title="5.1 启动ZooKeeper"></a>5.1 启动ZooKeeper</h3><p>分别到三台服务器上启动 ZooKeeper 服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure><h3 id="5-2-启动Journalnode"><a href="#5-2-启动Journalnode" class="headerlink" title="5.2 启动Journalnode"></a>5.2 启动Journalnode</h3><p>分别到三台服务器的的 <code>$&#123;HADOOP_HOME&#125;/sbin</code> 目录下，启动 <code>journalnode</code> 进程：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop-daemon.sh start journalnode</span><br></pre></td></tr></table></figure><h3 id="5-3-初始化NameNode"><a href="#5-3-初始化NameNode" class="headerlink" title="5.3 初始化NameNode"></a>5.3 初始化NameNode</h3><p>在 <code>hadop001</code> 上执行 <code>NameNode</code> 初始化命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure><p>执行初始化命令后，需要将 <code>NameNode</code> 元数据目录的内容，复制到其他未格式化的 <code>NameNode</code> 上。元数据存储目录就是我们在 <code>hdfs-site.xml</code> 中使用 <code>dfs.namenode.name.dir</code> 属性指定的目录。这里我们需要将其复制到 <code>hadoop002</code> 上：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r /home/hadoop/namenode/data hadoop002:/home/hadoop/namenode/</span><br></pre></td></tr></table></figure><h3 id="5-4-初始化HA状态"><a href="#5-4-初始化HA状态" class="headerlink" title="5.4 初始化HA状态"></a>5.4 初始化HA状态</h3><p>在任意一台 <code>NameNode</code> 上使用以下命令来初始化 ZooKeeper 中的 HA 状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs zkfc -formatZK</span><br></pre></td></tr></table></figure><h3 id="5-5-启动HDFS"><a href="#5-5-启动HDFS" class="headerlink" title="5.5 启动HDFS"></a>5.5 启动HDFS</h3><p>进入到 <code>hadoop001</code> 的 <code>$&#123;HADOOP_HOME&#125;/sbin</code> 目录下，启动 HDFS。此时 <code>hadoop001</code> 和 <code>hadoop002</code> 上的 <code>NameNode</code> 服务，和三台服务器上的 <code>DataNode</code> 服务都会被启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure><h3 id="5-6-启动YARN"><a href="#5-6-启动YARN" class="headerlink" title="5.6 启动YARN"></a>5.6 启动YARN</h3><p>进入到 <code>hadoop002</code> 的 <code>$&#123;HADOOP_HOME&#125;/sbin</code> 目录下，启动 YARN。此时 <code>hadoop002</code> 上的 <code>ResourceManager</code> 服务，和三台服务器上的 <code>NodeManager</code> 服务都会被启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure><p>需要注意的是，这个时候 <code>hadoop003</code> 上的 <code>ResourceManager</code> 服务通常是没有启动的，需要手动启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn-daemon.sh start resourcemanager</span><br></pre></td></tr></table></figure><h2 id="六、查看集群"><a href="#六、查看集群" class="headerlink" title="六、查看集群"></a>六、查看集群</h2><h3 id="6-1-查看进程"><a href="#6-1-查看进程" class="headerlink" title="6.1 查看进程"></a>6.1 查看进程</h3><p>成功启动后，每台服务器上的进程应该如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 sbin]# jps</span><br><span class="line">4512 DFSZKFailoverController</span><br><span class="line">3714 JournalNode</span><br><span class="line">4114 NameNode</span><br><span class="line">3668 QuorumPeerMain</span><br><span class="line">5012 DataNode</span><br><span class="line">4639 NodeManager</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop002 sbin]# jps</span><br><span class="line">4499 ResourceManager</span><br><span class="line">4595 NodeManager</span><br><span class="line">3465 QuorumPeerMain</span><br><span class="line">3705 NameNode</span><br><span class="line">3915 DFSZKFailoverController</span><br><span class="line">5211 DataNode</span><br><span class="line">3533 JournalNode</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop003 sbin]# jps</span><br><span class="line">3491 JournalNode</span><br><span class="line">3942 NodeManager</span><br><span class="line">4102 ResourceManager</span><br><span class="line">4201 DataNode</span><br><span class="line">3435 QuorumPeerMain</span><br></pre></td></tr></table></figure><h3 id="6-2-查看Web-UI"><a href="#6-2-查看Web-UI" class="headerlink" title="6.2 查看Web UI"></a>6.2 查看Web UI</h3><p>HDFS 和 YARN 的端口号分别为 <code>50070</code> 和 <code>8080</code>，界面应该如下：</p><p>此时 hadoop001 上的 <code>NameNode</code> 处于可用状态：</p><p><img src="https://s2.loli.net/2023/03/25/81IZFx7PioeHctn.png" alt="img"></p><p>而 hadoop002 上的 <code>NameNode</code> 则处于备用状态：</p><p><img src="https://s2.loli.net/2023/03/25/Lg5eahyAn2z9Wsb.png" alt="img"></p><p>hadoop002 上的 <code>ResourceManager</code> 处于可用状态：</p><p><img src="https://s2.loli.net/2023/03/25/WpcmQEDG8gyt9wC.png" alt="img"></p><p>hadoop003 上的 <code>ResourceManager</code> 则处于备用状态：</p><p><img src="https://s2.loli.net/2023/03/25/n9dP4tFgQYeciMv.png" alt="img"></p><p>同时界面上也有 <code>Journal Manager</code> 的相关信息：</p><p><img src="https://s2.loli.net/2023/03/25/xVvk68wnzY9lHfB.png" alt="img"></p><p>## 七、集群的二次启动</p><p>上面的集群初次启动涉及到一些必要初始化操作，所以过程略显繁琐。但是集群一旦搭建好后，想要再次启用它是比较方便的，步骤如下（首选需要确保 ZooKeeper 集群已经启动）：</p><p>在 <code> hadoop001</code> 启动 HDFS，此时会启动所有与 HDFS 高可用相关的服务，包括 NameNode，DataNode 和 JournalNode：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure><p>在 <code>hadoop002</code> 启动 YARN：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-yarn.sh</span><br></pre></td></tr></table></figure><p>这个时候 <code>hadoop003</code> 上的 <code>ResourceManager</code> 服务通常还是没有启动的，需要手动启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn-daemon.sh start resourcemanager</span><br></pre></td></tr></table></figure><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>以上搭建步骤主要参考自官方文档：</p><ul><li><a href="https://hadoop.apache.org/docs/r3.1.2/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">HDFS High Availability Using the Quorum Journal Manager</a></li><li><a href="https://hadoop.apache.org/docs/r3.1.2/hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager High Availability</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.单机部署Hadoop</title>
      <link href="/posts/f9c30614.html"/>
      <url>/posts/f9c30614.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="单机部署Hadoop"><a href="#单机部署Hadoop" class="headerlink" title="单机部署Hadoop"></a>单机部署Hadoop</h1><h2 id="一、前置条件"><a href="#一、前置条件" class="headerlink" title="一、前置条件"></a>一、前置条件</h2><p>Hadoop 的运行依赖 JDK，需要预先安装，安装步骤见：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">JDK 1.8安装  上传 jdk-8u241-linux-x64.tar.gz到/export/server/目录下</span></span><br><span class="line">cd /export/server/</span><br><span class="line">tar -zxvf jdk-8u241-linux-x64.tar.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">解压完成之后进行重命名，在/export/server/这个路径下使用命令</span></span><br><span class="line">mv jdk-1.1.0 jdk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/export/server/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新加载环境变量文件</span></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证jdk 是否安装成功</span></span><br><span class="line">java -version</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二、配置免密登录"><a href="#二、配置免密登录" class="headerlink" title="二、配置免密登录"></a>二、配置免密登录</h2><p>Hadoop 组件之间需要基于 SSH 进行通讯。</p><h4 id="2-1-配置映射"><a href="#2-1-配置映射" class="headerlink" title="2.1 配置映射"></a>2.1 配置映射</h4><p>配置 ip 地址和主机名映射：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件末尾增加</span></span><br><span class="line">192.168.43.202  hadoop001</span><br></pre></td></tr></table></figure><h3 id="2-2-生成公私钥"><a href="#2-2-生成公私钥" class="headerlink" title="2.2 生成公私钥"></a>2.2 生成公私钥</h3><p>执行下面命令行生成公匙和私匙：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><h3 id="3-3-授权"><a href="#3-3-授权" class="headerlink" title="3.3 授权"></a>3.3 授权</h3><p>进入 <code>~/.ssh</code> 目录下，查看生成的公匙和私匙，并将公匙写入到授权文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@@hadoop001 sbin]#  cd ~/.ssh</span><br><span class="line">[root@@hadoop001 .ssh]# ll</span><br><span class="line">-rw-------. 1 root root 1675 3 月  15 09:48 id_rsa</span><br><span class="line">-rw-r--r--. 1 root root  388 3 月  15 09:48 id_rsa.pub</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">写入公匙到授权文件</span></span><br><span class="line">[root@hadoop001 .ssh]# cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line">[root@hadoop001 .ssh]# chmod 600 authorized_keys</span><br></pre></td></tr></table></figure><h2 id="三、Hadoop-HDFS-环境搭建"><a href="#三、Hadoop-HDFS-环境搭建" class="headerlink" title="三、Hadoop(HDFS)环境搭建"></a>三、Hadoop(HDFS)环境搭建</h2><h3 id="3-1-下载并解压"><a href="#3-1-下载并解压" class="headerlink" title="3.1 下载并解压"></a>3.1 下载并解压</h3><p>下载 Hadoop 安装包，这里我下载的是 CDH 版本的，下载地址为：<a href="http://archive.cloudera.com/cdh5/cdh/5/">http://archive.cloudera.com/cdh5/cdh/5/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">解压</span></span><br><span class="line">tar -zvxf hadoop-2.6.0-cdh5.15.2.tar.gz </span><br></pre></td></tr></table></figure><h3 id="3-2-配置环境变量"><a href="#3-2-配置环境变量" class="headerlink" title="3.2 配置环境变量"></a>3.2 配置环境变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vi /etc/profile</span></span><br></pre></td></tr></table></figure><p>配置环境变量：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME=/usr/app/hadoop-2.6.0-cdh5.15.2</span><br><span class="line">export  PATH=$&#123;HADOOP_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p>执行 <code>source</code> 命令，使得配置的环境变量立即生效：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">source</span> /etc/profile</span></span><br></pre></td></tr></table></figure><h3 id="3-3-修改Hadoop配置"><a href="#3-3-修改Hadoop配置" class="headerlink" title="3.3 修改Hadoop配置"></a>3.3 修改Hadoop配置</h3><p>进入 <code>$&#123;HADOOP_HOME&#125;/etc/hadoop/ </code> 目录下，修改以下配置：</p><h4 id="1-hadoop-env-sh"><a href="#1-hadoop-env-sh" class="headerlink" title="1. hadoop-env.sh"></a>1. hadoop-env.sh</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">JDK安装路径</span></span><br><span class="line">export  JAVA_HOME=/usr/java/jdk1.8.0_201/</span><br></pre></td></tr></table></figure><h4 id="2-core-site-xml"><a href="#2-core-site-xml" class="headerlink" title="2. core-site.xml"></a>2. core-site.xml</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--指定 namenode 的 hdfs 协议文件系统的通信地址--&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://hadoop001:8020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--指定 hadoop 存储临时文件的目录--&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/home/hadoop/tmp&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="3-hdfs-site-xml"><a href="#3-hdfs-site-xml" class="headerlink" title="3. hdfs-site.xml"></a>3. hdfs-site.xml</h4><p>指定副本系数和临时文件存储位置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--由于我们这里搭建是单机版本，所以指定 dfs 的副本系数为 1--&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="4-slaves"><a href="#4-slaves" class="headerlink" title="4. slaves"></a>4. slaves</h4><p>配置所有从属节点的主机名或 IP 地址，由于是单机版本，所以指定本机即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop001shell</span><br></pre></td></tr></table></figure><h3 id="3-4-关闭防火墙"><a href="#3-4-关闭防火墙" class="headerlink" title="3.4 关闭防火墙"></a>3.4 关闭防火墙</h3><p>不关闭防火墙可能导致无法访问 Hadoop 的 Web UI 界面：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看防火墙状态</span></span><br><span class="line">sudo firewall-cmd --state</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭防火墙:</span></span><br><span class="line">sudo systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><h3 id="3-5-初始化"><a href="#3-5-初始化" class="headerlink" title="3.5 初始化"></a>3.5 初始化</h3><p>第一次启动 Hadoop 时需要进行初始化，进入 <code>$&#123;HADOOP_HOME&#125;/bin/</code> 目录下，执行以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 bin]# ./hdfs namenode -format</span><br></pre></td></tr></table></figure><h3 id="3-6-启动HDFS"><a href="#3-6-启动HDFS" class="headerlink" title="3.6 启动HDFS"></a>3.6 启动HDFS</h3><p>进入 <code>$&#123;HADOOP_HOME&#125;/sbin/</code> 目录下，启动 HDFS：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 sbin]# ./start-dfs.sh</span><br></pre></td></tr></table></figure><h3 id="3-7-验证是否启动成功"><a href="#3-7-验证是否启动成功" class="headerlink" title="3.7 验证是否启动成功"></a>3.7 验证是否启动成功</h3><p>方式一：执行 <code>jps</code> 查看 <code>NameNode</code> 和 <code>DataNode</code> 服务是否已经启动：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 hadoop-2.6.0-cdh5.15.2]# jps</span><br><span class="line">9137 DataNode</span><br><span class="line">9026 NameNode</span><br><span class="line">9390 SecondaryNameNode</span><br></pre></td></tr></table></figure><p>方式二：查看 Web UI 界面，端口为 <code>50070</code>：</p><p><img src="https://s2.loli.net/2023/03/25/gGDXLxYf1uKUarN.png" alt="img"></p><h3 id="4-1-修改配置"><a href="#4-1-修改配置" class="headerlink" title="4.1 修改配置"></a>4.1 修改配置</h3><p>进入 <code>$&#123;HADOOP_HOME&#125;/etc/hadoop/ </code> 目录下，修改以下配置：</p><h4 id="1-mapred-site-xml"><a href="#1-mapred-site-xml" class="headerlink" title="1. mapred-site.xml"></a>1. mapred-site.xml</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果没有mapred-site.xml，则拷贝一份样例文件后再修改</span></span><br><span class="line">cp mapred-site.xml.template mapred-site.xml</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h4 id="2-yarn-site-xml"><a href="#2-yarn-site-xml" class="headerlink" title="2. yarn-site.xml"></a>2. yarn-site.xml</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;!--配置 NodeManager 上运行的附属服务。需要配置成 mapreduce_shuffle 后才可以在 Yarn 上运行 MapReduce 程序。--&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h3 id="4-2-启动服务"><a href="#4-2-启动服务" class="headerlink" title="4.2 启动服务"></a>4.2 启动服务</h3><p>进入 <code>$&#123;HADOOP_HOME&#125;/sbin/</code> 目录下，启动 YARN：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./start-yarn.sh</span><br></pre></td></tr></table></figure><h4 id="4-3-验证是否启动成功"><a href="#4-3-验证是否启动成功" class="headerlink" title="4.3 验证是否启动成功"></a>4.3 验证是否启动成功</h4><p>方式一：执行 <code>jps</code> 命令查看 <code>NodeManager</code> 和 <code>ResourceManager</code> 服务是否已经启动：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop001 hadoop-2.6.0-cdh5.15.2]# jps</span><br><span class="line">9137 DataNode</span><br><span class="line">9026 NameNode</span><br><span class="line">12294 NodeManager</span><br><span class="line">12185 ResourceManager</span><br><span class="line">9390 SecondaryNameNode</span><br></pre></td></tr></table></figure><p>方式二：查看 Web UI 界面，端口号为 <code>8088</code>：</p><p><img src="https://s2.loli.net/2023/03/25/6S1lwUYmvVON8Ks.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> Hadoop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack搭建</title>
      <link href="/posts/d0acfaca.html"/>
      <url>/posts/d0acfaca.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-OpenEuler镜像"><a href="#一-OpenEuler镜像" class="headerlink" title="一.OpenEuler镜像"></a>一.OpenEuler镜像</h2><h3 id="1-1-镜像"><a href="#1-1-镜像" class="headerlink" title="1.1 镜像"></a>1.1 镜像</h3><ul><li><p>下载j最新版的OpenEuler，在 <a href="https://repo.huaweicloud.com/openeuler/">https://repo.huaweicloud.com/openeuler/</a> 下载 <a href="https://repo.huaweicloud.com/openeuler/openEuler-22.03-LTS/ISO/x86_64/openEuler-22.03-LTS-x86_64-dvd.iso">openEuler-22.03-LTS-x86_64-dvd.iso</a></p></li><li><p>采用默认安装(最小化安装)即可，其中超级用户root的密码设置为 openeuler!23456 (系统要求用户密码长度至少8位，至少有3种字符)。</p></li></ul><table><thead><tr><th>控制节点 controller</th><th>IP:10.0.0.10</th><th>认证服务镜像服务监控服务计算服务网络服务Dashboard服务</th><th>httpd, mariadb, memcached, rabbitmq-server, etcd,  openstack-glance-api, openstack-nova-api, openstack-nova-scheduler, openstack-nova-conductor, openstack-nova-novncproxy,neutron-server,neutron-linuxbridge-agent,neutron-dhcp-agent,neutron-metadata-agent,neutron-l3-agent</th></tr></thead><tbody><tr><td>计算节点 compute-1</td><td>IP:10.0.0.11</td><td>计算服务网络服务</td><td>openstack-nova-compute,neutron-linuxbridge-agent</td></tr></tbody></table><h3 id="1-2控制节点"><a href="#1-2控制节点" class="headerlink" title="1.2控制节点"></a>1.2控制节点</h3><ul><li>设置网卡</li></ul><p><img src="https://s2.loli.net/2023/01/20/xGfeIinHTvBJjs9.png" alt="image-20230120154904058"></p><p><img src="https://s2.loli.net/2023/01/20/7yEXHURf6qsiO2l.png" alt="image-20230120154918889"></p><p><img src="https://s2.loli.net/2023/01/20/5SmXFCOJyz9kLfs.png" alt="image-20230120154934614"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname controller</span><br><span class="line">echo &quot;10.0.0.10 controller&quot; &gt;&gt; /etc/hosts</span><br><span class="line">echo &quot;10.0.0.11 compute-1&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line">sed -i &quot;s/BOOTPROTO=dhcp/BOOTPROTO=static/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">sed -i &quot;s/ONBOOT=no/ONBOOT=yes/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;IPADDR=10.0.0.10&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;NETMASK=255.255.255.0&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;PREFIX=24&quot;</span> &gt;&gt; /etc/sysconfig/netnwork-scripts/ifcfg-ens33</span></span><br><span class="line">echo &quot;GATEWAY=10.0.0.2&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS1=223.5.5.5&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS2=8.8.8.8&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">nmcli c reload</span><br><span class="line">nmcli c up ens33</span><br></pre></td></tr></table></figure><p>controller 为控制节点的域名，compute-1 为计算节点的域名</p><p>10.0.0.10为本地的IP址，255.255.255.0 为子网掩码，10.0.0.2 为网关地址， 223.5.5.5 &#x2F; 223.6.6.6 这是阿里云提供的DNS服务器，8.8.8.8 这是google提供的DNS服务器。nmcli 为网络服务的控制命令(network 服务不是默认，已经弃用，可以安装)</p><p>设置DNS的方法除了在网卡设置上DNS1&#x3D;x.x.x.x ，还可以编辑文件“&#x2F;etc&#x2F;resolv.conf” ，验证DNS </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;nameserver 223.5.5.5&quot; &gt;&gt; /etc/resolv.conf</span><br><span class="line">echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure><ul><li>验证dns</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig alidns.com</span><br></pre></td></tr></table></figure><h3 id="1-3-关闭swap分区，关闭SeLinux"><a href="#1-3-关闭swap分区，关闭SeLinux" class="headerlink" title="1.3 关闭swap分区，关闭SeLinux"></a>1.3 关闭swap分区，关闭SeLinux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br><span class="line">sed -i &#x27;/ swap / s/^\(.*\)$/#\1/g&#x27; /etc/fstab</span><br><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config</span><br><span class="line">systemctl disable firewalld &amp;&amp; systemctl stop firewalld</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-4-时间服务"><a href="#1-4-时间服务" class="headerlink" title="1.4 时间服务"></a>1.4 时间服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;/^pool/d&#x27; /etc/chrony.conf</span><br><span class="line">echo &quot;pool ntp.aliyun.com iburst&quot; &gt;&gt; /etc/chrony.conf</span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line">systemctl restart chronyd</span><br><span class="line">chronyc sources</span><br></pre></td></tr></table></figure><ul><li>ntp.aliyun.com 为阿里的NTP服务器，用于网络同步时间</li></ul><h3 id="1-5-修改内核参数"><a href="#1-5-修改内核参数" class="headerlink" title="1.5 修改内核参数"></a>1.5 修改内核参数</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.ipv4.ip_nonlocal_bind=1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.ip_forward=1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p </span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><h3 id="1-6-软件源（CentOS-stream）"><a href="#1-6-软件源（CentOS-stream）" class="headerlink" title="1.6 软件源（CentOS-stream）"></a>1.6 软件源（CentOS-stream）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install centos-release-openstack-train -y 安装t版本openstack</span><br><span class="line">relese </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install python-openstackclient -y</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install openstack-selinux -y</span></span><br></pre></td></tr></table></figure><h3 id="1-7-基础组件"><a href="#1-7-基础组件" class="headerlink" title="1.7 基础组件"></a>1.7 基础组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-release-wallaby </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install openstack-selinux -y</span></span><br><span class="line">yum install -y openstack-release-wallaby</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s /usr/bin/python3 /usr/bin/python</span></span><br><span class="line">git clone https://github.com/pixelb/crudini.git</span><br><span class="line">cd crudini</span><br><span class="line">python3 setup.py install</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s ~/crudini /usr/bin/crudini</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum config-manager --set-enabled PowerTools</span></span><br></pre></td></tr></table></figure><p>crudini的工具，在OpenEuler的源上是没有这个工具的，可以下载其源代码进行安装使用，本地应用使用python38进行安装使用。若是在CentOS8的数据源，可以直接安装，不需要下载源代码进行安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y crudini</span><br></pre></td></tr></table></figure><h3 id="1-8-数据库Mariadb"><a href="#1-8-数据库Mariadb" class="headerlink" title="1.8 数据库Mariadb"></a>1.8 数据库Mariadb</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mariadb mariadb-server python3-PyMySQL</span><br><span class="line">tee /etc/my.cnf.d/openstack.cnf &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">[mysqld]</span><br><span class="line">default-storage-engine = innodb</span><br><span class="line">innodb_file_per_table = on</span><br><span class="line">max_connections = 4096</span><br><span class="line">collation-server = utf8_general_ci</span><br><span class="line">character-set-server = utf8</span><br><span class="line">EOF</span><br><span class="line">systemctl enable mariadb &amp;&amp; systemctl start mariadb</span><br><span class="line">echo -e &quot;Y\n123456\n123456\nY\nn\nY\nY\n&quot; | mysql_secure_installation</span><br></pre></td></tr></table></figure><p>设置mariadb的超级用户root的密码为123456</p><h3 id="1-9-队列服务RabbitMQ"><a href="#1-9-队列服务RabbitMQ" class="headerlink" title="1.9 队列服务RabbitMQ"></a>1.9 队列服务RabbitMQ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y rabbitmq-server</span><br><span class="line">systemctl enable rabbitmq-server &amp;&amp; systemctl start rabbitmq-server</span><br><span class="line">rabbitmqctl add_user openstack 123456</span><br><span class="line">rabbitmqctl set_permissions openstack &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class="line">rabbitmq-plugins list</span><br><span class="line"></span><br><span class="line">rabbitmq-plugins enable rabbitmq_management rabbitmq_management_agent</span><br><span class="line">ss -tnl</span><br></pre></td></tr></table></figure><p>​开启图形化管理(rabbitmq_management,rabbitmq_management_agent)</p><p>ss -tnl 查看当前端口的使用情况。</p><h3 id="2-0-缓存服务Memcached"><a href="#2-0-缓存服务Memcached" class="headerlink" title="2.0 缓存服务Memcached"></a>2.0 缓存服务Memcached</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y memcached python3-memcached</span><br><span class="line">sed -i &quot;s/-l 127.0.0.1,::1/-l 127.0.0.1,::1,controller/g&quot; /etc/sysconfig/memcached</span><br><span class="line">systemctl enable memcached &amp;&amp; systemctl start memcached</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-1-键值对存储服务Etcd"><a href="#2-1-键值对存储服务Etcd" class="headerlink" title="2.1 键值对存储服务Etcd"></a>2.1 键值对存储服务Etcd</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">yum install -y etcd</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/etcd/etcd.conf</span><br><span class="line">rm -f /etc/etcd/etcd.conf</span><br><span class="line">tee /etc/etcd/etcd.conf &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">[Member]</span></span><br><span class="line">ETCD_NAME=&quot;controller&quot;</span><br><span class="line">ETCD_DATA_DIR=&quot;/var/lib/etcd/default.etcd&quot;</span><br><span class="line">ETCD_LISTEN_PEER_URLS=&quot;http://0.0.0.0:2380&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ETCD_LISTEN_PEER_URLS=<span class="string">&quot;http://10.0.0.10:2380&quot;</span></span></span><br><span class="line">ETCD_LISTEN_CLIENT_URLS=&quot;http://192.168.169.200:2379&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">[Clustering]</span></span><br><span class="line">ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://192.168.169.200:2380&quot;</span><br><span class="line">ETCD_ADVERTISE_CLIENT_URLS=&quot;http://192.168.169.200:2379&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER=&quot;controller=http://192.168.169.200:2380&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-01&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;</span><br><span class="line">EOF</span><br><span class="line">systemctl enable etcd </span><br><span class="line">systemctl start etcd</span><br></pre></td></tr></table></figure><h3 id="2-1认证服务keystone-Identity-Service"><a href="#2-1认证服务keystone-Identity-Service" class="headerlink" title="2.1认证服务keystone(Identity Service)"></a>2.1认证服务keystone(Identity Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE keystone&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#x27;keystone&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#x27;keystone&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">yum install -y openstack-keystone httpd python3-mod_wsgi</span><br><span class="line"></span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/keystone/keystone.conf</span><br><span class="line">crudini --set /etc/keystone/keystone.conf database connection mysql+pymysql://keystone:123456@controller/keystone</span><br><span class="line">crudini --set /etc/keystone/keystone.conf token provider fernet</span><br><span class="line">su -s /bin/sh -c &quot;keystone-manage db_sync&quot; keystone</span><br><span class="line">keystone-manage fernet_setup --keystone-user keystone --keystone-group keystone</span><br><span class="line">keystone-manage credential_setup --keystone-user keystone --keystone-group keystone</span><br><span class="line">keystone-manage bootstrap --bootstrap-password 123456 \</span><br><span class="line"> --bootstrap-admin-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-internal-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-public-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-region-id RegionOne</span><br><span class="line"></span><br><span class="line">echo &quot;ServerName controller&quot; &gt;&gt; /etc/httpd/conf/httpd.conf</span><br><span class="line">ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/</span><br><span class="line">systemctl enable httpd &amp;&amp; systemctl start httpd</span><br><span class="line">echo &quot;export OS_USERNAME=admin&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PASSWORD=123456&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PROJECT_NAME=admin&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_USER_DOMAIN_NAME=Default&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PROJECT_DOMAIN_NAME=Default&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_AUTH_URL=http://controller:5000/v3&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_IDENTITY_API_VERSION=3&quot; &gt;&gt; /etc/profile</span><br><span class="line">source /etc/profile</span><br><span class="line">yum install -y python2-openstackclient</span><br><span class="line">openstack project create --domain default --description &quot;Service Project&quot; service</span><br></pre></td></tr></table></figure><h3 id="2-2核验身份"><a href="#2-2核验身份" class="headerlink" title="2.2核验身份"></a>2.2核验身份</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openstack token issue</span><br><span class="line"></span><br><span class="line">systemctl status httpd memcached etcd rabbitmq-server mariadb</span><br></pre></td></tr></table></figure><h3 id="2-3-镜像服务glance-Image-Service"><a href="#2-3-镜像服务glance-Image-Service" class="headerlink" title="2.3 镜像服务glance(Image Service)"></a>2.3 镜像服务glance(Image Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE glance&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#x27;glance&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#x27;glance&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 glance</span><br><span class="line">openstack role add --project service --user glance admin</span><br><span class="line">openstack service create --name glance --description &quot;OpenStack Image&quot; image</span><br><span class="line">openstack endpoint create --region RegionOne image public http://controller:9292</span><br><span class="line">openstack endpoint create --region RegionOne image internal http://controller:9292</span><br><span class="line">openstack endpoint create --region RegionOne image admin http://controller:9292</span><br><span class="line"></span><br><span class="line">yum install -y openstack-glance</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/glance/glance-api.conf</span><br><span class="line">crudini --set /etc/glance/glance-api.conf database connection mysql+pymysql://glance:123456@controller/glance</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken username glance</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/glance/glance-api.conf paste_deploy flavor keystone</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store stores file,http</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store default_store file</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store filesystem_store_datadir /var/lib/glance/images</span><br><span class="line">su -s /bin/sh -c &quot;glance-manage db_sync&quot; glance</span><br><span class="line">systemctl enable openstack-glance-api &amp;&amp; systemctl start openstack-glance-api</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-4-上传镜像"><a href="#2-4-上传镜像" class="headerlink" title="2.4 上传镜像"></a>2.4 上传镜像</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/cirros-dev/cirros/releases/download/0.6.0/cirros-0.6.0-x86_64-disk.img</span><br><span class="line">openstack image create &quot;cirros&quot; --file cirros-0.6.0-x86_64-disk.img --disk-format qcow2 --container-format bare --public</span><br><span class="line">openstack image list</span><br></pre></td></tr></table></figure><h3 id="2-5-资源监控服务-Placement-Service"><a href="#2-5-资源监控服务-Placement-Service" class="headerlink" title="2.5 资源监控服务(Placement Service)"></a>2.5 资源监控服务(Placement Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE placement&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON placement.* TO &#x27;placement&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON placement.* TO &#x27;placement&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 placement</span><br><span class="line">openstack role add --project service --user placement admin</span><br><span class="line">openstack service create --name placement --description &quot;Placement API&quot; placement</span><br><span class="line">openstack endpoint create --region RegionOne placement public http://controller:8778</span><br><span class="line">openstack endpoint create --region RegionOne placement internal http://controller:8778</span><br><span class="line">openstack endpoint create --region RegionOne placement admin http://controller:8778</span><br><span class="line"></span><br><span class="line">yum install -y openstack-placement-api</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/placement/placement.conf</span><br><span class="line">crudini --set /etc/placement/placement.conf placement_database connection mysql+pymysql://placement:123456@controller/placement</span><br><span class="line">crudini --set /etc/placement/placement.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken username placement</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken password 123456</span><br><span class="line">su -s /bin/sh -c &quot;placement-manage db sync&quot; placement</span><br><span class="line">systemctl restart httpd </span><br></pre></td></tr></table></figure><h3 id="2-6-检查Placement安装结果"><a href="#2-6-检查Placement安装结果" class="headerlink" title="2.6 检查Placement安装结果"></a>2.6 检查Placement安装结果</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">placement-status upgrade check</span><br><span class="line">pip3 install osc-placement</span><br><span class="line">openstack --os-placement-api-version 1.2 resource class list --sort-column name</span><br><span class="line">openstack --os-placement-api-version 1.6 trait list --sort-column name</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-7-管理UI界面Dashboard"><a href="#2-7-管理UI界面Dashboard" class="headerlink" title="2.7 管理UI界面Dashboard"></a>2.7 <strong>管理UI界面Dashboard</strong></h3><p>功能：web方式管理云平台，建云主机，分配网络，配安全组，加云盘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-dashboard</span><br><span class="line">sed -i &quot;39c ALLOWED_HOSTS = [&#x27;*&#x27;]&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;94c CACHES = &#123;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;95c &#x27;default&#x27;: &#123;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;96c &#x27;BACKEND&#x27;: &#x27;django.core.cache.backends.memcached.MemcachedCache&#x27;,&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;97c &#x27;LOCATION&#x27;: &#x27;controller:11211&#x27;,&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;98c &#125;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;99c &#125;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;104c SESSION_ENGINE = &#x27;django.contrib.sessions.backends.cache&#x27;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;118c OPENSTACK_HOST = &quot;controller&quot;&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;119c OPENSTACK_KEYSTONE_URL = &quot;http://%s:5000/v3&quot; % OPENSTACK_HOST&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;123c TIME_ZONE = &quot;Asia/Shanghai&quot;&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line"></span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_API_VERSIONS = &#123;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;identity&quot;: 3,&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;image&quot;: 2,&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;volume&quot;: 3&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;&#125;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = &quot;default&quot;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_DEFAULT_ROLE = &quot;user&quot;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line"></span><br><span class="line">echo &quot;WEBROOT = &#x27;/dashboard/&#x27;&quot; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;WSGIApplicationGroup %&#123;GLOBAL&#125;&#x27; &gt;&gt; /etc/httpd/conf.d/openstack-dashboard.conf</span><br><span class="line">systemctl restart httpd memcached</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>安装完成，可访问 <a href="http://10.0.0.10/dashboard/">http://10.0.0.10/dashboard/</a> 查看 用户名 admin 密码 123456</p><hr><h3 id="2-8-计算服务-Nova-Service"><a href="#2-8-计算服务-Nova-Service" class="headerlink" title="2.8 计算服务(Nova Service)"></a>2.8 计算服务(Nova Service)</h3><p>功能：负责响应虚拟机创建请求、调度、销毁云主</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova_api&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova_cell0&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_cell0.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_cell0.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 nova</span><br><span class="line">openstack role add --project service --user nova admin</span><br><span class="line">openstack service create --name nova --description &quot;OpenStack Compute&quot; compute</span><br><span class="line">openstack endpoint create --region RegionOne compute public http://controller:8774/v2.1</span><br><span class="line">openstack endpoint create --region RegionOne compute internal http://controller:8774/v2.1</span><br><span class="line">openstack endpoint create --region RegionOne compute admin http://controller:8774/v2.1</span><br><span class="line">yum install -y openstack-nova-api openstack-nova-conductor openstack-nova-novncproxy openstack-nova-scheduler</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/nova/nova.conf</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute,metadata</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT transport_url rabbit://openstack:123456@controller:5672/</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT my_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/nova/nova.conf api_database connection mysql+pymysql://nova:123456@controller/nova_api</span><br><span class="line">crudini --set /etc/nova/nova.conf database connection mysql+pymysql://nova:123456@controller/nova</span><br><span class="line">crudini --set /etc/nova/nova.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken www_authenticate_uri http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_url http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken username nova</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc enabled true</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_listen &#x27;$my_ip&#x27;</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_proxyclient_address &#x27;$my_ip&#x27;</span><br><span class="line">crudini --set /etc/nova/nova.conf glance api_servers http://controller:9292</span><br><span class="line">crudini --set /etc/nova/nova.conf oslo_concurrency lock_path /var/lib/nova/tmp</span><br><span class="line">crudini --set /etc/nova/nova.conf placement region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf placement user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/nova/nova.conf placement username placement</span><br><span class="line">crudini --set /etc/nova/nova.conf placement password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf scheduler discover_hosts_in_cells_interval 300</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage api_db sync&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 map_cell0&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 create_cell --name=cell1 --verbose&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage db sync&quot; nova</span><br><span class="line">systemctl enable openstack-nova-api openstack-nova-scheduler openstack-nova-conductor openstack-nova-novncproxy </span><br><span class="line">systemctl start openstack-nova-api openstack-nova-scheduler openstack-nova-conductor openstack-nova-novncproxy</span><br></pre></td></tr></table></figure><h3 id="2-9-网络服务neutron-Networking-Service"><a href="#2-9-网络服务neutron-Networking-Service" class="headerlink" title="2.9 网络服务neutron(Networking Service)"></a>2.9 网络服务neutron(Networking Service)</h3><p>​功能：实现SDN（软件定义网络），提供一整套API,用户可以基于该API实现自己定义专属网络，不同厂商可以基于此API提供自己的产品实现.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE neutron&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#x27;neutron&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#x27;neutron&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 neutron</span><br><span class="line">openstack role add --project service --user neutron admin</span><br><span class="line">openstack service create --name neutron --description &quot;OpenStack Networking&quot; network</span><br><span class="line">openstack endpoint create --region RegionOne network public http://controller:9696</span><br><span class="line">openstack endpoint create --region RegionOne network internal http://controller:9696</span><br><span class="line">openstack endpoint create --region RegionOne network admin http://controller:9696</span><br><span class="line">yum install -y openstack-neutron openstack-neutron-ml2 openstack-neutron-linuxbridge ebtables</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-0配置服务器组件"><a href="#3-0配置服务器组件" class="headerlink" title="3.0配置服务器组件"></a>3.0配置服务器组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/neutron.conf</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT core_plugin ml2</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT service_plugins router</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT allow_overlapping_ips true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_status_changes true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_data_changes true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf database connection mysql+pymysql://neutron:123456@controller/neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken username neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/neutron/neutron.conf oslo_concurrency lock_path /var/lib/neutron/tmp</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova region_name RegionOne</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova username nova</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova password 123456</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-1-配置Modular-Layer-2-ML2-plug-in"><a href="#3-1-配置Modular-Layer-2-ML2-plug-in" class="headerlink" title="3.1 配置Modular Layer 2 (ML2) plug-in"></a>3.1 配置Modular Layer 2 (ML2) plug-in</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 type_drivers flat,vlan,vxlan</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types vxlan</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers linuxbridge,l2population</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers port_security</span><br><span class="line"></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks provider</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges 1:1000</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_ipset true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置Linux bridge agent</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">eth1为另外第二张网卡</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini linux_bridge physical_interface_mappings provider:ens33</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan enable_vxlan true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">10.0.0.12为第二张网卡的IP</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan local_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup enable_security_group true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup firewall_driver neutron.agent.linux.iptables_firewall.IptablesFirewallDriver</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置layer-3 agent</span></span><br><span class="line">sed -i &quot;2c interface_driver = linuxbridge&quot; /etc/neutron/l3_agent.ini</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置DHCP agent</span></span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/dhcp_agent.ini</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT interface_driver linuxbridge</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT dhcp_driver neutron.agent.linux.dhcp.Dnsmasq</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT enable_isolated_metadata true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置metadata agent</span></span><br><span class="line">crudini --set /etc/neutron/metadata_agent.ini DEFAULT nova_metadata_host controller</span><br><span class="line">crudini --set /etc/neutron/metadata_agent.ini DEFAULT metadata_proxy_shared_secret 123456</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置计算服务使用网络服务</span></span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron user_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron username neutron</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron service_metadata_proxy true</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron metadata_proxy_shared_secret 123456</span><br><span class="line">ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini</span><br><span class="line">su -s /bin/sh -c &quot;neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head&quot; neutron</span><br><span class="line">systemctl restart openstack-nova-api</span><br><span class="line">systemctl enable neutron-server neutron-linuxbridge-agent neutron-dhcp-agent neutron-metadata-agent </span><br><span class="line">systemctl start neutron-server neutron-linuxbridge-agent neutron-dhcp-agent neutron-metadata-agent</span><br><span class="line">systemctl enable neutron-l3-agent &amp;&amp; systemctl start neutron-l3-agent</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>验证</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack network agent list</span><br></pre></td></tr></table></figure><h4 id="Linuxbridge-换-openvswitch"><a href="#Linuxbridge-换-openvswitch" class="headerlink" title="Linuxbridge 换 openvswitch"></a>Linuxbridge 换 openvswitch</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/fengjian2016/p/16476413.html</span><br></pre></td></tr></table></figure><h3 id="3-2-块存储服务"><a href="#3-2-块存储服务" class="headerlink" title="3.2 块存储服务"></a>3.2 块存储服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE cinder&quot;</span><br><span class="line"></span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON cinder.* TO &#x27;cinder&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON cinder.* TO &#x27;cinder&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cinder用户</span></span><br><span class="line">openstack user create --domain default --password-prompt cinder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将admin角色添加到cinder用户</span></span><br><span class="line">openstack role add --project service --user cinder admin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cinderv2和cinderv3服务实体</span></span><br><span class="line">openstack service create --name cinderv2 --description &quot;OpenStack Block Storage&quot; volumev2  </span><br><span class="line">openstack service create --name cinderv3 --description &quot;OpenStack Block Storage&quot; volumev3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建块存储服务API端点</span></span><br><span class="line">openstack endpoint create --region RegionOne volumev2 public http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev2 internal http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev2 admin http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 public http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 internal http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 admin http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">yum -y install openstack-cinder</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/cinder/cinder.conf</span><br><span class="line">crudini --set /etc/cinder/cinder.conf database connection mysql+pymysql://cinder:123456@controller/cinder</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT my_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken username cinder</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken password Mss123456</span><br><span class="line">crudini --set /etc/cinder/cinder.conf oslo_concurrency lock_path /var/lib/cinder/tmp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同步数据库</span></span><br><span class="line">su -s /bin/sh -c &quot;cinder-manage db sync&quot; cinder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">计算配置为使用块存储</span></span><br><span class="line">crudini --set /etc/nova/nova.conf cinder os_region_name RegionOne  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开机启动和启动服务</span></span><br><span class="line">systemctl enable openstack-cinder-api openstack-cinder-scheduler</span><br><span class="line">systemctl start openstack-cinder-api openstack-cinder-scheduler</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二-计算节点"><a href="#二-计算节点" class="headerlink" title="二.计算节点"></a>二.计算节点</h2><h3 id="1-1-设置网卡"><a href="#1-1-设置网卡" class="headerlink" title="1.1 设置网卡"></a>1.1 设置网卡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname compute-1</span><br><span class="line">echo &quot;10.0.0.10 controller&quot; &gt;&gt; /etc/hosts</span><br><span class="line">echo &quot;10.0.0.11 compute-1&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line">sed -i &quot;s/BOOTPROTO=dhcp/BOOTPROTO=static/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">sed -i &quot;s/ONBOOT=no/ONBOOT=yes/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;IPADDR=10.0.0.11&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;NETMASK=255.255.255.0&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;GATEWAY=10.0.0.2&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS1=223.5.5.5&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS2=8.8.8.8&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">nmcli c reload</span><br><span class="line">nmcli c up ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>controller 为控制节点的域名，compute-1 为计算节点的域名</p><p>10.0.0.11为本地的IP址，255.255.255.0 为子网掩码，10.0.0.2 为网关地址， 223.5.5.5&#x2F;223.6.6.6 这是阿里云提供的DNS服务器，8.8.8.8 这是google提供的DNS服务器。nmcli 为网络服务的控制命令(network 服务不是默认，已经弃用，可以安装)</p><p>设置DNS的方法除了在网卡设置上DNS1&#x3D;x.x.x.x ，还可以编辑文件“&#x2F;etc&#x2F;resolv.conf” ，验证DNS </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;nameserver 223.5.5.5&quot; &gt;&gt; /etc/resolv.conf</span><br><span class="line">echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure><h3 id="1-2-验证DNs"><a href="#1-2-验证DNs" class="headerlink" title="1.2 验证DNs"></a>1.2 验证DNs</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig alidns.com</span><br></pre></td></tr></table></figure><h3 id="1-3-关闭swap分区，关闭SeLinux-1"><a href="#1-3-关闭swap分区，关闭SeLinux-1" class="headerlink" title="1.3 关闭swap分区，关闭SeLinux"></a>1.3 <strong>关闭swap分区，关闭SeLinux</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br><span class="line">sed -i &#x27;/ swap / s/^\(.*\)$/#\1/g&#x27; /etc/fstab</span><br><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config</span><br><span class="line">systemctl disable firewalld &amp;&amp; systemctl stop firewalld</span><br></pre></td></tr></table></figure><h3 id="1-4-时间服务-1"><a href="#1-4-时间服务-1" class="headerlink" title="1.4 时间服务"></a>1.4 时间服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y chrony</span><br><span class="line">sed -i &#x27;/^pool/d&#x27; /etc/chrony.conf</span><br><span class="line">sed -i &#x27;/^server/d&#x27; /etc/chrony.conf</span><br><span class="line">sed -i &#x27;2aserver controller iburst&#x27; /etc/chrony.conf</span><br><span class="line">echo &quot;pool ntp.aliyun.com iburst&quot; &gt;&gt; /etc/chrony.conf</span><br><span class="line">systemctl enable chronyd &amp;&amp; systemctl start chronyd</span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ntp.aliyun.com 为阿里的NTP服务器，用于网络同步时间</p><h3 id="1-5-基础组件"><a href="#1-5-基础组件" class="headerlink" title="1.5 基础组件"></a>1.5 基础组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-release-wallaby </span><br><span class="line">yum install -y python3-openstackclient</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install -y python38</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s /usr/bin/python3.8 /usr/bin/python</span></span><br><span class="line">git clone https://github.com/pixelb/crudini.git</span><br><span class="line">cd crudini</span><br><span class="line">python3 setup.py install</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s ~/crudini /usr/bin/crudini</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum config-manager --set-enabled PowerTools</span></span><br></pre></td></tr></table></figure><p>crudini的工具，在OpenEuler的源上是没有这个工具的，可以下载其源代码进行安装使用，本地应用使用python38进行安装使用。若是在CentOS8的数据源，可以直接安装，不需要下载源代码进行安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y crudini</span><br></pre></td></tr></table></figure><h3 id="1-6-计算服务nova-Compute-Service"><a href="#1-6-计算服务nova-Compute-Service" class="headerlink" title="1.6 计算服务nova(Compute Service)"></a>1.6 计算服务nova(Compute Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-nova-compute</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/nova/nova.conf</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute,metadata</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT my_ip 10.0.0.11</span><br><span class="line">crudini --set /etc/nova/nova.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken www_authenticate_uri http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_url http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken username nova</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc enabled true</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_listen 0.0.0.0</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_proxyclient_address &#x27;$my_ip&#x27; </span><br><span class="line">crudini --set /etc/nova/nova.conf vnc novncproxy_base_url http://controller:6080/vnc_auto.html</span><br><span class="line">crudini --set /etc/nova/nova.conf glance api_servers http://controller:9292</span><br><span class="line">crudini --set /etc/nova/nova.conf oslo_concurrency lock_path /var/lib/nova/tmp</span><br><span class="line">crudini --set /etc/nova/nova.conf placement region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf placement user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/nova/nova.conf placement username placement</span><br><span class="line">crudini --set /etc/nova/nova.conf placement password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf libvirt virt_type kvm</span><br><span class="line">systemctl enable libvirtd openstack-nova-compute</span><br><span class="line">systemctl start libvirtd openstack-nova-compute</span><br></pre></td></tr></table></figure><p>#执行命令，查看是否支持CPU虚拟化，如果大于0则支持</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -c &#x27;(vmx|svm)&#x27; /proc/cpuinfo</span><br></pre></td></tr></table></figure><p>#如果不支持的话还需要执行下面的命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crudini --set /etc/nova/nova.conf libvirt virt_type qemu</span><br><span class="line">systemctl restart libvirtd openstack-nova-compute</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">OpenEuler 22.3版出现openstack-nova-compute启动不成功，如下解决</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/lib/python3.9/site-packages/instances</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver</span><br></pre></td></tr></table></figure><p>#控制节点 计算节点从注册到发现会有延迟，根据discover_hosts_in_cells_interval 配置轮询发现时间，可以执行下面命令手动发现计算节点</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 discover_hosts --verbose&quot; nova</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者</span></span><br><span class="line">openstack compute service list --service nova-compute</span><br></pre></td></tr></table></figure><h3 id="1-7-网络服务"><a href="#1-7-网络服务" class="headerlink" title="1.7 网络服务"></a>1.7 网络服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-neutron-linuxbridge ebtables ipset</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/neutron.conf</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken username neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/neutron/neutron.conf oslo_concurrency lock_path /var/lib/neutron/tmp</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/plugins/ml2/linuxbridge_agent.ini</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自己的网卡</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini linux_bridge physical_interface_mappings provider:ens33</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan enable_vxlan true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自己的ip地址</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan local_ip 10.0.0.11</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup enable_security_group true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup firewall_driver neutron.agent.linux.iptables_firewall.IptablesFirewallDriver</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置计算服务使用网络服务</span></span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron user_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron username neutron</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron password 123456</span><br><span class="line">systemctl restart openstack-nova-compute</span><br><span class="line">systemctl enable neutron-linuxbridge-agent </span><br><span class="line">systemctl start neutron-linuxbridge-agent</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三-创建虚拟机"><a href="#三-创建虚拟机" class="headerlink" title="三 .创建虚拟机"></a>三 .创建虚拟机</h2><h3 id="1-1-创建虚拟网络"><a href="#1-1-创建虚拟网络" class="headerlink" title="1.1 创建虚拟网络"></a>1.1 创建虚拟网络</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 创建网络</span></span><br><span class="line">openstack network create  --share  --provider-physical-network provider --provider-network-type flat provider</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">2 查看</span></span><br><span class="line">openstack network list </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-2-创建子网"><a href="#1-2-创建子网" class="headerlink" title="1.2 创建子网"></a>1.2 创建子网</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 创建网络</span></span><br><span class="line">openstack subnet create --network provider \</span><br><span class="line">  --allocation-pool start=10.0.0.100,end=10.0.0.200 \</span><br><span class="line">  --dns-nameserver 10.0.0.2 --gateway 10.0.0.2 \</span><br><span class="line">  --subnet-range 10.0.0.0/24 provider-sub</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 查看</span></span><br><span class="line">openstack subnet list</span><br></pre></td></tr></table></figure><h3 id="1-3-创建主机规格"><a href="#1-3-创建主机规格" class="headerlink" title="1.3 创建主机规格"></a>1.3 创建主机规格</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">1 创建主机规格</span></span><br><span class="line">openstack flavor create --id 0 --vcpus 1 --ram 64 --disk 1 m1.nano</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">openstack flavor create 创建主机</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--<span class="built_in">id</span> 主机ID</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--vcpus cpu数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--ram 64（默认是MB，可以写成G）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--disk 磁盘（默认单位是G）</span></span><br></pre></td></tr></table></figure><h3 id="1-4-生成密钥对"><a href="#1-4-生成密钥对" class="headerlink" title="1.4 生成密钥对"></a>1.4 生成密钥对</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 生成密钥</span></span><br><span class="line">ssh-keygen -q -N &quot;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 上传密钥</span></span><br><span class="line">openstack keypair create --public-key ~/.ssh/id_rsa.pub mykey</span><br></pre></td></tr></table></figure><h3 id="1-5-添加安全组规则"><a href="#1-5-添加安全组规则" class="headerlink" title="1.5 添加安全组规则"></a>1.5 添加安全组规则</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许ICMP（ping）</span></span><br><span class="line">openstack security group rule create --proto icmp default</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许安全shell（SSH）访问</span></span><br><span class="line">openstack security group rule create --proto tcp --dst-port 22 default</span><br></pre></td></tr></table></figure><h3 id="1-6-查看创建实例需要的相关信息"><a href="#1-6-查看创建实例需要的相关信息" class="headerlink" title="1.6 查看创建实例需要的相关信息"></a>1.6 查看创建实例需要的相关信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openstack flavor list</span><br><span class="line">openstack image list</span><br><span class="line">openstack network list</span><br><span class="line">openstack security group list</span><br><span class="line">openstack keypair list</span><br></pre></td></tr></table></figure><h3 id="1-7-使用镜像创建虚拟机系统"><a href="#1-7-使用镜像创建虚拟机系统" class="headerlink" title="1.7 使用镜像创建虚拟机系统"></a>1.7 使用镜像创建虚拟机系统</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openstack server create --flavor m1.nano --image cirros  --security-group default --key-name mykey hello-instance</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">还可加入网络(net-id 在上一步获取)--nic net-id=9e07c3d5-9a9e-496c-90b6-ba294f8b0699</span></span><br></pre></td></tr></table></figure><h3 id="1-8-查看实例"><a href="#1-8-查看实例" class="headerlink" title="1.8 查看实例"></a>1.8 查看实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack server list</span><br></pre></td></tr></table></figure><h3 id="1-9-登录"><a href="#1-9-登录" class="headerlink" title="1.9 登录"></a>1.9 登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ssh登录</span></span><br><span class="line">ping 10.0.0.x</span><br><span class="line">ssh cirros@10.0.0.x</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">web登录的url</span></span><br><span class="line">openstack console url show hello-instance</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.初始python</title>
      <link href="/posts/c895b519.html"/>
      <url>/posts/c895b519.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="初识Python"><a href="#初识Python" class="headerlink" title="初识Python"></a>初识Python</h2><h3 id="Python简介"><a href="#Python简介" class="headerlink" title="Python简介"></a>Python简介</h3><h4 id="Python的历史"><a href="#Python的历史" class="headerlink" title="Python的历史"></a>Python的历史</h4><ol><li>1989年圣诞节：Guido von Rossum开始写Python语言的编译器。</li><li>1991年2月：第一个Python编译器（同时也是解释器）诞生，它是用C语言实现的（后面），可以调用C语言的库函数。在最早的版本中，Python已经提供了对“类”，“函数”，“异常处理”等构造块的支持，还有对列表、字典等核心数据类型，同时支持以模块为基础来构造应用程序。</li><li>1994年1月：Python 1.0正式发布。</li><li>2000年10月16日：Python 2.0发布，增加了完整的<a href="https://zh.wikipedia.org/wiki/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)">垃圾回收</a>，提供了对<a href="https://zh.wikipedia.org/wiki/Unicode">Unicode</a>的支持。与此同时，Python的整个开发过程更加透明，社区对开发进度的影响逐渐扩大，生态圈开始慢慢形成。</li><li>2008年12月3日：Python 3.0发布，它并不完全兼容之前的Python代码，不过因为目前还有不少公司在项目和运维中使用Python 2.x版本，所以Python 3.x的很多新特性后来也被移植到Python 2.6&#x2F;2.7版本中。</li></ol><p>目前我使用的Python 3.7.x的版本是在2018年发布的，Python的版本号分为三段，形如A.B.C。其中A表示大版本号，一般当整体重写，或出现不向后兼容的改变时，增加A；B表示功能更新，出现新功能时增加B；C表示小的改动（例如：修复了某个Bug），只要有修改就增加C。如果对Python的历史感兴趣，可以阅读名为<a href="http://www.cnblogs.com/vamei/archive/2013/02/06/2892628.html">《Python简史》</a>的网络文章。</p><h4 id="Python的优缺点"><a href="#Python的优缺点" class="headerlink" title="Python的优缺点"></a>Python的优缺点</h4><p>Python的优点很多，简单的可以总结为以下几点。</p><ol><li>简单明了，学习曲线低，比很多编程语言都容易上手。</li><li>开放源代码，拥有强大的社区和生态圈，尤其是在数据分析和机器学习领域。</li><li>解释型语言，天生具有平台可移植性，代码可以工作于不同的操作系统。</li><li>对两种主流的编程范式（面向对象编程和函数式编程）都提供了支持。</li><li>代码规范程度高，可读性强，适合有代码洁癖和强迫症的人群。</li></ol><p>Python的缺点主要集中在以下几点。</p><ol><li>执行效率稍低，对执行效率要求高的部分可以由其他语言（如：C、C++）编写。</li><li>代码无法加密，但是现在很多公司都不销售卖软件而是销售服务，这个问题会被弱化。</li><li>在开发时可以选择的框架太多（如Web框架就有100多个），有选择的地方就有错误。</li></ol><h4 id="Python的应用领域"><a href="#Python的应用领域" class="headerlink" title="Python的应用领域"></a>Python的应用领域</h4><p>目前Python在Web应用后端开发、云基础设施建设、DevOps、网络数据采集（爬虫）、自动化测试、数据分析、机器学习等领域都有着广泛的应用。</p><h3 id="安装Python解释器"><a href="#安装Python解释器" class="headerlink" title="安装Python解释器"></a>安装Python解释器</h3><p>想要开始Python编程之旅，首先得在自己使用的计算机上安装Python解释器环境，下面将以安装官方的Python解释器为例，讲解如何在不同的操作系统上安装Python环境。官方的Python解释器是用C语言实现的，也是使用最为广泛的Python解释器，通常称之为CPython。除此之外，Python解释器还有Java语言实现的Jython、C#语言实现的IronPython以及PyPy、Brython、Pyston等版本，有兴趣的读者可以自行了解。</p><h4 id="Windows环境"><a href="#Windows环境" class="headerlink" title="Windows环境"></a>Windows环境</h4><p>可以在<a href="https://www.python.org/">Python官方网站</a>下载到Python的Windows安装程序（exe文件），需要注意的是如果在Windows 7环境下安装Python 3.x，需要先安装Service Pack 1补丁包（可以通过一些工具软件自动安装系统补丁的功能来安装），安装过程建议勾选“Add Python 3.x to PATH”（将Python 3.x添加到PATH环境变量）并选择自定义安装，在设置“Optional Features”界面最好将“pip”、“tcl&#x2F;tk”、“Python test suite”等项全部勾选上。强烈建议选择自定义的安装路径并保证路径中没有中文。安装完成会看到“Setup was successful”的提示。如果稍后运行Python程序时，出现因为缺失一些动态链接库文件而导致Python解释器无法工作的问题，可以按照下面的方法加以解决。</p><p>如果系统显示api-ms-win-crt*.dll文件缺失，可以参照<a href="https://zhuanlan.zhihu.com/p/32087135">《api-ms-win-crt*.dll缺失原因分析和解决方法》</a>一文讲解的方法进行处理或者直接在<a href="https://www.microsoft.com/zh-cn/download/details.aspx?id=48145">微软官网</a>下载Visual C++ Redistributable for Visual Studio 2015文件进行修复；如果是因为更新Windows的DirectX之后导致某些动态链接库文件缺失问题，可以下载一个<a href="https://dl.pconline.com.cn/download/360074-1.html">DirectX修复工具</a>进行修复。</p><h4 id="Linux环境"><a href="#Linux环境" class="headerlink" title="Linux环境"></a>Linux环境</h4><p>Linux环境自带了Python 2.x版本，但是如果要更新到3.x的版本，可以在<a href="https://www.python.org/">Python的官方网站</a>下载Python的源代码并通过源代码构建安装的方式进行安装，具体的步骤如下所示（以CentOS为例）。</p><ol><li>安装依赖库（因为没有这些依赖库可能在源代码构件安装时因为缺失底层依赖库而失败）。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget gcc zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel</span><br></pre></td></tr></table></figure><ol><li>下载Python源代码并解压缩到指定目录。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.python.org/ftp/python/3.7.6/Python-3.7.6.tar.xz</span><br><span class="line">xz -d Python-3.7.6.tar.xz</span><br><span class="line">tar -xvf Python-3.7.6.tar</span><br></pre></td></tr></table></figure><ol><li>切换至Python源代码目录并执行下面的命令进行配置和安装。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd Python-3.7.6</span><br><span class="line">./configure --prefix=/usr/local/python37 --enable-optimizations</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><ol><li>修改用户主目录下名为.bash_profile的文件，配置PATH环境变量并使其生效。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">vim .bash_profile</span><br><span class="line"># ... 此处省略上面的代码 ...</span><br><span class="line"></span><br><span class="line">export PATH=$PATH:/usr/local/python37/bin</span><br><span class="line"></span><br><span class="line"># ... 此处省略下面的代码 ...</span><br></pre></td></tr></table></figure><ol><li>激活环境变量。</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure><h4 id="macOS环境"><a href="#macOS环境" class="headerlink" title="macOS环境"></a>macOS环境</h4><p>macOS也自带了Python 2.x版本，可以通过<a href="https://www.python.org/">Python的官方网站</a>提供的安装文件（pkg文件）安装Python 3.x的版本。默认安装完成后，可以通过在终端执行<code>python</code>命令来启动2.x版本的Python解释器，启动3.x版本的Python解释器需要执行<code>python3</code>命令。</p><h3 id="运行Python程序"><a href="#运行Python程序" class="headerlink" title="运行Python程序"></a>运行Python程序</h3><h4 id="确认Python的版本"><a href="#确认Python的版本" class="headerlink" title="确认Python的版本"></a>确认Python的版本</h4><p>可以Windows的命令行提示符中键入下面的命令。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure><p>在Linux或macOS系统的终端中键入下面的命令。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 --version</span><br></pre></td></tr></table></figure><p>当然也可以先输入<code>python</code>或<code>python3</code>进入交互式环境，再执行以下的代码检查Python的版本。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"></span><br><span class="line">print(sys.version_info)</span><br><span class="line">print(sys.version)</span><br></pre></td></tr></table></figure><h4 id="编写Python源代码"><a href="#编写Python源代码" class="headerlink" title="编写Python源代码"></a>编写Python源代码</h4><p>可以用文本编辑工具（推荐使用<a href="https://www.sublimetext.com/">Sublime</a>、<a href="https://code.visualstudio.com/">Visual Studio Code</a>等高级文本编辑工具）编写Python源代码并用py作为后缀名保存该文件，代码内容如下所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(&#x27;hello, world!&#x27;)</span><br></pre></td></tr></table></figure><h4 id="运行程序"><a href="#运行程序" class="headerlink" title="运行程序"></a>运行程序</h4><p>切换到源代码所在的目录并执行下面的命令，看看屏幕上是否输出了”hello, world!”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python hello.py</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 hello.py</span><br></pre></td></tr></table></figure><h4 id="代码中的注释"><a href="#代码中的注释" class="headerlink" title="代码中的注释"></a>代码中的注释</h4><p>注释是编程语言的一个重要组成部分，用于在源代码中解释代码的作用从而增强程序的可读性和可维护性，当然也可以将源代码中不需要参与运行的代码段通过注释来去掉，这一点在调试程序的时候经常用到。注释在随源代码进入预处理器或编译时会被移除，不会在目标代码中保留也不会影响程序的执行结果。</p><ol><li>单行注释 - 以#和空格开头的部分</li><li>多行注释 - 三个引号开头，三个引号结尾</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">第一个Python程序 - hello, world!</span><br><span class="line">向伟大的Dennis M. Ritchie先生致敬</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">print(&#x27;hello, world!&#x27;)</span><br><span class="line"># print(&quot;你好, 世界！&quot;)</span><br></pre></td></tr></table></figure><h3 id="Python开发工具"><a href="#Python开发工具" class="headerlink" title="Python开发工具"></a>Python开发工具</h3><h4 id="IDLE-自带的集成开发工具"><a href="#IDLE-自带的集成开发工具" class="headerlink" title="IDLE - 自带的集成开发工具"></a>IDLE - 自带的集成开发工具</h4><p>IDLE是安装Python环境时自带的集成开发工具，如下图所示。但是由于IDLE的用户体验并不是那么好所以很少在实际开发中被采用。</p><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/res/python-idle.png"><img src="D:\学习笔记\图片\python-idle.png" alt="img"></a></p><h4 id="IPython-更好的交互式编程工具"><a href="#IPython-更好的交互式编程工具" class="headerlink" title="IPython - 更好的交互式编程工具"></a>IPython - 更好的交互式编程工具</h4><p>IPython是一种基于Python的交互式解释器。相较于原生的Python交互式环境，IPython提供了更为强大的编辑和交互功能。可以通过Python的包管理工具pip安装IPython，具体的操作如下所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install ipython</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install ipython</span><br></pre></td></tr></table></figure><p>安装成功后，可以通过下面的ipython命令启动IPython，如下图所示。</p><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/res/python-ipython.png"><img src="D:\学习笔记\图片\python-ipython.png" alt="img"></a></p><h4 id="Sublime-Text-高级文本编辑器"><a href="#Sublime-Text-高级文本编辑器" class="headerlink" title="Sublime Text - 高级文本编辑器"></a>Sublime Text - 高级文本编辑器</h4><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/res/python-sublime.png"><img src="D:\学习笔记\图片\python-sublime.png" alt="img"></a></p><ul><li><p>首先可以通过<a href="https://www.sublimetext.com/">官方网站</a>下载安装程序安装Sublime Text 3或Sublime Text 2。</p></li><li><p>安装包管理工具。</p><ol><li>通过快捷键Ctrl+&#96;或者在View菜单中选择Show Console打开控制台，输入下面的代码。</li></ol><ul><li>Sublime 3</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import  urllib.request,os;pf=&#x27;Package Control.sublime-package&#x27;;ipp=sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),&#x27;wb&#x27;).write(urllib.request.urlopen(&#x27;http://sublime.wbond.net/&#x27;+pf.replace(&#x27; &#x27;,&#x27;%20&#x27;)).read())</span><br></pre></td></tr></table></figure><ul><li>Sublime 2</li></ul>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import  urllib2,os;pf=&#x27;Package Control.sublime-package&#x27;;ipp=sublime.installed_packages_path();os.makedirs(ipp)ifnotos.path.exists(ipp)elseNone;urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler()));open(os.path.join(ipp,pf),&#x27;wb&#x27;).write(urllib2.urlopen(&#x27;http://sublime.wbond.net/&#x27;+pf.replace(&#x27; &#x27;,&#x27;%20&#x27;)).read());print(&#x27;Please restart Sublime Text to finish installation&#x27;)</span><br></pre></td></tr></table></figure><ol><li>在浏览器中输入 [<a href="https://sublime.wbond.net/Package%20Control.sublime-package]">https://sublime.wbond.net/Package%20Control.sublime-package]</a>(<a href="https://sublime.wbond.net/Package">https://sublime.wbond.net/Package</a> Control.sublime-package) 下载包管理工具的安装包，并找到安装Sublime目录下名为”Installed Packages”的目录，把刚才下载的文件放到这个文件加下，然后重启Sublime Text就搞定了。</li></ol></li><li><p>安装插件。通过Preference菜单的Package Control或快捷键Ctrl+Shift+P打开命令面板，在面板中输入Install Package就可以找到安装插件的工具，然后再查找需要的插件。我们推荐大家安装以下几个插件：</p><ul><li>SublimeCodeIntel - 代码自动补全工具插件。</li><li>Emmet - 前端开发代码模板插件。</li><li>Git - 版本控制工具插件。</li><li>Python PEP8 Autoformat - PEP8规范自动格式化插件。</li><li>ConvertToUTF8 - 将本地编码转换为UTF-8。</li></ul></li></ul><blockquote><p><strong>说明</strong>：事实上<a href="https://code.visualstudio.com/">Visual Studio Code</a>可能是更好的选择，它不用花钱并提供了更为完整和强大的功能，有兴趣的读者可以自行研究。</p></blockquote><h4 id="PyCharm-Python开发神器"><a href="#PyCharm-Python开发神器" class="headerlink" title="PyCharm - Python开发神器"></a>PyCharm - Python开发神器</h4><p>PyCharm的安装、配置和使用在<a href="https://github.com/jackfrued/Python-100-Days/blob/master/%E7%95%AA%E5%A4%96%E7%AF%87/%E7%8E%A9%E8%BD%ACPyCharm.md">《玩转PyCharm》</a>进行了介绍，有兴趣的读者可以选择阅读。</p><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/res/python-pycharm.png"><img src="D:\学习笔记\图片\python-pycharm.png" alt="img"></a></p><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><ol><li><p>在Python交互式环境中输入下面的代码并查看结果，请尝试将看到的内容翻译成中文。</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import this</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：输入上面的代码，在Python的交互式环境中可以看到Tim Peter撰写的<a href="https://github.com/jackfrued/Python-100-Days/blob/master/Python%E4%B9%8B%E7%A6%85.md">“Python之禅”</a>，里面讲述的道理不仅仅适用于Python，也适用于其他编程语言。</p></blockquote></li><li><p>学习使用turtle在屏幕上绘制图形。</p><blockquote><p><strong>说明</strong>：turtle是Python内置的一个非常有趣的模块，特别适合对计算机程序设计进行初体验的小伙伴，它最早是Logo语言的一部分，Logo语言是Wally Feurzig和Seymour Papert在1966发明的编程语言。</p></blockquote> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import turtle</span><br><span class="line"></span><br><span class="line">turtle.pensize(4)</span><br><span class="line">turtle.pencolor(&#x27;red&#x27;)</span><br><span class="line"></span><br><span class="line">turtle.forward(100)</span><br><span class="line">turtle.right(90)</span><br><span class="line">turtle.forward(100)</span><br><span class="line">turtle.right(90)</span><br><span class="line">turtle.forward(100)</span><br><span class="line">turtle.right(90)</span><br><span class="line">turtle.forward(100)</span><br><span class="line"></span><br><span class="line">turtle.mainloop()</span><br></pre></td></tr></table></figure><blockquote><p><strong>提示</strong>：本章提供的代码中还有画国旗和画小猪佩奇的代码，有兴趣的读者请自行研究。</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.基础元素</title>
      <link href="/posts/5b8197b4.html"/>
      <url>/posts/5b8197b4.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="语言元素"><a href="#语言元素" class="headerlink" title="语言元素"></a>语言元素</h2><h4 id="指令和程序"><a href="#指令和程序" class="headerlink" title="指令和程序"></a>指令和程序</h4><p>计算机的硬件系统通常由五大部件构成，包括：运算器、控制器、存储器、输入设备和输出设备。其中，运算器和控制器放在一起就是我们通常所说的中央处理器，它的功能是执行各种运算和控制指令以及处理计算机软件中的数据。我们通常所说的程序实际上就是指令的集合，我们程序就是将一系列的指令按照某种方式组织到一起，然后通过这些指令去控制计算机做我们想让它做的事情。今天我们大多数时候使用的计算机，虽然它们的元器件做工越来越精密，处理能力越来越强大，但究其本质来说仍然属于<a href="https://zh.wikipedia.org/wiki/%E5%86%AF%C2%B7%E8%AF%BA%E4%BC%8A%E6%9B%BC%E7%BB%93%E6%9E%84">“冯·诺依曼结构”</a>的计算机。“冯·诺依曼结构”有两个关键点，一是指出要将存储设备与中央处理器分开，二是提出了将数据以二进制方式编码。二进制是一种“逢二进一”的计数法，跟我们人类使用的“逢十进一”的计数法没有实质性的区别，人类因为有十根手指所以使用了十进制（因为在数数时十根手指用完之后就只能进位了，当然凡事都有例外，玛雅人可能是因为长年光着脚的原因把脚趾头也算上了，于是他们使用了二十进制的计数法，在这种计数法的指导下玛雅人的历法就与我们平常使用的历法不一样，而按照玛雅人的历法，2012年是上一个所谓的“太阳纪”的最后一年，而2013年则是新的“太阳纪”的开始，后来这件事情被以讹传讹的方式误传为”2012年是玛雅人预言的世界末日“这种荒诞的说法，今天我们可以大胆的猜测，玛雅文明之所以发展缓慢估计也与使用了二十进制有关）。对于计算机来说，二进制在物理器件上来说是最容易实现的（高电压表示1，低电压表示0），于是在“冯·诺依曼结构”的计算机都使用了二进制。虽然我们并不需要每个程序员都能够使用二进制的思维方式来工作，但是了解二进制以及它与我们生活中的十进制之间的转换关系，以及二进制与八进制和十六进制的转换关系还是有必要的。如果你对这一点不熟悉，可以自行使用<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E8%BF%9B%E5%88%B6">维基百科</a>或者<a href="https://baike.baidu.com/">百度百科</a>科普一下。</p><blockquote><p><strong>说明</strong>：近期关于<strong>量子计算机</strong>的研究已经被推倒了风口浪尖，量子计算机基于量子力学进行运算，使用量子瞬移的方式来传递信息。2018年6月，Intel宣布开发出新款量子芯片并通过了在接近绝对零度环境下的测试；2019年，IBM和Google都推出了自己的量子计算机。</p></blockquote><h3 id="变量和类型"><a href="#变量和类型" class="headerlink" title="变量和类型"></a>变量和类型</h3><p>在程序设计中，变量是一种存储数据的载体。计算机中的变量是实际存在的数据或者说是存储器中存储数据的一块内存空间，变量的值可以被读取和修改，这是所有计算和控制的基础。计算机能处理的数据有很多种类型，除了数值之外还可以处理文本、图形、音频、视频等各种各样的数据，那么不同的数据就需要定义不同的存储类型。Python中的数据类型很多，而且也允许我们自定义新的数据类型（这一点在后面会讲到），我们先介绍几种常用的数据类型。</p><ul><li>整型：Python中可以处理任意大小的整数（Python 2.x中有<code>int</code>和<code>long</code>两种类型的整数，但这种区分对Python来说意义不大，因此在Python 3.x中整数只有int这一种了），而且支持二进制（如<code>0b100</code>，换算成十进制是4）、八进制（如<code>0o100</code>，换算成十进制是64）、十进制（<code>100</code>）和十六进制（<code>0x100</code>，换算成十进制是256）的表示法。</li><li>浮点型：浮点数也就是小数，之所以称为浮点数，是因为按照科学记数法表示时，一个浮点数的小数点位置是可变的，浮点数除了数学写法（如<code>123.456</code>）之外还支持科学计数法（如<code>1.23456e2</code>）。</li><li>字符串型：字符串是以单引号或双引号括起来的任意文本，比如<code>&#39;hello&#39;</code>和<code>&quot;hello&quot;</code>,字符串还有原始字符串表示法、字节字符串表示法、Unicode字符串表示法，而且可以书写成多行的形式（用三个单引号或三个双引号开头，三个单引号或三个双引号结尾）。</li><li>布尔型：布尔值只有<code>True</code>、<code>False</code>两种值，要么是<code>True</code>，要么是<code>False</code>，在Python中，可以直接用<code>True</code>、<code>False</code>表示布尔值（请注意大小写），也可以通过布尔运算计算出来（例如<code>3 &lt; 5</code>会产生布尔值<code>True</code>，而<code>2 == 1</code>会产生布尔值<code>False</code>）。</li><li>复数型：形如<code>3+5j</code>，跟数学上的复数表示一样，唯一不同的是虚部的<code>i</code>换成了<code>j</code>。实际上，这个类型并不常用，大家了解一下就可以了。</li></ul><h4 id="变量命名"><a href="#变量命名" class="headerlink" title="变量命名"></a>变量命名</h4><p>对于每个变量我们需要给它取一个名字，就如同我们每个人都有属于自己的响亮的名字一样。在Python中，变量命名需要遵循以下这些必须遵守硬性规则和强烈建议遵守的非硬性规则。</p><ul><li>硬性规则：<ul><li>变量名由字母（广义的Unicode字符，不包括特殊字符）、数字和下划线构成，数字不能开头。</li><li>大小写敏感（大写的<code>a</code>和小写的<code>A</code>是两个不同的变量）。</li><li>不要跟关键字（有特殊含义的单词，后面会讲到）和系统保留字（如函数、模块等的名字）冲突。</li></ul></li><li>PEP 8要求：<ul><li>用小写字母拼写，多个单词用下划线连接。</li><li>受保护的实例属性用单个下划线开头（后面会讲到）。</li><li>私有的实例属性用两个下划线开头（后面会讲到）。</li></ul></li></ul><p>当然，作为一个专业的程序员，给变量（事实上应该是所有的标识符）命名时做到见名知意也是非常重要的。</p><h4 id="变量的使用"><a href="#变量的使用" class="headerlink" title="变量的使用"></a>变量的使用</h4><p>下面通过几个例子来说明变量的类型和变量使用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">使用变量保存数据并进行加减乘除运算</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">a = 321</span><br><span class="line">b = 12</span><br><span class="line">print(a + b)    # 333</span><br><span class="line">print(a - b)    # 309</span><br><span class="line">print(a * b)    # 3852</span><br><span class="line">print(a / b)    # 26.75</span><br></pre></td></tr></table></figure><p>在Python中可以使用<code>type</code>函数对变量的类型进行检查。程序设计中函数的概念跟数学上函数的概念是一致的，数学上的函数相信大家并不陌生，它包括了函数名、自变量和因变量。如果暂时不理解这个概念也不要紧，我们会在后续的章节中专门讲解函数的定义和使用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">使用type()检查变量的类型</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">a = 100</span><br><span class="line">b = 12.345</span><br><span class="line">c = 1 + 5j</span><br><span class="line">d = &#x27;hello, world&#x27;</span><br><span class="line">e = True</span><br><span class="line">print(type(a))    # &lt;class &#x27;int&#x27;&gt;</span><br><span class="line">print(type(b))    # &lt;class &#x27;float&#x27;&gt;</span><br><span class="line">print(type(c))    # &lt;class &#x27;complex&#x27;&gt;</span><br><span class="line">print(type(d))    # &lt;class &#x27;str&#x27;&gt;</span><br><span class="line">print(type(e))    # &lt;class &#x27;bool&#x27;&gt;</span><br></pre></td></tr></table></figure><p>可以使用Python中内置的函数对变量类型进行转换。</p><ul><li><code>int()</code>：将一个数值或字符串转换成整数，可以指定进制。</li><li><code>float()</code>：将一个字符串转换成浮点数。</li><li><code>str()</code>：将指定的对象转换成字符串形式，可以指定编码。</li><li><code>chr()</code>：将整数转换成该编码对应的字符串（一个字符）。</li><li><code>ord()</code>：将字符串（一个字符）转换成对应的编码（整数）。</li></ul><p>下面的代码通过键盘输入两个整数来实现对两个整数的算术运算。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">使用input()函数获取键盘输入(字符串)</span><br><span class="line">使用int()函数将输入的字符串转换成整数</span><br><span class="line">使用print()函数输出带占位符的字符串</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">a = int(input(&#x27;a = &#x27;))</span><br><span class="line">b = int(input(&#x27;b = &#x27;))</span><br><span class="line">print(&#x27;%d + %d = %d&#x27; % (a, b, a + b))</span><br><span class="line">print(&#x27;%d - %d = %d&#x27; % (a, b, a - b))</span><br><span class="line">print(&#x27;%d * %d = %d&#x27; % (a, b, a * b))</span><br><span class="line">print(&#x27;%d / %d = %f&#x27; % (a, b, a / b))</span><br><span class="line">print(&#x27;%d // %d = %d&#x27; % (a, b, a // b))</span><br><span class="line">print(&#x27;%d %% %d = %d&#x27; % (a, b, a % b))</span><br><span class="line">print(&#x27;%d ** %d = %d&#x27; % (a, b, a ** b))</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：上面的print函数中输出的字符串使用了占位符语法，其中<code>%d</code>是整数的占位符，<code>%f</code>是小数的占位符，<code>%%</code>表示百分号（因为百分号代表了占位符，所以带占位符的字符串中要表示百分号必须写成<code>%%</code>），字符串之后的<code>%</code>后面跟的变量值会替换掉占位符然后输出到终端中，运行上面的程序，看看程序执行结果就明白啦。</p></blockquote><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>Python支持多种运算符，下表大致按照优先级从高到低的顺序列出了所有的运算符，运算符的优先级指的是多个运算符同时出现时，先做什么运算然后再做什么运算。除了我们之前已经用过的赋值运算符和算术运算符，我们稍后会陆续讲到其他运算符的使用。</p><table><thead><tr><th>运算符</th><th>描述</th></tr></thead><tbody><tr><td><code>[]</code> <code>[:]</code></td><td>下标，切片</td></tr><tr><td><code>**</code></td><td>指数</td></tr><tr><td><code>~</code> <code>+</code> <code>-</code></td><td>按位取反, 正负号</td></tr><tr><td><code>*</code> <code>/</code> <code>%</code> <code>//</code></td><td>乘，除，模，整除</td></tr><tr><td><code>+</code> <code>-</code></td><td>加，减</td></tr><tr><td><code>&gt;&gt;</code> <code>&lt;&lt;</code></td><td>右移，左移</td></tr><tr><td><code>&amp;</code></td><td>按位与</td></tr><tr><td><code>^</code> &#96;</td><td>&#96;</td></tr><tr><td><code>&lt;=</code> <code>&lt;</code> <code>&gt;</code> <code>&gt;=</code></td><td>小于等于，小于，大于，大于等于</td></tr><tr><td><code>==</code> <code>!=</code></td><td>等于，不等于</td></tr><tr><td><code>is</code> <code>is not</code></td><td>身份运算符</td></tr><tr><td><code>in</code> <code>not in</code></td><td>成员运算符</td></tr><tr><td><code>not</code> <code>or</code> <code>and</code></td><td>逻辑运算符</td></tr><tr><td><code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>//=</code> <code>**=</code> <code>&amp;=</code> &#96;</td><td>&#x3D;<code> </code>^&#x3D;<code> </code>&gt;&gt;&#x3D;<code> </code>&lt;&lt;&#x3D;&#96;</td></tr></tbody></table><blockquote><p><strong>说明：</strong> 在实际开发中，如果搞不清楚运算符的优先级，可以使用括号来确保运算的执行顺序。</p></blockquote><h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><p>赋值运算符应该是最为常见的运算符，它的作用是将右边的值赋给左边的变量。下面的例子演示了赋值运算符和复合赋值运算符的使用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">赋值运算符和复合赋值运算符</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">a = 10</span><br><span class="line">b = 3</span><br><span class="line">a += b        # 相当于：a = a + b</span><br><span class="line">a *= a + 2    # 相当于：a = a * (a + 2)</span><br><span class="line">print(a)      # 算一下这里会输出什么</span><br></pre></td></tr></table></figure><h3 id="比较运算符和逻辑运算符"><a href="#比较运算符和逻辑运算符" class="headerlink" title="比较运算符和逻辑运算符"></a>比较运算符和逻辑运算符</h3><p>比较运算符有的地方也称为关系运算符，包括<code>==</code>、<code>!=</code>、<code>&lt;</code>、<code>&gt;</code>、<code>&lt;=</code>、<code>&gt;=</code>，我相信没有什么好解释的，大家一看就能懂，唯一需要提醒的是比较相等用的是<code>==</code>，请注意这个地方是两个等号，因为<code>=</code>是赋值运算符，我们在上面刚刚讲到过，<code>==</code>才是比较相等的比较运算符。比较运算符会产生布尔值，要么是<code>True</code>要么是<code>False</code>。</p><p>逻辑运算符有三个，分别是<code>and</code>、<code>or</code>和<code>not</code>。<code>and</code>字面意思是“而且”，所以<code>and</code>运算符会连接两个布尔值，如果两个布尔值都是<code>True</code>，那么运算的结果就是<code>True</code>；左右两边的布尔值有一个是<code>False</code>，最终的运算结果就是<code>False</code>。相信大家已经想到了，如果<code>and</code>左边的布尔值是<code>False</code>，不管右边的布尔值是什么，最终的结果都是<code>False</code>，所以在做运算的时候右边的值会被跳过（短路处理），这也就意味着在<code>and</code>运算符左边为<code>False</code>的情况下，右边的表达式根本不会执行。<code>or</code>字面意思是“或者”，所以<code>or</code>运算符也会连接两个布尔值，如果两个布尔值有任意一个是<code>True</code>，那么最终的结果就是<code>True</code>。当然，<code>or</code>运算符也是有短路功能的，在它左边的布尔值为<code>True</code>的情况下，右边的表达式根本不会执行。<code>not</code>运算符的后面会跟上一个布尔值，它的作用是得到与该布尔值相反的值，也就是说，后面的布尔值如果是<code>True</code>运算结果就是<code>False</code>，而后面的布尔值如果是<code>False</code>则运算结果就是<code>True</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">比较运算符和逻辑运算符的使用</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">flag0 = 1 == 1</span><br><span class="line">flag1 = 3 &gt; 2</span><br><span class="line">flag2 = 2 &lt; 1</span><br><span class="line">flag3 = flag1 and flag2</span><br><span class="line">flag4 = flag1 or flag2</span><br><span class="line">flag5 = not (1 != 2)</span><br><span class="line">print(&#x27;flag0 =&#x27;, flag0)    # flag0 = True</span><br><span class="line">print(&#x27;flag1 =&#x27;, flag1)    # flag1 = True</span><br><span class="line">print(&#x27;flag2 =&#x27;, flag2)    # flag2 = False</span><br><span class="line">print(&#x27;flag3 =&#x27;, flag3)    # flag3 = False</span><br><span class="line">print(&#x27;flag4 =&#x27;, flag4)    # flag4 = True</span><br><span class="line">print(&#x27;flag5 =&#x27;, flag5)    # flag5 = False</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：比较运算符的优先级高于赋值运算符，所以<code>flag0 = 1 == 1</code>先做<code>1 == 1</code>产生布尔值<code>True</code>，再将这个值赋值给变量<code>flag0</code>。<code>print</code>函数可以输出多个值，多个值之间可以用<code>,</code>进行分隔，输出的内容之间默认以空格分开。</p></blockquote><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><h4 id="练习1：华氏温度转换为摄氏温度。"><a href="#练习1：华氏温度转换为摄氏温度。" class="headerlink" title="练习1：华氏温度转换为摄氏温度。"></a>练习1：华氏温度转换为摄氏温度。</h4><blockquote><p>提示：华氏温度到摄氏温度的转换公式为：$C&#x3D;(F - 32) \div 1.8$。</p></blockquote><p>参考答案：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">将华氏温度转换为摄氏温度</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">f = float(input(&#x27;请输入华氏温度: &#x27;))</span><br><span class="line">c = (f - 32) / 1.8</span><br><span class="line">print(&#x27;%.1f华氏度 = %.1f摄氏度&#x27; % (f, c))</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：在使用<code>print</code>函数输出时，也可以对字符串内容进行格式化处理，上面<code>print</code>函数中的字符串<code>%.1f</code>是一个占位符，稍后会由一个<code>float</code>类型的变量值替换掉它。同理，如果字符串中有<code>%d</code>，后面可以用一个<code>int</code>类型的变量值替换掉它，而<code>%s</code>会被字符串的值替换掉。除了这种格式化字符串的方式外，还可以用下面的方式来格式化字符串，其中<code>&#123;f:.1f&#125;</code>和<code>&#123;c:.1f&#125;</code>可以先看成是<code>&#123;f&#125;</code>和<code>&#123;c&#125;</code>，表示输出时会用变量<code>f</code>和变量<code>c</code>的值替换掉这两个占位符，后面的<code>:.1f</code>表示这是一个浮点数，小数点后保留1位有效数字。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(f&#x27;&#123;f:.1f&#125;华氏度 = &#123;c:.1f&#125;摄氏度&#x27;)</span><br></pre></td></tr></table></figure></blockquote><h4 id="练习2：输入圆的半径计算计算周长和面积。"><a href="#练习2：输入圆的半径计算计算周长和面积。" class="headerlink" title="练习2：输入圆的半径计算计算周长和面积。"></a>练习2：输入圆的半径计算计算周长和面积。</h4><p>参考答案：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">输入半径计算圆的周长和面积</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">radius = float(input(&#x27;请输入圆的半径: &#x27;))</span><br><span class="line">perimeter = 2 * 3.1416 * radius</span><br><span class="line">area = 3.1416 * radius * radius</span><br><span class="line">print(&#x27;周长: %.2f&#x27; % perimeter)</span><br><span class="line">print(&#x27;面积: %.2f&#x27; % area)</span><br></pre></td></tr></table></figure><h4 id="练习3：输入年份判断是不是闰年。"><a href="#练习3：输入年份判断是不是闰年。" class="headerlink" title="练习3：输入年份判断是不是闰年。"></a>练习3：输入年份判断是不是闰年。</h4><p>参考答案：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">输入年份 如果是闰年输出True 否则输出False</span><br><span class="line"></span><br><span class="line">Version: 0.1</span><br><span class="line">Author: 骆昊</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">year = int(input(&#x27;请输入年份: &#x27;))</span><br><span class="line"># 如果代码太长写成一行不便于阅读 可以使用\对代码进行折行</span><br><span class="line">is_leap = year % 4 == 0 and year % 100 != 0 or \</span><br><span class="line">          year % 400 == 0</span><br><span class="line">print(is_leap)</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：比较运算符会产生布尔值，而逻辑运算符<code>and</code>和<code>or</code>会对这些布尔值进行组合，最终也是得到一个布尔值，闰年输出<code>True</code>，平年输出<code>False</code>。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.分支结构</title>
      <link href="/posts/814577ae.html"/>
      <url>/posts/814577ae.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p>迄今为止，我们写的Python代码都是一条一条语句顺序执行，这种代码结构通常称之为顺序结构。然而仅有顺序结构并不能解决所有的问题，比如我们设计一个游戏，游戏第一关的通关条件是玩家获得1000分，那么在完成本局游戏后，我们要根据玩家得到分数来决定究竟是进入第二关，还是告诉玩家“Game Over”，这里就会产生两个分支，而且这两个分支只有一个会被执行。类似的场景还有很多，我们将这种结构称之为“分支结构”或“选择结构”。给大家一分钟的时间，你应该可以想到至少5个以上这样的例子，赶紧试一试。</p><h3 id="if语句的使用"><a href="#if语句的使用" class="headerlink" title="if语句的使用"></a>if语句的使用</h3><p>在Python中，要构造分支结构可以使用<code>if</code>、<code>elif</code>和<code>else</code>关键字。所谓<strong>关键字</strong>就是有特殊含义的单词，像<code>if</code>和<code>else</code>就是专门用于构造分支结构的关键字，很显然你不能够使用它作为变量名（事实上，用作其他的标识符也是不可以）。下面的例子中演示了如何构造一个分支结构。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用户身份验证</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">username = <span class="built_in">input</span>(<span class="string">&#x27;请输入用户名: &#x27;</span>)</span><br><span class="line">password = <span class="built_in">input</span>(<span class="string">&#x27;请输入口令: &#x27;</span>)</span><br><span class="line"><span class="comment"># 用户名是admin且密码是123456则身份验证成功否则身份验证失败</span></span><br><span class="line"><span class="keyword">if</span> username == <span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password == <span class="string">&#x27;123456&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;身份验证成功!&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;身份验证失败!&#x27;</span>)</span><br></pre></td></tr></table></figure><p>需要说明的是和C&#x2F;C++、Java等语言不同，Python中没有用花括号来构造代码块而是<strong>使用了缩进的方式来表示代码的层次结构</strong>，如果<code>if</code>条件成立的情况下需要执行多条语句，只要保持多条语句具有相同的缩进就可以了。换句话说<strong>连续的代码如果又保持了相同的缩进那么它们属于同一个代码块</strong>，相当于是一个执行的整体。<strong>缩进</strong>可以使用任意数量的空格，但<strong>通常使用4个空格</strong>，建议大家<strong>不要使用制表键</strong>或者<strong>设置你的代码编辑工具自动将制表键变成4个空格</strong>。</p><p>当然如果要构造出更多的分支，可以使用<code>if...elif...else...</code>结构或者嵌套的<code>if...else...</code>结构，下面的代码演示了如何利用多分支结构实现分段函数求值。</p><p><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/res/formula_1.png"><img src="D:\学习笔记\图片\formula_1.png" alt="$$f(x)=\begin{cases} 3x-5&amp;\text{(x&gt;1)}\x+2&amp;\text{(-1}\leq\text{x}\leq\text{1)}\5x+3&amp;\text {(x&lt;-1)}\end{cases}$$"></a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">分段函数求值</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        3x - 5  (x &gt; 1)</span></span><br><span class="line"><span class="string">f(x) =  x + 2   (-1 &lt;= x &lt;= 1)</span></span><br><span class="line"><span class="string">        5x + 3  (x &lt; -1)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;x = &#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">1</span>:</span><br><span class="line">    y = <span class="number">3</span> * x - <span class="number">5</span></span><br><span class="line"><span class="keyword">elif</span> x &gt;= -<span class="number">1</span>:</span><br><span class="line">    y = x + <span class="number">2</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    y = <span class="number">5</span> * x + <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;f(%.2f) = %.2f&#x27;</span> % (x, y))</span><br></pre></td></tr></table></figure><p>当然根据实际开发的需要，分支结构是可以嵌套的，例如判断是否通关以后还要根据你获得的宝物或者道具的数量对你的表现给出等级（比如点亮两颗或三颗星星），那么我们就需要在<code>if</code>的内部构造出一个新的分支结构，同理<code>elif</code>和<code>else</code>中也可以再构造新的分支，我们称之为嵌套的分支结构，也就是说上面的代码也可以写成下面的样子。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">分段函数求值</span></span><br><span class="line"><span class="string">3x - 5(x &gt; 1)</span></span><br><span class="line"><span class="string">f(x) =x + 2(-1 &lt;= x &lt;= 1)</span></span><br><span class="line"><span class="string">5x + 3(x &lt; -1)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">x = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;x = &#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">1</span>:</span><br><span class="line">    y = <span class="number">3</span> * x - <span class="number">5</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">if</span> x &gt;= -<span class="number">1</span>:</span><br><span class="line">        y = x + <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        y = <span class="number">5</span> * x + <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;f(%.2f) = %.2f&#x27;</span> % (x, y))</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明：</strong> 大家可以自己感受一下这两种写法到底是哪一种更好。在之前我们提到的Python之禅中有这么一句话“Flat is better than nested.”，之所以提倡代码“扁平化”是因为嵌套结构的嵌套层次多了之后会严重的影响代码的可读性，所以能使用扁平化的结构时就不要使用嵌套。</p></blockquote><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><h4 id="练习1：英制单位英寸与公制单位厘米互换。"><a href="#练习1：英制单位英寸与公制单位厘米互换。" class="headerlink" title="练习1：英制单位英寸与公制单位厘米互换。"></a>练习1：英制单位英寸与公制单位厘米互换。</h4><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">英制单位英寸和公制单位厘米互换</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">value = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入长度: &#x27;</span>))</span><br><span class="line">unit = <span class="built_in">input</span>(<span class="string">&#x27;请输入单位: &#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> unit == <span class="string">&#x27;in&#x27;</span> <span class="keyword">or</span> unit == <span class="string">&#x27;英寸&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%f英寸 = %f厘米&#x27;</span> % (value, value * <span class="number">2.54</span>))</span><br><span class="line"><span class="keyword">elif</span> unit == <span class="string">&#x27;cm&#x27;</span> <span class="keyword">or</span> unit == <span class="string">&#x27;厘米&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%f厘米 = %f英寸&#x27;</span> % (value, value / <span class="number">2.54</span>))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;请输入有效的单位&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="练习2：百分制成绩转换为等级制成绩。"><a href="#练习2：百分制成绩转换为等级制成绩。" class="headerlink" title="练习2：百分制成绩转换为等级制成绩。"></a>练习2：百分制成绩转换为等级制成绩。</h4><blockquote><p><strong>要求</strong>：如果输入的成绩在90分以上（含90分）输出A；80分-90分（不含90分）输出B；70分-80分（不含80分）输出C；60分-70分（不含70分）输出D；60分以下输出E。</p></blockquote><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">百分制成绩转换为等级制成绩</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">score = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入成绩: &#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> score &gt;= <span class="number">90</span>:</span><br><span class="line">    grade = <span class="string">&#x27;A&#x27;</span></span><br><span class="line"><span class="keyword">elif</span> score &gt;= <span class="number">80</span>:</span><br><span class="line">    grade = <span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="keyword">elif</span> score &gt;= <span class="number">70</span>:</span><br><span class="line">    grade = <span class="string">&#x27;C&#x27;</span></span><br><span class="line"><span class="keyword">elif</span> score &gt;= <span class="number">60</span>:</span><br><span class="line">    grade = <span class="string">&#x27;D&#x27;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    grade = <span class="string">&#x27;E&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;对应的等级是:&#x27;</span>, grade)</span><br></pre></td></tr></table></figure><h4 id="练习3：输入三条边长，如果能构成三角形就计算周长和面积。"><a href="#练习3：输入三条边长，如果能构成三角形就计算周长和面积。" class="headerlink" title="练习3：输入三条边长，如果能构成三角形就计算周长和面积。"></a>练习3：输入三条边长，如果能构成三角形就计算周长和面积。</h4><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">判断输入的边长能否构成三角形，如果能则计算出三角形的周长和面积</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">a = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;a = &#x27;</span>))</span><br><span class="line">b = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;b = &#x27;</span>))</span><br><span class="line">c = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&#x27;c = &#x27;</span>))</span><br><span class="line"><span class="keyword">if</span> a + b &gt; c <span class="keyword">and</span> a + c &gt; b <span class="keyword">and</span> b + c &gt; a:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;周长: %f&#x27;</span> % (a + b + c))</span><br><span class="line">    p = (a + b + c) / <span class="number">2</span></span><br><span class="line">    area = (p * (p - a) * (p - b) * (p - c)) ** <span class="number">0.5</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;面积: %f&#x27;</span> % (area))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;不能构成三角形&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明：</strong> 上面使用的通过边长计算三角形面积的公式叫做<a href="https://zh.wikipedia.org/zh-hans/%E6%B5%B7%E4%BC%A6%E5%85%AC%E5%BC%8F">海伦公式</a>。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.循环语句</title>
      <link href="/posts/e20207dd.html"/>
      <url>/posts/e20207dd.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p>我们在写程序的时候，一定会遇到需要重复执行某条或某些指令的场景。例如用程序控制机器人踢足球，如果机器人持球而且还没有进入射门范围，那么我们就要一直发出让机器人向球门方向移动的指令。在这个场景中，让机器人向球门方向移动就是一个需要重复的动作，当然这里还会用到上一课讲的分支结构来判断机器人是否持球以及是否进入射门范围。再举一个简单的例子，如果要实现每隔1秒中在屏幕上打印一次“hello, world”并持续打印一个小时，我们肯定不能够直接把<code>print(&#39;hello, world&#39;)</code>这句代码写3600遍，这里同样需要循环结构。</p><p>循环结构就是程序中控制某条或某些指令重复执行的结构。在Python中构造循环结构有两种做法，一种是<code>for-in</code>循环，一种是<code>while</code>循环。</p><h3 id="for-in循环"><a href="#for-in循环" class="headerlink" title="for-in循环"></a>for-in循环</h3><p>如果明确的知道循环执行的次数或者要对一个容器进行迭代（后面会讲到），那么我们推荐使用<code>for-in</code>循环，例如下面代码中计算1~100求和的结果（$\displaystyle \sum \limits_{n&#x3D;1}^{100}n$）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用for循环实现1~100求和</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">101</span>):</span><br><span class="line">    <span class="built_in">sum</span> += x</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><p>需要说明的是上面代码中的<code>range(1, 101)</code>可以用来构造一个从1到100的范围，当我们把这样一个范围放到<code>for-in</code>循环中，就可以通过前面的循环变量<code>x</code>依次取出从1到100的整数。当然，<code>range</code>的用法非常灵活，下面给出了一个例子：</p><ul><li><code>range(101)</code>：可以用来产生0到100范围的整数，需要注意的是取不到101。</li><li><code>range(1, 101)</code>：可以用来产生1到100范围的整数，相当于前面是闭区间后面是开区间。</li><li><code>range(1, 101, 2)</code>：可以用来产生1到100的奇数，其中2是步长，即每次数值递增的值。</li><li><code>range(100, 0, -2)</code>：可以用来产生100到1的偶数，其中-2是步长，即每次数字递减的值。</li></ul><p>知道了这一点，我们可以用下面的代码来实现1~100之间的偶数求和。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用for循环实现1~100之间的偶数求和</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">101</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">sum</span> += x</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><p>当然，也可以通过在循环中使用分支结构的方式来实现相同的功能，代码如下所示。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用for循环实现1~100之间的偶数求和</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">101</span>):</span><br><span class="line">    <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">sum</span> += x</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><blockquote><p><strong>说明</strong>：相较于上面直接跳过奇数的做法，下面这种做法很明显并不是很好的选择。</p></blockquote><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>如果要构造不知道具体循环次数的循环结构，我们推荐使用<code>while</code>循环。<code>while</code>循环通过一个能够产生或转换出<code>bool</code>值的表达式来控制循环，表达式的值为<code>True</code>则继续循环；表达式的值为<code>False</code>则结束循环。</p><p>下面我们通过一个“猜数字”的小游戏来看看如何使用<code>while</code>循环。猜数字游戏的规则是：计算机出一个1到100之间的随机数，玩家输入自己猜的数字，计算机给出对应的提示信息（大一点、小一点或猜对了），如果玩家猜中了数字，计算机提示用户一共猜了多少次，游戏结束，否则游戏继续。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">猜数字游戏</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">answer = random.randint(<span class="number">1</span>, <span class="number">100</span>)</span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    counter += <span class="number">1</span></span><br><span class="line">    number = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入: &#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> number &lt; answer:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;大一点&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> number &gt; answer:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;小一点&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;恭喜你猜对了!&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;你总共猜了%d次&#x27;</span> % counter)</span><br><span class="line"><span class="keyword">if</span> counter &gt; <span class="number">7</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;你的智商余额明显不足&#x27;</span>)</span><br></pre></td></tr></table></figure><p>上面的代码中使用了<code>break</code>关键字来提前终止循环，需要注意的是<code>break</code>只能终止它所在的那个循环，这一点在使用嵌套的循环结构（下面会讲到）需要引起注意。除了<code>break</code>之外，还有另一个关键字是<code>continue</code>，它可以用来放弃本次循环后续的代码直接让循环进入下一轮。</p><p>和分支结构一样，循环结构也是可以嵌套的，也就是说在循环中还可以构造循环结构。下面的例子演示了如何通过嵌套的循环来输出一个九九乘法表。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输出乘法口诀表(九九表)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, i + <span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%d*%d=%d&#x27;</span> % (i, j, i * j), end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure><h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><h4 id="练习1：输入一个正整数判断是不是素数。"><a href="#练习1：输入一个正整数判断是不是素数。" class="headerlink" title="练习1：输入一个正整数判断是不是素数。"></a>练习1：输入一个正整数判断是不是素数。</h4><blockquote><p><strong>提示</strong>：素数指的是只能被1和自身整除的大于1的整数。</p></blockquote><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输入一个正整数判断它是不是素数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">Date: 2018-03-01</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入一个正整数: &#x27;</span>))</span><br><span class="line">end = <span class="built_in">int</span>(sqrt(num))</span><br><span class="line">is_prime = <span class="literal">True</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, end + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> num % x == <span class="number">0</span>:</span><br><span class="line">        is_prime = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> is_prime <span class="keyword">and</span> num != <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%d是素数&#x27;</span> % num)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%d不是素数&#x27;</span> % num)</span><br></pre></td></tr></table></figure><h4 id="练习2：输入两个正整数，计算它们的最大公约数和最小公倍数。"><a href="#练习2：输入两个正整数，计算它们的最大公约数和最小公倍数。" class="headerlink" title="练习2：输入两个正整数，计算它们的最大公约数和最小公倍数。"></a>练习2：输入两个正整数，计算它们的最大公约数和最小公倍数。</h4><blockquote><p><strong>提示</strong>：两个数的最大公约数是两个数的公共因子中最大的那个数；两个数的最小公倍数则是能够同时被两个数整除的最小的那个数。</p></blockquote><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">输入两个正整数计算它们的最大公约数和最小公倍数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">Date: 2018-03-01</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">x = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;x = &#x27;</span>))</span><br><span class="line">y = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;y = &#x27;</span>))</span><br><span class="line"><span class="comment"># 如果x大于y就交换x和y的值</span></span><br><span class="line"><span class="keyword">if</span> x &gt; y:</span><br><span class="line">    <span class="comment"># 通过下面的操作将y的值赋给x, 将x的值赋给y</span></span><br><span class="line">    x, y = y, x</span><br><span class="line"><span class="comment"># 从两个数中较小的数开始做递减的循环</span></span><br><span class="line"><span class="keyword">for</span> factor <span class="keyword">in</span> <span class="built_in">range</span>(x, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> x % factor == <span class="number">0</span> <span class="keyword">and</span> y % factor == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%d和%d的最大公约数是%d&#x27;</span> % (x, y, factor))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%d和%d的最小公倍数是%d&#x27;</span> % (x, y, x * y // factor))</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h4 id="练习3：打印如下所示的三角形图案。"><a href="#练习3：打印如下所示的三角形图案。" class="headerlink" title="练习3：打印如下所示的三角形图案。"></a>练习3：打印如下所示的三角形图案。</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br><span class="line">    *</span><br><span class="line">   **</span><br><span class="line">  ***</span><br><span class="line"> ****</span><br><span class="line">*****</span><br><span class="line">    *</span><br><span class="line">   ***</span><br><span class="line">  *****</span><br><span class="line"> *******</span><br><span class="line">*********</span><br></pre></td></tr></table></figure><p>参考答案：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">打印三角形图案</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Version: 0.1</span></span><br><span class="line"><span class="string">Author: 骆昊</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">row = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;请输入行数: &#x27;</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(i + <span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">        <span class="keyword">if</span> j &lt; row - i - <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27; &#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(row):</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(row - i - <span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27; &#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span> * i + <span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure><details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog" style="box-sizing: border-box; display: block;"><summary data-hotkey="l" aria-label="Jump to line" role="button" style="box-sizing: border-box; display: list-item; cursor: pointer; list-style: none; transition: color 80ms cubic-bezier(0.33, 1, 0.68, 1) 0s, background-color, box-shadow, border-color;"></summary></details>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬虫</title>
      <link href="/posts/7ade1d5c.html"/>
      <url>/posts/7ade1d5c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><h4 id="1-1-爬虫的定义"><a href="#1-1-爬虫的定义" class="headerlink" title="1.1 爬虫的定义"></a>1.1 爬虫的定义</h4><ul><li>爬虫是指使用代码模拟用户批量发送网络请求，批量获取数据的行为。</li></ul><h4 id="1-2-urllib的基本使用"><a href="#1-2-urllib的基本使用" class="headerlink" title="1.2 urllib的基本使用"></a>1.2 urllib的基本使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用urllib来获取百度首页的源码</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="comment"># 1.定义一个url</span></span><br><span class="line">url = <span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求,response响应</span></span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 获取响应的源码，content内容 read()返回二进制的字节数据，要将二进制数据转化成字符，这个过程叫解码</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">#打印数据</span></span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="1-3-urllib-一个类型6个方法"><a href="#1-3-urllib-一个类型6个方法" class="headerlink" title="1.3 urllib 一个类型6个方法"></a>1.3 urllib 一个类型6个方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">coding: <span class="string">&#x27;utf8&#x27;</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求</span></span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 一个类型和6个方法 response是HTTPResponse的类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(response))</span><br><span class="line"><span class="comment"># 按照字节形式去读</span></span><br><span class="line"><span class="comment"># content=response.read()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果read()方法里面有数字，代表返回多少个字节</span></span><br><span class="line"><span class="comment"># content=response.read(8)</span></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># content = response.readline()  # 按行读取,只能读一行，速度快</span></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># content = response.readlines()  #按行读取</span></span><br><span class="line"><span class="comment">#print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回状态码 200</span></span><br><span class="line"><span class="built_in">print</span>(response.getcode())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回url地址</span></span><br><span class="line"><span class="built_in">print</span>(response.geturl())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请求头信息</span></span><br><span class="line"><span class="built_in">print</span>(response.getheaders())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个类型 HTTPresponse</span></span><br><span class="line"><span class="comment"># 6个方法 read()  reline() relines() getcode() geturl() getheaders()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-4-请求对象定制"><a href="#1-4-请求对象定制" class="headerlink" title="1.4 请求对象定制"></a>1.4 请求对象定制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line">url = <span class="string">&#x27;https://www.baidu.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># url 组成部分</span></span><br><span class="line"><span class="comment"># https://www.baidu.com/s?wd=周杰伦</span></span><br><span class="line"><span class="comment"># http https   www.baidu.com  http:80  https:443   s         wd=周杰伦</span></span><br><span class="line"><span class="comment"># 协议          域名                 端口号             路径      参数       锚点</span></span><br><span class="line"><span class="comment"># 端口号  http:80  https:443</span></span><br><span class="line"><span class="comment">#查看更多内容</span></span><br><span class="line"><span class="comment">#简介：useragent一般指用户代理。 用户代理（User Agent，简称 UA），是一个特殊字符串头，</span></span><br><span class="line"><span class="comment"># 使得服务器能够识别客户使用的操作系统及版本、CPU 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等。</span></span><br><span class="line"></span><br><span class="line">headers=&#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 因为URLopen不能存放字典 所以headers不能传递进去，需要请求对象定制,可以存放request对象</span></span><br><span class="line"><span class="comment"># 请求对象的定制</span></span><br><span class="line"><span class="comment"># 注意 因为参数顺序问题 不能直接学URL 和headers 需要用变量来接受收</span></span><br><span class="line">request=urllib.request.Request(url=url,headers=headers)</span><br><span class="line"></span><br><span class="line">response=urllib.request.urlopen(request)</span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>扩展</li></ul><p><img src="https://s2.loli.net/2023/01/06/lU5sBAt68wkJjZ3.png" alt="image-20230106163723099"></p><h4 id="1-5-urllib-get请求方式-quote方法"><a href="#1-5-urllib-get请求方式-quote方法" class="headerlink" title="1.5 urllib_get请求方式 quote方法"></a>1.5 urllib_get请求方式 quote方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="comment"># https://www.baidu.com/s?wd=%E5%91%A8%E6%9D%B0%E4%BC%A6</span></span><br><span class="line">url=<span class="string">&#x27;https://www.baidu.com/s?wd=%E5%91%A8%E6%9D%B0%E4%BC%A6&#x27;</span></span><br><span class="line"><span class="comment"># 请求对象的定制，是为了解决反爬虫的第一种手段</span></span><br><span class="line">headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 将周杰伦变成unicode的格式</span></span><br><span class="line"><span class="comment"># 我们需要依赖与urllib.parse</span></span><br><span class="line">name=urllib.parse.quote(<span class="string">&#x27;周杰伦&#x27;</span>)</span><br><span class="line">url = url + name</span><br><span class="line">requst=urllib.request.Request(url=url,headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求</span></span><br><span class="line">response=urllib.request.urlopen(requst)</span><br><span class="line"><span class="comment"># 获取响应的内容</span></span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># 打印输出</span></span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="1-6urllib-get请求方式-urlencode方法"><a href="#1-6urllib-get请求方式-urlencode方法" class="headerlink" title="1.6urllib_get请求方式 urlencode方法"></a>1.6urllib_get请求方式 urlencode方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># urlencode的应用场景</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">base_url = <span class="string">&#x27;https://www.baidu.com/s?&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;wd&#x27;</span>: <span class="string">&#x27;周杰伦&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">new_data = urllib.parse.urlencode(data)</span><br><span class="line"><span class="comment"># 请求资源路径</span></span><br><span class="line">data = base_url + new_data</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 请求对象定制</span></span><br><span class="line">request = urllib.request.Request(url=data, headers=headers)</span><br><span class="line"><span class="comment"># 向浏览器发送请求</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment"># 获取响应内容</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-7post请求方式百度方式"><a href="#1-7post请求方式百度方式" class="headerlink" title="1.7post请求方式百度方式"></a>1.7post请求方式百度方式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="comment"># post请求</span></span><br><span class="line">url = <span class="string">&#x27;https://fanyi.baidu.com/sug&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;kw&#x27;</span>: <span class="string">&#x27;spider&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># post请求的方式必须就行编码</span></span><br><span class="line">data = urllib.parse.urlencode(data).encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># post的请求方式是不会拼接到URL后面的</span></span><br><span class="line"><span class="comment"># 请求对象定制</span></span><br><span class="line">request = urllib.request.Request(url=url, data=data, headers=headers)</span><br><span class="line"><span class="comment"># 向浏览器发送请求</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment"># 获取响应数据</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">#字符串变成json对象</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">obj=json.loads(content)</span><br><span class="line"><span class="built_in">print</span>(obj)</span><br><span class="line"><span class="comment"># post请求方式必须编码 data=urllib.parse.urlencode(data).encode(&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment"># 编码之后必须调用encode方法encode(&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment"># 请求参数是放在请求定制中的，request=urllib.request.Request(url=url,data=data,headers=headers)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-9-ajax-get请求-豆瓣电影的第一页数据"><a href="#1-9-ajax-get请求-豆瓣电影的第一页数据" class="headerlink" title="1.9 ajax   get请求 豆瓣电影的第一页数据"></a>1.9 ajax   get请求 豆瓣电影的第一页数据</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get 请求 获取豆瓣电影第一页的数据 并且保存起来</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">url=<span class="string">&#x27;https://movie.douban.com/j/chart/top_list?type=5&amp;interval_id=100%3A90&amp;action=&amp;start=0&amp;limit=20&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 请求对象的定制</span></span><br><span class="line">request = urllib.request.Request(url, headers=headers)</span><br><span class="line"><span class="comment">#向浏览器请求数据</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment">#获取响应数据</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"><span class="comment"># 将数据下载到本地,open方法默认使用gbk编码，文件中有中文使用decoding更改编码为utf-8</span></span><br><span class="line">fp = <span class="built_in">open</span>(<span class="string">&#x27;douban.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">fp.write(content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#with open(&#x27;douban1.json&#x27;,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fp:</span></span><br><span class="line"><span class="comment">#    fp.write(content)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-0-urllib异常处理"><a href="#2-0-urllib异常处理" class="headerlink" title="2.0 urllib异常处理"></a>2.0 urllib异常处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.error</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;https://blog.csdn.net/nav/lang111&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    request = urllib.request.Request(url=url,headers=headers)</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(content)</span><br><span class="line"><span class="keyword">except</span> urllib.error.HTTPError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;系统在升级&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-1-handler处理器"><a href="#2-1-handler处理器" class="headerlink" title="2.1  handler处理器"></a>2.1  handler处理器</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">reqeust = urllib.request.Request(url=url,headers=headers)</span><br><span class="line"><span class="comment"># handler  build_opener   open</span></span><br><span class="line"><span class="comment"># 获取handler对象</span></span><br><span class="line">handler = urllib.request.HTTPHandler()</span><br><span class="line"><span class="comment"># 获取opener对象</span></span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line"><span class="comment">#调用open方法</span></span><br><span class="line">response = opener.<span class="built_in">open</span>(reqeust)</span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="2-2-代理"><a href="#2-2-代理" class="headerlink" title="2.2 代理"></a>2.2 代理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  urllib.request</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#请求对象定制</span></span><br><span class="line">request= urllib.request.Request(url=url,headers=headers)</span><br><span class="line">proxies=&#123;</span><br><span class="line">    <span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;183.64.239.19:8060&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># handler  build_opener    open</span></span><br><span class="line">handler = urllib.request.ProxyHandler(proxies=proxies)</span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line">response =opener.<span class="built_in">open</span>(request)</span><br><span class="line"></span><br><span class="line"><span class="comment">#向浏览器发送请求</span></span><br><span class="line"><span class="comment">#response = urllib.request.urlopen(request)</span></span><br><span class="line"><span class="comment">#获取响应数据</span></span><br><span class="line">context=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(context)</span><br></pre></td></tr></table></figure><h4 id="2-3-代理池"><a href="#2-3-代理池" class="headerlink" title="2.3 代理池"></a>2.3 代理池</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">proxies_pool =[</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;183.64.239.19:8060&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;222.66.202.6:80&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;222.66.202.6:80&#x27;</span>&#125;</span><br><span class="line">]</span><br><span class="line">posixs= random.choice(proxies_pool)</span><br><span class="line">url=<span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">request= urllib.request.Request(url=url,headers=headers)</span><br><span class="line">handler= urllib.request.ProxyHandler(proxies=posixs)</span><br><span class="line">opener=urllib.request.build_opener(handler)</span><br><span class="line">response=opener.<span class="built_in">open</span>(request)</span><br><span class="line">context=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(context)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bs4基础语法</title>
      <link href="/posts/8a8d0b38.html"/>
      <url>/posts/8a8d0b38.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-BeautifulSoup"><a href="#1-1-BeautifulSoup" class="headerlink" title="1.1 .BeautifulSoup"></a>1.1 .BeautifulSoup</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>BeautifulSoup简称:</span><br><span class="line"> bs4</span><br><span class="line"><span class="number">2.</span>什么是BeatifulSoup?</span><br><span class="line">Beautifulsoup，和lxml一样，是一个html的解析器，主要功能也是解析和提取数据</span><br><span class="line"><span class="number">3.</span>优缺点?</span><br><span class="line">缺点：效率没有lxml的效率高</span><br><span class="line">优点：接口设计人性化，使用方便</span><br></pre></td></tr></table></figure><h5 id="1-1-2安装以及创建"><a href="#1-1-2安装以及创建" class="headerlink" title="1.1.2安装以及创建"></a>1.1.2安装以及创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>安装</span><br><span class="line">pip install bs4</span><br><span class="line"><span class="number">2.</span>导入</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="number">3.</span>创建对象</span><br><span class="line">服务器响应的文件生成对象     </span><br><span class="line">soup = BeautifulSoup(response.read().decode()，<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">本地文件生成对象</span><br><span class="line">soup = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;1.html&#x27;</span>)，<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">注意：默认打开文件的编码格式gbk所以需要指定打开编码格式</span><br></pre></td></tr></table></figure><h5 id="1-1-3-节点查询"><a href="#1-1-3-节点查询" class="headerlink" title="1.1.3 节点查询"></a>1.1.3 节点查询</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>根据标签名查找节点</span><br><span class="line">soup.a 【注】只能找到第一个a</span><br><span class="line">soup.a.name</span><br><span class="line">soup.a.attrs</span><br><span class="line"><span class="number">2.</span>函数</span><br><span class="line">(<span class="number">1</span>).find(返回一个对象）</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>)：只找到第一个a标签</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>, title=<span class="string">&#x27;名字&#x27;</span>）</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>,class_=<span class="string">&#x27;名字&#x27;</span>）</span><br><span class="line">（<span class="number">2</span>).find_all(返回一个列表）</span><br><span class="line">    find_all(<span class="string">&#x27;a&#x27;</span>) 查找到所有的a</span><br><span class="line">    find_all([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;span&#x27;</span>]) 返回所有的a和span</span><br><span class="line">    find_all(<span class="string">&#x27;a&#x27;</span>, limit=<span class="number">2</span>） 只找前两个a</span><br><span class="line">(<span class="number">3</span>).select(根据选择器得到节点对象）【推荐】</span><br><span class="line"><span class="number">1.</span>element</span><br><span class="line"> eg:p</span><br><span class="line"><span class="number">2.</span>.<span class="keyword">class</span></span><br><span class="line"><span class="title class_">eg</span>:.firstname</span><br><span class="line"><span class="number">3.</span><span class="comment">#id</span></span><br><span class="line"> eg:<span class="comment">#firstname</span></span><br><span class="line"><span class="number">4.</span>属性选择器</span><br><span class="line">[attribute]</span><br><span class="line">eg:li = soup.select(<span class="string">&#x27;li[class]&#x27;</span>）</span><br><span class="line">[attribute=value]</span><br><span class="line">eg:li = soup.select(<span class="string">&#x27;li[class=&quot;hengheng1&quot;]&#x27;</span>）</span><br><span class="line">                    <span class="number">5.</span>层级选择器</span><br><span class="line">element element</span><br><span class="line">div p</span><br><span class="line">element&gt;element</span><br><span class="line">div&gt;p</span><br><span class="line">element,element</span><br><span class="line">div,p</span><br><span class="line">eg：soup = soup.select(<span class="string">&#x27;a,span&#x27;</span>)</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h5 id="1-1-4节点信息"><a href="#1-1-4节点信息" class="headerlink" title="1.1.4节点信息"></a>1.1.4节点信息</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）.获取节点内容：适用于标签中嵌套标签的结构</span><br><span class="line">obj.string</span><br><span class="line">obj.get_text(）【推荐】</span><br><span class="line">（<span class="number">2</span>）.节点的属性</span><br><span class="line">tag.name 获取标签名</span><br><span class="line">eg:tag = find(<span class="string">&#x27;li)</span></span><br><span class="line"><span class="string">print(tag.name）</span></span><br><span class="line"><span class="string">tag.attrs将属性值作为一个字典返回</span></span><br><span class="line"><span class="string">（3）.获取节点属性</span></span><br><span class="line"><span class="string">obj.attrs.get(&#x27;</span>title<span class="string">&#x27;)【常用】</span></span><br><span class="line"><span class="string">obj.get(&#x27;</span>title<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">obj[&#x27;</span>title<span class="string">&#x27;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认打开文件是gbk 需要指定编码</span></span><br><span class="line">soup = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;static/test.html&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>), <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line"><span class="comment"># 根据标签内容找数据，找到的是第一个数据</span></span><br><span class="line"><span class="comment"># print(soup.table)</span></span><br><span class="line"><span class="comment"># 返回的标签的属性</span></span><br><span class="line"><span class="comment"># print(soup.a.attrs)</span></span><br><span class="line"><span class="comment"># bs4的一些函数方法</span></span><br><span class="line"><span class="comment"># (1) find</span></span><br><span class="line"><span class="comment"># 返回第一个符合条件的数据,根据属性值查找标签</span></span><br><span class="line"><span class="comment"># print(soup.find(&#x27;table&#x27;,width=&#x27;500&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (2) find_all 返回列表</span></span><br><span class="line"><span class="comment"># print(soup.find_all(&#x27;td&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果要多个标签的数据需要用[]</span></span><br><span class="line"><span class="comment"># print(soup.find_all([&#x27;a&#x27;,&#x27;td&#x27;]))</span></span><br><span class="line"><span class="comment">#limit 指定数据个数</span></span><br><span class="line"><span class="comment"># print(soup.find_all(&#x27;td&#x27;,limit=10))</span></span><br><span class="line"><span class="comment"># (3) select</span></span><br><span class="line"><span class="comment">#返回多个数据</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;td&#x27;))</span></span><br><span class="line"><span class="comment">#通过类选择器 class</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;.a1&#x27;))</span></span><br><span class="line"><span class="comment"># # 通过id</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;#a1&#x27;))</span></span><br><span class="line"><span class="comment"># 找到table中有id的数据</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;table[id]&#x27;))</span></span><br><span class="line"><span class="comment">#层级选择器 后代选择器</span></span><br><span class="line"><span class="comment"># print( soup.select(&#x27;table tr td&#x27;))</span></span><br><span class="line"><span class="comment">#子代选择器</span></span><br><span class="line">obj= soup.select(<span class="string">&#x27;table &gt; tr &gt; td&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(obj.string)</span><br><span class="line"><span class="built_in">print</span>(obj.get_text())</span><br><span class="line"><span class="comment">#获取节点内容</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xpath基础语法</title>
      <link href="/posts/2ef385a5.html"/>
      <url>/posts/2ef385a5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-xpath语法"><a href="#1-1-xpath语法" class="headerlink" title="1.1 xpath语法"></a>1.1 xpath语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xpath基本语法：</span><br><span class="line"><span class="number">1.</span>路径查询</span><br><span class="line">    // :查找所有子孙节点，不考虑层级关系</span><br><span class="line">    /  :直接找子节点</span><br><span class="line">    <span class="number">2.</span>谓词查询</span><br><span class="line">    //div[@<span class="built_in">id</span>]</span><br><span class="line">    //div[@<span class="built_in">id</span>=<span class="string">&quot;hdj&quot;</span>]</span><br><span class="line">    <span class="number">3.</span>属性查询</span><br><span class="line">    //@<span class="keyword">class</span></span><br><span class="line">    <span class="number">4.</span>模糊查询</span><br><span class="line">    //div[contains(@<span class="built_in">id</span>,<span class="string">&quot;he&quot;</span>)]</span><br><span class="line">    <span class="number">5.</span>内容查询</span><br><span class="line">    //div/h1/text()</span><br><span class="line">    </span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;l1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>四川<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;l2&quot;</span>&gt;</span>重庆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>贵州<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>成都<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>湖南<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>白净<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">查找ul下面的li </span><br><span class="line"></span><br><span class="line">xpath   ://body/ul/li</span><br><span class="line"></span><br><span class="line">查找 li下面所有有id属性的li标签,text()获取标签中内容</span><br><span class="line">xpath   ://ul/li[@id]/text()</span><br><span class="line"></span><br><span class="line">找到标签为li的标签</span><br><span class="line">xpath   ://ul/li[@id=&quot;l1&quot;]</span><br><span class="line"></span><br><span class="line">查找到id 为l1的li标签的class的属性值</span><br><span class="line">//ul/li[@id=&quot;l1&quot;]/@clas</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.Scala基本数据类型与运算符</title>
      <link href="/posts/41f5748e.html"/>
      <url>/posts/41f5748e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Scala基本数据类型和运算符"><a href="#Scala基本数据类型和运算符" class="headerlink" title="Scala基本数据类型和运算符"></a>Scala基本数据类型和运算符</h1><h2 id="一、数据类型"><a href="#一、数据类型" class="headerlink" title="一、数据类型"></a>一、数据类型</h2><h3 id="1-1-类型支持"><a href="#1-1-类型支持" class="headerlink" title="1.1 类型支持"></a>1.1 类型支持</h3><p>Scala 拥有下表所示的数据类型，其中 Byte、Short、Int、Long 和 Char 类型统称为整数类型，整数类型加上 Float 和 Double 统称为数值类型。Scala 数值类型的取值范围和 Java 对应类型的取值范围相同。</p><table><thead><tr><th>数据类型</th><th>描述</th></tr></thead><tbody><tr><td>Byte</td><td>8 位有符号补码整数。数值区间为 -128 到 127</td></tr><tr><td>Short</td><td>16 位有符号补码整数。数值区间为 -32768 到 32767</td></tr><tr><td>Int</td><td>32 位有符号补码整数。数值区间为 -2147483648 到 2147483647</td></tr><tr><td>Long</td><td>64 位有符号补码整数。数值区间为 -9223372036854775808 到 9223372036854775807</td></tr><tr><td>Float</td><td>32 位, IEEE 754 标准的单精度浮点数</td></tr><tr><td>Double</td><td>64 位 IEEE 754 标准的双精度浮点数</td></tr><tr><td>Char</td><td>16 位无符号 Unicode 字符, 区间值为 U+0000 到 U+FFFF</td></tr><tr><td>String</td><td>字符序列</td></tr><tr><td>Boolean</td><td>true 或 false</td></tr><tr><td>Unit</td><td>表示无值，等同于 Java 中的 void。用作不返回任何结果的方法的结果类型。Unit 只有一个实例值，写成 ()。</td></tr><tr><td>Null</td><td>null 或空引用</td></tr><tr><td>Nothing</td><td>Nothing 类型在 Scala 的类层级的最低端；它是任何其他类型的子类型。</td></tr><tr><td>Any</td><td>Any 是所有其他类的超类</td></tr><tr><td>AnyRef</td><td>AnyRef 类是 Scala 里所有引用类 (reference class) 的基类</td></tr></tbody></table><h3 id="1-2-定义变量"><a href="#1-2-定义变量" class="headerlink" title="1.2 定义变量"></a>1.2 定义变量</h3><p>Scala 的变量分为两种，val 和 var，其区别如下：</p><ul><li><strong>val</strong> ： 类似于 Java 中的 final 变量，一旦初始化就不能被重新赋值；</li><li><strong>var</strong> ：类似于 Java 中的非 final 变量，在整个声明周期内 var 可以被重新赋值；</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; val a=1</span><br><span class="line">a: Int = 1</span><br><span class="line"></span><br><span class="line">scala&gt; a=2</span><br><span class="line">&lt;console&gt;:8: error: reassignment to val // 不允许重新赋值</span><br><span class="line"></span><br><span class="line">scala&gt; var b=1</span><br><span class="line">b: Int = 1</span><br><span class="line"></span><br><span class="line">scala&gt; b=2</span><br><span class="line">b: Int = 2</span><br></pre></td></tr></table></figure><h3 id="1-3-类型推断"><a href="#1-3-类型推断" class="headerlink" title="1.3 类型推断"></a>1.3 类型推断</h3><p>在上面的演示中，并没有声明 a 是 Int 类型，但是程序还是把 a 当做 Int 类型，这就是 Scala 的类型推断。在大多数情况下，你都无需指明变量的类型，程序会自动进行推断。如果你想显式的声明类型，可以在变量后面指定，如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt;  val c:String=&quot;hello scala&quot;</span><br><span class="line">c: String = hello scala</span><br></pre></td></tr></table></figure><h3 id="1-4-Scala解释器"><a href="#1-4-Scala解释器" class="headerlink" title="1.4 Scala解释器"></a>1.4 Scala解释器</h3><p>在 scala 命令行中，如果没有对输入的值指定赋值的变量，则输入的值默认会赋值给 <code>resX</code>(其中 X 是一个从 0 开始递增的整数)，<code>res</code> 是 result 的缩写，这个变量可以在后面的语句中进行引用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 5</span><br><span class="line">res0: Int = 5</span><br><span class="line"></span><br><span class="line">scala&gt; res0*6</span><br><span class="line">res1: Int = 30</span><br><span class="line"></span><br><span class="line">scala&gt; println(res1)</span><br><span class="line">30</span><br></pre></td></tr></table></figure><h2 id="二、字面量"><a href="#二、字面量" class="headerlink" title="二、字面量"></a>二、字面量</h2><p>Scala 和 Java 字面量在使用上很多相似，比如都使用 F 或 f 表示浮点型，都使用 L 或 l 表示 Long 类型。下文主要介绍两者差异部分。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 1.2</span><br><span class="line">res0: Double = 1.2</span><br><span class="line"></span><br><span class="line">scala&gt; 1.2f</span><br><span class="line">res1: Float = 1.2</span><br><span class="line"></span><br><span class="line">scala&gt; 1.4F</span><br><span class="line">res2: Float = 1.4</span><br><span class="line"></span><br><span class="line">scala&gt; 1</span><br><span class="line">res3: Int = 1</span><br><span class="line"></span><br><span class="line">scala&gt; 1l</span><br><span class="line">res4: Long = 1</span><br><span class="line"></span><br><span class="line">scala&gt; 1L</span><br><span class="line">res5: Long = 1</span><br></pre></td></tr></table></figure><h3 id="2-1-整数字面量"><a href="#2-1-整数字面量" class="headerlink" title="2.1 整数字面量"></a>2.1 整数字面量</h3><p>Scala 支持 10 进制和 16 进制，但不支持八进制字面量和以 0 开头的整数字面量。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 012</span><br><span class="line">&lt;console&gt;:1: error: Decimal integer literals may not have a leading zero. (Octal syntax is obsolete.)</span><br></pre></td></tr></table></figure><h3 id="2-2-字符串字面量"><a href="#2-2-字符串字面量" class="headerlink" title="2.2 字符串字面量"></a>2.2 字符串字面量</h3><h4 id="1-字符字面量"><a href="#1-字符字面量" class="headerlink" title="1. 字符字面量"></a>1. 字符字面量</h4><p>字符字面量由一对单引号和中间的任意 Unicode 字符组成。你可以显式的给出原字符、也可以使用字符的 Unicode 码来表示，还可以包含特殊的转义字符。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; &#x27;\u0041&#x27;</span><br><span class="line">res0: Char = A</span><br><span class="line"></span><br><span class="line">scala&gt; &#x27;a&#x27;</span><br><span class="line">res1: Char = a</span><br><span class="line"></span><br><span class="line">scala&gt; &#x27;\n&#x27;</span><br><span class="line">res2: Char =</span><br></pre></td></tr></table></figure><h4 id="2-字符串字面量"><a href="#2-字符串字面量" class="headerlink" title="2. 字符串字面量"></a>2. 字符串字面量</h4><p>字符串字面量由双引号包起来的字符组成。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; &quot;hello world&quot;</span><br><span class="line">res3: String = hello world</span><br></pre></td></tr></table></figure><h4 id="3-原生字符串"><a href="#3-原生字符串" class="headerlink" title="3.原生字符串"></a>3.原生字符串</h4><p>Scala 提供了 <code>&quot;&quot;&quot; ... &quot;&quot;&quot;</code> 语法，通过三个双引号来表示原生字符串和多行字符串，使用该种方式，原生字符串中的特殊字符不会被转义。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; &quot;hello \tool&quot;</span><br><span class="line">res4: String = hello    ool</span><br><span class="line"></span><br><span class="line">scala&gt; &quot;&quot;&quot;hello \tool&quot;&quot;&quot;</span><br><span class="line">res5: String = hello \tool</span><br><span class="line"></span><br><span class="line">scala&gt; &quot;&quot;&quot;hello</span><br><span class="line">     | world&quot;&quot;&quot;</span><br><span class="line">res6: String =</span><br><span class="line">hello</span><br><span class="line">world</span><br></pre></td></tr></table></figure><h3 id="2-3-符号字面量"><a href="#2-3-符号字面量" class="headerlink" title="2.3 符号字面量"></a>2.3 符号字面量</h3><p>符号字面量写法为： <code>&#39;标识符 </code> ，这里 标识符可以是任何字母或数字的组合。符号字面量会被映射成 <code>scala.Symbol</code> 的实例，如:符号字面量 <code>&#39;x </code> 会被编译器翻译为 <code>scala.Symbol(&quot;x&quot;)</code>。符号字面量可选方法很少，只能通过 <code>.name</code> 获取其名称。</p><p>注意：具有相同 <code>name</code> 的符号字面量一定指向同一个 Symbol 对象，不同 <code>name</code> 的符号字面量一定指向不同的 Symbol 对象。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; val sym = &#x27;ID008</span><br><span class="line">sym: Symbol = &#x27;ID008</span><br><span class="line"></span><br><span class="line">scala&gt; sym.name</span><br><span class="line">res12: String = ID008</span><br></pre></td></tr></table></figure><h3 id="2-4-插值表达式"><a href="#2-4-插值表达式" class="headerlink" title="2.4 插值表达式"></a>2.4 插值表达式</h3><p>Scala 支持插值表达式。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; val name=&quot;xiaoming&quot;</span><br><span class="line">name: String = xiaoming</span><br><span class="line"></span><br><span class="line">scala&gt; println(s&quot;My name is $name,I&#x27;m $&#123;2*9&#125;.&quot;)</span><br><span class="line">My name is xiaoming,I&#x27;m 18.</span><br></pre></td></tr></table></figure><h2 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h2><p>Scala 和其他语言一样，支持大多数的操作运算符：</p><ul><li>算术运算符（+，-，*，&#x2F;，%）</li><li>关系运算符（&#x3D;&#x3D;，!&#x3D;，&gt;，&lt;，&gt;&#x3D;，&lt;&#x3D;）</li><li>逻辑运算符 (&amp;&amp;，||，!，&amp;，|)</li><li>位运算符 (~，&amp;，|，^，&lt;&lt;，&gt;&gt;，&gt;&gt;&gt;)</li><li>赋值运算符 (&#x3D;，+&#x3D;，-&#x3D;，*&#x3D;，&#x2F;&#x3D;，%&#x3D;，&lt;&lt;&#x3D;，&gt;&gt;&#x3D;，&amp;&#x3D;，^&#x3D;，|&#x3D;)</li></ul><p>以上操作符的基本使用与 Java 类似，下文主要介绍差异部分和注意事项。</p><h3 id="3-1-运算符即方法"><a href="#3-1-运算符即方法" class="headerlink" title="3.1 运算符即方法"></a>3.1 运算符即方法</h3><p>Scala 的面向对象比 Java 更加纯粹，在 Scala 中一切都是对象。所以对于 <code>1+2</code>,实际上是调用了 Int 类中名为 <code>+</code> 的方法，所以 1+2,也可以写成 <code>1.+(2)</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 1+2</span><br><span class="line">res14: Int = 3</span><br><span class="line"></span><br><span class="line">scala&gt; 1.+(2)</span><br><span class="line">res15: Int = 3</span><br></pre></td></tr></table></figure><p>Int 类中包含了多个重载的 <code>+</code> 方法，用于分别接收不同类型的参数。</p><p><img src="https://s2.loli.net/2023/02/23/qJtBVC2IlLXfwpU.png" alt="img"></p><h3 id="3-2-逻辑运算符"><a href="#3-2-逻辑运算符" class="headerlink" title="3.2 逻辑运算符"></a>3.2 逻辑运算符</h3><p>和其他语言一样，在 Scala 中 <code>&amp;&amp;</code>，<code>||</code> 的执行是短路的，即如果左边的表达式能确定整个结果，右边的表达式就不会被执行，这满足大多数使用场景。但是如果你需要在无论什么情况下，都执行右边的表达式，则可以使用 <code>&amp;</code> 或 <code>|</code> 代替。</p><h3 id="3-3-赋值运算符"><a href="#3-3-赋值运算符" class="headerlink" title="3.3 赋值运算符"></a>3.3 赋值运算符</h3><p>在 Scala 中没有 Java 中的 <code>++</code> 和 <code>--</code> 运算符，如果你想要实现类似的操作，只能使用 <code>+=1</code>，或者 <code>-=1</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; var a=1</span><br><span class="line">a: Int = 1</span><br><span class="line"></span><br><span class="line">scala&gt; a+=1</span><br><span class="line"></span><br><span class="line">scala&gt; a</span><br><span class="line">res8: Int = 2</span><br><span class="line"></span><br><span class="line">scala&gt; a-=1</span><br><span class="line"></span><br><span class="line">scala&gt; a</span><br><span class="line">res10: Int = 1</span><br></pre></td></tr></table></figure><h3 id="3-4-运算符优先级"><a href="#3-4-运算符优先级" class="headerlink" title="3.4 运算符优先级"></a>3.4 运算符优先级</h3><p>操作符的优先级如下：优先级由上至下，逐级递减。</p><p><img src="https://s2.loli.net/2023/02/23/ciP7pS5L2h8oMNQ.png" alt="img"></p><p>在表格中某个字符的优先级越高，那么以这个字符打头的方法就拥有更高的优先级。如 <code>+</code> 的优先级大于 <code>&lt;</code>，也就意味则 <code>+</code> 的优先级大于以 <code>&lt;</code> 开头的 <code>&lt;&lt;</code>，所以 <code>2&lt;&lt;2+2</code> , 实际上等价于 <code>2&lt;&lt;(2+2)</code> :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 2&lt;&lt;2+2</span><br><span class="line">res0: Int = 32</span><br><span class="line"></span><br><span class="line">scala&gt; 2&lt;&lt;(2+2)</span><br><span class="line">res1: Int = 32</span><br></pre></td></tr></table></figure><h3 id="3-5-对象相等性"><a href="#3-5-对象相等性" class="headerlink" title="3.5 对象相等性"></a>3.5 对象相等性</h3><p>如果想要判断两个对象是否相等，可以使用 <code>==</code> 和 <code>!=</code>,这两个操作符可以用于所有的对象，包括 null。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; 1==2</span><br><span class="line">res2: Boolean = false</span><br><span class="line"></span><br><span class="line">scala&gt; List(1,2,3)==List(1,2,3)</span><br><span class="line">res3: Boolean = true</span><br><span class="line"></span><br><span class="line">scala&gt; 1==1.0</span><br><span class="line">res4: Boolean = true</span><br><span class="line"></span><br><span class="line">scala&gt; List(1,2,3)==null</span><br><span class="line">res5: Boolean = false</span><br><span class="line"></span><br><span class="line">scala&gt; null==null</span><br><span class="line">res6: Boolean = true</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      <categories>
          
          <category> Scala </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Scala </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.k8s介绍</title>
      <link href="/posts/6e669434.html"/>
      <url>/posts/6e669434.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-Kubernetes介绍"><a href="#1-Kubernetes介绍" class="headerlink" title="1. Kubernetes介绍"></a>1. Kubernetes介绍</h1><h2 id="1-1-应用部署方式演变"><a href="#1-1-应用部署方式演变" class="headerlink" title="1.1 应用部署方式演变"></a>1.1 应用部署方式演变</h2><p>在部署应用程序的方式上，主要经历了三个时代：</p><ul><li><p><strong>传统部署</strong>：互联网早期，会直接将应用程序部署在物理机上</p><blockquote><p>优点：简单，不需要其它技术的参与</p><p>缺点：不能为应用程序定义资源使用边界，很难合理地分配计算资源，而且程序之间容易产生影响</p></blockquote></li><li><p><strong>虚拟化部署</strong>：可以在一台物理机上运行多个虚拟机，每个虚拟机都是独立的一个环境</p><blockquote><p>优点：程序环境不会相互产生影响，提供了一定程度的安全性</p><p>缺点：增加了操作系统，浪费了部分资源</p></blockquote></li><li><p><strong>容器化部署</strong>：与虚拟化类似，但是共享了操作系统</p><blockquote><p>优点：</p><p>可以保证每个容器拥有自己的文件系统、CPU、内存、进程空间等</p><p>运行应用程序所需要的资源都被容器包装，并和底层基础架构解耦</p><p>容器化的应用程序可以跨云服务商、跨Linux操作系统发行版进行部署</p></blockquote></li></ul><p><img src="https://s2.loli.net/2022/12/29/mhDUPf5wpFaTnN7.png" alt="image-20200505183738289"></p><p>容器化部署方式给带来很多的便利，但是也会出现一些问题，比如说：</p><ul><li>一个容器故障停机了，怎么样让另外一个容器立刻启动去替补停机的容器</li><li>当并发访问量变大的时候，怎么样做到横向扩展容器数量</li></ul><p>这些容器管理的问题统称为<strong>容器编排</strong>问题，为了解决这些容器编排问题，就产生了一些容器编排的软件：</p><ul><li><strong>Swarm</strong>：Docker自己的容器编排工具</li><li><strong>Mesos</strong>：Apache的一个资源统一管控的工具，需要和Marathon结合使用</li><li><strong>Kubernetes</strong>：Google开源的的容器编排工具</li></ul><p><img src="https://s2.loli.net/2022/12/29/mLkVIzHdTjlNqby.png" alt="image-20200524150339551"></p><h2 id="1-2-kubernetes简介"><a href="#1-2-kubernetes简介" class="headerlink" title="1.2 kubernetes简介"></a>1.2 kubernetes简介</h2><p><img src="https://s2.loli.net/2022/12/29/sJp93LAKyWew6jF.png" alt="image-20200406232838722"></p><p>kubernetes，是一个全新的基于容器技术的分布式架构领先方案，是谷歌严格保密十几年的秘密武器—-Borg系统的一个开源版本，于2014年9月发布第一个版本，2015年7月发布第一个正式版本。</p><p>kubernetes的本质是<strong>一组服务器集群</strong>，它可以在集群的每个节点上运行特定的程序，来对节点中的容器进行管理。目的是实现资源管理的自动化，主要提供了如下的主要功能：</p><ul><li><strong>自我修复</strong>：一旦某一个容器崩溃，能够在1秒中左右迅速启动新的容器</li><li><strong>弹性伸缩</strong>：可以根据需要，自动对集群中正在运行的容器数量进行调整</li><li><strong>服务发现</strong>：服务可以通过自动发现的形式找到它所依赖的服务</li><li><strong>负载均衡</strong>：如果一个服务起动了多个容器，能够自动实现请求的负载均衡</li><li><strong>版本回退</strong>：如果发现新发布的程序版本有问题，可以立即回退到原来的版本</li><li><strong>存储编排</strong>：可以根据容器自身的需求自动创建存储卷</li></ul><p><img src="/Kubenetes.assets/image-20200526203726071-1626780706899.png" alt="image-20200526203726071"></p><h2 id="1-3-kubernetes组件"><a href="#1-3-kubernetes组件" class="headerlink" title="1.3 kubernetes组件"></a>1.3 kubernetes组件</h2><p>一个kubernetes集群主要是由**控制节点(master)<strong>、</strong>工作节点(node)**构成，每个节点上都会安装不同的组件。</p><p><strong>master：集群的控制平面，负责集群的决策 ( 管理 )</strong></p><blockquote><p><strong>ApiServer</strong> : 资源操作的唯一入口，接收用户输入的命令，提供认证、授权、API注册和发现等机制</p><p><strong>Scheduler</strong> : 负责集群资源调度，按照预定的调度策略将Pod调度到相应的node节点上</p><p><strong>ControllerManager</strong> : 负责维护集群的状态，比如程序部署安排、故障检测、自动扩展、滚动更新等</p><p><strong>Etcd</strong> ：负责存储集群中各种资源对象的信息</p></blockquote><p><strong>node：集群的数据平面，负责为容器提供运行环境 ( 干活 )</strong></p><blockquote><p><strong>Kubelet</strong> : 负责维护容器的生命周期，即通过控制docker，来创建、更新、销毁容器</p><p><strong>KubeProxy</strong> : 负责提供集群内部的服务发现和负载均衡</p><p><strong>Docker</strong> : 负责节点上容器的各种操作</p></blockquote><p><img src="https://s2.loli.net/2022/12/29/KqaAmPuctikdhES.png" alt="image-20200406184656917"></p><p>下面，以部署一个nginx服务来说明kubernetes系统各个组件调用关系：</p><ol><li><p>首先要明确，一旦kubernetes环境启动之后，master和node都会将自身的信息存储到etcd数据库中</p></li><li><p>一个nginx服务的安装请求会首先被发送到master节点的apiServer组件</p></li><li><p>apiServer组件会调用scheduler组件来决定到底应该把这个服务安装到哪个node节点上</p><p> 在此时，它会从etcd中读取各个node节点的信息，然后按照一定的算法进行选择，并将结果告知apiServer</p></li><li><p>apiServer调用controller-manager去调度Node节点安装nginx服务</p></li><li><p>kubelet接收到指令后，会通知docker，然后由docker来启动一个nginx的pod</p><p> pod是kubernetes的最小操作单元，容器必须跑在pod中至此，</p></li><li><p>一个nginx服务就运行了，如果需要访问nginx，就需要通过kube-proxy来对pod产生访问的代理</p></li></ol><p>这样，外界用户就可以访问集群中的nginx服务了</p><h2 id="1-4-kubernetes概念"><a href="#1-4-kubernetes概念" class="headerlink" title="1.4 kubernetes概念"></a>1.4 kubernetes概念</h2><p><strong>Master</strong>：集群控制节点，每个集群需要至少一个master节点负责集群的管控</p><p><strong>Node</strong>：工作负载节点，由master分配容器到这些node工作节点上，然后node节点上的docker负责容器的运行</p><p><strong>Pod</strong>：kubernetes的最小控制单元，容器都是运行在pod中的，一个pod中可以有1个或者多个容器</p><p><strong>Controller</strong>：控制器，通过它来实现对pod的管理，比如启动pod、停止pod、伸缩pod的数量等等</p><p><strong>Service</strong>：pod对外服务的统一入口，下面可以维护者同一类的多个pod</p><p><strong>Label</strong>：标签，用于对pod进行分类，同一类pod会拥有相同的标签</p><p><strong>NameSpace</strong>：命名空间，用来隔离pod的运行环境</p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>k8s搭建2</title>
      <link href="/posts/764d0a48.html"/>
      <url>/posts/764d0a48.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="2-6-环境初始化"><a href="#2-6-环境初始化" class="headerlink" title="2.6 环境初始化"></a>2.6 环境初始化</h4><h5 id="2-6-1-检查操作系统的版本"><a href="#2-6-1-检查操作系统的版本" class="headerlink" title="2.6.1 检查操作系统的版本"></a>2.6.1 检查操作系统的版本</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此方式下安装kubernetes集群要求Centos版本要在7.5或之上</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">Centos Linux <span class="number">7.5</span>.<span class="number">1804</span> (Core)</span><br></pre></td></tr></table></figure><h5 id="2-6-2-主机名解析"><a href="#2-6-2-主机名解析" class="headerlink" title="2.6.2 主机名解析"></a>2.6.2 主机名解析</h5><p>为了方便集群节点间的直接调用，在这个配置一下主机名解析，企业中推荐使用内部DNS服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主机名成解析 编辑三台服务器的/etc/hosts文件，添加下面内容</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.100</span> master</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.106</span> node1</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.107</span> node2</span><br></pre></td></tr></table></figure><h5 id="2-6-3-时间同步"><a href="#2-6-3-时间同步" class="headerlink" title="2.6.3 时间同步"></a>2.6.3 时间同步</h5><p>kubernetes要求集群中的节点时间必须精确一直，这里使用chronyd服务从网络同步时间</p><p>企业中建议配置内部的会见同步服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动chronyd服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl start chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># date</span></span><br></pre></td></tr></table></figure><h5 id="2-6-4-禁用iptable和firewalld服务"><a href="#2-6-4-禁用iptable和firewalld服务" class="headerlink" title="2.6.4  禁用iptable和firewalld服务"></a>2.6.4  禁用iptable和firewalld服务</h5><p>kubernetes和docker 在运行的中会产生大量的iptables规则，为了不让系统规则跟它们混淆，直接关闭系统的规则</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 关闭firewalld服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop firewalld</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable firewalld</span></span><br><span class="line"><span class="comment"># 2 关闭iptables服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop iptables</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable iptables</span></span><br></pre></td></tr></table></figure><h5 id="2-6-5-禁用selinux"><a href="#2-6-5-禁用selinux" class="headerlink" title="2.6.5 禁用selinux"></a>2.6.5 禁用selinux</h5><p>selinux是linux系统下的一个安全服务，如果不关闭它，在安装集群中会产生各种各样的奇葩问题</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 /etc/selinux/config 文件，修改SELINUX的值为disable</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><h5 id="2-6-6-禁用swap分区"><a href="#2-6-6-禁用swap分区" class="headerlink" title="2.6.6 禁用swap分区"></a>2.6.6 禁用swap分区</h5><p>swap分区指的是虚拟内存分区，它的作用是物理内存使用完，之后将磁盘空间虚拟成内存来使用，启用swap设备会对系统的性能产生非常负面的影响，因此kubernetes要求每个节点都要禁用swap设备，但是如果因为某些原因确实不能关闭swap分区，就需要在集群安装过程中通过明确的参数进行配置说明</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑分区配置文件/etc/fstab，注释掉swap分区一行</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">注释掉 /dev/mapper/centos<span class="literal">-swap</span> swap</span><br><span class="line"><span class="comment"># /dev/mapper/centos-swap swap</span></span><br></pre></td></tr></table></figure><h5 id="2-6-7-修改linux的内核参数"><a href="#2-6-7-修改linux的内核参数" class="headerlink" title="2.6.7 修改linux的内核参数"></a>2.6.7 修改linux的内核参数</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改linux的内核采纳数，添加网桥过滤和地址转发功能</span></span><br><span class="line"><span class="comment"># 编辑/etc/sysctl.d/kubernetes.conf文件，添加如下配置：</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-ip6tables</span> = <span class="number">1</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-iptables</span> = <span class="number">1</span></span><br><span class="line">net.ipv4.ip_forward = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载配置</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sysctl -p</span></span><br><span class="line"><span class="comment"># 加载网桥过滤模块</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># modprobe br_netfilter</span></span><br><span class="line"><span class="comment"># 查看网桥过滤模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep br_netfilter</span></span><br></pre></td></tr></table></figure><h5 id="2-6-8-配置ipvs功能"><a href="#2-6-8-配置ipvs功能" class="headerlink" title="2.6.8 配置ipvs功能"></a>2.6.8 配置ipvs功能</h5><p>在Kubernetes中Service有两种带来模型，一种是基于iptables的，一种是基于ipvs的两者比较的话，ipvs的性能明显要高一些，但是如果要使用它，需要手动载入ipvs模块</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.安装ipset和ipvsadm</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install ipset ipvsadm -y</span></span><br><span class="line"><span class="comment"># 2.添加需要加载的模块写入脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">modprobe <span class="literal">--</span> ip_vs</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_rr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_wrr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_sh</span><br><span class="line">modprobe <span class="literal">--</span> nf_conntrack_ipv4</span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># 3.为脚本添加执行权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># chmod +x /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 4.执行脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># /bin/bash /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 5.查看对应的模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep -e ip_vs -e nf_conntrack_ipv4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-9-安装docker"><a href="#2-6-9-安装docker" class="headerlink" title="2.6.9 安装docker"></a>2.6.9 安装docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、切换镜像源</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、查看当前镜像源中支持的docker版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum list docker-ce --showduplicates</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装特定版本的docker-ce</span></span><br><span class="line"><span class="comment"># 必须制定--setopt=obsoletes=0，否则yum会自动安装更高版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 docker-ce-18.06.3.ce-3.el7 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、添加一个配置文件</span></span><br><span class="line"><span class="comment">#Docker 在默认情况下使用Vgroup Driver为cgroupfs，而Kubernetes推荐使用systemd来替代cgroupfs</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir /etc/docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/docker/daemon.json</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line"><span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://kn0t2bca.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、启动dokcer</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl restart docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable docker</span></span><br></pre></td></tr></table></figure><h5 id="2-6-10-安装Kubernetes组件"><a href="#2-6-10-安装Kubernetes组件" class="headerlink" title="2.6.10 安装Kubernetes组件"></a>2.6.10 安装Kubernetes组件</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、由于kubernetes的镜像在国外，速度比较慢，这里切换成国内的镜像源</span></span><br><span class="line"><span class="comment"># 2、编辑/etc/yum.repos.d/kubernetes.repo,添加下面的配置</span></span><br><span class="line">[<span class="type">kubernetes</span>]</span><br><span class="line">name=Kubernetes</span><br><span class="line">baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes<span class="literal">-el7-x86_64</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgchech=<span class="number">0</span></span><br><span class="line">repo_gpgcheck=<span class="number">0</span></span><br><span class="line">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum<span class="literal">-key</span>.gpg</span><br><span class="line">http://mirrors.aliyun.com/kubernetes/yum/doc/rpm<span class="literal">-package-key</span>.gpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装kubeadm、kubelet和kubectl</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 kubeadm-1.17.4-0 kubelet-1.17.4-0 kubectl-1.17.4-0 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、配置kubelet的cgroup</span></span><br><span class="line"><span class="comment">#编辑/etc/sysconfig/kubelet, 添加下面的配置</span></span><br><span class="line">KUBELET_CGROUP_ARGS=<span class="string">&quot;--cgroup-driver=systemd&quot;</span></span><br><span class="line">KUBE_PROXY_MODE=<span class="string">&quot;ipvs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、设置kubelet开机自启</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable kubelet</span></span><br></pre></td></tr></table></figure><h5 id="2-6-11-准备集群镜像"><a href="#2-6-11-准备集群镜像" class="headerlink" title="2.6.11 准备集群镜像"></a>2.6.11 准备集群镜像</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在安装kubernetes集群之前，必须要提前准备好集群需要的镜像，所需镜像可以通过下面命令查看</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm config images list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载镜像</span></span><br><span class="line"><span class="comment"># 此镜像kubernetes的仓库中，由于网络原因，无法连接，下面提供了一种替换方案</span></span><br><span class="line">images=(</span><br><span class="line">kube<span class="literal">-apiserver</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-controller-manager</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-scheduler</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-proxy</span>:v1.<span class="number">17.4</span></span><br><span class="line">pause:<span class="number">3.1</span></span><br><span class="line">etcd:<span class="number">3.4</span>.<span class="number">3</span><span class="literal">-0</span></span><br><span class="line">coredns:<span class="number">1.6</span>.<span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> imageName <span class="keyword">in</span> <span class="variable">$</span>&#123;images[<span class="selector-tag">@</span>]&#125;;<span class="keyword">do</span></span><br><span class="line">docker pull registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span></span><br><span class="line">docker tag registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> k8s.gcr.io/<span class="variable">$imageName</span></span><br><span class="line">docker rmi registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> </span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-11-集群初始化"><a href="#2-6-11-集群初始化" class="headerlink" title="2.6.11 集群初始化"></a>2.6.11 集群初始化</h5><blockquote><p>下面的操作只需要在master节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建集群</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm init \</span></span><br><span class="line"><span class="literal">--apiserver-advertise-address</span>=<span class="number">192.168</span>.<span class="number">169.100</span> \</span><br><span class="line"><span class="literal">--image-repository</span> registry.aliyuncs.com/google_containers \</span><br><span class="line"><span class="literal">--kubernetes-version</span>=v1.<span class="number">17.4</span> \</span><br><span class="line"><span class="literal">--service-cidr</span>=<span class="number">10.96</span>.<span class="number">0.0</span>/<span class="number">12</span> \</span><br><span class="line"><span class="literal">--pod-network-cidr</span>=<span class="number">10.244</span>.<span class="number">0.0</span>/<span class="number">16</span></span><br><span class="line"><span class="comment"># 创建必要文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir -p $HOME/.kube</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo chown $(id -u):$(id -g) $HOME/.kube/config</span></span><br></pre></td></tr></table></figure><blockquote><p>下面的操作只需要在node节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join <span class="number">192.168</span>.<span class="number">0.100</span>:<span class="number">6443</span> <span class="literal">--token</span> awk15p.t6bamck54w69u4s8 \</span><br><span class="line">    <span class="literal">--discovery-token-ca-cert-hash</span> sha256:a94fa09562466d32d29523ab6cff122186f1127599fa4dcd5fa0152694f17117 </span><br></pre></td></tr></table></figure><p>在master上查看节点信息</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubectl get nodes</span></span><br><span class="line">NAME    STATUS   ROLES     AGE   VERSION</span><br><span class="line">master  NotReady  master   <span class="number">6</span>m    v1.<span class="number">17.4</span></span><br><span class="line">node1   NotReady   &lt;none&gt;  <span class="number">22</span>s   v1.<span class="number">17.4</span></span><br><span class="line">node2   NotReady   &lt;none&gt;  <span class="number">19</span>s   v1.<span class="number">17.4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-13-安装网络插件，只在master节点操作即可"><a href="#2-6-13-安装网络插件，只在master节点操作即可" class="headerlink" title="2.6.13 安装网络插件，只在master节点操作即可"></a>2.6.13 安装网络插件，只在master节点操作即可</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wget</span> https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>由于外网不好访问，如果出现无法访问的情况，可以直接用下面的 记得文件名是kube-flannel.yml，位置：&#x2F;root&#x2F;kube-flannel.yml内容：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/flannel<span class="literal">-io</span>/flannel/tree/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>也可手动拉取指定版本<br>docker pull quay.io&#x2F;coreos&#x2F;flannel:v0.14.0              #拉取flannel网络，三台主机<br>docker images                  #查看仓库是否拉去下来</p><p><code>个人笔记</code><br>若是集群状态一直是 notready,用下面语句查看原因，<br>journalctl -f -u kubelet.service<br>若原因是： cni.go:237] Unable to update cni config: no networks found in &#x2F;etc&#x2F;cni&#x2F;net.d<br>mkdir -p &#x2F;etc&#x2F;cni&#x2F;net.d                    #创建目录给flannel做配置文件<br>vim &#x2F;etc&#x2F;cni&#x2F;net.d&#x2F;10-flannel.conf         #编写配置文件</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">&quot;name&quot;</span>:<span class="string">&quot;cbr0&quot;</span>,</span><br><span class="line"> <span class="string">&quot;cniVersion&quot;</span>:<span class="string">&quot;0.3.1&quot;</span>,</span><br><span class="line"> <span class="string">&quot;type&quot;</span>:<span class="string">&quot;flannel&quot;</span>,</span><br><span class="line"> <span class="string">&quot;deledate&quot;</span>:&#123;</span><br><span class="line">    <span class="string">&quot;hairpinMode&quot;</span>:true,</span><br><span class="line">    <span class="string">&quot;isDefaultGateway&quot;</span>:true</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-14-使用kubeadm-reset重置集群"><a href="#2-6-14-使用kubeadm-reset重置集群" class="headerlink" title="2.6.14 使用kubeadm reset重置集群"></a>2.6.14 使用kubeadm reset重置集群</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#在master节点之外的节点进行操作</span><br><span class="line">kubeadm reset</span><br><span class="line">systemctl stop kubelet</span><br><span class="line">systemctl stop docker</span><br><span class="line">rm -rf /var/lib/cni/</span><br><span class="line">rm -rf /var/lib/kubelet/*</span><br><span class="line">rm -rf /etc/cni/</span><br><span class="line">ifconfig cni0 down</span><br><span class="line">ifconfig flannel.1 down</span><br><span class="line">ifconfig docker0 down</span><br><span class="line">ip link delete cni0</span><br><span class="line">ip link delete flannel.1</span><br><span class="line">##重启kubelet</span><br><span class="line">systemctl restart kubelet</span><br><span class="line">##重启docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h5 id="2-6-15-重启kubelet和docker"><a href="#2-6-15-重启kubelet和docker" class="headerlink" title="2.6.15 重启kubelet和docker"></a>2.6.15 重启kubelet和docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重启kubelet</span></span><br><span class="line">systemctl restart kubelet</span><br><span class="line"><span class="comment"># 重启docker</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>使用配置文件启动fannel</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply <span class="operator">-f</span> kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>等待它安装完毕 发现已经是 集群的状态已经是Ready</p><p><img src="https://s2.loli.net/2023/01/20/NX47UjpanZ5AruM.png" alt="img"></p><h5 id="2-6-16-kubeadm中的命令"><a href="#2-6-16-kubeadm中的命令" class="headerlink" title="2.6.16 kubeadm中的命令"></a>2.6.16 kubeadm中的命令</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 新的token</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm token create --print-join-command</span></span><br></pre></td></tr></table></figure><h4 id="2-7-集群测试"><a href="#2-7-集群测试" class="headerlink" title="2.7 集群测试"></a>2.7 集群测试</h4><h5 id="2-7-1-创建一个nginx服务"><a href="#2-7-1-创建一个nginx服务" class="headerlink" title="2.7.1 创建一个nginx服务"></a>2.7.1 创建一个nginx服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment nginx  <span class="literal">--image</span>=nginx:<span class="number">1.14</span><span class="literal">-alpine</span></span><br></pre></td></tr></table></figure><h5 id="2-7-2-暴露端口"><a href="#2-7-2-暴露端口" class="headerlink" title="2.7.2 暴露端口"></a>2.7.2 暴露端口</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deploy nginx  <span class="literal">--port</span>=<span class="number">80</span> <span class="literal">--target-port</span>=<span class="number">80</span>  <span class="literal">--type</span>=NodePort</span><br></pre></td></tr></table></figure><h5 id="2-7-3-查看服务"><a href="#2-7-3-查看服务" class="headerlink" title="2.7.3 查看服务"></a>2.7.3 查看服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod,svc</span><br></pre></td></tr></table></figure><h5 id="2-7-4-查看pod"><a href="#2-7-4-查看pod" class="headerlink" title="2.7.4 查看pod"></a>2.7.4 查看pod</h5><p><img src="https://s2.loli.net/2023/01/20/pdK6OJnImvZGNR1.png" alt="img"></p><p>浏览器测试结果：</p><p><img src="https://s2.loli.net/2023/01/20/lZzMhoHsP1qUjNY.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透教程</title>
      <link href="/posts/ebdb35ac.html"/>
      <url>/posts/ebdb35ac.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h3><ul><li>下载frp 传入到服务端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/frp</span><br><span class="line">tar -zxvf frp_0.45.0_linux_386.tar.gz</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/6KEXmNdQaDLFYsW.png" alt="image-20230107163046270"></p><ul><li>服务器端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">配置 frps.ini</span><br><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br><span class="line">bind_addr = 0.0.0.0</span><br><span class="line">token = 123456</span><br><span class="line"></span><br><span class="line">dashboard_port = 37500</span><br><span class="line">dashboard_user = admin</span><br><span class="line">dashboard_pwd = admin</span><br><span class="line">~</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动命令</span><br><span class="line"> ./frps -c frps.ini</span><br><span class="line"> 后台启动 </span><br><span class="line"> nohup ./frps -c frps.ini &amp;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/b8KHOdISPqMQk25.png" alt="image-20230107163200710"></p><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><ul><li>下载frp 传入到客户端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/frp</span><br><span class="line">tar -zxvf frp_0.45.0_linux_386.tar.gz</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/6KEXmNdQaDLFYsW.png" alt="image-20230107163258297"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">配置 frpc.ini</span><br><span class="line">[common]</span><br><span class="line">server_addr = 1.12.224.79</span><br><span class="line">server_port = 7000</span><br><span class="line">token=123456</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 6000</span><br><span class="line"></span><br><span class="line">[fileServer]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 10000</span><br><span class="line">remote_port = 6001</span><br><span class="line"></span><br><span class="line">[wikijs]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 9000</span><br><span class="line">remote_port = 6002</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动命令</span><br><span class="line"> ./frpc  -c frpc.ini</span><br><span class="line"> 后台启动 </span><br><span class="line"> nohup ./frpc  -c frps.ini &amp;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 内网穿透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. 实战入门</title>
      <link href="/posts/9807228d.html"/>
      <url>/posts/9807228d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="4-实战入门"><a href="#4-实战入门" class="headerlink" title="4. 实战入门"></a>4. 实战入门</h1><p>本章节将介绍如何在kubernetes集群中部署一个nginx服务，并且能够对其进行访问。</p><h2 id="4-1-Namespace"><a href="#4-1-Namespace" class="headerlink" title="4.1 Namespace"></a>4.1 Namespace</h2><p>Namespace是kubernetes系统中的一种非常重要资源，它的主要作用是用来实现<strong>多套环境的资源隔离</strong>或者<strong>多租户的资源隔离</strong>。</p><p>默认情况下，kubernetes集群中的所有的Pod都是可以相互访问的。但是在实际中，可能不想让两个Pod之间进行互相的访问，那此时就可以将两个Pod划分到不同的namespace下。kubernetes通过将集群内部的资源分配到不同的Namespace中，可以形成逻辑上的”组”，以方便不同的组的资源进行隔离使用和管理。</p><p>可以通过kubernetes的授权机制，将不同的namespace交给不同租户进行管理，这样就实现了多租户的资源隔离。此时还能结合kubernetes的资源配额机制，限定不同租户能占用的资源，例如CPU使用量、内存使用量等等，来实现租户可用资源的管理。</p><p><img src="https://s2.loli.net/2022/12/29/IgcZJfKCYOzAGFU.png" alt="image-20200407100850484"></p><p>kubernetes在集群启动之后，会默认创建几个namespace</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl  get namespace</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   45h     #  所有未指定Namespace的对象都会被分配在default命名空间</span><br><span class="line">kube-node-lease   Active   45h     #  集群节点之间的心跳维护，v1.13开始引入</span><br><span class="line">kube-public       Active   45h     #  此命名空间下的资源可以被所有人访问（包括未认证用户）</span><br><span class="line">kube-system       Active   45h     #  所有由Kubernetes系统创建的资源都处于这个命名空间</span><br></pre></td></tr></table></figure><p>下面来看namespace资源的具体操作：</p><p><strong>查看</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 查看所有的ns  命令：kubectl get ns</span></span><br><span class="line">[root@master ~]# kubectl get ns</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   45h</span><br><span class="line">kube-node-lease   Active   45h</span><br><span class="line">kube-public       Active   45h     </span><br><span class="line">kube-system       Active   45h     </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 查看指定的ns   命令：kubectl get ns ns名称</span></span><br><span class="line">[root@master ~]# kubectl get ns default</span><br><span class="line">NAME      STATUS   AGE</span><br><span class="line">default   Active   45h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3 指定输出格式  命令：kubectl get ns ns名称  -o 格式参数</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubernetes支持的格式有很多，比较常见的是wide、json、yaml</span></span><br><span class="line">[root@master ~]# kubectl get ns default -o yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  creationTimestamp: &quot;2021-05-08T04:44:16Z&quot;</span><br><span class="line">  name: default</span><br><span class="line">  resourceVersion: &quot;151&quot;</span><br><span class="line">  selfLink: /api/v1/namespaces/default</span><br><span class="line">  uid: 7405f73a-e486-43d4-9db6-145f1409f090</span><br><span class="line">spec:</span><br><span class="line">  finalizers:</span><br><span class="line">  - kubernetes</span><br><span class="line">status:</span><br><span class="line">  phase: Active</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4 查看ns详情  命令：kubectl describe ns ns名称</span></span><br><span class="line">[root@master ~]# kubectl describe ns default</span><br><span class="line">Name:         default</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Status:       Active  # Active 命名空间正在使用中  Terminating 正在删除命名空间</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ResourceQuota 针对namespace做的资源限制</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">LimitRange针对namespace中的每个组件做的资源限制</span></span><br><span class="line">No resource quota.</span><br><span class="line">No LimitRange resource.</span><br></pre></td></tr></table></figure><p><strong>创建</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建namespace</span></span><br><span class="line">[root@master ~]# kubectl create ns dev</span><br><span class="line">namespace/dev created</span><br></pre></td></tr></table></figure><p><strong>删除</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除namespace</span></span><br><span class="line">[root@master ~]# kubectl delete ns dev</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><p>首先准备一个yaml文件：ns-dev.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f ns-dev.yaml</p><p>删除：kubectl delete -f ns-dev.yaml</p><h2 id="4-2-Pod"><a href="#4-2-Pod" class="headerlink" title="4.2 Pod"></a>4.2 Pod</h2><p>Pod是kubernetes集群进行管理的最小单元，程序要运行必须部署在容器中，而容器必须存在于Pod中。</p><p>Pod可以认为是容器的封装，一个Pod中可以存在一个或者多个容器。</p><p><img src="https://s2.loli.net/2022/12/29/ebiY6jCs7yO3ao9.png" alt="image-20200407121501907"></p><p>kubernetes在集群启动之后，集群中的各个组件也都是以Pod方式运行的。可以通过下面命令查看：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl get pod -n kube-system</span><br><span class="line">NAMESPACE     NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-6955765f44-68g6v         1/1     Running   0          2d1h</span><br><span class="line">kube-system   coredns-6955765f44-cs5r8         1/1     Running   0          2d1h</span><br><span class="line">kube-system   etcd-master                      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-apiserver-master            1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-controller-manager-master   1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-flannel-ds-amd64-47r25      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-flannel-ds-amd64-ls5lh      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-proxy-685tk                 1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-proxy-87spt                 1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-scheduler-master            1/1     Running   0          2d1h</span><br></pre></td></tr></table></figure><p><strong>创建并运行</strong></p><p>kubernetes没有提供单独运行Pod的命令，都是通过Pod控制器来实现的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令格式： kubectl run (pod控制器名称) [参数]</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--image  指定Pod的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--port   指定端口</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--namespace  指定namespace</span></span><br><span class="line">[root@master ~]# kubectl run nginx --image=nginx:latest --port=80 --namespace dev </span><br><span class="line">deployment.apps/nginx created</span><br></pre></td></tr></table></figure><p><strong>查看pod信息</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod基本信息</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx   1/1     Running   0          43s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod的详细信息</span></span><br><span class="line">[root@master ~]# kubectl describe pod nginx -n dev</span><br><span class="line">Name:         nginx</span><br><span class="line">Namespace:    dev</span><br><span class="line">Priority:     0</span><br><span class="line">Node:         node1/192.168.5.4</span><br><span class="line">Start Time:   Wed, 08 May 2021 09:29:24 +0800</span><br><span class="line">Labels:       pod-template-hash=5ff7956ff6</span><br><span class="line">              run=nginx</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Status:       Running</span><br><span class="line">IP:           10.244.1.23</span><br><span class="line">IPs:</span><br><span class="line">  IP:           10.244.1.23</span><br><span class="line">Controlled By:  ReplicaSet/nginx</span><br><span class="line">Containers:</span><br><span class="line">  nginx:</span><br><span class="line">    Container ID:   docker://4c62b8c0648d2512380f4ffa5da2c99d16e05634979973449c98e9b829f6253c</span><br><span class="line">    Image:          nginx:latest</span><br><span class="line">    Image ID:       docker-pullable://nginx@sha256:485b610fefec7ff6c463ced9623314a04ed67e3945b9c08d7e53a47f6d108dc7</span><br><span class="line">    Port:           80/TCP</span><br><span class="line">    Host Port:      0/TCP</span><br><span class="line">    State:          Running</span><br><span class="line">      Started:      Wed, 08 May 2021 09:30:01 +0800</span><br><span class="line">    Ready:          True</span><br><span class="line">    Restart Count:  0</span><br><span class="line">    Environment:    &lt;none&gt;</span><br><span class="line">    Mounts:</span><br><span class="line">      /var/run/secrets/kubernetes.io/serviceaccount from default-token-hwvvw (ro)</span><br><span class="line">Conditions:</span><br><span class="line">  Type              Status</span><br><span class="line">  Initialized       True</span><br><span class="line">  Ready             True</span><br><span class="line">  ContainersReady   True</span><br><span class="line">  PodScheduled      True</span><br><span class="line">Volumes:</span><br><span class="line">  default-token-hwvvw:</span><br><span class="line">    Type:        Secret (a volume populated by a Secret)</span><br><span class="line">    SecretName:  default-token-hwvvw</span><br><span class="line">    Optional:    false</span><br><span class="line">QoS Class:       BestEffort</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute for 300s</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age        From               Message</span><br><span class="line">  ----    ------     ----       ----               -------</span><br><span class="line">  Normal  Scheduled  &lt;unknown&gt;  default-scheduler  Successfully assigned dev/nginx-5ff7956ff6-fg2db to node1</span><br><span class="line">  Normal  Pulling    4m11s      kubelet, node1     Pulling image &quot;nginx:latest&quot;</span><br><span class="line">  Normal  Pulled     3m36s      kubelet, node1     Successfully pulled image &quot;nginx:latest&quot;</span><br><span class="line">  Normal  Created    3m36s      kubelet, node1     Created container nginx</span><br><span class="line">  Normal  Started    3m36s      kubelet, node1     Started container nginx</span><br></pre></td></tr></table></figure><p><strong>访问Pod</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取podIP</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE    IP             NODE    ... </span><br><span class="line">nginx   1/1     Running   0          190s   10.244.1.23   node1   ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">访问POD</span></span><br><span class="line">[root@master ~]# curl http://10.244.1.23:80</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>删除指定Pod</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定Pod</span></span><br><span class="line">[root@master ~]# kubectl delete pod nginx -n dev</span><br><span class="line">pod &quot;nginx&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时，显示删除Pod成功，但是再查询，发现又新产生了一个</span> </span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx   1/1     Running   0          21s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这是因为当前Pod是由Pod控制器创建的，控制器会监控Pod状况，一旦发现Pod死亡，会立即重建</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时要想删除Pod，必须删除Pod控制器</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">先来查询一下当前namespace下的Pod控制器</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n  dev</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   1/1     1            1           9m7s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除此PodPod控制器</span></span><br><span class="line">[root@master ~]# kubectl delete deploy nginx -n dev</span><br><span class="line">deployment.apps &quot;nginx&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等片刻，再查询Pod，发现Pod被删除了</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">No resources found in dev namespace.</span><br></pre></td></tr></table></figure><p><strong>配置操作</strong></p><p>创建一个pod-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f pod-nginx.yaml</p><p>删除：kubectl delete -f pod-nginx.yaml</p><h2 id="4-3-Label"><a href="#4-3-Label" class="headerlink" title="4.3 Label"></a>4.3 Label</h2><p>Label是kubernetes系统中的一个重要概念。它的作用就是在资源上添加标识，用来对它们进行区分和选择。</p><p>Label的特点：</p><ul><li>一个Label会以key&#x2F;value键值对的形式附加到各种对象上，如Node、Pod、Service等等</li><li>一个资源对象可以定义任意数量的Label ，同一个Label也可以被添加到任意数量的资源对象上去</li><li>Label通常在资源对象定义时确定，当然也可以在对象创建后动态添加或者删除</li></ul><p>可以通过Label实现资源的多维度分组，以便灵活、方便地进行资源分配、调度、配置、部署等管理工作。</p><blockquote><p>一些常用的Label 示例如下：</p><ul><li>版本标签：”version”:”release”, “version”:”stable”……</li><li>环境标签：”environment”:”dev”，”environment”:”test”，”environment”:”pro”</li><li>架构标签：”tier”:”frontend”，”tier”:”backend”</li></ul></blockquote><p>标签定义完毕之后，还要考虑到标签的选择，这就要使用到Label Selector，即：</p><p>Label用于给某个资源对象定义标识</p><p>Label Selector用于查询和筛选拥有某些标签的资源对象</p><p>当前有两种Label Selector：</p><ul><li><p>基于等式的Label Selector</p><p>  name &#x3D; slave: 选择所有包含Label中key&#x3D;”name”且value&#x3D;”slave”的对象</p><p>  env !&#x3D; production: 选择所有包括Label中的key&#x3D;”env”且value不等于”production”的对象</p></li><li><p>基于集合的Label Selector</p><p>  name in (master, slave): 选择所有包含Label中的key&#x3D;”name”且value&#x3D;”master”或”slave”的对象</p><p>  name not in (frontend): 选择所有包含Label中的key&#x3D;”name”且value不等于”frontend”的对象</p></li></ul><p>标签的选择条件可以使用多个，此时将多个Label Selector进行组合，使用逗号”,”进行分隔即可。例如：</p><p>name&#x3D;slave，env!&#x3D;production</p><p>name not in (frontend)，env!&#x3D;production</p><p><strong>命令方式</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为pod资源打标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version=1.0 -n dev</span><br><span class="line">pod/nginx-pod labeled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为pod资源更新标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version=2.0 -n dev --overwrite</span><br><span class="line">pod/nginx-pod labeled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看标签</span></span><br><span class="line">[root@master ~]# kubectl get pod nginx-pod  -n dev --show-labels</span><br><span class="line">NAME        READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">nginx-pod   1/1     Running   0          10m   version=2.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">筛选标签</span></span><br><span class="line">[root@master ~]# kubectl get pod -n dev -l version=2.0  --show-labels</span><br><span class="line">NAME        READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">nginx-pod   1/1     Running   0          17m   version=2.0</span><br><span class="line">[root@master ~]# kubectl get pod -n dev -l version!=2.0 --show-labels</span><br><span class="line">No resources found in dev namespace.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">删除标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version- -n dev</span><br><span class="line">pod/nginx-pod labeled</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">&quot;3.0&quot;</span> </span><br><span class="line">    <span class="attr">env:</span> <span class="string">&quot;test&quot;</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的更新命令了：kubectl apply -f pod-nginx.yaml</p><h2 id="4-4-Deployment"><a href="#4-4-Deployment" class="headerlink" title="4.4 Deployment"></a>4.4 Deployment</h2><p>在kubernetes中，Pod是最小的控制单元，但是kubernetes很少直接控制Pod，一般都是通过Pod控制器来完成的。Pod控制器用于pod的管理，确保pod资源符合预期的状态，当pod的资源出现故障时，会尝试进行重启或重建pod。</p><p>在kubernetes中Pod控制器的种类有很多，本章节只介绍一种：Deployment。</p><p><img src="https://s2.loli.net/2022/12/29/BHQ8UNDwJbojSp1.png" alt="image-20200408193950807"></p><p><strong>命令操作</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令格式: kubectl create deployment 名称  [参数]</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--image  指定pod的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--port   指定端口</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--replicas  指定创建pod数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--namespace  指定namespace</span></span><br><span class="line">[root@master ~]# kubectl create deploy nginx --image=nginx:latest --port=80 --replicas=3 -n dev</span><br><span class="line">deployment.apps/nginx created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看创建的Pod</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-5ff7956ff6-6k8cb   1/1     Running   0          19s</span><br><span class="line">nginx-5ff7956ff6-jxfjt   1/1     Running   0          19s</span><br><span class="line">nginx-5ff7956ff6-v6jqw   1/1     Running   0          19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment的信息</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n dev</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   3/3     3            3           2m42s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UP-TO-DATE：成功升级的副本数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">AVAILABLE：可用副本的数量</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n dev -o wide</span><br><span class="line">NAME    READY UP-TO-DATE  AVAILABLE   AGE     CONTAINERS   IMAGES              SELECTOR</span><br><span class="line">nginx   3/3     3         3           2m51s   nginx        nginx:latest        run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment的详细信息</span></span><br><span class="line">[root@master ~]# kubectl describe deploy nginx -n dev</span><br><span class="line">Name:                   nginx</span><br><span class="line">Namespace:              dev</span><br><span class="line">CreationTimestamp:      Wed, 08 May 2021 11:14:14 +0800</span><br><span class="line">Labels:                 run=nginx</span><br><span class="line">Annotations:            deployment.kubernetes.io/revision: 1</span><br><span class="line">Selector:               run=nginx</span><br><span class="line">Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable</span><br><span class="line">StrategyType:           RollingUpdate</span><br><span class="line">MinReadySeconds:        0</span><br><span class="line">RollingUpdateStrategy:  25% max unavailable, 25% max surge</span><br><span class="line">Pod Template:</span><br><span class="line">  Labels:  run=nginx</span><br><span class="line">  Containers:</span><br><span class="line">   nginx:</span><br><span class="line">    Image:        nginx:latest</span><br><span class="line">    Port:         80/TCP</span><br><span class="line">    Host Port:    0/TCP</span><br><span class="line">    Environment:  &lt;none&gt;</span><br><span class="line">    Mounts:       &lt;none&gt;</span><br><span class="line">  Volumes:        &lt;none&gt;</span><br><span class="line">Conditions:</span><br><span class="line">  Type           Status  Reason</span><br><span class="line">  ----           ------  ------</span><br><span class="line">  Available      True    MinimumReplicasAvailable</span><br><span class="line">  Progressing    True    NewReplicaSetAvailable</span><br><span class="line">OldReplicaSets:  &lt;none&gt;</span><br><span class="line">NewReplicaSet:   nginx-5ff7956ff6 (3/3 replicas created)</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason             Age    From                   Message</span><br><span class="line">  ----    ------             ----   ----                   -------</span><br><span class="line">  Normal  ScalingReplicaSet  5m43s  deployment-controller  Scaled up replicaset nginx-5ff7956ff6 to 3</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除</span> </span><br><span class="line">[root@master ~]# kubectl delete deploy nginx -n dev</span><br><span class="line">deployment.apps &quot;nginx&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置操作</strong></p><p>创建一个deploy-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f deploy-nginx.yaml</p><p>删除：kubectl delete -f deploy-nginx.yaml</p><h2 id="4-5-Service"><a href="#4-5-Service" class="headerlink" title="4.5 Service"></a>4.5 Service</h2><p>通过上节课的学习，已经能够利用Deployment来创建一组Pod来提供具有高可用性的服务。</p><p>虽然每个Pod都会分配一个单独的Pod IP，然而却存在如下两问题：</p><ul><li>Pod IP 会随着Pod的重建产生变化</li><li>Pod IP 仅仅是集群内可见的虚拟IP，外部无法访问</li></ul><p>这样对于访问这个服务带来了难度。因此，kubernetes设计了Service来解决这个问题。</p><p>Service可以看作是一组同类Pod<strong>对外的访问接口</strong>。借助Service，应用可以方便地实现服务发现和负载均衡。</p><p><img src="https://s2.loli.net/2022/12/29/EptgkjrqOf1GTDS.png" alt="image-20200408194716912"></p><p><strong>操作一：创建集群内部可访问的Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">暴露Service</span></span><br><span class="line">[root@master ~]# kubectl expose deploy nginx --name=svc-nginx1 --type=ClusterIP --port=80 --target-port=80 -n dev</span><br><span class="line">service/svc-nginx1 exposed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@master ~]# kubectl get svc svc-nginx1 -n dev -o wide</span><br><span class="line">NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)   AGE     SELECTOR</span><br><span class="line">svc-nginx1   ClusterIP   10.109.179.231   &lt;none&gt;        80/TCP    3m51s   run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里产生了一个CLUSTER-IP，这就是service的IP，在Service的生命周期中，这个地址是不会变动的</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以通过这个IP访问当前service对应的POD</span></span><br><span class="line">[root@master ~]# curl 10.109.179.231:80</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">.......</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>操作二：创建集群外部也可访问的Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">上面创建的Service的<span class="built_in">type</span>类型为ClusterIP，这个ip地址只用集群内部可访问</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果需要创建外部也可以访问的Service，需要修改<span class="built_in">type</span>为NodePort</span></span><br><span class="line">[root@master ~]# kubectl expose deploy nginx --name=svc-nginx2 --type=NodePort --port=80 --target-port=80 -n dev</span><br><span class="line">service/svc-nginx2 exposed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时查看，会发现出现了NodePort类型的Service，而且有一对Port（80:31928/TC）</span></span><br><span class="line">[root@master ~]# kubectl get svc  svc-nginx2  -n dev -o wide</span><br><span class="line">NAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE    SELECTOR</span><br><span class="line">svc-nginx2    NodePort    10.100.94.0      &lt;none&gt;        80:31928/TCP   9s     run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来就可以通过集群外的主机访问 节点IP:31928访问服务了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如在的电脑主机上通过浏览器访问下面的地址</span></span><br><span class="line">http://192.168.5.4:31928/</span><br></pre></td></tr></table></figure><p><strong>删除Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl delete svc svc-nginx-1 -n dev service &quot;svc-nginx-1&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><p>创建一个svc-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">svc-nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="number">10.109</span><span class="number">.179</span><span class="number">.231</span> <span class="comment">#固定svc的内网ip</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f svc-nginx.yaml</p><p>删除：kubectl delete -f svc-nginx.yaml</p><blockquote><p><strong>小结</strong></p><p>至此，已经掌握了Namespace、Pod、Deployment、Service资源的基本操作，有了这些操作，就可以在kubernetes集群中实现一个服务的简单部署和访问了，但是如果想要更好的使用kubernetes，就需要深入学习这几种资源的细节和原理。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.MySQL介绍与安装</title>
      <link href="/posts/f9356eaa.html"/>
      <url>/posts/f9356eaa.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="数据库介绍"><a href="#数据库介绍" class="headerlink" title="数据库介绍"></a>数据库介绍</h1><h2 id="数据库定义和分类"><a href="#数据库定义和分类" class="headerlink" title="数据库定义和分类"></a>数据库定义和分类</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">数据库定义：</span><br><span class="line">数据库数据库是结构化信息或数据（一般以电子形式存储在计算机系统中）的有组织的集合，通常由数据库管理系统 (DBMS) 来控制。</span><br><span class="line"></span><br><span class="line">数据库管理系统定义：</span><br><span class="line">充当数据库与其用户或程序之间的接口，允许用户检索、更新和管理信息的组织和优化方式。</span><br><span class="line">还有助于监督和控制数据库，提供各种管理操作，例如性能监视、调优、备份和恢复。</span><br><span class="line">常见的数据库软件或 DBMS 有 MySQL、Microsoft <span class="keyword">SQL</span> Server、Oracle Database等。</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库分类：</span><br><span class="line"><span class="operator">-</span> 关系型数据库：关系型数据库模型是把复杂的数据结构归结为简单的二元关系（即二维表格形式）。常用关系型数据库： oracle、 MySQL、 MariaDB、<span class="keyword">SQL</span> Server</span><br><span class="line"></span><br><span class="line"><span class="operator">-</span> 非关系型数据库：非关系型数据库也被称为NoSQL数据库，NoSQL的本意是“<span class="keyword">Not</span> <span class="keyword">Only</span> <span class="keyword">SQL</span>”，指的是非关系型数据库。NoSQL的产生并不是要彻底否定关系型数据库，而是作为传统数据库的一个有效补充。NoSQL数据存储不需要固定的表结构，通常也不存在连续操作。常用非关系型数据库：redis、MongoDB、Memcached</span><br></pre></td></tr></table></figure><h2 id="数据库发展历程"><a href="#数据库发展历程" class="headerlink" title="数据库发展历程"></a>数据库发展历程</h2><p>自 20 世纪 60 年代初诞生至今，数据库已经发生了翻天覆地的变化。最初，人们使用分层数据库（树形模型，仅支持一对多关系）和网络数据库（更加灵活，支持多种关系）这样的导航数据库来存储和操作数据。这些早期系统虽然简单，但缺乏灵活性。20 世纪 80 年代，<a href="https://www.oracle.com/cn/database/what-is-database/#relational">关系数据库</a>开始兴起；20 世纪 90 年代，<a href="https://www.oracle.com/cn/database/what-is-database/#object-oriented">面向对象的数据库</a>开始成为主流。最近，随着互联网的快速发展，为了更快速地处理非结构化数据，<a href="https://www.oracle.com/cn/database/what-is-database/#nosql">NoSQL 数据库</a>应运而生。现在，<a href="https://www.oracle.com/cn/database/what-is-database/#cloud">云数据库</a>和<a href="https://www.oracle.com/cn/database/what-is-database/#autonomous">自治驾驶数据库</a>在数据收集、存储、管理和利用方面正不断取得新的突破。</p><h2 id="数据库和电子表格的区别"><a href="#数据库和电子表格的区别" class="headerlink" title="数据库和电子表格的区别"></a>数据库和电子表格的区别</h2><p>主要体现在三个方面：存储和操作数据的方式、谁可以访问数据、可以存储多少数据</p><p>从一开始，电子表格就是专门针对单一用户而设计的，其特性也反映了这一点。电子表格非常适合不需要执行太多高度复杂的数据操作的单一用户或少数用户。另一方面，数据库的设计是为了保存大量有组织的信息，有时是海量的。数据库允许多个用户同时使用高度复杂的逻辑和语言，快速、安全地访问和查询数据。</p><h2 id="MySQL介绍"><a href="#MySQL介绍" class="headerlink" title="MySQL介绍"></a>MySQL介绍</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">什么是MySQL：MySQL是一种开源的基于<span class="keyword">SQL</span>的关系型数据库管理系统，关于<span class="keyword">SQL</span>我们会在后续课程中进行讲解，简单来讲MySQL就是一个关系型的数据库</span><br><span class="line"></span><br><span class="line">为什么使用MySQL：使用MySQL的比较主要的原因就是MySQL是开源的免费的，并且是轻量级的一款数据库，包括Facebook、Twitter、Booking.com 和 Verizon 在内的许多公司和组织都在使用MySQL</span><br><span class="line"></span><br><span class="line">版本选择：MySQL8<span class="number">.0</span><span class="number">.27</span>是目前MySQL官方发行的最新版本(课程准备阶段<span class="number">8.0</span><span class="number">.27</span>是最新版本，目前MySQL最新版本是<span class="number">8.0</span><span class="number">.28</span>)，由于MySQL已经呗Oracle收购，对每个版本的MySQLOracle会提供<span class="number">5</span>年的基本维护期限，对<span class="number">5.7</span>版本的维护期限已经到期，在我要自学网中也已经有了MySQL5<span class="number">.7</span><span class="number">.20</span>版本的教程，并且相对<span class="number">5.7</span>版本的MySQL，<span class="number">8.0</span>版本有了一些新的功能和特性，因此本课程选择MySQL官方发布最新版本进行讲解，有兴趣的同学可以去MySQL的官网上查看MySQL8<span class="number">.0</span>最新特性。</span><br></pre></td></tr></table></figure><h1 id="MySQL安装"><a href="#MySQL安装" class="headerlink" title="MySQL安装"></a>MySQL安装</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">安装环境： windows10</span><br><span class="line"><span class="number">1</span> <span class="operator">-</span> 下载MySQL8<span class="number">.0</span><span class="number">.27</span>安装包，下载地址：https:<span class="operator">/</span><span class="operator">/</span>downloads.mysql.com<span class="operator">/</span>archives<span class="operator">/</span><span class="keyword">get</span><span class="operator">/</span>p<span class="operator">/</span><span class="number">23</span><span class="operator">/</span>file<span class="operator">/</span>mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64.zip</span><br><span class="line"><span class="number">2</span> <span class="operator">-</span> 解压zip压缩包至想要安装的目录，比如E:\software\mysql\mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64</span><br><span class="line"><span class="number">3</span> <span class="operator">-</span> 在解压目录E:\software\mysql\mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64中创建MySQL配置文件my.ini（my.ini文件在课程资源中可以下载）</span><br><span class="line"><span class="number">4</span> <span class="operator">-</span> 以管理员身份打开命令行，切换到安装MySQL的目录下，再切换到bin目录下</span><br><span class="line"><span class="number">5</span> <span class="operator">-</span> 执行MySQL初始化命令 mysqld <span class="comment">--initialize --console</span></span><br><span class="line"><span class="number">6</span> <span class="operator">-</span> 记录初始化完成后生成的用户名和密码，即root用户和生成的密码(如果万一手抖关了命令行没记住密码也没关系，就删掉我们MySQL安装根目录下的data目录然后再执行一遍初始化命令会重新生成的。)</span><br><span class="line"><span class="number">7</span> <span class="operator">-</span> 安装MySQL的服务mysqld，同样在bin目录下，执行MySQL服务安装命令 mysqld <span class="comment">--install 服务名(不写的话默认服务名是mysql)</span></span><br><span class="line"><span class="number">8</span> <span class="operator">-</span> 启动MySQL服务，net <span class="keyword">start</span> mysql(停止服务：net stop mysql  卸载服务：sc <span class="keyword">delete</span> 服务名)</span><br><span class="line"><span class="number">9</span> <span class="operator">-</span> 将mysql.exe和mysqld.exe所在的路径添加到环境变量中，然后重启MySQL服务</span><br><span class="line"><span class="number">10</span> <span class="operator">-</span> 使用root用户和密码通过命令行(无需管理员身份)登录MySQL验证是否安装成功</span><br></pre></td></tr></table></figure><h1 id="MySQL-C-x2F-S架构模型"><a href="#MySQL-C-x2F-S架构模型" class="headerlink" title="MySQL C&#x2F;S架构模型"></a>MySQL C&#x2F;S架构模型</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MySQL是C<span class="operator">/</span>S架构模型，即client(客户端)和sever(服务端)架构模型。</span><br></pre></td></tr></table></figure><h1 id="MySQL体系结构-工作原理"><a href="#MySQL体系结构-工作原理" class="headerlink" title="MySQL体系结构(工作原理)"></a>MySQL体系结构(工作原理)</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysqld分为server层（连接层+SQL层）和存储引擎层</span><br><span class="line">SQL执行顺序：</span><br><span class="line"><span class="number">1.</span>连接层：客户端输入mysql -u root -p xxx -h <span class="number">127.0</span><span class="number">.0</span><span class="number">.0</span> -P <span class="number">3306</span>,连接到server端的连接层，连接层共有三个作用：</span><br><span class="line">   - 提供连接协议：tcp/ip socket</span><br><span class="line">   - 提供验证：验证用户名密码 IP 端口</span><br><span class="line">   - 提供专用连接线程，接受用户的SQL语句，以及返回结果</span><br><span class="line">   （可以通过show processlist产看连接线程的基本情况）</span><br><span class="line"><span class="number">2.</span>SQL层：连接成功后，客户端会输入SQL语句后回车发送给服务端，由SQL层执行SQL语句，SQL层主要负责：</span><br><span class="line">   - 接收上层传送的SQL语句</span><br><span class="line">   - 通过语法验证模块验证SQL语句是否符合语法规则</span><br><span class="line">   - 进行语义检查，判断SQL语句的类型（DDL DCL DML DQL）</span><br><span class="line">   - 进行权限检查，判断当前登录用户对当前表有没有权限进行操作</span><br><span class="line">   - 通过解析器，对语句执行前进行预处理，生成多种执行计划</span><br><span class="line">   - 优化器会根据解析器得到的多种执行计划进行评估，选择最优的执行计划</span><br><span class="line">   - 执行器会根据优化器选择的执行计划执行SQL语句，产生执行结果：在磁盘的某个位置（xxx段xxx区xxx页）</span><br><span class="line">   - 提供查询缓存（query cache，比较鸡肋...），默认是没有开启的，会使用redis替代查询缓存功能</span><br><span class="line">   - 提供日志记录，binlog(二进制日志),默认是没开启的</span><br><span class="line"><span class="number">3.</span>存储引擎层(和磁盘进行交互的模块)：根据SQL层执行的记过从磁盘上获取数据，交由SQL结构化变成表，再通过连接层返回给客户端。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.用户管理</title>
      <link href="/posts/e0ed1ab3.html"/>
      <url>/posts/e0ed1ab3.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="6-1-MySQL用户管理-用户介绍"><a href="#6-1-MySQL用户管理-用户介绍" class="headerlink" title="6-1 MySQL用户管理 - 用户介绍"></a>6-1 MySQL用户管理 - 用户介绍</h1><ul><li>用户的作用</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 登录MySQL</span><br><span class="line">- 管理mysql </span><br></pre></td></tr></table></figure><ul><li>用户的定义(用户长啥样)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MySQL中的用户： 用户名@&#x27;白名单&#x27;</span><br><span class="line">白名单：允许白名单的IP登录MySQL和管理MySQL</span><br><span class="line"></span><br><span class="line">eg：</span><br><span class="line">test@&#x27;localhost&#x27;:test用户只能通过本地登录MySQL</span><br><span class="line">test@&#x27;10.0.0.10&#x27;:test用户能够通过ip-10.0.0.10远程登录MySQL服务器</span><br><span class="line">test@&#x27;10.0.0.%&#x27;:test用户能够通过某个网段登录到MySQL服务器</span><br><span class="line">test@&#x27;%&#x27;：test用户可以通过所有IP登录MySQL服务器   </span><br></pre></td></tr></table></figure><h1 id="6-2-MySQL用户管理-用户的增删改查操作"><a href="#6-2-MySQL用户管理-用户的增删改查操作" class="headerlink" title="6-2 MySQL用户管理 - 用户的增删改查操作"></a>6-2 MySQL用户管理 - 用户的增删改查操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 查</span><br><span class="line">-- 查看当前MySQL中所有的用户</span><br><span class="line">select * from mysql.user \G;</span><br><span class="line"></span><br><span class="line">-- 查看MySQL中用户和对应的白名单</span><br><span class="line">select concat(user,&#x27;@&#x27;,host) from mysql.user;</span><br><span class="line"></span><br><span class="line">-- 增</span><br><span class="line">create user test@&#x27;10.0.0.%&#x27;;  -- 创建test用户可以通过10.0.0.%网段登录MySQL，并且不需要密码</span><br><span class="line">create user zxw@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;; -- 创建zxw@&#x27;10.0.0.%&#x27;用户，密码是123</span><br><span class="line"></span><br><span class="line">-- 改</span><br><span class="line">alter user test@&#x27;10.0.0.%&#x27; identified by &#x27;456&#x27;; -- test@&#x27;10.0.0.%&#x27;用户修改密码</span><br><span class="line">update user set host=&#x27;10.0.0.8&#x27; where user=&#x27;test&#x27;;  -- 修改test用户的白名单 </span><br><span class="line"></span><br><span class="line">-- 删</span><br><span class="line">drop user test@&#x27;10.0.0.%&#x27;;  -- 删除test@&#x27;10.0.0.%&#x27;用户</span><br><span class="line"></span><br><span class="line">-- 刷新</span><br><span class="line">flush priv</span><br></pre></td></tr></table></figure><h1 id="6-3-MySQL权限管理-权限介绍"><a href="#6-3-MySQL权限管理-权限介绍" class="headerlink" title="6-3 MySQL权限管理 - 权限介绍"></a>6-3 MySQL权限管理 - 权限介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 权限的作用</span><br><span class="line">用户对数据库中的数据有哪些管理能力</span><br><span class="line">-- 如何查看权限</span><br><span class="line"></span><br><span class="line">可以通过show privileges;查看都有哪些权限</span><br><span class="line">总体权限分为四种就是增删改查</span><br><span class="line"></span><br><span class="line">-- 查看某个用户的权限</span><br><span class="line">show grants for 用户;</span><br><span class="line">show grants for test@&#x27;localhost&#x27;；</span><br></pre></td></tr></table></figure><h1 id="6-4-MySQL权限管理-授权-x2F-回收权限"><a href="#6-4-MySQL权限管理-授权-x2F-回收权限" class="headerlink" title="6-4 MySQL权限管理 - 授权&#x2F;回收权限"></a>6-4 MySQL权限管理 - 授权&#x2F;回收权限</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- 授权</span><br><span class="line">grant 权限 on 对象 to 用户 identified by &#x27;密码&#x27;;  -- (8.0版本前，创建用户并赋予权限)</span><br><span class="line"></span><br><span class="line">-- 8.0+版本授权操作，如果用户不存在需要先创建用户再授权</span><br><span class="line">create user 用户 identified by &#x27;密码&#x27;;</span><br><span class="line">grant 权限1， 权限2..., all privileges(所有权限) on 对象(库表) to 用户 (with grant option);</span><br><span class="line"></span><br><span class="line">-- 权限</span><br><span class="line">all  -- 所有的权限</span><br><span class="line">with grant option -- 可以给其他的用户授予自己有的权限</span><br><span class="line">权限1, 权限2...  -- 指定一个或者几个权限</span><br><span class="line"></span><br><span class="line">-- 权限的作用范围</span><br><span class="line">*.*  -- 所有的库</span><br><span class="line">库名.*  -- 指定库名的所有表</span><br><span class="line">库名.表名  -- 某个库下的某张表</span><br><span class="line"></span><br><span class="line">-- 授权举例 grant</span><br><span class="line">- 创建并授权管理员用户zhang,能够通过10.0.0.%网段登录并管理数据库</span><br><span class="line">  create user zhang@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;;</span><br><span class="line">  grant all(所有的权限) on *.*(所有库下的所有表) to zhang@&#x27;10.0.0.%&#x27;(用户) with grant option;   (超级管理员)</span><br><span class="line">- 查看用户的权限</span><br><span class="line">show grants for 用户;</span><br><span class="line">show grants for zhang@&#x27;10.0.0.%&#x27;;</span><br><span class="line">- 创建并授权一个app@&#x27;10.0.0.%&#x27;用户，能够对app库下的所有表进行select, update, insert, delete操作</span><br><span class="line">grant select ,update,insert,delete, create on app.* to app@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;;</span><br><span class="line"></span><br><span class="line">-- 回收权限 revoke</span><br><span class="line">revoke create(权限) on app.*(对象) from app@&#x27;10.0.0.%&#x27;(用户); # ✔️，用户的权限修改成功，回收了用户的create权限</span><br></pre></td></tr></table></figure><h1 id="6-5-MySQL配置文件介绍"><a href="#6-5-MySQL配置文件介绍" class="headerlink" title="6-5 MySQL配置文件介绍"></a>6-5 MySQL配置文件介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 服务端</span><br><span class="line">[mysqld]</span><br><span class="line">port=3306  # 端口设置</span><br><span class="line">basedir=D:\mysql-8.0.27-winx64   # 设置mysql的安装目录</span><br><span class="line">datadir=D:\mysql-8.0.27-winx64\Data   # 设置mysql数据库的数据的存放目录</span><br><span class="line">max_connections=200  # 允许最大连接数</span><br><span class="line">max_connect_errors=10  # 最大允许连接错误的次数</span><br><span class="line">character-set-server=utf8  # 服务端使用的字符集默认为UTF8</span><br><span class="line">default-storage-engine=INNODB  # 创建新表时将使用的默认存储引擎</span><br><span class="line">default_authentication_plugin=mysql_native_password  # 默认使用“mysql_native_password”插件认证</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line"># 设置mysql客户端连接服务端时默认使用的端口</span><br><span class="line">port=3306</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7.service介绍</title>
      <link href="/posts/f379794e.html"/>
      <url>/posts/f379794e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="7-Service详解"><a href="#7-Service详解" class="headerlink" title="7. Service详解"></a>7. Service详解</h1><h2 id="7-1-Service介绍"><a href="#7-1-Service介绍" class="headerlink" title="7.1 Service介绍"></a>7.1 Service介绍</h2><p>在kubernetes中，pod是应用程序的载体，我们可以通过pod的ip来访问应用程序，但是pod的ip地址不是固定的，这也就意味着不方便直接采用pod的ip对服务进行访问。</p><p>为了解决这个问题，kubernetes提供了Service资源，Service会对提供同一个服务的多个pod进行聚合，并且提供一个统一的入口地址。通过访问Service的入口地址就能访问到后面的pod服务。</p><p><img src="https://s2.loli.net/2022/12/29/EptgkjrqOf1GTDS.png" alt="img"></p><p>Service在很多情况下只是一个概念，真正起作用的其实是kube-proxy服务进程，每个Node节点上都运行着一个kube-proxy服务进程。当创建Service的时候会通过api-server向etcd写入创建的service的信息，而kube-proxy会基于监听的机制发现这种Service的变动，然后<strong>它会将最新的Service信息转换成对应的访问规则</strong>。</p><p><img src="https://s2.loli.net/2022/12/29/MgVKTo49HAq31Wb.png" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 10.97.97.97:80 是service提供的访问入口</span><br><span class="line"># 当访问这个入口的时候，可以发现后面有三个pod的服务在等待调用，</span><br><span class="line"># kube-proxy会基于rr（轮询）的策略，将请求分发到其中一个pod上去</span><br><span class="line"># 这个规则会同时在集群内的所有节点上都生成，所以在任何一个节点上访问都可以。</span><br><span class="line">[root@node1 ~]# ipvsadm -Ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line">  -&gt; 10.244.1.39:80               Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.1.40:80               Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.2.33:80               Masq    1      0          0</span><br></pre></td></tr></table></figure><p>kube-proxy目前支持三种工作模式:</p><p><strong>userspace 模式</strong></p><p>userspace模式下，kube-proxy会为每一个Service创建一个监听端口，发向Cluster IP的请求被Iptables规则重定向到kube-proxy监听的端口上，kube-proxy根据LB算法选择一个提供服务的Pod并和其建立链接，以将请求转发到Pod上。  该模式下，kube-proxy充当了一个四层负责均衡器的角色。由于kube-proxy运行在userspace中，在进行转发处理时会增加内核和用户空间之间的数据拷贝，虽然比较稳定，但是效率比较低。</p><p><img src="https://s2.loli.net/2022/12/29/SvC2Yn7ZielVmEP.png" alt="img"></p><p><strong>iptables 模式</strong></p><p>iptables模式下，kube-proxy为service后端的每个Pod创建对应的iptables规则，直接将发向Cluster IP的请求重定向到一个Pod IP。  该模式下kube-proxy不承担四层负责均衡器的角色，只负责创建iptables规则。该模式的优点是较userspace模式效率更高，但不能提供灵活的LB策略，当后端Pod不可用时也无法进行重试。</p><p><img src="https://s2.loli.net/2022/12/29/mzlXyqsx1kGMwvJ.png" alt="img"></p><p><strong>ipvs 模式</strong></p><p>ipvs模式和iptables类似，kube-proxy监控Pod的变化并创建相应的ipvs规则。ipvs相对iptables转发效率更高。除此以外，ipvs支持更多的LB算法。</p><p><img src="https://s2.loli.net/2022/12/29/BWbfVOcTHL3jDPo.png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此模式必须安装ipvs内核模块，否则会降级为iptables</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启ipvs</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit cm kube-proxy -n kube-system</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改mode: <span class="string">&quot;ipvs&quot;</span></span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete pod -l k8s-app=kube-proxy -n kube-system</span><br><span class="line">[root@node1 ~]# ipvsadm -Ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">RemoteAddress:Port           Forward Weight ActiveConn InActConn</span></span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br></pre></td></tr></table></figure><h2 id="7-2-Service类型"><a href="#7-2-Service类型" class="headerlink" title="7.2 Service类型"></a>7.2 Service类型</h2><p>Service的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Service</span>  <span class="comment"># 资源类型</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span>  <span class="comment"># 资源版本</span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service</span> <span class="comment"># 资源名称</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span> <span class="comment"># 命名空间</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 描述</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 标签选择器，用于确定当前service代理哪些pod</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">type:</span> <span class="comment"># Service类型，指定service的访问方式</span></span><br><span class="line">  <span class="attr">clusterIP:</span>  <span class="comment"># 虚拟服务的ip地址</span></span><br><span class="line">  <span class="attr">sessionAffinity:</span> <span class="comment"># session亲和性，支持ClientIP、None两个选项</span></span><br><span class="line">  <span class="attr">ports:</span> <span class="comment"># 端口信息</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span> </span><br><span class="line">      <span class="attr">port:</span> <span class="number">3017</span>  <span class="comment"># service端口</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">5003</span> <span class="comment"># pod端口</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31122</span> <span class="comment"># 主机端口</span></span><br></pre></td></tr></table></figure><ul><li>ClusterIP：默认值，它是Kubernetes系统自动分配的虚拟IP，只能在集群内部访问</li><li>NodePort：将Service通过指定的Node上的端口暴露给外部，通过此方法，就可以在集群外部访问服务</li><li>LoadBalancer：使用外接负载均衡器完成到服务的负载分发，注意此模式需要外部云环境支持</li><li>ExternalName： 把集群外部的服务引入集群内部，直接使用</li></ul><h2 id="7-3-Service使用"><a href="#7-3-Service使用" class="headerlink" title="7.3 Service使用"></a>7.3 Service使用</h2><h3 id="7-3-1-实验环境准备"><a href="#7-3-1-实验环境准备" class="headerlink" title="7.3.1 实验环境准备"></a>7.3.1 实验环境准备</h3><p>在使用service之前，首先利用Deployment创建出3个pod，注意要为pod设置<code>app=nginx-pod</code>的标签</p><p>创建deployment.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl create -f deployment.yaml</span><br><span class="line">deployment.apps/pc-deployment created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide --show-labels</span><br><span class="line">NAME                             READY   STATUS     IP            NODE     LABELS</span><br><span class="line">pc-deployment-66cb59b984-8p84h   1/1     Running    10.244.1.39   node1    app=nginx-pod</span><br><span class="line">pc-deployment-66cb59b984-vx8vx   1/1     Running    10.244.2.33   node2    app=nginx-pod</span><br><span class="line">pc-deployment-66cb59b984-wnncx   1/1     Running    10.244.1.40   node1    app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为了方便后面的测试，修改下三台nginx的index.html页面（三台修改的IP地址不一致）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it pc-deployment-66cb59b984-8p84h -n dev /bin/sh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;10.244.1.39&quot;</span> &gt; /usr/share/nginx/html/index.html</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改完毕之后，访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.1.39</span><br><span class="line">10.244.1.39</span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.1.40</span><br><span class="line">10.244.1.40</span><br></pre></td></tr></table></figure><h3 id="7-3-2-ClusterIP类型的Service"><a href="#7-3-2-ClusterIP类型的Service" class="headerlink" title="7.3.2 ClusterIP类型的Service"></a>7.3.2 ClusterIP类型的Service</h3><p>创建service-clusterip.yaml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-clusterip</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="number">10.97</span><span class="number">.97</span><span class="number">.97</span> <span class="comment"># service的ip地址，如果不写，默认会生成一个</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span>  <span class="comment"># Service端口       </span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span> <span class="comment"># pod端口</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-clusterip.yaml</span><br><span class="line">service/service-clusterip created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev -o wide</span><br><span class="line">NAME                TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)   AGE   SELECTOR</span><br><span class="line">service-clusterip   ClusterIP   10.97.97.97   &lt;none&gt;        80/TCP    13s   app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service的详细信息</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在这里有一个Endpoints列表，里面就是当前service可以负载到的服务入口</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe svc service-clusterip -n dev</span><br><span class="line">Name:              service-clusterip</span><br><span class="line">Namespace:         dev</span><br><span class="line">Labels:            &lt;none&gt;</span><br><span class="line">Annotations:       &lt;none&gt;</span><br><span class="line">Selector:          app=nginx-pod</span><br><span class="line">Type:              ClusterIP</span><br><span class="line">IP:                10.97.97.97</span><br><span class="line">Port:              &lt;unset&gt;  80/TCP</span><br><span class="line">TargetPort:        80/TCP</span><br><span class="line">Endpoints:         10.244.1.39:80,10.244.1.40:80,10.244.2.33:80</span><br><span class="line">Session Affinity:  None</span><br><span class="line">Events:            &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs的映射规则</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">访问10.97.97.97:80观察效果</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.97.97.97:80</span><br><span class="line">10.244.2.33</span><br></pre></td></tr></table></figure><p><strong>Endpoint</strong></p><p>Endpoint是kubernetes中的一个资源对象，存储在etcd中，用来记录一个service对应的所有pod的访问地址，它是根据service配置文件中selector描述产生的。</p><p>一个Service由一组Pod组成，这些Pod通过Endpoints暴露出来，<strong>Endpoints是实现实际服务的端点集合</strong>。换句话说，service和pod之间的联系是通过endpoints实现的。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200509191917069.png" alt="image-20200509191917069"></p><p><strong>负载分发策略</strong></p><p>对Service的访问被分发到了后端的Pod上去，目前kubernetes提供了两种负载分发策略：</p><ul><li><p>如果不定义，默认使用kube-proxy的策略，比如随机、轮询</p></li><li><p>基于客户端地址的会话保持模式，即来自同一个客户端发起的所有请求都会转发到固定的一个Pod上</p><p>  此模式可以使在spec中添加<code>sessionAffinity:ClientIP</code>选项</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs的映射规则【rr 轮询】</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">循环访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# while true;do curl 10.97.97.97:80; sleep 5; done;</span><br><span class="line">10.244.1.40</span><br><span class="line">10.244.1.39</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.1.40</span><br><span class="line">10.244.1.39</span><br><span class="line">10.244.2.33</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改分发策略----sessionAffinity:ClientIP</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs规则【persistent 代表持久】</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr persistent 10800</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">循环访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# while true;do curl 10.97.97.97; sleep 5; done;</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f service-clusterip.yaml</span><br><span class="line">service &quot;service-clusterip&quot; deleted</span><br></pre></td></tr></table></figure><h3 id="7-3-3-HeadLiness类型的Service"><a href="#7-3-3-HeadLiness类型的Service" class="headerlink" title="7.3.3 HeadLiness类型的Service"></a>7.3.3 HeadLiness类型的Service</h3><p>在某些场景中，开发人员可能不想使用Service提供的负载均衡功能，而希望自己来控制负载均衡策略，针对这种情况，kubernetes提供了HeadLiness Service，这类Service不会分配Cluster IP，如果想要访问service，只能通过service的域名进行查询。</p><p>创建service-headliness.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-headliness</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span> <span class="comment"># 将clusterIP设置为None，即可创建headliness Service</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span>    </span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-headliness.yaml</span><br><span class="line">service/service-headliness created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取service， 发现CLUSTER-IP未分配</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc service-headliness -n dev -o wide</span><br><span class="line">NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE   SELECTOR</span><br><span class="line">service-headliness   ClusterIP   None         &lt;none&gt;        80/TCP    11s   app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe svc service-headliness  -n dev</span><br><span class="line">Name:              service-headliness</span><br><span class="line">Namespace:         dev</span><br><span class="line">Labels:            &lt;none&gt;</span><br><span class="line">Annotations:       &lt;none&gt;</span><br><span class="line">Selector:          app=nginx-pod</span><br><span class="line">Type:              ClusterIP</span><br><span class="line">IP:                None</span><br><span class="line">Port:              &lt;unset&gt;  80/TCP</span><br><span class="line">TargetPort:        80/TCP</span><br><span class="line">Endpoints:         10.244.1.39:80,10.244.1.40:80,10.244.2.33:80</span><br><span class="line">Session Affinity:  None</span><br><span class="line">Events:            &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看域名的解析情况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pc-deployment-66cb59b984-8p84h -n dev /bin/sh</span><br><span class="line">/ # cat /etc/resolv.conf</span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search dev.svc.cluster.local svc.cluster.local cluster.local</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# dig @10.96.0.10 service-headliness.dev.svc.cluster.local</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.1.40</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.1.39</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.2.33</span><br></pre></td></tr></table></figure><h3 id="7-3-4-NodePort类型的Service"><a href="#7-3-4-NodePort类型的Service" class="headerlink" title="7.3.4 NodePort类型的Service"></a>7.3.4 NodePort类型的Service</h3><p>在之前的样例中，创建的Service的ip地址只有集群内部才可以访问，如果希望将Service暴露给集群外部使用，那么就要使用到另外一种类型的Service，称为NodePort类型。NodePort的工作原理其实就是<strong>将service的端口映射到Node的一个端口上</strong>，然后就可以通过<code>NodeIp:NodePort</code>来访问service了。</p><p><img src="https://s2.loli.net/2022/12/29/zV1NXd5uOM4gqnx.png" alt="img"></p><p>创建service-nodeport.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-nodeport</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span> <span class="comment"># service类型</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">nodePort:</span> <span class="number">30002</span> <span class="comment"># 指定绑定的node的端口(默认的取值范围是：30000-32767), 如果不指定，会默认分配</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-nodeport.yaml</span><br><span class="line">service/service-nodeport created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev -o wide</span><br><span class="line">NAME               TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)       SELECTOR</span><br><span class="line">service-nodeport   NodePort   10.105.64.191   &lt;none&gt;        80:30002/TCP  app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来可以通过电脑主机的浏览器去访问集群中任意一个nodeip的30002端口，即可访问到pod</span></span><br></pre></td></tr></table></figure><h3 id="7-3-5-LoadBalancer类型的Service"><a href="#7-3-5-LoadBalancer类型的Service" class="headerlink" title="7.3.5 LoadBalancer类型的Service"></a>7.3.5 LoadBalancer类型的Service</h3><p>LoadBalancer和NodePort很相似，目的都是向外部暴露一个端口，区别在于LoadBalancer会在集群的外部再来做一个负载均衡设备，而这个设备需要外部环境支持的，外部服务发送到这个设备上的请求，会被设备负载之后转发到集群中。</p><p><img src="/Kubenetes.assets/image-20200510103945494.png" alt="img"></p><h3 id="7-3-6-ExternalName类型的Service"><a href="#7-3-6-ExternalName类型的Service" class="headerlink" title="7.3.6 ExternalName类型的Service"></a>7.3.6 ExternalName类型的Service</h3><p>ExternalName类型的Service用于引入集群外部的服务，它通过<code>externalName</code>属性指定外部一个服务的地址，然后在集群内部访问此service就可以访问到外部的服务了。</p><p><img src="/Kubenetes.assets/image-20200510113311209.png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: service-externalname</span><br><span class="line">  namespace: dev</span><br><span class="line">spec:</span><br><span class="line">  type: ExternalName # service类型</span><br><span class="line">  externalName: www.baidu.com  #改成ip地址也可以</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  create -f service-externalname.yaml</span><br><span class="line">service/service-externalname created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">域名解析</span></span><br><span class="line">[root@k8s-master01 ~]# dig @10.96.0.10 service-externalname.dev.svc.cluster.local</span><br><span class="line">service-externalname.dev.svc.cluster.local. 30 IN CNAME www.baidu.com.</span><br><span class="line">www.baidu.com.          30      IN      CNAME   www.a.shifen.com.</span><br><span class="line">www.a.shifen.com.       30      IN      A       39.156.66.18</span><br><span class="line">www.a.shifen.com.       30      IN      A       39.156.66.14</span><br></pre></td></tr></table></figure><h2 id="7-4-Ingress介绍"><a href="#7-4-Ingress介绍" class="headerlink" title="7.4 Ingress介绍"></a>7.4 Ingress介绍</h2><p>在前面课程中已经提到，Service对集群之外暴露服务的主要方式有两种：NotePort和LoadBalancer，但是这两种方式，都有一定的缺点：</p><ul><li>NodePort方式的缺点是会占用很多集群机器的端口，那么当集群服务变多的时候，这个缺点就愈发明显</li><li>LB方式的缺点是每个service需要一个LB，浪费、麻烦，并且需要kubernetes之外设备的支持</li></ul><p>基于这种现状，kubernetes提供了Ingress资源对象，Ingress只需要一个NodePort或者一个LB就可以满足暴露多个Service的需求。工作机制大致如下图表示：</p><p><img src="/Kubenetes.assets/image-20200623092808049.png" alt="img"></p><p>实际上，Ingress相当于一个7层的负载均衡器，是kubernetes对反向代理的一个抽象，它的工作原理类似于Nginx，可以理解成在<strong>Ingress里建立诸多映射规则，Ingress Controller通过监听这些配置规则并转化成Nginx的反向代理配置 , 然后对外部提供服务</strong>。在这里有两个核心概念：</p><ul><li>ingress：kubernetes中的一个对象，作用是定义请求如何转发到service的规则</li><li>ingress controller：具体实现反向代理及负载均衡的程序，对ingress定义的规则进行解析，根据配置的规则来实现请求转发，实现方式有很多，比如Nginx, Contour, Haproxy等等</li></ul><p>Ingress（以Nginx为例）的工作原理如下：</p><ol><li>用户编写Ingress规则，说明哪个域名对应kubernetes集群中的哪个Service</li><li>Ingress控制器动态感知Ingress服务规则的变化，然后生成一段对应的Nginx反向代理配置</li><li>Ingress控制器会将生成的Nginx配置写入到一个运行着的Nginx服务中，并动态更新</li><li>到此为止，其实真正在工作的就是一个Nginx了，内部配置了用户定义的请求转发规则</li></ol><p><img src="/Kubenetes.assets/image-20200516112704764.png" alt="img"></p><h2 id="7-5-Ingress使用"><a href="#7-5-Ingress使用" class="headerlink" title="7.5 Ingress使用"></a>7.5 Ingress使用</h2><h3 id="7-5-1-环境准备"><a href="#7-5-1-环境准备" class="headerlink" title="7.5.1 环境准备"></a>7.5.1 环境准备</h3><p><strong>搭建ingress环境</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 创建文件夹</span><br><span class="line">[root@k8s-master01 ~]# mkdir ingress-controller</span><br><span class="line">[root@k8s-master01 ~]# cd ingress-controller/</span><br><span class="line"></span><br><span class="line"># 获取ingress-nginx，本次案例使用的是0.30版本</span><br><span class="line">[root@k8s-master01 ingress-controller]# wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/mandatory.yaml</span><br><span class="line">[root@k8s-master01 ingress-controller]# wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/provider/baremetal/service-nodeport.yaml</span><br><span class="line"></span><br><span class="line"># 修改mandatory.yaml文件中的仓库</span><br><span class="line"># 修改quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0</span><br><span class="line"># 为quay-mirror.qiniu.com/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0</span><br><span class="line"># 创建ingress-nginx</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl apply -f ./</span><br><span class="line"></span><br><span class="line"># 查看ingress-nginx</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl get pod -n ingress-nginx</span><br><span class="line">NAME                                           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginx-ingress-controller-fbf967dd5-4qpbp   1/1     Running   0          12h</span><br><span class="line"></span><br><span class="line"># 查看service</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl get svc -n ingress-nginx</span><br><span class="line">NAME            TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE</span><br><span class="line">ingress-nginx   NodePort   10.98.75.163   &lt;none&gt;        80:32240/TCP,443:31335/TCP   11h</span><br></pre></td></tr></table></figure><p><strong>准备service和pod</strong></p><p>为了后面的实验比较方便，创建如下图所示的模型</p><p><img src="/Kubenetes.assets/image-20200516102419998.png" alt="img"></p><p>创建tomcat-nginx.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tomcat-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">tomcat</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">tomcat:8.5-jre10-slim</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-service</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tomcat-service</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f tomcat-nginx.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev</span><br><span class="line">NAME             TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">nginx-service    ClusterIP   None         &lt;none&gt;        80/TCP     48s</span><br><span class="line">tomcat-service   ClusterIP   None         &lt;none&gt;        8080/TCP   48s</span><br></pre></td></tr></table></figure><h3 id="7-5-2-Http代理"><a href="#7-5-2-Http代理" class="headerlink" title="7.5.2 Http代理"></a>7.5.2 Http代理</h3><p>创建ingress-http.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingress-http</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">nginx-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">tomcat-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f ingress-http.yaml</span><br><span class="line">ingress.extensions/ingress-http created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get ing ingress-http -n dev</span><br><span class="line">NAME           HOSTS                                  ADDRESS   PORTS   AGE</span><br><span class="line">ingress-http   nginx.itheima.com,tomcat.itheima.com             80      22s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe ing ingress-http  -n dev</span><br><span class="line">...</span><br><span class="line">Rules:</span><br><span class="line">Host                Path  Backends</span><br><span class="line">----                ----  --------</span><br><span class="line">nginx.itheima.com   / nginx-service:80 (10.244.1.96:80,10.244.1.97:80,10.244.2.112:80)</span><br><span class="line">tomcat.itheima.com  / tomcat-service:8080(10.244.1.94:8080,10.244.1.95:8080,10.244.2.111:8080)</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来,在本地电脑上配置host文件,解析上面的两个域名到192.168.109.100(master)上</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后,就可以分别访问tomcat.itheima.com:32240  和  nginx.itheima.com:32240 查看效果了</span></span><br></pre></td></tr></table></figure><h3 id="7-5-3-Https代理"><a href="#7-5-3-Https代理" class="headerlink" title="7.5.3 Https代理"></a>7.5.3 Https代理</h3><p>创建证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">生成证书</span></span><br><span class="line">openssl req -x509 -sha256 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj &quot;/C=CN/ST=BJ/L=BJ/O=nginx/CN=itheima.com&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建密钥</span></span><br><span class="line">kubectl create secret tls tls-secret --key tls.key --cert tls.crt</span><br></pre></td></tr></table></figure><p>创建ingress-https.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingress-https</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">tls:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">hosts:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">      <span class="attr">secretName:</span> <span class="string">tls-secret</span> <span class="comment"># 指定秘钥</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">nginx-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">tomcat-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f ingress-https.yaml</span><br><span class="line">ingress.extensions/ingress-https created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get ing ingress-https -n dev</span><br><span class="line">NAME            HOSTS                                  ADDRESS         PORTS     AGE</span><br><span class="line">ingress-https   nginx.itheima.com,tomcat.itheima.com   10.104.184.38   80, 443   2m42s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe ing ingress-https -n dev</span><br><span class="line">...</span><br><span class="line">TLS:</span><br><span class="line">  tls-secret terminates nginx.itheima.com,tomcat.itheima.com</span><br><span class="line">Rules:</span><br><span class="line">Host              Path Backends</span><br><span class="line">----              ---- --------</span><br><span class="line">nginx.itheima.com  /  nginx-service:80 (10.244.1.97:80,10.244.1.98:80,10.244.2.119:80)</span><br><span class="line">tomcat.itheima.com /  tomcat-service:8080(10.244.1.99:8080,10.244.2.117:8080,10.244.2.120:8080)</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下面可以通过浏览器访问https://nginx.itheima.com:31335 和 https://tomcat.itheima.com:31335来查看了</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack服务相关命令</title>
      <link href="/posts/f612fab2.html"/>
      <url>/posts/f612fab2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="openstack服务相关命令"><a href="#openstack服务相关命令" class="headerlink" title="openstack服务相关命令"></a>openstack服务相关命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">重启openstack的整个服务</span><br><span class="line">openstack-service restart</span><br><span class="line"></span><br><span class="line">1. 重启dashboard</span><br><span class="line">service httpd restart</span><br><span class="line">service memcached restart</span><br><span class="line"></span><br><span class="line">2. 重启 ceilometer</span><br><span class="line">2.1 cinder</span><br><span class="line">service mongod restart</span><br><span class="line">2.2 controller</span><br><span class="line">service openstack-ceilometer-api restart</span><br><span class="line">service openstack-ceilometer-notification restart</span><br><span class="line">service openstack-ceilometer-central restart</span><br><span class="line">service openstack-ceilometer-collector restart</span><br><span class="line">service openstack-ceilometer-alarm-evaluator restart</span><br><span class="line">service openstack-ceilometer-alarm-notifier restart</span><br><span class="line">2.3 compute</span><br><span class="line">service openstack-nova-compute restart</span><br><span class="line">2.4 controller</span><br><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br><span class="line">Block Storage service</span><br><span class="line">2.5 controller node</span><br><span class="line">service openstack-cinder-api restart</span><br><span class="line">service openstack-cinder-scheduler restart</span><br><span class="line">2.6 cinder</span><br><span class="line">service openstack-cinder-volume restart</span><br><span class="line"></span><br><span class="line">3. 重启Fuel服务</span><br><span class="line">docker restart fuel-core-6.1-nailgun</span><br><span class="line">docker restart fuel-core-6.1-keystone</span><br><span class="line">docker restart fuel-core-6.1-rsync</span><br><span class="line">docker restart fuel-core-6.1-mcollective</span><br><span class="line">docker restart fuel-core-6.1-ostf</span><br><span class="line">docker restart fuel-core-6.1-astute</span><br><span class="line">docker restart fuel-core-6.1-rsyslog</span><br><span class="line">docker restart fuel-core-6.1-postgres</span><br><span class="line">docker restart fuel-core-6.1-rabbitmq</span><br><span class="line">docker restart fuel-core-6.1-nginx</span><br><span class="line">docker restart fuel-core-6.1-cobbler</span><br><span class="line"></span><br><span class="line">4. 重启 Neutron 服务</span><br><span class="line">4.1 控制节点</span><br><span class="line">service openstack-nova-api restart</span><br><span class="line">service openstack-nova-scheduler restart</span><br><span class="line">service openstack-nova-conductor restart</span><br><span class="line">service neutron-server restart</span><br><span class="line">4.2 网络节点</span><br><span class="line">service openvswitch restart</span><br><span class="line">service neutron-openvswitch-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-l3-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-dhcp-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-metadata-agent restart（fuel控制节点默认stop）</span><br><span class="line">4.3 计算节点</span><br><span class="line">service neutron-openvswitch-agent restart</span><br><span class="line">service openvswitch restart</span><br><span class="line"></span><br><span class="line">5. 重启cinder服务</span><br><span class="line">5.1 控制节点</span><br><span class="line">service openstack-cinder-api restart</span><br><span class="line">service openstack-cinder-scheduler restart</span><br><span class="line">5.2 存储节点</span><br><span class="line">service openstack-cinder-volume restart</span><br><span class="line"></span><br><span class="line">6. 重启glance服务</span><br><span class="line">6.1 控制节点</span><br><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br><span class="line"></span><br><span class="line">7. 重启Swift服务</span><br><span class="line">7.1 控制节点</span><br><span class="line">service openstack-swift-proxy restart</span><br><span class="line">service memcached restart</span><br><span class="line">7.2 存储节点</span><br><span class="line">service openstack-swift-account restart</span><br><span class="line">service openstack-swift-account-auditor restart</span><br><span class="line">service openstack-swift-account-reaper restart</span><br><span class="line">service openstack-swift-account-replicator restart</span><br><span class="line">service openstack-swift-container restart</span><br><span class="line">service openstack-swift-container-auditor restart</span><br><span class="line">service openstack-swift-container-replicator restart</span><br><span class="line">service openstack-swift-container-updater restart</span><br><span class="line">service openstack-swift-object restart</span><br><span class="line">service openstack-swift-object-auditor restart</span><br><span class="line">service openstack-swift-object-replicator restart</span><br><span class="line">service openstack-swift-object-updater restart</span><br><span class="line"></span><br><span class="line">8. 重启Nova服务</span><br><span class="line">8.1 控制节点</span><br><span class="line">service openstack-nova-api restart</span><br><span class="line"></span><br><span class="line">or:/etc/init.d/openstack-nova-api restart</span><br><span class="line"></span><br><span class="line">service openstack-nova-cert restart</span><br><span class="line">service openstack-nova-consoleauth restart</span><br><span class="line">service openstack-nova-scheduler restart</span><br><span class="line">service openstack-nova-conductor restart</span><br><span class="line">service openstack-nova-novncproxy restart</span><br><span class="line">8.2 计算节点</span><br><span class="line">service libvirtd restart</span><br><span class="line">service openstack-nova-compute restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>httpd解决方案</title>
      <link href="/posts/d8a1ddad.html"/>
      <url>/posts/d8a1ddad.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-httpd解决方案"><a href="#1-httpd解决方案" class="headerlink" title="1.httpd解决方案"></a>1.httpd解决方案</h2><p>​Job for httpd.service failed because the control process exited with error code.see “systemctl status httpd.service” and “journalctl -xe” for details.</p><p>这个提醒 会让你去查看当前状态日志，查看状态日志时基本上你会发现 一些服务处在 fail 状态 基本上就是httpd服务没能够起来。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.杀掉这个进程就可以：</span><br><span class="line"></span><br><span class="line">先ps –aux | grep http</span><br><span class="line">第二行数字就是进程pid号</span><br><span class="line">Kill -9 pid号 即可杀掉进程</span><br><span class="line">杀完之后 重启reboot 再ps –aux | grep http 确保httpd进程被杀掉 若发现无法杀掉进程 往下看</span><br><span class="line"></span><br><span class="line">2. 如果杀掉进程的话，重启进程还存在，就代表成了僵尸进程，就重新安装哈httpd</span><br><span class="line">步骤如下：</span><br><span class="line">先用yum卸载httpd和mod_wsgi，</span><br><span class="line">命令：yum remove httpd mod_wsgi;</span><br><span class="line">然后再安装yun -y install httpd mod_wsgi 就可以了</span><br><span class="line">安装完成后 service httpd restart 即可 问题基本排除</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看运行状态</span></span><br><span class="line">systemctl status httpd.service</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动服务</span></span><br><span class="line">systemctl start httpd.service</span><br></pre></td></tr></table></figure><h3 id="2-Openstack-glance-安装-403错误"><a href="#2-Openstack-glance-安装-403错误" class="headerlink" title="2.Openstack glance 安装 403错误"></a>2.Openstack glance 安装 403错误</h3><p>​执行openstack endpoint create –region RegionOne image public <a href="http://controller160:9292/">http://controller160:9292</a></p><p>报错HTTP 403 Forbidden:You are not authorized to complete publicize_image action</p><p><strong>解决办法</strong></p><ul><li>修改glance配置文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/glance/glance-api.conf</span><br><span class="line"> </span><br><span class="line">vim /etc/glance/glance-registry.conf</span><br></pre></td></tr></table></figure><ul><li>出现这种错误一般是配置文件中flavor&#x3D;keystone没有写，2个文件都要看</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[paste_deploy]</span><br><span class="line">flavor = keystone</span><br></pre></td></tr></table></figure><ul><li>重新启动服务</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br></pre></td></tr></table></figure><h3 id="openstack错误"><a href="#openstack错误" class="headerlink" title="openstack错误"></a>openstack错误</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   platform: Linux-3.10.0-1127.el7.x86_64-x86_64-with-centos-7.8.2003-Core</span><br><span class="line">        pip: 9.0.3</span><br><span class="line">        setuptools: 33.1.1</span><br><span class="line">        setuptools_rust: 1.1.2</span><br><span class="line">        rustc: n/a</span><br><span class="line">        =============================DEBUG ASSISTANCE=============================</span><br><span class="line"></span><br><span class="line">    Traceback (most recent call last):</span><br><span class="line">      File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">      File &quot;/tmp/pip-build-9859g78y/cryptography/setup.py&quot;, line 63, in &lt;module&gt;</span><br><span class="line">        rust_version=&quot;&gt;=1.48.0&quot;,</span><br><span class="line">      File &quot;/usr/lib64/python3.6/distutils/core.py&quot;, line 108, in setup</span><br><span class="line">        _setup_distribution = dist = klass(attrs)</span><br><span class="line">      File &quot;/usr/local/lib/python3.6/site-packages/setuptools/dist.py&quot;, line 320, in __init__</span><br><span class="line">        _Distribution.__init__(self, attrs)</span><br><span class="line">      File &quot;/usr/lib64/python3.6/distutils/dist.py&quot;, line 261, in __init__</span><br><span class="line">        warnings.warn(msg)</span><br><span class="line">    UserWarning: Unknown distribution option: &#x27;cffi_modules&#x27;</span><br><span class="line"></span><br><span class="line">    ----------------------------------------</span><br><span class="line">Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-9859g78y/cryptography/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> pip3 install setuptools_rust</span><br><span class="line"> sudo pip3 install setuptools==33.1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install gcc libffi-devel python-devel openssl-devel -y</span><br><span class="line"></span><br><span class="line">python3 -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line">pip3 install paramiko</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式</title>
      <link href="/posts/2f57a694.html"/>
      <url>/posts/2f57a694.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="1-1-正则表达式"><a href="#1-1-正则表达式" class="headerlink" title="1.1 正则表达式"></a>1.1 正则表达式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[abc] <span class="comment">//只能是abc</span></span><br><span class="line">[^abc] <span class="comment">//除了abc之外的任何字符</span></span><br><span class="line">[a-zA-Z] <span class="comment">//a到zA到Z</span></span><br><span class="line">[a-d&#123;,-p&#125;] <span class="comment">//a到D 或</span></span><br><span class="line">[a-z] <span class="comment">// 匹配所有的小写字母 </span></span><br><span class="line">[A-Z] <span class="comment">// 匹配所有的大写字母 </span></span><br><span class="line">[a-zA-Z] <span class="comment">// 匹配所有的字母 </span></span><br><span class="line">[<span class="number">0</span>-<span class="number">9</span>] <span class="comment">// 匹配所有的数字 </span></span><br><span class="line">[<span class="number">0</span>-<span class="number">9</span>\.\-] <span class="comment">// 匹配所有的数字，句号和减号 </span></span><br><span class="line">[ \f\r\t\n] <span class="comment">// 匹配所有的白字符</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构</title>
      <link href="/posts/79666db.html"/>
      <url>/posts/79666db.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-数据结构"><a href="#1-1-数据结构" class="headerlink" title="1.1 数据结构"></a>1.1 数据结构</h3><h4 id="1-数据结构概述"><a href="#1-数据结构概述" class="headerlink" title="1.数据结构概述"></a>1.数据结构概述</h4><ul><li><p>数据结构是计算机底层存储、组织数据的方式。</p></li><li><p>是指数据相互之间是以什么方式排列在一起的。</p></li><li><p>数据结构是为了更加方便的管理和使用数据，需要结合具体的业务场景来进行选择。</p></li><li><p>一般情况下，精心选择的数据结构可以带来更高的运行或者存储效率。</p></li></ul><h4 id="2-栈"><a href="#2-栈" class="headerlink" title="2.栈"></a>2.栈</h4><p>​栈的特点：后进先出，先进后出</p><p>​数据进入到栈模型中叫：压栈&#x2F;进栈</p><p>​数据离开到栈模型中叫：弹栈&#x2F;出栈</p><p><img src="https://s2.loli.net/2022/12/29/pZ3GQi6Ez8cU1Pu.png" alt="image-20221210163543807"></p><h4 id="3-队列"><a href="#3-队列" class="headerlink" title="3.队列"></a>3.队列</h4><p>​栈的特点：先进先出，后进后出</p><p>​数据从后端进入队列模型的过程为入队列</p><p>​数据从前端离开队列模型的过程为出队列</p><p><img src="https://s2.loli.net/2022/12/29/P1UoIh5GDc8mXMY.png" alt="image-20221210164304062"></p><h4 id="4-数组"><a href="#4-数组" class="headerlink" title="4.数组"></a>4.数组</h4><p>​数组是一种查询快，增删慢的模型</p><ul><li>查询速度快：查询数据通过地址值和索引定位，查询任意数据耗时相同。（元素在内存中是连续存储的）</li><li>删除效率低：要将原始数据删除，同时后面每个数据前移。</li><li>添加效率极低：添加位置后的每个数据后移，再添加元素</li></ul><p><img src="https://s2.loli.net/2022/12/29/DTUVcwIORudGyM6.png" alt="image-20221210165235563"></p><h4 id="5-链表"><a href="#5-链表" class="headerlink" title="5.链表"></a>5.链表</h4><p>​链表中的结点是独立的对象，在内存中是不连续的，每个结点包含数据值和下一个结点的地址。<br>​链表查询慢，无论查询哪个数据都要从头开始找。</p><p>​链表增删快</p><p><img src="https://s2.loli.net/2022/12/29/ivdE3I9flWgRpVe.png" alt="image-20221210165852839"></p><p><img src="https://s2.loli.net/2022/12/29/8frJW4jblLydTUG.png" alt="image-20221210170548621"></p><h4 id="6-树"><a href="#6-树" class="headerlink" title="6.树"></a>6.树</h4><p><img src="https://s2.loli.net/2022/12/29/AamhUJ2N93tiRQZ.png" alt="image-20221210172134798"></p><h5 id="6-1-二叉查找树"><a href="#6-1-二叉查找树" class="headerlink" title="6.1 二叉查找树"></a>6.1 二叉查找树</h5><p>​二叉查找树，又称二叉排序树或者二叉搜索树。</p><p>特点：</p><ul><li>每一个节点上最多有两个子节点</li><li>任意节点左子树上的值都小于当前节点</li><li>岁任意节点右子树上的值都大于当前节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/Az5ZCWw4gQRed96.png" alt="image-20221210172634439"></p><p><img src="https://s2.loli.net/2022/12/29/LgdvOkmNbpMn2l6.png" alt="image-20221210172917347"></p><p>二叉树遍历方式</p><ol><li>前序遍历<ul><li>从根结点开始，然后按照当前结点，左子结点，右子结点的顺序遍历</li></ul></li><li>中序遍历<ul><li>从最左边的子节点开始，然后按照左子结点，当前结点，右子结点的顺序遍历</li></ul></li><li>后序遍历<ul><li>从最左边的子节点开始，然后按照左子结点，右子结点，当前结点的顺序遍历</li></ul></li><li>层序遍历<ul><li>从根节点开始一层一层的遍历</li></ul></li></ol><h5 id="6-3-平衡二叉树-左旋"><a href="#6-3-平衡二叉树-左旋" class="headerlink" title="6.3 平衡二叉树(左旋)"></a>6.3 平衡二叉树(左旋)</h5><p>​任意节点左右节点树高度不超过1</p><ul><li>确定支点：从添加的节点开始，不断的往父节点找不平衡的节点</li><li>以不平衡的点作为支点</li><li>把支点左旋降级，变成左子节点</li><li>晋升原来的右子节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/ESIYyTHR2DQPBaK.png" alt="image-20221211104451268"></p><h5 id="6-3-平衡二叉树-右旋"><a href="#6-3-平衡二叉树-右旋" class="headerlink" title="6.3 平衡二叉树(右旋)"></a>6.3 平衡二叉树(右旋)</h5><ul><li>确定支点：从添加的节点开始，不断的往父节点找不平衡的节点</li><li>以不平衡的点作为支点</li><li>把支点右旋降级，变成右子节点</li><li>引晋升原来的左子节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/MweAU9WH8Xtfb61.png" alt="image-20221211105618418"></p><p><img src="https://s2.loli.net/2022/12/29/Cd9pUWqDevZxcVj.png" alt="image-20221211105800905"></p><h4 id="7-红黑树"><a href="#7-红黑树" class="headerlink" title="7.红黑树"></a>7.红黑树</h4><ul><li>红黑树是一种自平衡的二叉查找树，是计算机科学中用到的一种数据结构。</li><li>1972年出现，当时被称之为平衡二叉B树。后来，1978年被修改为如今的”红黑树”。</li><li>它是一种特殊的二叉查找树，红黑树的每一个节点上都有存储位表示节点的颜色，</li><li>每一个节点可以是红或者黑；红黑树不是高度平衡的，它的平衡是通过”红黑规则”进行实现的</li></ul><p><img src="https://s2.loli.net/2022/12/29/ZAdy9DFpcmjYkIW.png" alt="image-20221212100901253"></p><h5 id="7-1红黑规则"><a href="#7-1红黑规则" class="headerlink" title="7.1红黑规则"></a>7.1红黑规则</h5><p>① 每一个节点或是红色的，或者是黑色的</p><p>② 根节点必须是黑色</p><p>③如果一个节点没有子节点或者父节点，则该节点相应的指针属性值为Nil，这些Nil视为叶节点，每个叶节点(Nil)是黑色的</p><p>④ 如果某一个节点是红色，那么它的子节点必须是黑色(不能出现两个红色节点相连的情况)</p><p>③ 对每一个节点，从该节点到其所有后代叶节点的简单路径上，均包含相同数目的黑色节点;</p><p><img src="https://s2.loli.net/2022/12/29/gVAvj3Rsk5Jf4YW.png" alt="image-20221212101423432"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git连接到GitHub</title>
      <link href="/posts/db6bedc5.html"/>
      <url>/posts/db6bedc5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-git连接到github"><a href="#1-git连接到github" class="headerlink" title="1. git连接到github"></a>1. git连接到github</h2><h3 id="1-1-安装git"><a href="#1-1-安装git" class="headerlink" title="1.1 安装git"></a>1.1 安装git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><h3 id="1-2-创建一个GitHub账号"><a href="#1-2-创建一个GitHub账号" class="headerlink" title="1.2 创建一个GitHub账号"></a>1.2 创建一个GitHub账号</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> https://github.com/</span><br></pre></td></tr></table></figure><h3 id="1-3-生成ssh-key"><a href="#1-3-生成ssh-key" class="headerlink" title="1.3 生成ssh key"></a>1.3 生成ssh key</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure><ul><li>一直点确定</li></ul><p><img src="https://s2.loli.net/2023/01/20/BCMZwDVQ4JjYmWG.png" alt="image-20230120105405140"></p><ul><li><p>默认在C:\Users\Administrator.ssh这个目录下</p></li><li><p><img src="https://s2.loli.net/2023/01/20/pZWTBFqoeCKH9rR.png" alt="image-20230120105639091"></p></li><li><p>点击设置</p></li></ul><p><img src="https://s2.loli.net/2023/01/20/IT2JykZONbnlCzq.png" alt="image-20230120105751375"></p><p><img src="https://s2.loli.net/2023/01/20/mUNdYM5ItGxJDO8.png" alt="image-20230120105846939"></p><p><img src="https://s2.loli.net/2023/01/20/YrQjWCUVicIvkH3.png" alt="image-20230120105952246"></p><ul><li>将密钥复制到GitHub里面</li></ul><p><img src="https://s2.loli.net/2023/01/20/LMVzlQU4itCONDx.png" alt="image-20230120110124613"></p><ul><li>点击保存</li></ul><h3 id="1-4-配置git"><a href="#1-4-配置git" class="headerlink" title="1.4 配置git"></a>1.4 配置git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure><h3 id="1-5-测试是否连接成功"><a href="#1-5-测试是否连接成功" class="headerlink" title="1.5 测试是否连接成功"></a>1.5 测试是否连接成功</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.pod控制器介绍</title>
      <link href="/posts/185fad5e.html"/>
      <url>/posts/185fad5e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="6-Pod控制器详解"><a href="#6-Pod控制器详解" class="headerlink" title="6. Pod控制器详解"></a>6. Pod控制器详解</h1><h2 id="6-1-Pod控制器介绍"><a href="#6-1-Pod控制器介绍" class="headerlink" title="6.1 Pod控制器介绍"></a>6.1 Pod控制器介绍</h2><p>Pod是kubernetes的最小管理单元，在kubernetes中，按照pod的创建方式可以将其分为两类：</p><ul><li>自主式pod：kubernetes直接创建出来的Pod，这种pod删除后就没有了，也不会重建</li><li>控制器创建的pod：kubernetes通过控制器创建的pod，这种pod删除了之后还会自动重建</li></ul><blockquote><p><strong><code>什么是Pod控制器</code></strong></p><p>Pod控制器是管理pod的中间层，使用Pod控制器之后，只需要告诉Pod控制器，想要多少个什么样的Pod就可以了，它会创建出满足条件的Pod并确保每一个Pod资源处于用户期望的目标状态。如果Pod资源在运行中出现故障，它会基于指定策略重新编排Pod。</p></blockquote><p>在kubernetes中，有很多类型的pod控制器，每种都有自己的适合的场景，常见的有下面这些：</p><ul><li>ReplicationController：比较原始的pod控制器，已经被废弃，由ReplicaSet替代</li><li>ReplicaSet：保证副本数量一直维持在期望值，并支持pod数量扩缩容，镜像版本升级</li><li>Deployment：通过控制ReplicaSet来控制Pod，并支持滚动升级、回退版本</li><li>Horizontal Pod Autoscaler：可以根据集群负载自动水平调整Pod的数量，实现削峰填谷</li><li>DaemonSet：在集群中的指定Node上运行且仅运行一个副本，一般用于守护进程类的任务</li><li>Job：它创建出来的pod只要完成任务就立即退出，不需要重启或重建，用于执行一次性任务</li><li>Cronjob：它创建的Pod负责周期性任务控制，不需要持续后台运行</li><li>StatefulSet：管理有状态应用</li></ul><h2 id="6-2-ReplicaSet-RS"><a href="#6-2-ReplicaSet-RS" class="headerlink" title="6.2 ReplicaSet(RS)"></a>6.2 ReplicaSet(RS)</h2><p>ReplicaSet的主要作用是<strong>保证一定数量的pod正常运行</strong>，它会持续监听这些Pod的运行状态，一旦Pod发生故障，就会重启或重建。同时它还支持对pod数量的扩缩容和镜像版本的升降级。</p><p><img src="https://s2.loli.net/2022/12/29/gmE7sRlcJBiLd5T.png" alt="img"></p><p>ReplicaSet的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ReplicaSet</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">rs</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 副本数量</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>在这里面，需要新了解的配置项就是<code>spec</code>下面几个选项：</p><ul><li><p>replicas：指定副本数量，其实就是当前rs创建出来的pod的数量，默认为1</p></li><li><p>selector：选择器，它的作用是建立pod控制器和pod之间的关联关系，采用的Label Selector机制</p><p>  在pod模板上定义label，在控制器上定义选择器，就可以表明当前控制器能管理哪些pod了</p></li><li><p>template：模板，就是当前控制器创建pod所使用的模板板，里面其实就是前一章学过的pod的定义</p></li></ul><p><strong>创建ReplicaSet</strong></p><p>创建pc-replicaset.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ReplicaSet</span>   </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-replicaset</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span> </span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建rs</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-replicaset.yaml</span><br><span class="line">replicaset.apps/pc-replicaset created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DESIRED:期望副本数量</span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CURRENT:当前副本数量</span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">READY:已经准备好提供服务的副本数量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs pc-replicaset -n dev -o wide</span><br><span class="line">NAME          DESIRED   CURRENT READY AGE   CONTAINERS   IMAGES             SELECTOR</span><br><span class="line">pc-replicaset 3         3       3     22s   nginx        nginx:1.17.1       app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前控制器创建出来的pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里发现控制器创建出来的pod的名称是在控制器名称后面拼接了-xxxxx随机码</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod -n dev</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   1/1     Running   0          54s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          54s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          54s</span><br></pre></td></tr></table></figure><p><strong>扩缩容</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑rs的副本数量，修改spec:replicas: 6即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps/pc-replicaset edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   1/1     Running   0          114m</span><br><span class="line">pc-replicaset-cftnp   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-fjlm6   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          114m</span><br><span class="line">pc-replicaset-s2whj   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          114m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然也可以直接使用命令实现</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用scale命令实现扩缩容， 后面--replicas=n直接指定目标数量即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl scale rs pc-replicaset --replicas=2 -n dev</span><br><span class="line">replicaset.apps/pc-replicaset scaled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令运行完毕，立即查看，发现已经有4个开始准备退出了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                       READY   STATUS        RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   0/1     Terminating   0          118m</span><br><span class="line">pc-replicaset-cftnp   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-fjlm6   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running       0          118m</span><br><span class="line">pc-replicaset-s2whj   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running       0          118m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">稍等片刻，就只剩下2个了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          119m</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          119m</span><br></pre></td></tr></table></figure><p><strong>镜像升级</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑rs的容器镜像 - image: nginx:1.17.2</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps/pc-replicaset edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看，发现镜像版本已经变更了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                DESIRED  CURRENT   READY   AGE    CONTAINERS   IMAGES        ...</span><br><span class="line">pc-replicaset       2        2         2       140m   nginx         nginx:1.17.2  ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同样的道理，也可以使用命令完成这个工作</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">set</span> image rs rs名称 容器=镜像版本 -n namespace</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image rs pc-replicaset nginx=nginx:1.17.1  -n dev</span><br><span class="line">replicaset.apps/pc-replicaset image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看，发现镜像版本已经变更了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                 DESIRED  CURRENT   READY   AGE    CONTAINERS   IMAGES            ...</span><br><span class="line">pc-replicaset        2        2         2       145m   nginx        nginx:1.17.1 ... </span><br></pre></td></tr></table></figure><p><strong>删除ReplicaSet</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用kubectl delete命令会删除此RS以及它管理的Pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在kubernetes删除RS前，会将RS的replicasclear调整为0，等待所有的Pod被删除后，在执行RS对象的删除</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod -n dev -o wide</span><br><span class="line">No resources found in dev namespace.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果希望仅仅删除RS对象（保留Pod），可以使用kubectl delete命令时添加--cascade=<span class="literal">false</span>选项（不推荐）。</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete rs pc-replicaset -n dev --cascade=false</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-cl82j   1/1     Running   0          75s</span><br><span class="line">pc-replicaset-dslhb   1/1     Running   0          75s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">也可以使用yaml直接删除(推荐)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-replicaset.yaml</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-3-Deployment-Deploy"><a href="#6-3-Deployment-Deploy" class="headerlink" title="6.3 Deployment(Deploy)"></a>6.3 Deployment(Deploy)</h2><p>为了更好的解决服务编排的问题，kubernetes在V1.2版本开始，引入了Deployment控制器。值得一提的是，这种控制器并不直接管理pod，而是通过管理ReplicaSet来简介管理Pod，即：Deployment管理ReplicaSet，ReplicaSet管理Pod。所以Deployment比ReplicaSet功能更加强大。</p><p><img src="https://s2.loli.net/2022/12/29/9UX4I6qZMyoPjei.png" alt="img"></p><p>Deployment主要功能有下面几个：</p><ul><li>支持ReplicaSet的所有功能</li><li>支持发布的停止、继续</li><li>支持滚动升级和回滚版本</li></ul><p>Deployment的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 副本数量</span></span><br><span class="line">  <span class="attr">revisionHistoryLimit:</span> <span class="number">3</span> <span class="comment"># 保留历史版本</span></span><br><span class="line">  <span class="attr">paused:</span> <span class="literal">false</span> <span class="comment"># 暂停部署，默认是false</span></span><br><span class="line">  <span class="attr">progressDeadlineSeconds:</span> <span class="number">600</span> <span class="comment"># 部署超时时间（s），默认是600</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span> <span class="comment"># 滚动更新</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">30</span><span class="string">%</span> <span class="comment"># 最大额外可以存在的副本数，可以为百分比，也可以为整数</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">30</span><span class="string">%</span> <span class="comment"># 最大不可用状态的 Pod 的最大值，可以为百分比，也可以为整数</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p><strong>创建deployment</strong></p><p>创建pc-deployment.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建deployment</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-deployment.yaml --record=true</span><br><span class="line">deployment.apps/pc-deployment created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UP-TO-DATE 最新版本的pod的数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">AVAILABLE  当前可用的pod的数量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy pc-deployment -n dev</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">pc-deployment   3/3     3            3           15s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现rs的名称是在原来deployment的名字后面添加了一个10位数的随机串</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   3         3         3       23s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          107s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          107s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          107s</span><br></pre></td></tr></table></figure><p><strong>扩缩容</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更副本数量为5个</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl scale deploy pc-deployment --replicas=5  -n dev</span><br><span class="line">deployment.apps/pc-deployment scaled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy pc-deployment -n dev</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">pc-deployment   5/5     5            5           2m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          4m19s</span><br><span class="line">pc-deployment-6696798b78-jxmdq   1/1     Running   0          94s</span><br><span class="line">pc-deployment-6696798b78-mktqv   1/1     Running   0          93s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          4m19s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          4m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑deployment的副本数量，修改spec:replicas: 4即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          5m23s</span><br><span class="line">pc-deployment-6696798b78-jxmdq   1/1     Running   0          2m38s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          5m23s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          5m23s</span><br></pre></td></tr></table></figure><p><strong>镜像更新</strong></p><p>deployment支持两种更新策略:<code>重建更新</code>和<code>滚动更新</code>,可以通过<code>strategy</code>指定策略类型,支持两个属性:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">strategy：指定新的Pod替换旧的Pod的策略，</span> <span class="string">支持两个属性：</span></span><br><span class="line">  <span class="string">type：指定策略类型，支持两种策略</span></span><br><span class="line">    <span class="string">Recreate：在创建出新的Pod之前会先杀掉所有已存在的Pod</span></span><br><span class="line">    <span class="string">RollingUpdate：滚动更新，就是杀死一部分，就启动一部分，在更新过程中，存在两个版本Pod</span></span><br><span class="line">  <span class="string">rollingUpdate：当type为RollingUpdate时生效，用于为RollingUpdate设置参数，支持两个属性：</span></span><br><span class="line">    <span class="string">maxUnavailable：用来指定在升级过程中不可用Pod的最大数量，默认为25%。</span></span><br><span class="line">    <span class="string">maxSurge：</span> <span class="string">用来指定在升级过程中可以超过期望的Pod的最大数量，默认为25%。</span></span><br></pre></td></tr></table></figure><p>重建更新</p><ol><li>编辑pc-deployment.yaml,在spec节点下添加更新策略</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">Recreate</span> <span class="comment"># 重建更新</span></span><br></pre></td></tr></table></figure><ol start="2"><li>创建deploy进行验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更镜像</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image deployment pc-deployment nginx=nginx:1.17.2 -n dev</span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察升级过程</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev -w</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-5d89bdfbf9-65qcw   1/1     Running   0          31s</span><br><span class="line">pc-deployment-5d89bdfbf9-w5nzv   1/1     Running   0          31s</span><br><span class="line">pc-deployment-5d89bdfbf9-xpt7w   1/1     Running   0          31s</span><br><span class="line"></span><br><span class="line">pc-deployment-5d89bdfbf9-xpt7w   1/1     Terminating   0          41s</span><br><span class="line">pc-deployment-5d89bdfbf9-65qcw   1/1     Terminating   0          41s</span><br><span class="line">pc-deployment-5d89bdfbf9-w5nzv   1/1     Terminating   0          41s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   0/1     Pending       0          0s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   0/1     Pending       0          0s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   0/1     Pending       0          0s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   0/1     ContainerCreating   0          0s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   1/1     Running             0          1s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   1/1     Running             0          1s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   1/1     Running             0          2s</span><br></pre></td></tr></table></figure><p>滚动更新</p><ol><li>编辑pc-deployment.yaml,在spec节点下添加更新策略</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">25</span><span class="string">%</span> </span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">25</span><span class="string">%</span></span><br></pre></td></tr></table></figure><ol start="2"><li>创建deploy进行验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更镜像</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image deployment pc-deployment nginx=nginx:1.17.3 -n dev </span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察升级过程</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME                           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-c848d767-8rbzt   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-h4p68   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-hlmz4   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-rrqcn   1/1     Running   0          31m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-226rx   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-226rx   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-226rx   1/1     Running             0          1s</span><br><span class="line">pc-deployment-c848d767-h4p68    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-cnd44   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-cnd44   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-cnd44   1/1     Running             0          2s</span><br><span class="line">pc-deployment-c848d767-hlmz4    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-px48p   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-px48p   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-px48p   1/1     Running             0          0s</span><br><span class="line">pc-deployment-c848d767-8rbzt    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-dkmqp   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-dkmqp   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-dkmqp   1/1     Running             0          2s</span><br><span class="line">pc-deployment-c848d767-rrqcn    0/1     Terminating         0          34m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">至此，新版本的pod创建完毕，就版本的pod销毁完毕</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">中间过程是滚动进行的，也就是边销毁边创建</span></span><br></pre></td></tr></table></figure><p>滚动更新的过程：</p><p><img src="https://s2.loli.net/2022/12/29/BZXt8LKv9VyjnNx.png" alt="img"></p><p>镜像更新中rs的变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs,发现原来的rs的依旧存在，只是pod数量变为了0，而后又新产生了一个rs，pod数量为4</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其实这就是deployment能够进行版本回退的奥妙所在，后面会详细解释</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   0         0         0       7m37s</span><br><span class="line">pc-deployment-6696798b11   0         0         0       5m37s</span><br><span class="line">pc-deployment-c848d76789   4         4         4       72s</span><br></pre></td></tr></table></figure><p><strong>版本回退</strong></p><p>deployment支持版本升级过程中的暂停、继续功能以及版本回退等诸多功能，下面具体来看.</p><p>kubectl rollout： 版本升级相关功能，支持下面的选项：</p><ul><li>status 显示当前升级状态</li><li>history 显示 升级历史记录</li><li>pause 暂停版本升级过程</li><li>resume 继续已经暂停的版本升级过程</li><li>restart 重启版本升级过程</li><li>undo 回滚到上一级版本（可以使用–to-revision回滚到指定版本）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前升级版本的状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout status deploy pc-deployment -n dev</span><br><span class="line">deployment &quot;pc-deployment&quot; successfully rolled out</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看升级历史记录</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout history deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment</span><br><span class="line">REVISION  CHANGE-CAUSE</span><br><span class="line">1         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line">2         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line">3         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以发现有三次版本记录，说明完成过两次升级</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">版本回滚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里直接使用--to-revision=1回滚到了1版本， 如果省略这个选项，就是回退到上个版本，就是2版本</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout undo deployment pc-deployment --to-revision=1 -n dev</span><br><span class="line">deployment.apps/pc-deployment rolled back</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看发现，通过nginx镜像版本可以发现到了第一版</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy -n dev -o wide</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment   4/4     4            4           74m   nginx        nginx:1.17.1   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs，发现第一个rs中有4个pod运行，后面两个版本的rs中pod为运行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其实deployment之所以可是实现版本的回滚，就是通过记录下历史rs来实现的，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">一旦想回滚到哪个版本，只需要将当前版本pod数量降为0，然后将回滚版本的pod提升为目标数量就可以了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   4         4         4       78m</span><br><span class="line">pc-deployment-966bf7f44    0         0         0       37m</span><br><span class="line">pc-deployment-c848d767     0         0         0       71m</span><br></pre></td></tr></table></figure><p><strong>金丝雀发布</strong></p><p>Deployment控制器支持控制更新过程中的控制，如“暂停(pause)”或“继续(resume)”更新操作。</p><p>比如有一批新的Pod资源创建完成后立即暂停更新过程，此时，仅存在一部分新版本的应用，主体部分还是旧的版本。然后，再筛选一小部分的用户请求路由到新版本的Pod应用，继续观察能否稳定地按期望的方式运行。确定没问题之后再继续完成余下的Pod资源滚动更新，否则立即回滚更新操作。这就是所谓的金丝雀发布。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新deployment的版本，并配置暂停deployment</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl set image deploy pc-deployment nginx=nginx:1.17.4 -n dev &amp;&amp; kubectl rollout pause deployment pc-deployment  -n dev</span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line">deployment.apps/pc-deployment paused</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">观察更新状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout status deploy pc-deployment -n dev　</span><br><span class="line">Waiting for deployment &quot;pc-deployment&quot; rollout to finish: 2 out of 4 new replicas have been updated...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">监控更新的过程，可以看到已经新增了一个资源，但是并未按照预期的状态去删除一个旧的资源，就是因为使用了pause暂停命令</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE     CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment-5d89bdfbf9   3         3         3       19m     nginx        nginx:1.17.1   </span><br><span class="line">pc-deployment-675d469f8b   0         0         0       14m     nginx        nginx:1.17.2   </span><br><span class="line">pc-deployment-6c9f56fcfb   2         2         2       3m16s   nginx        nginx:1.17.4   </span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-5d89bdfbf9-rj8sq   1/1     Running   0          7m33s</span><br><span class="line">pc-deployment-5d89bdfbf9-ttwgg   1/1     Running   0          7m35s</span><br><span class="line">pc-deployment-5d89bdfbf9-v4wvc   1/1     Running   0          7m34s</span><br><span class="line">pc-deployment-6c9f56fcfb-996rt   1/1     Running   0          3m31s</span><br><span class="line">pc-deployment-6c9f56fcfb-j2gtj   1/1     Running   0          3m31s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确保更新的pod没问题了，继续更新</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout resume deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment resumed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看最后的更新情况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE     CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment-5d89bdfbf9   0         0         0       21m     nginx        nginx:1.17.1   </span><br><span class="line">pc-deployment-675d469f8b   0         0         0       16m     nginx        nginx:1.17.2   </span><br><span class="line">pc-deployment-6c9f56fcfb   4         4         4       5m11s   nginx        nginx:1.17.4   </span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6c9f56fcfb-7bfwh   1/1     Running   0          37s</span><br><span class="line">pc-deployment-6c9f56fcfb-996rt   1/1     Running   0          5m27s</span><br><span class="line">pc-deployment-6c9f56fcfb-j2gtj   1/1     Running   0          5m27s</span><br><span class="line">pc-deployment-6c9f56fcfb-rf84v   1/1     Running   0          37s</span><br></pre></td></tr></table></figure><p><strong>删除Deployment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除deployment，其下的rs和pod也将被删除</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-deployment.yaml</span><br><span class="line">deployment.apps &quot;pc-deployment&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-4-Horizontal-Pod-Autoscaler-HPA"><a href="#6-4-Horizontal-Pod-Autoscaler-HPA" class="headerlink" title="6.4 Horizontal Pod Autoscaler(HPA)"></a>6.4 Horizontal Pod Autoscaler(HPA)</h2><p>在前面的课程中，我们已经可以实现通过手工执行<code>kubectl scale</code>命令实现Pod扩容或缩容，但是这显然不符合Kubernetes的定位目标–自动化、智能化。 Kubernetes期望可以实现通过监测Pod的使用情况，实现pod数量的自动调整，于是就产生了Horizontal Pod Autoscaler（HPA）这种控制器。</p><p>HPA可以获取每个Pod利用率，然后和HPA中定义的指标进行对比，同时计算出需要伸缩的具体值，最后实现Pod的数量的调整。其实HPA与之前的Deployment一样，也属于一种Kubernetes资源对象，它通过追踪分析RC控制的所有目标Pod的负载变化情况，来确定是否需要针对性地调整目标Pod的副本数，这是HPA的实现原理。</p><p><img src="https://s2.loli.net/2022/12/29/sdMI51XLJFK8rR7.png" alt="img"></p><p>接下来，我们来做一个实验</p><p><strong>1 安装metrics-server</strong></p><p>metrics-server可以用来收集集群中的资源使用情况</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装git</span></span><br><span class="line">[root@k8s-master01 ~]# yum install git -y</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取metrics-server, 注意使用的版本</span></span><br><span class="line">[root@k8s-master01 ~]# git clone -b v0.3.6 https://github.com/kubernetes-incubator/metrics-server</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改deployment, 注意修改的是镜像和初始化参数</span></span><br><span class="line">[root@k8s-master01 ~]# cd /root/metrics-server/deploy/1.8+/</span><br><span class="line">[root@k8s-master01 1.8+]# vim metrics-server-deployment.yaml</span><br><span class="line">按图中添加下面选项</span><br><span class="line">hostNetwork: true</span><br><span class="line">image: registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server-amd64:v0.3.6</span><br><span class="line">args:</span><br><span class="line">- --kubelet-insecure-tls</span><br><span class="line">- --kubelet-preferred-address-types=InternalIP,Hostname,InternalDNS,ExternalDNS,ExternalIP</span><br></pre></td></tr></table></figure><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200608163326496.png" alt="image-20200608163326496"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装metrics-server</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl apply -f ./</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod运行情况</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl get pod -n kube-system</span><br><span class="line">metrics-server-6b976979db-2xwbj   1/1     Running   0          90s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用kubectl top node 查看资源使用情况</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl top node</span><br><span class="line">NAME           CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%</span><br><span class="line">k8s-master01   289m         14%    1582Mi          54%       </span><br><span class="line">k8s-node01     81m          4%     1195Mi          40%       </span><br><span class="line">k8s-node02     72m          3%     1211Mi          41%  </span><br><span class="line">[root@k8s-master01 1.8+]# kubectl top pod -n kube-system</span><br><span class="line">NAME                              CPU(cores)   MEMORY(bytes)</span><br><span class="line">coredns-6955765f44-7ptsb          3m           9Mi</span><br><span class="line">coredns-6955765f44-vcwr5          3m           8Mi</span><br><span class="line">etcd-master                       14m          145Mi</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">至此,metrics-server安装完成</span></span><br></pre></td></tr></table></figure><p><strong>2 准备deployment和servie</strong></p><p>创建pc-hpa-pod.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">resources:</span> <span class="comment"># 资源配额</span></span><br><span class="line">          <span class="attr">limits:</span>  <span class="comment"># 限制资源（上限）</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;1&quot;</span> <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">          <span class="attr">requests:</span> <span class="comment"># 请求资源（下限）</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;100m&quot;</span>  <span class="comment"># CPU限制，单位是core数</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl expose deployment nginx --type=NodePort --port=80 -n dev</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl get deployment,pod,svc -n dev</span><br><span class="line">NAME                    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps/nginx   1/1     1            1           47s</span><br><span class="line"></span><br><span class="line">NAME                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginx-7df9756ccc-bh8dr   1/1     Running   0          47s</span><br><span class="line"></span><br><span class="line">NAME            TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">service/nginx   NodePort   10.101.18.29   &lt;none&gt;        80:31830/TCP   35s</span><br></pre></td></tr></table></figure><p><strong>3 部署HPA</strong></p><p>创建pc-hpa.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">autoscaling/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">HorizontalPodAutoscaler</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-hpa</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">minReplicas:</span> <span class="number">1</span>  <span class="comment">#最小pod数量</span></span><br><span class="line">  <span class="attr">maxReplicas:</span> <span class="number">10</span> <span class="comment">#最大pod数量</span></span><br><span class="line">  <span class="attr">targetCPUUtilizationPercentage:</span> <span class="number">3</span> <span class="comment"># CPU使用率指标</span></span><br><span class="line">  <span class="attr">scaleTargetRef:</span>   <span class="comment"># 指定要控制的nginx信息</span></span><br><span class="line">    <span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建hpa</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl create -f pc-hpa.yaml</span><br><span class="line">horizontalpodautoscaler.autoscaling/pc-hpa created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看hpa</span></span><br><span class="line">    [root@k8s-master01 1.8+]# kubectl get hpa -n dev</span><br><span class="line">NAME     REFERENCE          TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">pc-hpa   Deployment/nginx   0%/3%     1         10        1          62s</span><br></pre></td></tr></table></figure><p><strong>4 测试</strong></p><p>使用压测工具对service地址<code>192.168.5.4:31830</code>进行压测，然后通过控制台查看hpa和pod的变化</p><p>hpa变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get hpa -n dev -w</span><br><span class="line">NAME   REFERENCE      TARGETS  MINPODS  MAXPODS  REPLICAS  AGE</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      4m11s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      5m19s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     1      6m50s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     4      7m5s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     8      7m21s</span><br><span class="line">pc-hpa  Deployment/nginx  6%/3%   1     10     8      7m51s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     8      9m6s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     8      13m</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      14m</span><br></pre></td></tr></table></figure><p>deployment变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get deployment -n dev -w</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   1/1     1            1           11m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     4            1           13m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     8            1           14m</span><br><span class="line">nginx   2/8     8            2           14m</span><br><span class="line">nginx   3/8     8            3           14m</span><br><span class="line">nginx   4/8     8            4           14m</span><br><span class="line">nginx   5/8     8            5           14m</span><br><span class="line">nginx   6/8     8            6           14m</span><br><span class="line">nginx   7/8     8            7           14m</span><br><span class="line">nginx   8/8     8            8           15m</span><br><span class="line">nginx   8/1     8            8           20m</span><br><span class="line">nginx   8/1     8            8           20m</span><br><span class="line">nginx   1/1     1            1           20m</span><br></pre></td></tr></table></figure><p>pod变化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-7df9756ccc-bh8dr   1/1     Running   0          11m</span><br><span class="line">nginx-7df9756ccc-cpgrv   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-rr9bn   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-cpgrv   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-rr9bn   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-m9gsj   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-g56qb   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-sl9c6   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-fgst7   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-g56qb   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-m9gsj   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-sl9c6   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-fgst7   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   1/1     Running             0          19s</span><br><span class="line">nginx-7df9756ccc-rr9bn   1/1     Running             0          30s</span><br><span class="line">nginx-7df9756ccc-m9gsj   1/1     Running             0          21s</span><br><span class="line">nginx-7df9756ccc-cpgrv   1/1     Running             0          47s</span><br><span class="line">nginx-7df9756ccc-sl9c6   1/1     Running             0          33s</span><br><span class="line">nginx-7df9756ccc-g56qb   1/1     Running             0          48s</span><br><span class="line">nginx-7df9756ccc-fgst7   1/1     Running             0          66s</span><br><span class="line">nginx-7df9756ccc-fgst7   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-8zhwk   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-cpgrv   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-g56qb   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-rr9bn   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-m9gsj   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-sl9c6   1/1     Terminating         0          6m50s</span><br></pre></td></tr></table></figure><h2 id="6-5-DaemonSet-DS"><a href="#6-5-DaemonSet-DS" class="headerlink" title="6.5 DaemonSet(DS)"></a>6.5 DaemonSet(DS)</h2><p>DaemonSet类型的控制器可以保证在集群中的每一台（或指定）节点上都运行一个副本。一般适用于日志收集、节点监控等场景。也就是说，如果一个Pod提供的功能是节点级别的（每个节点都需要且只需要一个），那么这类Pod就适合使用DaemonSet类型的控制器创建。</p><p><img src="https://s2.loli.net/2022/12/29/l9M2n6WUzHfaJYL.png" alt="img"></p><p>DaemonSet控制器的特点：</p><ul><li>每当向集群中添加一个节点时，指定的 Pod 副本也将添加到该节点上</li><li>当节点从集群中移除时，Pod 也就被垃圾回收了</li></ul><p>下面先来看下DaemonSet的资源清单文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">daemonset</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">revisionHistoryLimit:</span> <span class="number">3</span> <span class="comment"># 保留历史版本</span></span><br><span class="line">  <span class="attr">updateStrategy:</span> <span class="comment"># 更新策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span> <span class="comment"># 滚动更新</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">1</span> <span class="comment"># 最大不可用状态的 Pod 的最大值，可以为百分比，也可以为整数</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>创建pc-daemonset.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-daemonset</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建daemonset</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f  pc-daemonset.yaml</span><br><span class="line">daemonset.apps/pc-daemonset created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看daemonset</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get ds -n dev -o wide</span><br><span class="line">NAME        DESIRED  CURRENT  READY  UP-TO-DATE  AVAILABLE   AGE   CONTAINERS   IMAGES         </span><br><span class="line">pc-daemonset   2        2        2      2           2        24s   nginx        nginx:1.17.1   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod,发现在每个Node上都运行一个pod</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev -o wide</span><br><span class="line">NAME                 READY   STATUS    RESTARTS   AGE   IP            NODE    </span><br><span class="line">pc-daemonset-9bck8   1/1     Running   0          37s   10.244.1.43   node1     </span><br><span class="line">pc-daemonset-k224w   1/1     Running   0          37s   10.244.2.74   node2      </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除daemonset</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-daemonset.yaml</span><br><span class="line">daemonset.apps &quot;pc-daemonset&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-6-Job"><a href="#6-6-Job" class="headerlink" title="6.6 Job"></a>6.6 Job</h2><p>Job，主要用于负责**批量处理(一次要处理指定数量任务)<strong>短暂的</strong>一次性(每个任务仅运行一次就结束)**任务。Job特点如下：</p><ul><li>当Job创建的pod执行成功结束时，Job将记录成功结束的pod数量</li><li>当成功结束的pod达到指定的数量时，Job将完成执行</li></ul><p><img src="https://s2.loli.net/2022/12/29/ajShvWDKqzCLwiQ.png" alt="img"></p><p>Job的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Job</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">job</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">completions:</span> <span class="number">1</span> <span class="comment"># 指定job需要成功运行Pods的次数。默认值: 1</span></span><br><span class="line">  <span class="attr">parallelism:</span> <span class="number">1</span> <span class="comment"># 指定job在任一时刻应该并发运行Pods的数量。默认值: 1</span></span><br><span class="line">  <span class="attr">activeDeadlineSeconds:</span> <span class="number">30</span> <span class="comment"># 指定job可运行的时间期限，超过时间还未结束，系统将会尝试进行终止。</span></span><br><span class="line">  <span class="attr">backoffLimit:</span> <span class="number">6</span> <span class="comment"># 指定job失败后进行重试的次数。默认是6</span></span><br><span class="line">  <span class="attr">manualSelector:</span> <span class="literal">true</span> <span class="comment"># 是否可以使用selector选择器选择pod，默认是false</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">counter-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">restartPolicy:</span> <span class="string">Never</span> <span class="comment"># 重启策略只能设置为Never或者OnFailure</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 2;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">关于重启策略设置的说明：</span><br><span class="line">    如果指定为OnFailure，则job会在pod出现故障时重启容器，而不是创建pod，failed次数不变</span><br><span class="line">    如果指定为Never，则job会在pod出现故障时创建新的pod，并且故障pod不会消失，也不会重启，failed次数加1</span><br><span class="line">    如果指定为Always的话，就意味着一直重启，意味着job任务会重复去执行了，当然不对，所以不能设置为Always</span><br></pre></td></tr></table></figure><p>创建pc-job.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Job</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-job</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">manualSelector:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">restartPolicy:</span> <span class="string">Never</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 3;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-job.yaml</span><br><span class="line">job.batch/pc-job created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get job -n dev -o wide  -w</span><br><span class="line">NAME     COMPLETIONS   DURATION   AGE   CONTAINERS   IMAGES         SELECTOR</span><br><span class="line">pc-job   0/1           21s        21s   counter      busybox:1.30   app=counter-pod</span><br><span class="line">pc-job   1/1           31s        79s   counter      busybox:1.30   app=counter-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过观察pod状态可以看到，pod在运行完毕任务后，就会变成Completed状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME           READY   STATUS     RESTARTS      AGE</span><br><span class="line">pc-job-rxg96   1/1     Running     0            29s</span><br><span class="line">pc-job-rxg96   0/1     Completed   0            33s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，调整下pod运行的总数量和并行数量 即：在spec下设置下面两个选项</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> completions: 6 <span class="comment"># 指定job需要成功运行Pods的次数为6</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> parallelism: 3 <span class="comment"># 指定job并发运行Pods的数量为3</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 然后重新运行job，观察效果，此时会发现，job会每次运行3个pod，总共执行了6个pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-job-684ft   1/1     Running   0          5s</span><br><span class="line">pc-job-jhj49   1/1     Running   0          5s</span><br><span class="line">pc-job-pfcvh   1/1     Running   0          5s</span><br><span class="line">pc-job-684ft   0/1     Completed   0          11s</span><br><span class="line">pc-job-v7rhr   0/1     Pending     0          0s</span><br><span class="line">pc-job-v7rhr   0/1     Pending     0          0s</span><br><span class="line">pc-job-v7rhr   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-jhj49   0/1     Completed           0          11s</span><br><span class="line">pc-job-fhwf7   0/1     Pending             0          0s</span><br><span class="line">pc-job-fhwf7   0/1     Pending             0          0s</span><br><span class="line">pc-job-pfcvh   0/1     Completed           0          11s</span><br><span class="line">pc-job-5vg2j   0/1     Pending             0          0s</span><br><span class="line">pc-job-fhwf7   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-5vg2j   0/1     Pending             0          0s</span><br><span class="line">pc-job-5vg2j   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-fhwf7   1/1     Running             0          2s</span><br><span class="line">pc-job-v7rhr   1/1     Running             0          2s</span><br><span class="line">pc-job-5vg2j   1/1     Running             0          3s</span><br><span class="line">pc-job-fhwf7   0/1     Completed           0          12s</span><br><span class="line">pc-job-v7rhr   0/1     Completed           0          12s</span><br><span class="line">pc-job-5vg2j   0/1     Completed           0          12s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-job.yaml</span><br><span class="line">job.batch &quot;pc-job&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-7-CronJob-CJ"><a href="#6-7-CronJob-CJ" class="headerlink" title="6.7 CronJob(CJ)"></a>6.7 CronJob(CJ)</h2><p>CronJob控制器以Job控制器资源为其管控对象，并借助它管理pod资源对象，Job控制器定义的作业任务在其控制器资源创建之后便会立即执行，但CronJob可以以类似于Linux操作系统的周期性任务作业计划的方式控制其运行<strong>时间点</strong>及<strong>重复运行</strong>的方式。也就是说，<strong>CronJob可以在特定的时间点(反复的)去运行job任务</strong>。</p><p><img src="https://s2.loli.net/2022/12/29/kX3hms72VrgwNST.png" alt="img"></p><p>CronJob的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1beta1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CronJob</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">cronjob</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">schedule:</span> <span class="comment"># cron格式的作业调度运行时间点,用于控制任务在什么时间执行</span></span><br><span class="line">  <span class="attr">concurrencyPolicy:</span> <span class="comment"># 并发执行策略，用于定义前一次作业运行尚未完成时是否以及如何运行后一次的作业</span></span><br><span class="line">  <span class="attr">failedJobHistoryLimit:</span> <span class="comment"># 为失败的任务执行保留的历史记录数，默认为1</span></span><br><span class="line">  <span class="attr">successfulJobHistoryLimit:</span> <span class="comment"># 为成功的任务执行保留的历史记录数，默认为3</span></span><br><span class="line">  <span class="attr">startingDeadlineSeconds:</span> <span class="comment"># 启动作业错误的超时时长</span></span><br><span class="line">  <span class="attr">jobTemplate:</span> <span class="comment"># job控制器模板，用于为cronjob控制器生成job对象;下面其实就是job的定义</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">completions:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">parallelism:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">activeDeadlineSeconds:</span> <span class="number">30</span></span><br><span class="line">      <span class="attr">backoffLimit:</span> <span class="number">6</span></span><br><span class="line">      <span class="attr">manualSelector:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">selector:</span></span><br><span class="line">        <span class="attr">matchLabels:</span></span><br><span class="line">          <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">        <span class="attr">matchExpressions:</span> <span class="string">规则</span></span><br><span class="line">          <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">counter-pod</span>]&#125;</span><br><span class="line">      <span class="attr">template:</span></span><br><span class="line">        <span class="attr">metadata:</span></span><br><span class="line">          <span class="attr">labels:</span></span><br><span class="line">            <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">        <span class="attr">spec:</span></span><br><span class="line">          <span class="attr">restartPolicy:</span> <span class="string">Never</span> </span><br><span class="line">          <span class="attr">containers:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">            <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">            <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 20;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">需要重点解释的几个选项：</span></span><br><span class="line"><span class="attr">schedule:</span> <span class="string">cron表达式，用于指定任务的执行时间</span></span><br><span class="line">    <span class="string">*/1</span>    <span class="string">*</span>      <span class="string">*</span>    <span class="string">*</span>     <span class="string">*</span></span><br><span class="line">    <span class="string">&lt;分钟&gt;</span> <span class="string">&lt;小时&gt;</span> <span class="string">&lt;日&gt;</span> <span class="string">&lt;月份&gt;</span> <span class="string">&lt;星期&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">分钟</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">59</span><span class="string">.</span></span><br><span class="line">    <span class="string">小时</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">23</span><span class="string">.</span></span><br><span class="line">    <span class="string">日</span> <span class="string">值从</span> <span class="number">1</span> <span class="string">到</span> <span class="number">31</span><span class="string">.</span></span><br><span class="line">    <span class="string">月</span> <span class="string">值从</span> <span class="number">1</span> <span class="string">到</span> <span class="number">12</span><span class="string">.</span></span><br><span class="line">    <span class="string">星期</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">6</span><span class="string">,</span> <span class="number">0</span> <span class="string">代表星期日</span></span><br><span class="line">    <span class="string">多个时间可以用逗号隔开；</span> <span class="string">范围可以用连字符给出；*可以作为通配符；</span> <span class="string">/表示每...</span></span><br><span class="line"><span class="attr">concurrencyPolicy:</span></span><br><span class="line">    <span class="attr">Allow:</span>   <span class="string">允许Jobs并发运行(默认)</span></span><br><span class="line">    <span class="attr">Forbid:</span>  <span class="string">禁止并发运行，如果上一次运行尚未完成，则跳过下一次运行</span></span><br><span class="line">    <span class="attr">Replace:</span> <span class="string">替换，取消当前正在运行的作业并用新作业替换它</span></span><br></pre></td></tr></table></figure><p>创建pc-cronjob.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CronJob</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-cronjob</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">cronjob</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">schedule:</span> <span class="string">&quot;*/1 * * * *&quot;</span></span><br><span class="line">  <span class="attr">jobTemplate:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">template:</span></span><br><span class="line">        <span class="attr">spec:</span></span><br><span class="line">          <span class="attr">restartPolicy:</span> <span class="string">Never</span></span><br><span class="line">          <span class="attr">containers:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">            <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">            <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 3;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-cronjob.yaml</span><br><span class="line">cronjob.batch/pc-cronjob created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get cronjobs -n dev</span><br><span class="line">NAME         SCHEDULE      SUSPEND   ACTIVE   LAST SCHEDULE   AGE</span><br><span class="line">pc-cronjob   */1 * * * *   False     0        &lt;none&gt;          6s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get jobs -n dev</span><br><span class="line">NAME                    COMPLETIONS   DURATION   AGE</span><br><span class="line">pc-cronjob-1592587800   1/1           28s        3m26s</span><br><span class="line">pc-cronjob-1592587860   1/1           28s        2m26s</span><br><span class="line">pc-cronjob-1592587920   1/1           28s        86s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">pc-cronjob-1592587800-x4tsm   0/1     Completed   0          2m24s</span><br><span class="line">pc-cronjob-1592587860-r5gv4   0/1     Completed   0          84s</span><br><span class="line">pc-cronjob-1592587920-9dxxq   1/1     Running     0          24s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  delete -f pc-cronjob.yaml</span><br><span class="line">cronjob.batch &quot;pc-cronjob&quot; deleted</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.pod介绍</title>
      <link href="/posts/db06385.html"/>
      <url>/posts/db06385.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="5-Pod详解"><a href="#5-Pod详解" class="headerlink" title="5. Pod详解"></a>5. Pod详解</h1><h2 id="5-1-Pod介绍"><a href="#5-1-Pod介绍" class="headerlink" title="5.1 Pod介绍"></a>5.1 Pod介绍</h2><h3 id="5-1-1-Pod结构"><a href="#5-1-1-Pod结构" class="headerlink" title="5.1.1 Pod结构"></a>5.1.1 Pod结构</h3><p><img src="https://s2.loli.net/2022/12/29/ebiY6jCs7yO3ao9.png" alt="image-20200407121501907"></p><p>每个Pod中都可以包含一个或者多个容器，这些容器可以分为两类：</p><ul><li><p>用户程序所在的容器，数量可多可少</p></li><li><p>Pause容器，这是每个Pod都会有的一个<strong>根容器</strong>，它的作用有两个：</p><ul><li><p>可以以它为依据，评估整个Pod的健康状态</p></li><li><p>可以在根容器上设置Ip地址，其它容器都此Ip（Pod IP），以实现Pod内部的网路通信</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里是Pod内部的通讯，Pod的之间的通讯采用虚拟二层网络技术来实现，我们当前环境用的是Flannel</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="5-1-2-Pod定义"><a href="#5-1-2-Pod定义" class="headerlink" title="5.1.2 Pod定义"></a>5.1.2 Pod定义</h3><p>下面是Pod的资源清单：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1     #必选，版本号，例如v1</span><br><span class="line">kind: Pod       　 #必选，资源类型，例如 Pod</span><br><span class="line">metadata:       　 #必选，元数据</span><br><span class="line">  name: string     #必选，Pod名称</span><br><span class="line">  namespace: string  #Pod所属的命名空间,默认为&quot;default&quot;</span><br><span class="line">  labels:       　　  #自定义标签列表</span><br><span class="line">    - name: string      　          </span><br><span class="line">spec:  #必选，Pod中容器的详细定义</span><br><span class="line">  containers:  #必选，Pod中容器列表</span><br><span class="line">  - name: string   #必选，容器名称</span><br><span class="line">    image: string  #必选，容器的镜像名称</span><br><span class="line">    imagePullPolicy: [ Always|Never|IfNotPresent ]  #获取镜像的策略 </span><br><span class="line">    command: [string]   #容器的启动命令列表，如不指定，使用打包时使用的启动命令</span><br><span class="line">    args: [string]      #容器的启动命令参数列表</span><br><span class="line">    workingDir: string  #容器的工作目录</span><br><span class="line">    volumeMounts:       #挂载到容器内部的存储卷配置</span><br><span class="line">    - name: string      #引用pod定义的共享存储卷的名称，需用volumes[]部分定义的的卷名</span><br><span class="line">      mountPath: string #存储卷在容器内mount的绝对路径，应少于512字符</span><br><span class="line">      readOnly: boolean #是否为只读模式</span><br><span class="line">    ports: #需要暴露的端口库号列表</span><br><span class="line">    - name: string        #端口的名称</span><br><span class="line">      containerPort: int  #容器需要监听的端口号</span><br><span class="line">      hostPort: int       #容器所在主机需要监听的端口号，默认与Container相同</span><br><span class="line">      protocol: string    #端口协议，支持TCP和UDP，默认TCP</span><br><span class="line">    env:   #容器运行前需设置的环境变量列表</span><br><span class="line">    - name: string  #环境变量名称</span><br><span class="line">      value: string #环境变量的值</span><br><span class="line">    resources: #资源限制和请求的设置</span><br><span class="line">      limits:  #资源限制的设置</span><br><span class="line">        cpu: string     #Cpu的限制，单位为core数，将用于docker run --cpu-shares参数</span><br><span class="line">        memory: string  #内存限制，单位可以为Mib/Gib，将用于docker run --memory参数</span><br><span class="line">      requests: #资源请求的设置</span><br><span class="line">        cpu: string    #Cpu请求，容器启动的初始可用数量</span><br><span class="line">        memory: string #内存请求,容器启动的初始可用数量</span><br><span class="line">    lifecycle: #生命周期钩子</span><br><span class="line">        postStart: #容器启动后立即执行此钩子,如果执行失败,会根据重启策略进行重启</span><br><span class="line">        preStop: #容器终止前执行此钩子,无论结果如何,容器都会终止</span><br><span class="line">    livenessProbe:  #对Pod内各容器健康检查的设置，当探测无响应几次后将自动重启该容器</span><br><span class="line">      exec:       　 #对Pod容器内检查方式设置为exec方式</span><br><span class="line">        command: [string]  #exec方式需要制定的命令或脚本</span><br><span class="line">      httpGet:       #对Pod内个容器健康检查方法设置为HttpGet，需要制定Path、port</span><br><span class="line">        path: string</span><br><span class="line">        port: number</span><br><span class="line">        host: string</span><br><span class="line">        scheme: string</span><br><span class="line">        HttpHeaders:</span><br><span class="line">        - name: string</span><br><span class="line">          value: string</span><br><span class="line">      tcpSocket:     #对Pod内个容器健康检查方式设置为tcpSocket方式</span><br><span class="line">         port: number</span><br><span class="line">       initialDelaySeconds: 0       #容器启动完成后首次探测的时间，单位为秒</span><br><span class="line">       timeoutSeconds: 0    　　    #对容器健康检查探测等待响应的超时时间，单位秒，默认1秒</span><br><span class="line">       periodSeconds: 0     　　    #对容器监控检查的定期探测时间设置，单位秒，默认10秒一次</span><br><span class="line">       successThreshold: 0</span><br><span class="line">       failureThreshold: 0</span><br><span class="line">       securityContext:</span><br><span class="line">         privileged: false</span><br><span class="line">  restartPolicy: [Always | Never | OnFailure]  #Pod的重启策略</span><br><span class="line">  nodeName: &lt;string&gt; #设置NodeName表示将该Pod调度到指定到名称的node节点上</span><br><span class="line">  nodeSelector: obeject #设置NodeSelector表示将该Pod调度到包含这个label的node上</span><br><span class="line">  imagePullSecrets: #Pull镜像时使用的secret名称，以key：secretkey格式指定</span><br><span class="line">  - name: string</span><br><span class="line">  hostNetwork: false   #是否使用主机网络模式，默认为false，如果设置为true，表示使用宿主机网络</span><br><span class="line">  volumes:   #在该pod上定义共享存储卷列表</span><br><span class="line">  - name: string    #共享存储卷名称 （volumes类型有很多种）</span><br><span class="line">    emptyDir: &#123;&#125;       #类型为emtyDir的存储卷，与Pod同生命周期的一个临时目录。为空值</span><br><span class="line">    hostPath: string   #类型为hostPath的存储卷，表示挂载Pod所在宿主机的目录</span><br><span class="line">      path: string      　　        #Pod所在宿主机的目录，将被用于同期中mount的目录</span><br><span class="line">    secret:       　　　#类型为secret的存储卷，挂载集群与定义的secret对象到容器内部</span><br><span class="line">      scretname: string  </span><br><span class="line">      items:     </span><br><span class="line">      - key: string</span><br><span class="line">        path: string</span><br><span class="line">    configMap:         #类型为configMap的存储卷，挂载预定义的configMap对象到容器内部</span><br><span class="line">      name: string</span><br><span class="line">      items:</span><br><span class="line">      - key: string</span><br><span class="line">        path: string</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">小提示：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  在这里，可通过一个命令来查看每种资源的可配置项</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  kubectl explain 资源类型         查看某种资源可以配置的一级属性</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  kubectl explain 资源类型.属性     查看属性的子属性</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl explain pod</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">FIELDS:</span><br><span class="line">   apiVersion   &lt;string&gt;</span><br><span class="line">   kind &lt;string&gt;</span><br><span class="line">   metadata     &lt;Object&gt;</span><br><span class="line">   spec &lt;Object&gt;</span><br><span class="line">   status       &lt;Object&gt;</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl explain pod.metadata</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: metadata &lt;Object&gt;</span><br><span class="line">FIELDS:</span><br><span class="line">   annotations  &lt;map[string]string&gt;</span><br><span class="line">   clusterName  &lt;string&gt;</span><br><span class="line">   creationTimestamp    &lt;string&gt;</span><br><span class="line">   deletionGracePeriodSeconds   &lt;integer&gt;</span><br><span class="line">   deletionTimestamp    &lt;string&gt;</span><br><span class="line">   finalizers   &lt;[]string&gt;</span><br><span class="line">   generateName &lt;string&gt;</span><br><span class="line">   generation   &lt;integer&gt;</span><br><span class="line">   labels       &lt;map[string]string&gt;</span><br><span class="line">   managedFields        &lt;[]Object&gt;</span><br><span class="line">   name &lt;string&gt;</span><br><span class="line">   namespace    &lt;string&gt;</span><br><span class="line">   ownerReferences      &lt;[]Object&gt;</span><br><span class="line">   resourceVersion      &lt;string&gt;</span><br><span class="line">   selfLink     &lt;string&gt;</span><br><span class="line">   uid  &lt;string&gt;</span><br></pre></td></tr></table></figure><p>在kubernetes中基本所有资源的一级属性都是一样的，主要包含5部分：</p><ul><li>apiVersion <string> 版本，由kubernetes内部定义，版本号必须可以用 kubectl api-versions 查询到</li><li>kind <string> 类型，由kubernetes内部定义，版本号必须可以用 kubectl api-resources 查询到</li><li>metadata <Object> 元数据，主要是资源标识和说明，常用的有name、namespace、labels等</li><li>spec <Object> 描述，这是配置中最重要的一部分，里面是对各种资源配置的详细描述</li><li>status <Object> 状态信息，里面的内容不需要定义，由kubernetes自动生成</li></ul><p>在上面的属性中，spec是接下来研究的重点，继续看下它的常见子属性:</p><ul><li>containers &lt;[]Object&gt; 容器列表，用于定义容器的详细信息</li><li>nodeName <String> 根据nodeName的值将pod调度到指定的Node节点上</li><li>nodeSelector &lt;map[]&gt; 根据NodeSelector中定义的信息选择将该Pod调度到包含这些label的Node 上</li><li>hostNetwork <boolean> 是否使用主机网络模式，默认为false，如果设置为true，表示使用宿主机网络</li><li>volumes &lt;[]Object&gt; 存储卷，用于定义Pod上面挂在的存储信息</li><li>restartPolicy <string> 重启策略，表示Pod在遇到故障的时候的处理策略</li></ul><h2 id="5-2-Pod配置"><a href="#5-2-Pod配置" class="headerlink" title="5.2 Pod配置"></a>5.2 Pod配置</h2><p>本小节主要来研究<code>pod.spec.containers</code>属性，这也是pod配置中最为关键的一项配置。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: containers &lt;[]Object&gt;   # 数组，代表可以有多个容器</span><br><span class="line">FIELDS:</span><br><span class="line">   name  &lt;string&gt;     # 容器名称</span><br><span class="line">   image &lt;string&gt;     # 容器需要的镜像地址</span><br><span class="line">   imagePullPolicy  &lt;string&gt; # 镜像拉取策略 </span><br><span class="line">   command  &lt;[]string&gt; # 容器的启动命令列表，如不指定，使用打包时使用的启动命令</span><br><span class="line">   args     &lt;[]string&gt; # 容器的启动命令需要的参数列表</span><br><span class="line">   env      &lt;[]Object&gt; # 容器环境变量的配置</span><br><span class="line">   ports    &lt;[]Object&gt;     # 容器需要暴露的端口号列表</span><br><span class="line">   resources &lt;Object&gt;      # 资源限制和资源请求的设置</span><br></pre></td></tr></table></figure><h3 id="5-2-1-基本配置"><a href="#5-2-1-基本配置" class="headerlink" title="5.2.1 基本配置"></a>5.2.1 基本配置</h3><p>创建pod-base.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-base</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">heima</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/6cHF9fioMGrEQtI.png" alt="image-20210617223823675"></p><p>上面定义了一个比较简单Pod的配置，里面有两个容器：</p><ul><li>nginx：用1.17.1版本的nginx镜像创建，（nginx是一个轻量级web容器）</li><li>busybox：用1.30版本的busybox镜像创建，（busybox是一个小巧的linux命令集合）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl apply -f pod-base.yaml</span><br><span class="line">pod/pod-base created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状况</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">READY 1/2 : 表示当前Pod中有2个容器，其中1个准备就绪，1个未就绪</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">RESTARTS  : 重启次数，因为有1个容器故障了，Pod一直在重启试图恢复它</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl get pod -n dev</span><br><span class="line">NAME       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-base   1/2     Running   4          95s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以通过describe查看内部的详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时已经运行起来了一个基本的Pod，虽然它暂时有问题</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl describe pod pod-base -n dev</span><br></pre></td></tr></table></figure><h3 id="5-2-2-镜像拉取"><a href="#5-2-2-镜像拉取" class="headerlink" title="5.2.2 镜像拉取"></a>5.2.2 镜像拉取</h3><p>创建pod-imagepullpolicy.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-imagepullpolicy</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">Never</span> <span class="comment"># 用于设置镜像拉取策略</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/SK1bx2JanNtHLzD.png" alt="image-20210617223923659"></p><p>imagePullPolicy，用于设置镜像拉取策略，kubernetes支持配置三种拉取策略：</p><ul><li>Always：总是从远程仓库拉取镜像（一直远程下载）</li><li>IfNotPresent：本地有则使用本地镜像，本地没有则从远程仓库拉取镜像（本地有就本地 本地没远程下载）</li><li>Never：只使用本地镜像，从不去远程仓库拉取，本地没有就报错 （一直使用本地）</li></ul><blockquote><p>默认值说明：</p><p>如果镜像tag为具体版本号， 默认策略是：IfNotPresent</p><p>如果镜像tag为：latest（最终版本） ，默认策略是always</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl create -f pod-imagepullpolicy.yaml</span><br><span class="line">pod/pod-imagepullpolicy created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时明显可以看到nginx镜像有一步Pulling image <span class="string">&quot;nginx:1.17.1&quot;</span>的过程</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl describe pod pod-imagepullpolicy -n dev</span><br><span class="line">......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason     Age               From               Message</span><br><span class="line">  ----     ------     ----              ----               -------</span><br><span class="line">  Normal   Scheduled  &lt;unknown&gt;         default-scheduler  Successfully assigned dev/pod-imagePullPolicy to node1</span><br><span class="line">  Normal   Pulling    32s               kubelet, node1     Pulling image &quot;nginx:1.17.1&quot;</span><br><span class="line">  Normal   Pulled     26s               kubelet, node1     Successfully pulled image &quot;nginx:1.17.1&quot;</span><br><span class="line">  Normal   Created    26s               kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    25s               kubelet, node1     Started container nginx</span><br><span class="line">  Normal   Pulled     7s (x3 over 25s)  kubelet, node1     Container image &quot;busybox:1.30&quot; already present on machine</span><br><span class="line">  Normal   Created    7s (x3 over 25s)  kubelet, node1     Created container busybox</span><br><span class="line">  Normal   Started    7s (x3 over 25s)  kubelet, node1     Started container busybox</span><br></pre></td></tr></table></figure><h3 id="5-2-3-启动命令"><a href="#5-2-3-启动命令" class="headerlink" title="5.2.3 启动命令"></a>5.2.3 启动命令</h3><p>在前面的案例中，一直有一个问题没有解决，就是的busybox容器一直没有成功运行，那么到底是什么原因导致这个容器的故障呢？</p><p>原来busybox并不是一个程序，而是类似于一个工具类的集合，kubernetes集群启动管理后，它会自动关闭。解决方法就是让其一直在运行，这就用到了command配置。</p><p>创建pod-command.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-command</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;touch /tmp/hello.txt;while true;do /bin/echo $(date +%T) &gt;&gt; /tmp/hello.txt; sleep 3; done;&quot;</span>]</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/wdPGTtbLSfY7H8a.png" alt="image-20210617224457945"></p><p>command，用于在pod中的容器初始化完毕之后运行一个命令。</p><blockquote><p>稍微解释下上面命令的意思：</p><p>“&#x2F;bin&#x2F;sh”,”-c”, 使用sh执行命令</p><p>touch &#x2F;tmp&#x2F;hello.txt; 创建一个&#x2F;tmp&#x2F;hello.txt 文件</p><p>while true;do &#x2F;bin&#x2F;echo $(date +%T) &gt;&gt; &#x2F;tmp&#x2F;hello.txt; sleep 3; done; 每隔3秒向文件中写入当前时间</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl create  -f pod-command.yaml</span><br><span class="line">pod/pod-command created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状态</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时发现两个pod都正常运行了</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl get pods pod-command -n dev</span><br><span class="line">NAME          READY   STATUS   RESTARTS   AGE</span><br><span class="line">pod-command   2/2     Runing   0          2s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入pod中的busybox容器，查看文件内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">补充一个命令: kubectl <span class="built_in">exec</span>  pod名称 -n 命名空间 -it -c 容器名称 /bin/sh  在容器内部执行命令</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用这个命令就可以进入某个容器的内部，然后进行相关操作了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">比如，可以查看txt文件的内容</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl exec pod-command -n dev -it -c busybox /bin/sh</span><br><span class="line">/ # tail -f /tmp/hello.txt</span><br><span class="line">14:44:19</span><br><span class="line">14:44:22</span><br><span class="line">14:44:25</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">特别说明：</span><br><span class="line">    通过上面发现command已经可以完成启动命令和传递参数的功能，为什么这里还要提供一个args选项，用于传递参数呢?这其实跟docker有点关系，kubernetes中的command、args两项其实是实现覆盖Dockerfile中ENTRYPOINT的功能。</span><br><span class="line"> 1 如果command和args均没有写，那么用Dockerfile的配置。</span><br><span class="line"> 2 如果command写了，但args没有写，那么Dockerfile默认的配置会被忽略，执行输入的command</span><br><span class="line"> 3 如果command没写，但args写了，那么Dockerfile中配置的ENTRYPOINT的命令会被执行，使用当前args的参数</span><br><span class="line"> 4 如果command和args都写了，那么Dockerfile的配置被忽略，执行command并追加上args参数</span><br></pre></td></tr></table></figure><h3 id="5-2-4-环境变量"><a href="#5-2-4-环境变量" class="headerlink" title="5.2.4 环境变量"></a>5.2.4 环境变量</h3><p>创建pod-env.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-env</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do /bin/echo $(date +%T);sleep 60; done;&quot;</span>]</span><br><span class="line">    <span class="attr">env:</span> <span class="comment"># 设置环境变量列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;username&quot;</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;admin&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;password&quot;</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;123456&quot;</span></span><br></pre></td></tr></table></figure><p>env，环境变量，用于在pod中的容器设置环境变量。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-env.yaml</span><br><span class="line">pod/pod-env created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器，输出环境变量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec pod-env -n dev -c busybox -it /bin/sh</span><br><span class="line">/ # echo $username</span><br><span class="line">admin</span><br><span class="line">/ # echo $password</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>这种方式不是很推荐，推荐将这些配置单独存储在配置文件中，这种方式将在后面介绍。</p><h3 id="5-2-5-端口设置"><a href="#5-2-5-端口设置" class="headerlink" title="5.2.5 端口设置"></a>5.2.5 端口设置</h3><p>本小节来介绍容器的端口设置，也就是containers的ports选项。</p><p>首先看下ports支持的子选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers.ports</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: ports &lt;[]Object&gt;</span><br><span class="line">FIELDS:</span><br><span class="line">   name         &lt;string&gt;  # 端口名称，如果指定，必须保证name在pod中是唯一的</span><br><span class="line">   containerPort&lt;integer&gt; # 容器要监听的端口(0&lt;x&lt;65536)</span><br><span class="line">   hostPort     &lt;integer&gt; # 容器要在主机上公开的端口，如果设置，主机上只能运行容器的一个副本(一般省略) </span><br><span class="line">   hostIP       &lt;string&gt;  # 要将外部端口绑定到的主机IP(一般省略)</span><br><span class="line">   protocol     &lt;string&gt;  # 端口协议。必须是UDP、TCP或SCTP。默认为“TCP”。</span><br></pre></td></tr></table></figure><p>接下来，编写一个测试案例，创建pod-ports.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-ports</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> <span class="comment"># 设置容器暴露的端口列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-ports.yaml</span><br><span class="line">pod/pod-ports created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在下面可以明显看到配置信息</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-ports -n dev -o yaml</span><br><span class="line">......</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - image: nginx:1.17.1</span><br><span class="line">    imagePullPolicy: IfNotPresent</span><br><span class="line">    name: nginx</span><br><span class="line">    ports:</span><br><span class="line">    - containerPort: 80</span><br><span class="line">      name: nginx-port</span><br><span class="line">      protocol: TCP</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>访问容器中的程序需要使用的是<code>Podip:containerPort</code></p><h3 id="5-2-6-资源配额"><a href="#5-2-6-资源配额" class="headerlink" title="5.2.6 资源配额"></a>5.2.6 资源配额</h3><p>容器中的程序要运行，肯定是要占用一定资源的，比如cpu和内存等，如果不对某个容器的资源做限制，那么它就可能吃掉大量资源，导致其它容器无法运行。针对这种情况，kubernetes提供了对内存和cpu的资源进行配额的机制，这种机制主要通过resources选项实现，他有两个子选项：</p><ul><li>limits：用于限制运行时容器的最大占用资源，当容器占用资源超过limits时会被终止，并进行重启</li><li>requests ：用于设置容器需要的最小资源，如果环境资源不够，容器将无法启动</li></ul><p>可以通过上面两个选项设置资源的上下限。</p><p>接下来，编写一个测试案例，创建pod-resources.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-resources</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">resources:</span> <span class="comment"># 资源配额</span></span><br><span class="line">      <span class="attr">limits:</span>  <span class="comment"># 限制资源（上限）</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">&quot;2&quot;</span> <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">&quot;10Gi&quot;</span> <span class="comment"># 内存限制</span></span><br><span class="line">      <span class="attr">requests:</span> <span class="comment"># 请求资源（下限）</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">&quot;1&quot;</span>  <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">&quot;10Mi&quot;</span>  <span class="comment"># 内存限制</span></span><br></pre></td></tr></table></figure><p>在这对cpu和memory的单位做一个说明：</p><ul><li>cpu：core数，可以为整数或小数</li><li>memory： 内存大小，可以使用Gi、Mi、G、M等形式</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create  -f pod-resources.yaml</span><br><span class="line">pod/pod-resources created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看发现pod运行正常</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-resources -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE  </span><br><span class="line">pod-resources   1/1     Running   0          39s   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，停止Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete  -f pod-resources.yaml</span><br><span class="line">pod &quot;pod-resources&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑pod，修改resources.requests.memory的值为10Gi</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-resources.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次启动pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create  -f pod-resources.yaml</span><br><span class="line">pod/pod-resources created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状态，发现Pod启动失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-resources -n dev -o wide</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE          </span><br><span class="line">pod-resources   0/1     Pending   0          20s    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod详情会发现，如下提示</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-resources -n dev</span><br><span class="line">......</span><br><span class="line">Warning  FailedScheduling  35s   default-scheduler  0/3 nodes are available: 1 node(s) had taint &#123;node-role.kubernetes.io/master: &#125;, that the pod didn&#x27;t tolerate, 2 Insufficient memory.(内存不足)</span><br></pre></td></tr></table></figure><h2 id="5-3-Pod生命周期"><a href="#5-3-Pod生命周期" class="headerlink" title="5.3 Pod生命周期"></a>5.3 Pod生命周期</h2><p>我们一般将pod对象从创建至终的这段时间范围称为pod的生命周期，它主要包含下面的过程：</p><ul><li>pod创建过程</li><li>运行初始化容器（init container）过程</li><li>运行主容器（main container）<ul><li>容器启动后钩子（post start）、容器终止前钩子（pre stop）</li><li>容器的存活性探测（liveness probe）、就绪性探测（readiness probe）</li></ul></li><li>pod终止过程</li></ul><p><img src="https://s2.loli.net/2022/12/29/49ZPKbnD6qLWMy1.png" alt="image-20200412111402706"></p><p>在整个生命周期中，Pod会出现5种<strong>状态</strong>（<strong>相位</strong>），分别如下：</p><ul><li>挂起（Pending）：apiserver已经创建了pod资源对象，但它尚未被调度完成或者仍处于下载镜像的过程中</li><li>运行中（Running）：pod已经被调度至某节点，并且所有容器都已经被kubelet创建完成</li><li>成功（Succeeded）：pod中的所有容器都已经成功终止并且不会被重启</li><li>失败（Failed）：所有容器都已经终止，但至少有一个容器终止失败，即容器返回了非0值的退出状态</li><li>未知（Unknown）：apiserver无法正常获取到pod对象的状态信息，通常由网络通信失败所导致</li></ul><h3 id="5-3-1-创建和终止"><a href="#5-3-1-创建和终止" class="headerlink" title="5.3.1 创建和终止"></a>5.3.1 创建和终止</h3><p><strong>pod的创建过程</strong></p><ol><li><p>用户通过kubectl或其他api客户端提交需要创建的pod信息给apiServer</p></li><li><p>apiServer开始生成pod对象的信息，并将信息存入etcd，然后返回确认信息至客户端</p></li><li><p>apiServer开始反映etcd中的pod对象的变化，其它组件使用watch机制来跟踪检查apiServer上的变动</p></li><li><p>scheduler发现有新的pod对象要创建，开始为Pod分配主机并将结果信息更新至apiServer</p></li><li><p>node节点上的kubelet发现有pod调度过来，尝试调用docker启动容器，并将结果回送至apiServer</p></li><li><p>apiServer将接收到的pod状态信息存入etcd中</p><p> <img src="https://s2.loli.net/2022/12/29/KqaAmPuctikdhES.png" alt="image-20200406184656917"></p></li></ol><p><strong>pod的终止过程</strong></p><ol><li>用户向apiServer发送删除pod对象的命令</li><li>apiServcer中的pod对象信息会随着时间的推移而更新，在宽限期内（默认30s），pod被视为dead</li><li>将pod标记为terminating状态</li><li>kubelet在监控到pod对象转为terminating状态的同时启动pod关闭过程</li><li>端点控制器监控到pod对象的关闭行为时将其从所有匹配到此端点的service资源的端点列表中移除</li><li>如果当前pod对象定义了preStop钩子处理器，则在其标记为terminating后即会以同步的方式启动执行</li><li>pod对象中的容器进程收到停止信号</li><li>宽限期结束后，若pod中还存在仍在运行的进程，那么pod对象会收到立即终止的信号</li><li>kubelet请求apiServer将此pod资源的宽限期设置为0从而完成删除操作，此时pod对于用户已不可见</li></ol><h3 id="5-3-2-初始化容器"><a href="#5-3-2-初始化容器" class="headerlink" title="5.3.2 初始化容器"></a>5.3.2 初始化容器</h3><p>初始化容器是在pod的主容器启动之前要运行的容器，主要是做一些主容器的前置工作，它具有两大特征：</p><ol><li>初始化容器必须运行完成直至结束，若某初始化容器运行失败，那么kubernetes需要重启它直到成功完成</li><li>初始化容器必须按照定义的顺序执行，当且仅当前一个成功之后，后面的一个才能运行</li></ol><p>初始化容器有很多的应用场景，下面列出的是最常见的几个：</p><ul><li>提供主容器镜像中不具备的工具程序或自定义代码</li><li>初始化容器要先于应用容器串行启动并运行完成，因此可用于延后应用容器的启动直至其依赖的条件得到满足</li></ul><p>接下来做一个案例，模拟下面这个需求：</p><p>假设要以主容器来运行nginx，但是要求在运行nginx之前先要能够连接上mysql和redis所在服务器</p><p>为了简化测试，事先规定好mysql<code>(192.168.5.4)</code>和redis<code>(192.168.5.5)</code>服务器的地址</p><p>创建pod-initcontainer.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-initcontainer</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">initContainers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-mysql</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;until ping 192.168.5.14 -c 1 ; do echo waiting for mysql...; sleep 2; done;&#x27;</span>]</span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-redis</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;until ping 192.168.5.15 -c 1 ; do echo waiting for reids...; sleep 2; done;&#x27;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-initcontainer.yaml</span><br><span class="line">pod/pod-initcontainer created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现pod卡在启动第一个初始化容器过程中，后面的容器不会运行</span></span><br><span class="line">root@k8s-master01 ~]# kubectl describe pod  pod-initcontainer -n dev</span><br><span class="line">........</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age   From               Message</span><br><span class="line">  ----    ------     ----  ----               -------</span><br><span class="line">  Normal  Scheduled  49s   default-scheduler  Successfully assigned dev/pod-initcontainer to node1</span><br><span class="line">  Normal  Pulled     48s   kubelet, node1     Container image &quot;busybox:1.30&quot; already present on machine</span><br><span class="line">  Normal  Created    48s   kubelet, node1     Created container test-mysql</span><br><span class="line">  Normal  Started    48s   kubelet, node1     Started container test-mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">动态查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-initcontainer -n dev -w</span><br><span class="line">NAME                             READY   STATUS     RESTARTS   AGE</span><br><span class="line">pod-initcontainer                0/1     Init:0/2   0          15s</span><br><span class="line">pod-initcontainer                0/1     Init:1/2   0          52s</span><br><span class="line">pod-initcontainer                0/1     Init:1/2   0          53s</span><br><span class="line">pod-initcontainer                0/1     PodInitializing   0          89s</span><br><span class="line">pod-initcontainer                1/1     Running           0          90s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来新开一个shell，为当前服务器新增两个ip，观察pod的变化</span></span><br><span class="line">[root@k8s-master01 ~]# ifconfig ens33:1 192.168.5.14 netmask 255.255.255.0 up</span><br><span class="line">[root@k8s-master01 ~]# ifconfig ens33:2 192.168.5.15 netmask 255.255.255.0 up</span><br></pre></td></tr></table></figure><h3 id="5-3-3-钩子函数"><a href="#5-3-3-钩子函数" class="headerlink" title="5.3.3 钩子函数"></a>5.3.3 钩子函数</h3><p>钩子函数能够感知自身生命周期中的事件，并在相应的时刻到来时运行用户指定的程序代码。</p><p>kubernetes在主容器的启动之后和停止之前提供了两个钩子函数：</p><ul><li>post start：容器创建之后执行，如果失败了会重启容器</li><li>pre stop ：容器终止之前执行，执行完成之后容器将成功终止，在其完成之前会阻塞删除容器的操作</li></ul><p>钩子处理器支持使用下面三种方式定义动作：</p><ul><li><p>Exec命令：在容器内执行一次命令</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span> </span><br><span class="line">      <span class="attr">exec:</span></span><br><span class="line">        <span class="attr">command:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/tmp/healthy</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>TCPSocket：在当前容器尝试访问指定的socket</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span>      </span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span></span><br><span class="line">      <span class="attr">tcpSocket:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>HTTPGet：在当前容器中向某url发起http请求</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/</span> <span class="comment">#URI地址</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">        <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.3</span> <span class="comment">#主机地址</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li></ul><p>接下来，以exec方式为例，演示下钩子函数的使用，创建pod-hook-exec.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-hook-exec</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="attr">postStart:</span> </span><br><span class="line">        <span class="attr">exec:</span> <span class="comment"># 在容器启动的时候执行一个命令，修改掉nginx的默认首页内容</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo postStart... &gt; /usr/share/nginx/html/index.html&quot;</span>]</span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">        <span class="attr">exec:</span> <span class="comment"># 在容器停止之前停止nginx服务</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;/usr/sbin/nginx&quot;</span>,<span class="string">&quot;-s&quot;</span>,<span class="string">&quot;quit&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-hook-exec.yaml</span><br><span class="line">pod/pod-hook-exec created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods  pod-hook-exec -n dev -o wide</span><br><span class="line">NAME           READY   STATUS     RESTARTS   AGE    IP            NODE    </span><br><span class="line">pod-hook-exec  1/1     Running    0          29s    10.244.2.48   node2   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">访问pod</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.2.48</span><br><span class="line">postStart...</span><br></pre></td></tr></table></figure><h3 id="5-3-4-容器探测"><a href="#5-3-4-容器探测" class="headerlink" title="5.3.4 容器探测"></a>5.3.4 容器探测</h3><p>容器探测用于检测容器中的应用实例是否正常工作，是保障业务可用性的一种传统机制。如果经过探测，实例的状态不符合预期，那么kubernetes就会把该问题实例” 摘除 “，不承担业务流量。kubernetes提供了两种探针来实现容器探测，分别是：</p><ul><li>liveness probes：存活性探针，用于检测应用实例当前是否处于正常运行状态，如果不是，k8s会重启容器</li><li>readiness probes：就绪性探针，用于检测应用实例当前是否可以接收请求，如果不能，k8s不会转发流量</li></ul><blockquote><p>livenessProbe 决定是否重启容器，readinessProbe 决定是否将请求转发给容器。</p></blockquote><p>上面两种探针目前均支持三种探测方式：</p><ul><li><p>Exec命令：在容器内执行一次命令，如果命令执行的退出码为0，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">exec:</span></span><br><span class="line">      <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/tmp/healthy</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>TCPSocket：将会尝试访问一个用户容器的端口，如果能够建立这条连接，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span>      </span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">tcpSocket:</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>HTTPGet：调用容器内Web应用的URL，如果返回的状态码在200和399之间，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">httpGet:</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/</span> <span class="comment">#URI地址</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="comment">#主机地址</span></span><br><span class="line">      <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li></ul><p>下面以liveness probes为例，做几个演示：</p><p><strong>方式一：Exec</strong></p><p>创建pod-liveness-exec.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-exec</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">exec:</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;/bin/cat&quot;</span>,<span class="string">&quot;/tmp/hello.txt&quot;</span>] <span class="comment"># 执行一个查看文件的命令</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-exec.yaml</span><br><span class="line">pod/pod-liveness-exec created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-liveness-exec -n dev</span><br><span class="line">......</span><br><span class="line">  Normal   Created    20s (x2 over 50s)  kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    20s (x2 over 50s)  kubelet, node1     Started container nginx</span><br><span class="line">  Normal   Killing    20s                kubelet, node1     Container nginx failed liveness probe, will be restarted</span><br><span class="line">  Warning  Unhealthy  0s (x5 over 40s)   kubelet, node1     Liveness probe failed: cat: can&#x27;t open &#x27;/tmp/hello11.txt&#x27;: No such file or directory</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面的信息就会发现nginx容器启动之后就进行了健康检查</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查失败之后，容器被<span class="built_in">kill</span>掉，然后尝试进行重启（这是重启策略的作用，后面讲解）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-liveness-exec -n dev</span><br><span class="line">NAME                READY   STATUS             RESTARTS   AGE</span><br><span class="line">pod-liveness-exec   0/1     CrashLoopBackOff   2          3m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个存在的文件，比如/tmp/hello.txt，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p><strong>方式二：TCPSocket</strong></p><p>创建pod-liveness-tcpsocket.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-tcpsocket</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">tcpSocket:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span> <span class="comment"># 尝试访问8080端口</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-tcpsocket.yaml</span><br><span class="line">pod/pod-liveness-tcpsocket created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-liveness-tcpsocket -n dev</span><br><span class="line">......</span><br><span class="line">  Normal   Scheduled  31s                            default-scheduler  Successfully assigned dev/pod-liveness-tcpsocket to node2</span><br><span class="line">  Normal   Pulled     &lt;invalid&gt;                      kubelet, node2     Container image &quot;nginx:1.17.1&quot; already present on machine</span><br><span class="line">  Normal   Created    &lt;invalid&gt;                      kubelet, node2     Created container nginx</span><br><span class="line">  Normal   Started    &lt;invalid&gt;                      kubelet, node2     Started container nginx</span><br><span class="line">  Warning  Unhealthy  &lt;invalid&gt; (x2 over &lt;invalid&gt;)  kubelet, node2     Liveness probe failed: dial tcp 10.244.2.44:8080: connect: connection refused</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面的信息，发现尝试访问8080端口,但是失败了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-liveness-tcpsocket  -n dev</span><br><span class="line">NAME                     READY   STATUS             RESTARTS   AGE</span><br><span class="line">pod-liveness-tcpsocket   0/1     CrashLoopBackOff   2          3m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个可以访问的端口，比如80，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p><strong>方式三：HTTPGet</strong></p><p>创建pod-liveness-httpget.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-httpget</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span>  <span class="comment"># 其实就是访问http://127.0.0.1:80/hello  </span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/hello</span> <span class="comment">#URI地址</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-httpget.yaml</span><br><span class="line">pod/pod-liveness-httpget created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-liveness-httpget -n dev</span><br><span class="line">.......</span><br><span class="line">  Normal   Pulled     6s (x3 over 64s)  kubelet, node1     Container image &quot;nginx:1.17.1&quot; already present on machine</span><br><span class="line">  Normal   Created    6s (x3 over 64s)  kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    6s (x3 over 63s)  kubelet, node1     Started container nginx</span><br><span class="line">  Warning  Unhealthy  6s (x6 over 56s)  kubelet, node1     Liveness probe failed: HTTP probe failed with statuscode: 404</span><br><span class="line">  Normal   Killing    6s (x2 over 36s)  kubelet, node1     Container nginx failed liveness probe, will be restarted</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面信息，尝试访问路径，但是未找到,出现404错误</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-liveness-httpget -n dev</span><br><span class="line">NAME                   READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-liveness-httpget   1/1     Running   5          3m17s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个可以访问的路径path，比如/，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p>至此，已经使用liveness Probe演示了三种探测方式，但是查看livenessProbe的子属性，会发现除了这三种方式，还有一些其他的配置，在这里一并解释下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers.livenessProbe</span><br><span class="line">FIELDS:</span><br><span class="line">   exec &lt;Object&gt;  </span><br><span class="line">   tcpSocket    &lt;Object&gt;</span><br><span class="line">   httpGet      &lt;Object&gt;</span><br><span class="line">   initialDelaySeconds  &lt;integer&gt;  # 容器启动后等待多少秒执行第一次探测</span><br><span class="line">   timeoutSeconds       &lt;integer&gt;  # 探测超时时间。默认1秒，最小1秒</span><br><span class="line">   periodSeconds        &lt;integer&gt;  # 执行探测的频率。默认是10秒，最小1秒</span><br><span class="line">   failureThreshold     &lt;integer&gt;  # 连续探测失败多少次才被认定为失败。默认是3。最小值是1</span><br><span class="line">   successThreshold     &lt;integer&gt;  # 连续探测成功多少次才被认定为成功。默认是1</span><br></pre></td></tr></table></figure><p>下面稍微配置两个，演示下效果即可：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@k8s-master01</span> <span class="string">~</span>]<span class="comment"># more pod-liveness-httpget.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-httpget</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> </span><br><span class="line">        <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">30</span> <span class="comment"># 容器启动后30s开始探测</span></span><br><span class="line">      <span class="attr">timeoutSeconds:</span> <span class="number">5</span> <span class="comment"># 探测超时时间为5s</span></span><br></pre></td></tr></table></figure><h3 id="5-3-5-重启策略"><a href="#5-3-5-重启策略" class="headerlink" title="5.3.5 重启策略"></a>5.3.5 重启策略</h3><p>在上一节中，一旦容器探测出现了问题，kubernetes就会对容器所在的Pod进行重启，其实这是由pod的重启策略决定的，pod的重启策略有 3 种，分别如下：</p><ul><li>Always ：容器失效时，自动重启该容器，这也是默认值。</li><li>OnFailure ： 容器终止运行且退出码不为0时重启</li><li>Never ： 不论状态为何，都不重启该容器</li></ul><p>重启策略适用于pod对象中的所有容器，首次需要重启的容器，将在其需要时立即进行重启，随后再次需要重启的操作将由kubelet延迟一段时间后进行，且反复的重启操作的延迟时长以此为10s、20s、40s、80s、160s和300s，300s是最大延迟时长。</p><p>创建pod-restartpolicy.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-restartpolicy</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/hello</span></span><br><span class="line">  <span class="attr">restartPolicy:</span> <span class="string">Never</span> <span class="comment"># 设置重启策略为Never</span></span><br></pre></td></tr></table></figure><p>运行Pod测试</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-restartpolicy.yaml</span><br><span class="line">pod/pod-restartpolicy created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情，发现nginx容器失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  describe pods pod-restartpolicy  -n dev</span><br><span class="line">......</span><br><span class="line">  Warning  Unhealthy  15s (x3 over 35s)  kubelet, node1     Liveness probe failed: HTTP probe failed with statuscode: 404</span><br><span class="line">  Normal   Killing    15s                kubelet, node1     Container nginx failed liveness probe</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">多等一会，再观察pod的重启次数，发现一直是0，并未重启</span>   </span><br><span class="line">[root@k8s-master01 ~]# kubectl  get pods pod-restartpolicy -n dev</span><br><span class="line">NAME                   READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-restartpolicy      0/1     Running   0          5min42s</span><br></pre></td></tr></table></figure><h2 id="5-4-Pod调度"><a href="#5-4-Pod调度" class="headerlink" title="5.4 Pod调度"></a>5.4 Pod调度</h2><p>在默认情况下，一个Pod在哪个Node节点上运行，是由Scheduler组件采用相应的算法计算出来的，这个过程是不受人工控制的。但是在实际使用中，这并不满足的需求，因为很多情况下，我们想控制某些Pod到达某些节点上，那么应该怎么做呢？这就要求了解kubernetes对Pod的调度规则，kubernetes提供了四大类调度方式：</p><ul><li>自动调度：运行在哪个节点上完全由Scheduler经过一系列的算法计算得出</li><li>定向调度：NodeName、NodeSelector</li><li>亲和性调度：NodeAffinity、PodAffinity、PodAntiAffinity</li><li>污点（容忍）调度：Taints、Toleration</li></ul><h3 id="5-4-1-定向调度"><a href="#5-4-1-定向调度" class="headerlink" title="5.4.1 定向调度"></a>5.4.1 定向调度</h3><p>定向调度，指的是利用在pod上声明nodeName或者nodeSelector，以此将Pod调度到期望的node节点上。注意，这里的调度是强制的，这就意味着即使要调度的目标Node不存在，也会向上面进行调度，只不过pod运行失败而已。</p><p><strong>NodeName</strong></p><p>NodeName用于强制约束将Pod调度到指定的Name的Node节点上。这种方式，其实是直接跳过Scheduler的调度逻辑，直接将Pod调度到指定名称的节点。</p><p>接下来，实验一下：创建一个pod-nodename.yaml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodename</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeName:</span> <span class="string">node1</span> <span class="comment"># 指定调度到node1节点上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodename.yaml</span><br><span class="line">pod/pod-nodename created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看Pod调度到NODE属性，确实是调度到了node1节点上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodename -n dev -o wide</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE   IP            NODE      ......</span><br><span class="line">pod-nodename   1/1     Running   0          56s   10.244.1.87   node1     ......   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除pod，修改nodeName的值为node3（并没有node3节点）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodename.yaml</span><br><span class="line">pod &quot;pod-nodename&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodename.yaml</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodename.yaml</span><br><span class="line">pod/pod-nodename created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">再次查看，发现已经向Node3节点调度，但是由于不存在node3节点，所以pod无法正常运行</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodename -n dev -o wide</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE   IP       NODE    ......</span><br><span class="line">pod-nodename   0/1     Pending   0          6s    &lt;none&gt;   node3   ......           </span><br></pre></td></tr></table></figure><p><strong>NodeSelector</strong></p><p>NodeSelector用于将pod调度到添加了指定标签的node节点上。它是通过kubernetes的label-selector机制实现的，也就是说，在pod创建之前，会由scheduler使用MatchNodeSelector调度策略进行label匹配，找出目标node，然后将pod调度到目标节点，该匹配规则是强制约束。</p><p>接下来，实验一下：</p><p>1 首先分别为node节点添加标签</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl label nodes node1 nodeenv=pro</span><br><span class="line">node/node2 labeled</span><br><span class="line">[root@k8s-master01 ~]# kubectl label nodes node2 nodeenv=test</span><br><span class="line">node/node2 labeled</span><br></pre></td></tr></table></figure><p>2 创建一个pod-nodeselector.yaml文件，并使用它创建Pod</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeselector</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeSelector:</span> </span><br><span class="line">    <span class="attr">nodeenv:</span> <span class="string">pro</span> <span class="comment"># 指定调度到具有nodeenv=pro标签的节点上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeselector.yaml</span><br><span class="line">pod/pod-nodeselector created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看Pod调度到NODE属性，确实是调度到了node1节点上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeselector -n dev -o wide</span><br><span class="line">NAME               READY   STATUS    RESTARTS   AGE     IP          NODE    ......</span><br><span class="line">pod-nodeselector   1/1     Running   0          47s   10.244.1.87   node1   ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除pod，修改nodeSelector的值为nodeenv: xxxx（不存在打有此标签的节点）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodeselector.yaml</span><br><span class="line">pod &quot;pod-nodeselector&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodeselector.yaml</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeselector.yaml</span><br><span class="line">pod/pod-nodeselector created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">再次查看，发现pod无法正常运行,Node的值为none</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME               READY   STATUS    RESTARTS   AGE     IP       NODE    </span><br><span class="line">pod-nodeselector   0/1     Pending   0          2m20s   &lt;none&gt;   &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情,发现node selector匹配失败的提示</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-nodeselector -n dev</span><br><span class="line">.......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason            Age        From               Message</span><br><span class="line">  ----     ------            ----       ----               -------</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br></pre></td></tr></table></figure><h3 id="5-4-2-亲和性调度"><a href="#5-4-2-亲和性调度" class="headerlink" title="5.4.2 亲和性调度"></a>5.4.2 亲和性调度</h3><p>上一节，介绍了两种定向调度的方式，使用起来非常方便，但是也有一定的问题，那就是如果没有满足条件的Node，那么Pod将不会被运行，即使在集群中还有可用Node列表也不行，这就限制了它的使用场景。</p><p>基于上面的问题，kubernetes还提供了一种亲和性调度（Affinity）。它在NodeSelector的基础之上的进行了扩展，可以通过配置的形式，实现优先选择满足条件的Node进行调度，如果没有，也可以调度到不满足条件的节点上，使调度更加灵活。</p><p>Affinity主要分为三类：</p><ul><li>nodeAffinity(node亲和性）: 以node为目标，解决pod可以调度到哪些node的问题</li><li>podAffinity(pod亲和性) : 以pod为目标，解决pod可以和哪些已存在的pod部署在同一个拓扑域中的问题</li><li>podAntiAffinity(pod反亲和性) : 以pod为目标，解决pod不能和哪些已存在pod部署在同一个拓扑域中的问题</li></ul><blockquote><p>关于亲和性(反亲和性)使用场景的说明：</p><p><strong>亲和性</strong>：如果两个应用频繁交互，那就有必要利用亲和性让两个应用的尽可能的靠近，这样可以减少因网络通信而带来的性能损耗。</p><p><strong>反亲和性</strong>：当应用的采用多副本部署时，有必要采用反亲和性让各个应用实例打散分布在各个node上，这样可以提高服务的高可用性。</p></blockquote><p><strong>NodeAffinity</strong></p><p>首先来看一下<code>NodeAffinity</code>的可配置项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pod.spec.affinity.nodeAffinity</span><br><span class="line">  requiredDuringSchedulingIgnoredDuringExecution  Node节点必须满足指定的所有规则才可以，相当于硬限制</span><br><span class="line">    nodeSelectorTerms  节点选择列表</span><br><span class="line">      matchFields   按节点字段列出的节点选择器要求列表</span><br><span class="line">      matchExpressions   按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持Exists, DoesNotExist, In, NotIn, Gt, Lt</span><br><span class="line">  preferredDuringSchedulingIgnoredDuringExecution 优先调度到满足指定的规则的Node，相当于软限制 (倾向)</span><br><span class="line">    preference   一个节点选择器项，与相应的权重相关联</span><br><span class="line">      matchFields   按节点字段列出的节点选择器要求列表</span><br><span class="line">      matchExpressions   按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持In, NotIn, Exists, DoesNotExist, Gt, Lt</span><br><span class="line">weight 倾向权重，在范围1-100。</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">关系符的使用说明:</span><br><span class="line"></span><br><span class="line">- matchExpressions:</span><br><span class="line">  - key: nodeenv              # 匹配存在标签的key为nodeenv的节点</span><br><span class="line">    operator: Exists</span><br><span class="line">  - key: nodeenv              # 匹配标签的key为nodeenv,且value是&quot;xxx&quot;或&quot;yyy&quot;的节点</span><br><span class="line">    operator: In</span><br><span class="line">    values: [&quot;xxx&quot;,&quot;yyy&quot;]</span><br><span class="line">  - key: nodeenv              # 匹配标签的key为nodeenv,且value大于&quot;xxx&quot;的节点</span><br><span class="line">    operator: Gt</span><br><span class="line">    values: &quot;xxx&quot;</span><br></pre></td></tr></table></figure><p>接下来首先演示一下<code>requiredDuringSchedulingIgnoredDuringExecution</code> ,</p><p>创建pod-nodeaffinity-required.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">nodeAffinity:</span> <span class="comment">#设置node亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">        <span class="attr">nodeSelectorTerms:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">nodeenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod/pod-nodeaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态 （运行失败）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeaffinity-required -n dev -o wide</span><br><span class="line">NAME                        READY   STATUS    RESTARTS   AGE   IP       NODE    ...... </span><br><span class="line">pod-nodeaffinity-required   0/1     Pending   0          16s   &lt;none&gt;   &lt;none&gt;  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod的详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现调度失败，提示node选择失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-nodeaffinity-required -n dev</span><br><span class="line">......</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">接下来，停止pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod &quot;pod-nodeaffinity-required&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改文件，将values: [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]------&gt; [<span class="string">&quot;pro&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodeaffinity-required.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次启动</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod/pod-nodeaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时查看，发现调度成功，已经将pod调度到了node1上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeaffinity-required -n dev -o wide</span><br><span class="line">NAME                        READY   STATUS    RESTARTS   AGE   IP            NODE  ...... </span><br><span class="line">pod-nodeaffinity-required   1/1     Running   0          11s   10.244.1.89   node1 ......</span><br></pre></td></tr></table></figure><p>接下来再演示一下<code>requiredDuringSchedulingIgnoredDuringExecution</code> ,</p><p>创建pod-nodeaffinity-preferred.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeaffinity-preferred</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">nodeAffinity:</span> <span class="comment">#设置node亲和性</span></span><br><span class="line">      <span class="attr">preferredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 软限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">weight:</span> <span class="number">1</span></span><br><span class="line">        <span class="attr">preference:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签(当前环境没有)</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">nodeenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-preferred.yaml</span><br><span class="line">pod/pod-nodeaffinity-preferred created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态 （运行成功）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-nodeaffinity-preferred -n dev</span><br><span class="line">NAME                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-nodeaffinity-preferred   1/1     Running   0          40s</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NodeAffinity规则设置的注意事项：</span><br><span class="line">    1 如果同时定义了nodeSelector和nodeAffinity，那么必须两个条件都得到满足，Pod才能运行在指定的Node上</span><br><span class="line">    2 如果nodeAffinity指定了多个nodeSelectorTerms，那么只需要其中一个能够匹配成功即可</span><br><span class="line">    3 如果一个nodeSelectorTerms中有多个matchExpressions ，则一个节点必须满足所有的才能匹配成功</span><br><span class="line">    4 如果一个pod所在的Node在Pod运行期间其标签发生了改变，不再符合该Pod的节点亲和性需求，则系统将忽略此变化</span><br></pre></td></tr></table></figure><p><strong>PodAffinity</strong></p><p>PodAffinity主要实现以运行的Pod为参照，实现让新创建的Pod跟参照pod在一个区域的功能。</p><p>首先来看一下<code>PodAffinity</code>的可配置项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">pod.spec.affinity.podAffinity</span><br><span class="line">  requiredDuringSchedulingIgnoredDuringExecution  硬限制</span><br><span class="line">    namespaces       指定参照pod的namespace</span><br><span class="line">    topologyKey      指定调度作用域</span><br><span class="line">    labelSelector    标签选择器</span><br><span class="line">      matchExpressions  按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持In, NotIn, Exists, DoesNotExist.</span><br><span class="line">      matchLabels    指多个matchExpressions映射的内容</span><br><span class="line">  preferredDuringSchedulingIgnoredDuringExecution 软限制</span><br><span class="line">    podAffinityTerm  选项</span><br><span class="line">      namespaces      </span><br><span class="line">      topologyKey</span><br><span class="line">      labelSelector</span><br><span class="line">        matchExpressions  </span><br><span class="line">          key    键</span><br><span class="line">          values 值</span><br><span class="line">          operator</span><br><span class="line">        matchLabels </span><br><span class="line">    weight 倾向权重，在范围1-100</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">topologyKey用于指定调度时作用域,例如:</span><br><span class="line">    如果指定为kubernetes.io/hostname，那就是以Node节点为区分范围</span><br><span class="line">如果指定为beta.kubernetes.io/os,则以Node节点的操作系统类型来区分</span><br></pre></td></tr></table></figure><p>接下来，演示下<code>requiredDuringSchedulingIgnoredDuringExecution</code>,</p><p>1）首先创建一个参照Pod，pod-podaffinity-target.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podaffinity-target</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">podenv:</span> <span class="string">pro</span> <span class="comment">#设置标签</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeName:</span> <span class="string">node1</span> <span class="comment"># 将目标pod名确指定到node1上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动目标pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-target.yaml</span><br><span class="line">pod/pod-podaffinity-target created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods  pod-podaffinity-target -n dev</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-podaffinity-target   1/1     Running   0          4s</span><br></pre></td></tr></table></figure><p>2）创建pod-podaffinity-required.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">podAffinity:</span> <span class="comment">#设置pod亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">podenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br><span class="line">        <span class="attr">topologyKey:</span> <span class="string">kubernetes.io/hostname</span></span><br></pre></td></tr></table></figure><p>上面配置表达的意思是：新Pod必须要与拥有标签nodeenv&#x3D;xxx或者nodeenv&#x3D;yyy的pod在同一Node上，显然现在没有这样pod，接下来，运行测试一下。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-required.yaml</span><br><span class="line">pod/pod-podaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态，发现未运行</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podaffinity-required -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-podaffinity-required   0/1     Pending   0          9s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详细信息</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-podaffinity-required  -n dev</span><br><span class="line">......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason            Age        From               Message</span><br><span class="line">  ----     ------            ----       ----               -------</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 2 node(s) didn&#x27;t match pod affinity rules, 1 node(s) had taints that the pod didn&#x27;t tolerate.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来修改  values: [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]-----&gt;values:[<span class="string">&quot;pro&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">意思是：新Pod必须要与拥有标签nodeenv=xxx或者nodeenv=yyy的pod在同一Node上</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-podaffinity-required.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后重新创建pod，查看效果</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f  pod-podaffinity-required.yaml</span><br><span class="line">pod &quot;pod-podaffinity-required&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-required.yaml</span><br><span class="line">pod/pod-podaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现此时Pod运行正常</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podaffinity-required -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">pod-podaffinity-required   1/1     Running   0          6s    &lt;none&gt;</span><br></pre></td></tr></table></figure><p>关于<code>PodAffinity</code>的 <code>preferredDuringSchedulingIgnoredDuringExecution</code>，这里不再演示。</p><p><strong>PodAntiAffinity</strong></p><p>PodAntiAffinity主要实现以运行的Pod为参照，让新创建的Pod跟参照pod不在一个区域中的功能。</p><p>它的配置方式和选项跟PodAffinty是一样的，这里不再做详细解释，直接做一个测试案例。</p><p>1）继续使用上个案例中目标pod</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide --show-labels</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE     IP            NODE    LABELS</span><br><span class="line">pod-podaffinity-required 1/1     Running   0          3m29s   10.244.1.38   node1   &lt;none&gt;     </span><br><span class="line">pod-podaffinity-target   1/1     Running   0          9m25s   10.244.1.37   node1   podenv=pro</span><br></pre></td></tr></table></figure><p>2）创建pod-podantiaffinity-required.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podantiaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">podAntiAffinity:</span> <span class="comment">#设置pod亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配podenv的值在[&quot;pro&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">podenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;pro&quot;</span>]</span><br><span class="line">        <span class="attr">topologyKey:</span> <span class="string">kubernetes.io/hostname</span></span><br></pre></td></tr></table></figure><p>上面配置表达的意思是：新Pod必须要与拥有标签nodeenv&#x3D;pro的pod不在同一Node上，运行测试一下。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podantiaffinity-required.yaml</span><br><span class="line">pod/pod-podantiaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现调度到了node2上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podantiaffinity-required -n dev -o wide</span><br><span class="line">NAME                           READY   STATUS    RESTARTS   AGE   IP            NODE   .. </span><br><span class="line">pod-podantiaffinity-required   1/1     Running   0          30s   10.244.1.96   node2  ..</span><br></pre></td></tr></table></figure><h3 id="5-4-3-污点和容忍"><a href="#5-4-3-污点和容忍" class="headerlink" title="5.4.3 污点和容忍"></a>5.4.3 污点和容忍</h3><p><strong>污点（Taints）</strong></p><p>前面的调度方式都是站在Pod的角度上，通过在Pod上添加属性，来确定Pod是否要调度到指定的Node上，其实我们也可以站在Node的角度上，通过在Node上添加<strong>污点</strong>属性，来决定是否允许Pod调度过来。</p><p>Node被设置上污点之后就和Pod之间存在了一种相斥的关系，进而拒绝Pod调度进来，甚至可以将已经存在的Pod驱逐出去。</p><p>污点的格式为：<code>key=value:effect</code>, key和value是污点的标签，effect描述污点的作用，支持如下三个选项：</p><ul><li>PreferNoSchedule：kubernetes将尽量避免把Pod调度到具有该污点的Node上，除非没有其他节点可调度</li><li>NoSchedule：kubernetes将不会把Pod调度到具有该污点的Node上，但不会影响当前Node上已存在的Pod</li><li>NoExecute：kubernetes将不会把Pod调度到具有该污点的Node上，同时也会将Node上已存在的Pod驱离</li></ul><p><img src="https://s2.loli.net/2022/12/29/VsDHXZoldcvuNEm.png" alt="image-20200605021606508"></p><p>使用kubectl设置和去除污点的命令示例如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置污点</span></span><br><span class="line">kubectl taint nodes node1 key=value:effect</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去除污点</span></span><br><span class="line">kubectl taint nodes node1 key:effect-</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去除所有污点</span></span><br><span class="line">kubectl taint nodes node1 key-</span><br></pre></td></tr></table></figure><p>接下来，演示下污点的效果：</p><ol><li>准备节点node1（为了演示效果更加明显，暂时停止node2节点）</li><li>为node1节点设置一个污点: <code>tag=heima:PreferNoSchedule</code>；然后创建pod1( pod1 可以 )</li><li>修改为node1节点设置一个污点: <code>tag=heima:NoSchedule</code>；然后创建pod2( pod1 正常 pod2 失败 )</li><li>修改为node1节点设置一个污点: <code>tag=heima:NoExecute</code>；然后创建pod3 ( 3个pod都失败 )</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(PreferNoSchedule)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:PreferNoSchedule</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod1</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint1 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE     IP           NODE   </span><br><span class="line">taint1-7665f7fd85-574h4   1/1     Running   0          2m24s   10.244.1.59   node1    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(取消PreferNoSchedule，设置NoSchedule)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag:PreferNoSchedule-</span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:NoSchedule</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod2</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint2 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods taint2 -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE     IP            NODE</span><br><span class="line">taint1-7665f7fd85-574h4   1/1     Running   0          2m24s   10.244.1.59   node1 </span><br><span class="line">taint2-544694789-6zmlf    0/1     Pending   0          21s     &lt;none&gt;        &lt;none&gt;   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(取消NoSchedule，设置NoExecute)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag:NoSchedule-</span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:NoExecute</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod3</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint3 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE   IP       NODE     NOMINATED </span><br><span class="line">taint1-7665f7fd85-htkmp   0/1     Pending   0          35s   &lt;none&gt;   &lt;none&gt;   &lt;none&gt;    </span><br><span class="line">taint2-544694789-bn7wb    0/1     Pending   0          35s   &lt;none&gt;   &lt;none&gt;   &lt;none&gt;     </span><br><span class="line">taint3-6d78dbd749-tktkq   0/1     Pending   0          6s    &lt;none&gt;   &lt;none&gt;   &lt;none&gt;     </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">小提示：</span><br><span class="line">    使用kubeadm搭建的集群，默认就会给master节点添加一个污点标记,所以pod就不会调度到master节点上.</span><br></pre></td></tr></table></figure><p><strong>容忍（Toleration）</strong></p><p>上面介绍了污点的作用，我们可以在node上添加污点用于拒绝pod调度上来，但是如果就是想将一个pod调度到一个有污点的node上去，这时候应该怎么做呢？这就要使用到<strong>容忍</strong>。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200514095913741.png" alt="image-20200514095913741"></p><blockquote><p>污点就是拒绝，容忍就是忽略，Node通过污点拒绝pod调度上去，Pod通过容忍忽略拒绝</p></blockquote><p>下面先通过一个案例看下效果：</p><ol><li>上一小节，已经在node1节点上打上了<code>NoExecute</code>的污点，此时pod是调度不上去的</li><li>本小节，可以通过给pod添加容忍，然后将其调度上去</li></ol><p>创建pod-toleration.yaml,内容如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-toleration</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">tolerations:</span>      <span class="comment"># 添加容忍</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&quot;tag&quot;</span>        <span class="comment"># 要容忍的污点的key</span></span><br><span class="line">    <span class="attr">operator:</span> <span class="string">&quot;Equal&quot;</span> <span class="comment"># 操作符</span></span><br><span class="line">    <span class="attr">value:</span> <span class="string">&quot;heima&quot;</span>    <span class="comment"># 容忍的污点的value</span></span><br><span class="line">    <span class="attr">effect:</span> <span class="string">&quot;NoExecute&quot;</span>   <span class="comment"># 添加容忍的规则，这里必须和标记的污点规则相同</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加容忍之前的pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME             READY   STATUS    RESTARTS   AGE   IP       NODE     NOMINATED </span><br><span class="line">pod-toleration   0/1     Pending   0          3s    &lt;none&gt;   &lt;none&gt;   &lt;none&gt;           </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加容忍之后的pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME             READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED</span><br><span class="line">pod-toleration   1/1     Running   0          3s    10.244.1.62   node1   &lt;none&gt;        </span><br></pre></td></tr></table></figure><p>下面看一下容忍的详细配置:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.tolerations</span><br><span class="line">......</span><br><span class="line">FIELDS:</span><br><span class="line">   key       # 对应着要容忍的污点的键，空意味着匹配所有的键</span><br><span class="line">   value     # 对应着要容忍的污点的值</span><br><span class="line">   operator  # key-value的运算符，支持Equal和Exists（默认）</span><br><span class="line">   effect    # 对应污点的effect，空意味着匹配所有影响</span><br><span class="line">   tolerationSeconds   # 容忍时间, 当effect为NoExecute时生效，表示pod在Node上的停留时间</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.资源管理器</title>
      <link href="/posts/85665ba2.html"/>
      <url>/posts/85665ba2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="3-资源管理"><a href="#3-资源管理" class="headerlink" title="3. 资源管理"></a>3. 资源管理</h1><h2 id="3-1-资源管理介绍"><a href="#3-1-资源管理介绍" class="headerlink" title="3.1 资源管理介绍"></a>3.1 资源管理介绍</h2><p>在kubernetes中，所有的内容都抽象为资源，用户需要通过操作资源来管理kubernetes。</p><blockquote><p>kubernetes的本质上就是一个集群系统，用户可以在集群中部署各种服务，所谓的部署服务，其实就是在kubernetes集群中运行一个个的容器，并将指定的程序跑在容器中。</p><p>kubernetes的最小管理单元是pod而不是容器，所以只能将容器放在<code>Pod</code>中，而kubernetes一般也不会直接管理Pod，而是通过<code>Pod控制器</code>来管理Pod的。</p><p>Pod可以提供服务之后，就要考虑如何访问Pod中服务，kubernetes提供了<code>Service</code>资源实现这个功能。</p><p>当然，如果Pod中程序的数据需要持久化，kubernetes还提供了各种<code>存储</code>系统。</p></blockquote><p><img src="https://s2.loli.net/2022/12/29/qzVupFjrBQkb3X5.png" alt="image-20200406225334627"></p><blockquote><p>学习kubernetes的核心，就是学习如何对集群上的<code>Pod、Pod控制器、Service、存储</code>等各种资源进行操作</p></blockquote><h2 id="3-2-YAML语言介绍"><a href="#3-2-YAML语言介绍" class="headerlink" title="3.2 YAML语言介绍"></a>3.2 YAML语言介绍</h2><p>YAML是一个类似 XML、JSON 的标记性语言。它强调以<strong>数据</strong>为中心，并不是以标识语言为重点。因而YAML本身的定义比较简单，号称”一种人性化的数据格式语言”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;heima&gt;</span><br><span class="line">    &lt;age&gt;15&lt;/age&gt;</span><br><span class="line">    &lt;address&gt;Beijing&lt;/address&gt;</span><br><span class="line">&lt;/heima&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heima:</span><br><span class="line">  age: 15</span><br><span class="line">  address: Beijing</span><br></pre></td></tr></table></figure><p>YAML的语法比较简单，主要有下面几个：</p><ul><li>大小写敏感</li><li>使用缩进表示层级关系</li><li>缩进不允许使用tab，只允许空格( 低版本限制 )</li><li>缩进的空格数不重要，只要相同层级的元素左对齐即可</li><li>‘#’表示注释</li></ul><p>YAML支持以下几种数据类型：</p><ul><li>纯量：单个的、不可再分的值</li><li>对象：键值对的集合，又称为映射（mapping）&#x2F; 哈希（hash） &#x2F; 字典（dictionary）</li><li>数组：一组按次序排列的值，又称为序列（sequence） &#x2F; 列表（list）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 纯量, 就是指的一个简单的值，字符串、布尔值、整数、浮点数、Null、时间、日期</span><br><span class="line"># 1 布尔类型</span><br><span class="line">c1: true (或者True)</span><br><span class="line"># 2 整型</span><br><span class="line">c2: 234</span><br><span class="line"># 3 浮点型</span><br><span class="line">c3: 3.14</span><br><span class="line"># 4 null类型 </span><br><span class="line">c4: ~  # 使用~表示null</span><br><span class="line"># 5 日期类型</span><br><span class="line">c5: 2018-02-17    # 日期必须使用ISO 8601格式，即yyyy-MM-dd</span><br><span class="line"># 6 时间类型</span><br><span class="line">c6: 2018-02-17T15:02:31+08:00  # 时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区</span><br><span class="line"># 7 字符串类型</span><br><span class="line">c7: heima     # 简单写法，直接写值 , 如果字符串中间有特殊字符，必须使用双引号或者单引号包裹 </span><br><span class="line">c8: line1</span><br><span class="line">    line2     # 字符串过多的情况可以拆成多行，每一行会被转化成一个空格</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 对象</span><br><span class="line"># 形式一(推荐):</span><br><span class="line">heima:</span><br><span class="line">  age: 15</span><br><span class="line">  address: Beijing</span><br><span class="line"># 形式二(了解):</span><br><span class="line">heima: &#123;age: 15,address: Beijing&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 数组</span><br><span class="line"># 形式一(推荐):</span><br><span class="line">address:</span><br><span class="line">  - 顺义</span><br><span class="line">  - 昌平  </span><br><span class="line"># 形式二(了解):</span><br><span class="line">address: [顺义,昌平]</span><br></pre></td></tr></table></figure><blockquote><p>小提示：</p><p>1 书写yaml切记<code>:</code> 后面要加一个空格</p><p>2 如果需要将多段yaml配置放在一个文件中，中间要使用<code>---</code>分隔</p><p>3 下面是一个yaml转json的网站，可以通过它验证yaml是否书写正确</p><p><a href="https://www.json2yaml.com/convert-yaml-to-json">https://www.json2yaml.com/convert-yaml-to-json</a></p></blockquote><h2 id="3-3-资源管理方式"><a href="#3-3-资源管理方式" class="headerlink" title="3.3 资源管理方式"></a>3.3 资源管理方式</h2><ul><li><p>命令式对象管理：直接使用命令去操作kubernetes资源</p><p>  <code>kubectl run nginx-pod --image=nginx:1.17.1 --port=80</code></p></li><li><p>命令式对象配置：通过命令配置和配置文件去操作kubernetes资源</p><p>  <code>kubectl create/patch -f nginx-pod.yaml</code></p></li><li><p>声明式对象配置：通过apply命令和配置文件去操作kubernetes资源</p><p>  <code>kubectl apply -f nginx-pod.yaml</code></p></li></ul><table><thead><tr><th align="left">类型</th><th align="left">操作对象</th><th align="left">适用环境</th><th align="left">优点</th><th align="left">缺点</th></tr></thead><tbody><tr><td align="left">命令式对象管理</td><td align="left">对象</td><td align="left">测试</td><td align="left">简单</td><td align="left">只能操作活动对象，无法审计、跟踪</td></tr><tr><td align="left">命令式对象配置</td><td align="left">文件</td><td align="left">开发</td><td align="left">可以审计、跟踪</td><td align="left">项目大时，配置文件多，操作麻烦</td></tr><tr><td align="left">声明式对象配置</td><td align="left">目录</td><td align="left">开发</td><td align="left">支持目录操作</td><td align="left">意外情况下难以调试</td></tr></tbody></table><h3 id="3-3-1-命令式对象管理"><a href="#3-3-1-命令式对象管理" class="headerlink" title="3.3.1 命令式对象管理"></a>3.3.1 命令式对象管理</h3><p><strong>kubectl命令</strong></p><p>kubectl是kubernetes集群的命令行工具，通过它能够对集群本身进行管理，并能够在集群上进行容器化应用的安装部署。kubectl命令的语法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl [command] [type] [name] [flags]</span><br></pre></td></tr></table></figure><p><strong>comand</strong>：指定要对资源执行的操作，例如create、get、delete</p><p><strong>type</strong>：指定资源类型，比如deployment、pod、service</p><p><strong>name</strong>：指定资源的名称，名称大小写敏感</p><p><strong>flags</strong>：指定额外的可选参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有pod</span></span><br><span class="line">kubectl get pod </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看某个pod</span></span><br><span class="line">kubectl get pod pod_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看某个pod,以yaml格式展示结果</span></span><br><span class="line">kubectl get pod pod_name -o yaml</span><br></pre></td></tr></table></figure><p><strong>资源类型</strong></p><p>kubernetes中所有的内容都抽象为资源，可以通过下面的命令进行查看:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl api-resources</span><br></pre></td></tr></table></figure><p>经常使用的资源有下面这些：</p><table><thead><tr><th align="left">资源分类</th><th align="left">资源名称</th><th align="left">缩写</th><th align="left">资源作用</th></tr></thead><tbody><tr><td align="left">集群级别资源</td><td align="left">nodes</td><td align="left">no</td><td align="left">集群组成部分</td></tr><tr><td align="left">namespaces</td><td align="left">ns</td><td align="left">隔离Pod</td><td align="left"></td></tr><tr><td align="left">pod资源</td><td align="left">pods</td><td align="left">po</td><td align="left">装载容器</td></tr><tr><td align="left">pod资源控制器</td><td align="left">replicationcontrollers</td><td align="left">rc</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">replicasets</td><td align="left">rs</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">deployments</td><td align="left">deploy</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">daemonsets</td><td align="left">ds</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">jobs</td><td align="left"></td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">cronjobs</td><td align="left">cj</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">horizontalpodautoscalers</td><td align="left">hpa</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">statefulsets</td><td align="left">sts</td><td align="left">控制pod资源</td></tr><tr><td align="left">服务发现资源</td><td align="left">services</td><td align="left">svc</td><td align="left">统一pod对外接口</td></tr><tr><td align="left"></td><td align="left">ingress</td><td align="left">ing</td><td align="left">统一pod对外接口</td></tr><tr><td align="left">存储资源</td><td align="left">volumeattachments</td><td align="left"></td><td align="left">存储</td></tr><tr><td align="left"></td><td align="left">persistentvolumes</td><td align="left">pv</td><td align="left">存储</td></tr><tr><td align="left"></td><td align="left">persistentvolumeclaims</td><td align="left">pvc</td><td align="left">存储</td></tr><tr><td align="left">配置资源</td><td align="left">configmaps</td><td align="left">cm</td><td align="left">配置</td></tr><tr><td align="left"></td><td align="left">secrets</td><td align="left"></td><td align="left">配置</td></tr></tbody></table><p><strong>操作</strong></p><p>kubernetes允许对资源进行多种操作，可以通过–help查看详细的操作命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl --help</span><br></pre></td></tr></table></figure><p>经常使用的操作有下面这些：</p><table><thead><tr><th align="left">命令分类</th><th align="left">命令</th><th align="left">翻译</th><th align="left">命令作用</th></tr></thead><tbody><tr><td align="left">基本命令</td><td align="left">create</td><td align="left">创建</td><td align="left">创建一个资源</td></tr><tr><td align="left"></td><td align="left">edit</td><td align="left">编辑</td><td align="left">编辑一个资源</td></tr><tr><td align="left"></td><td align="left">get</td><td align="left">获取</td><td align="left">获取一个资源</td></tr><tr><td align="left"></td><td align="left">patch</td><td align="left">更新</td><td align="left">更新一个资源</td></tr><tr><td align="left"></td><td align="left">delete</td><td align="left">删除</td><td align="left">删除一个资源</td></tr><tr><td align="left"></td><td align="left">explain</td><td align="left">解释</td><td align="left">展示资源文档</td></tr><tr><td align="left">运行和调试</td><td align="left">run</td><td align="left">运行</td><td align="left">在集群中运行一个指定的镜像</td></tr><tr><td align="left"></td><td align="left">expose</td><td align="left">暴露</td><td align="left">暴露资源为Service</td></tr><tr><td align="left"></td><td align="left">describe</td><td align="left">描述</td><td align="left">显示资源内部信息</td></tr><tr><td align="left"></td><td align="left">logs</td><td align="left">日志输出容器在 pod 中的日志</td><td align="left">输出容器在 pod 中的日志</td></tr><tr><td align="left"></td><td align="left">attach</td><td align="left">缠绕进入运行中的容器</td><td align="left">进入运行中的容器</td></tr><tr><td align="left"></td><td align="left">exec</td><td align="left">执行容器中的一个命令</td><td align="left">执行容器中的一个命令</td></tr><tr><td align="left"></td><td align="left">cp</td><td align="left">复制</td><td align="left">在Pod内外复制文件</td></tr><tr><td align="left"></td><td align="left">rollout</td><td align="left">首次展示</td><td align="left">管理资源的发布</td></tr><tr><td align="left"></td><td align="left">scale</td><td align="left">规模</td><td align="left">扩(缩)容Pod的数量</td></tr><tr><td align="left"></td><td align="left">autoscale</td><td align="left">自动调整</td><td align="left">自动调整Pod的数量</td></tr><tr><td align="left">高级命令</td><td align="left">apply</td><td align="left">rc</td><td align="left">通过文件对资源进行配置</td></tr><tr><td align="left"></td><td align="left">label</td><td align="left">标签</td><td align="left">更新资源上的标签</td></tr><tr><td align="left">其他命令</td><td align="left">cluster-info</td><td align="left">集群信息</td><td align="left">显示集群信息</td></tr><tr><td align="left"></td><td align="left">version</td><td align="left">版本</td><td align="left">显示当前Server和Client的版本</td></tr></tbody></table><p>下面以一个namespace &#x2F; pod的创建和删除简单演示下命令的使用：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建一个namespace</span></span><br><span class="line">[root@master ~]# kubectl create namespace dev</span><br><span class="line">namespace/dev created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取namespace</span></span><br><span class="line">[root@master ~]# kubectl get ns</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   21h</span><br><span class="line">dev               Active   21s</span><br><span class="line">kube-node-lease   Active   21h</span><br><span class="line">kube-public       Active   21h</span><br><span class="line">kube-system       Active   21h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在此namespace下创建并运行一个nginx的Pod</span></span><br><span class="line">[root@master ~]# kubectl run pod --image=nginx:latest -n dev</span><br><span class="line">kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed in a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.</span><br><span class="line">deployment.apps/pod created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看新创建的pod</span></span><br><span class="line">[root@master ~]# kubectl get pod -n dev</span><br><span class="line">NAME  READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod   1/1     Running   0          21s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定的pod</span></span><br><span class="line">[root@master ~]# kubectl delete pod pod-864f9875b9-pcw7x</span><br><span class="line">pod &quot;pod&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定的namespace</span></span><br><span class="line">[root@master ~]# kubectl delete ns dev</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br></pre></td></tr></table></figure><h3 id="3-3-2-命令式对象配置"><a href="#3-3-2-命令式对象配置" class="headerlink" title="3.3.2 命令式对象配置"></a>3.3.2 命令式对象配置</h3><p>命令式对象配置就是使用命令配合配置文件一起来操作kubernetes资源。</p><p>1） 创建一个nginxpod.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginxpod</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-containers</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br></pre></td></tr></table></figure><p>2）执行create命令，创建资源：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@master</span> <span class="string">~</span>]<span class="comment"># kubectl create -f nginxpod.yaml</span></span><br><span class="line"><span class="string">namespace/dev</span> <span class="string">created</span></span><br><span class="line"><span class="string">pod/nginxpod</span> <span class="string">created</span></span><br></pre></td></tr></table></figure><p>此时发现创建了两个资源对象，分别是namespace和pod</p><p>3）执行get命令，查看资源：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]#  kubectl get -f nginxpod.yaml</span><br><span class="line">NAME            STATUS   AGE</span><br><span class="line">namespace/dev   Active   18s</span><br><span class="line"></span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginxpod    1/1     Running   0          17s</span><br></pre></td></tr></table></figure><p>这样就显示了两个资源对象的信息</p><p>4）执行delete命令，删除资源：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl delete -f nginxpod.yaml</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br><span class="line">pod &quot;nginxpod&quot; deleted</span><br></pre></td></tr></table></figure><p>此时发现两个资源对象被删除了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">总结:</span><br><span class="line">    命令式对象配置的方式操作资源，可以简单的认为：命令  +  yaml配置文件（里面是命令需要的各种参数）</span><br></pre></td></tr></table></figure><h3 id="3-3-3-声明式对象配置"><a href="#3-3-3-声明式对象配置" class="headerlink" title="3.3.3 声明式对象配置"></a>3.3.3 声明式对象配置</h3><p>声明式对象配置跟命令式对象配置很相似，但是它只有一个命令apply。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">首先执行一次kubectl apply -f yaml文件，发现创建了资源</span></span><br><span class="line">[root@master ~]#  kubectl apply -f nginxpod.yaml</span><br><span class="line">namespace/dev created</span><br><span class="line">pod/nginxpod created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次执行一次kubectl apply -f yaml文件，发现说资源没有变动</span></span><br><span class="line">[root@master ~]#  kubectl apply -f nginxpod.yaml</span><br><span class="line">namespace/dev unchanged</span><br><span class="line">pod/nginxpod unchanged</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">总结:</span><br><span class="line">    其实声明式对象配置就是使用apply描述一个资源最终的状态（在yaml中定义状态）</span><br><span class="line">    使用apply操作资源：</span><br><span class="line">        如果资源不存在，就创建，相当于 kubectl create</span><br><span class="line">        如果资源已存在，就更新，相当于 kubectl patch</span><br></pre></td></tr></table></figure><blockquote><p>扩展：kubectl可以在node节点上运行吗 ?</p></blockquote><p>kubectl的运行是需要进行配置的，它的配置文件是$HOME&#x2F;.kube，如果想要在node节点运行此命令，需要将master上的.kube文件复制到node节点上，即在master节点上执行下面操作：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp  -r  HOME/.kube   node1: HOME/</span><br></pre></td></tr></table></figure><blockquote><p>使用推荐: 三种方式应该怎么用 ?</p></blockquote><p>创建&#x2F;更新资源 使用声明式对象配置 kubectl apply -f XXX.yaml</p><p>删除资源 使用命令式对象配置 kubectl delete -f XXX.yaml</p><p>查询资源 使用命令式对象管理 kubectl get(describe) 资源名称</p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8.数据存储</title>
      <link href="/posts/df6f0f7b.html"/>
      <url>/posts/df6f0f7b.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="8-数据存储"><a href="#8-数据存储" class="headerlink" title="8. 数据存储"></a>8. 数据存储</h1><p>在前面已经提到，容器的生命周期可能很短，会被频繁地创建和销毁。那么容器在销毁时，保存在容器中的数据也会被清除。这种结果对用户来说，在某些情况下是不乐意看到的。为了持久化保存容器的数据，kubernetes引入了Volume的概念。</p><p>Volume是Pod中能够被多个容器访问的共享目录，它被定义在Pod上，然后被一个Pod里的多个容器挂载到具体的文件目录下，kubernetes通过Volume实现同一个Pod中不同容器之间的数据共享以及数据的持久化存储。Volume的生命容器不与Pod中单个容器的生命周期相关，当容器终止或者重启时，Volume中的数据也不会丢失。</p><p>kubernetes的Volume支持多种类型，比较常见的有下面几个：</p><ul><li>简单存储：EmptyDir、HostPath、NFS</li><li>高级存储：PV、PVC</li><li>配置存储：ConfigMap、Secret</li></ul><h2 id="8-1-基本存储"><a href="#8-1-基本存储" class="headerlink" title="8.1 基本存储"></a>8.1 基本存储</h2><h3 id="8-1-1-EmptyDir"><a href="#8-1-1-EmptyDir" class="headerlink" title="8.1.1 EmptyDir"></a>8.1.1 EmptyDir</h3><p>EmptyDir是最基础的Volume类型，一个EmptyDir就是Host上的一个空目录。</p><p>EmptyDir是在Pod被分配到Node时创建的，它的初始内容为空，并且无须指定宿主机上对应的目录文件，因为kubernetes会自动分配一个目录，当Pod销毁时， EmptyDir中的数据也会被永久删除。 EmptyDir用途如下：</p><ul><li>临时空间，例如用于某些应用程序运行时所需的临时目录，且无须永久保留</li><li>一个容器需要从另一个容器中获取数据的目录（多容器共享目录）</li></ul><p>接下来，通过一个容器之间文件共享的案例来使用一下EmptyDir。</p><p>在一个Pod中准备两个容器nginx和busybox，然后声明一个Volume分别挂在到两个容器的目录中，然后nginx容器负责向Volume中写日志，busybox中通过命令将日志内容读到控制台。</p><p><img src="https://s2.loli.net/2023/01/24/tYjE9eGU8FKqQM3.png" alt="img"></p><p>创建一个volume-emptydir.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-emptydir</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span>  <span class="comment"># 将logs-volume挂在到nginx容器中，对应的目录为 /var/log/nginx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>] <span class="comment"># 初始命令，动态读取指定文件中内容</span></span><br><span class="line">    <span class="attr">volumeMounts:</span>  <span class="comment"># 将logs-volume 挂在到busybox容器中，对应的目录为 /logs</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span> <span class="comment"># 声明volume， name为logs-volume，类型为emptyDir</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">emptyDir:</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-emptydir.yaml</span><br><span class="line">pod/volume-emptydir created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-emptydir -n dev -o wide</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE      IP       NODE   ...... </span><br><span class="line">volume-emptydir       2/2     Running   0          97s   10.42.2.9   node1  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过podIp访问nginx</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.42.2.9</span><br><span class="line">......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过kubectl logs命令查看指定容器的标准输出</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl logs -f volume-emptydir -n dev -c busybox</span><br><span class="line">10.42.1.0 - - [27/Jun/2021:15:08:54 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot;</span><br></pre></td></tr></table></figure><h3 id="8-1-2-HostPath"><a href="#8-1-2-HostPath" class="headerlink" title="8.1.2 HostPath"></a>8.1.2 HostPath</h3><p>上节课提到，EmptyDir中数据不会被持久化，它会随着Pod的结束而销毁，如果想简单的将数据持久化到主机中，可以选择HostPath。</p><p>HostPath就是将Node主机中一个实际目录挂在到Pod中，以供容器使用，这样的设计就可以保证Pod销毁了，但是数据依据可以存在于Node主机上。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200413214031331.png" alt="img"></p><p>创建一个volume-hostpath.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-hostpath</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">hostPath:</span> </span><br><span class="line">      <span class="attr">path:</span> <span class="string">/root/logs</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">DirectoryOrCreate</span>  <span class="comment"># 目录存在就使用，不存在就先创建后使用</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">关于type的值的一点说明：</span><br><span class="line">    DirectoryOrCreate 目录存在就使用，不存在就先创建后使用</span><br><span class="line">    Directory   目录必须存在</span><br><span class="line">    FileOrCreate  文件存在就使用，不存在就先创建后使用</span><br><span class="line">    File 文件必须存在 </span><br><span class="line">    Socket  unix套接字必须存在</span><br><span class="line">    CharDevice  字符设备必须存在</span><br><span class="line">    BlockDevice 块设备必须存在</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-hostpath.yaml</span><br><span class="line">pod/volume-hostpath created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-hostpath -n dev -o wide</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE   IP             NODE   ......</span><br><span class="line">pod-volume-hostpath   2/2     Running   0          16s   10.42.2.10     node1  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">访问nginx</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.42.2.10</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来就可以去host的/root/logs目录下查看存储的文件了</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##  注意: 下面的操作需要到Pod所在的节点运行（案例中是node1）</span></span></span><br><span class="line">[root@node1 ~]# ls /root/logs/</span><br><span class="line">access.log  error.log</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同样的道理，如果在此目录下创建一个文件，到容器中也是可以看到的</span></span><br></pre></td></tr></table></figure><h3 id="8-1-3-NFS"><a href="#8-1-3-NFS" class="headerlink" title="8.1.3 NFS"></a>8.1.3 NFS</h3><p>HostPath可以解决数据持久化的问题，但是一旦Node节点故障了，Pod如果转移到了别的节点，又会出现问题了，此时需要准备单独的网络存储系统，比较常用的用NFS、CIFS。</p><p>NFS是一个网络文件存储系统，可以搭建一台NFS服务器，然后将Pod中的存储直接连接到NFS系统上，这样的话，无论Pod在节点上怎么转移，只要Node跟NFS的对接没问题，数据就可以成功访问。</p><p><img src="https://s2.loli.net/2023/01/24/7CE6sDdgyHXn2uJ.png" alt="img"></p><p>1）首先要准备nfs的服务器，这里为了简单，直接是master节点做nfs服务器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在nfs上安装nfs服务</span></span><br><span class="line">[root@nfs ~]# yum install nfs-utils -y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">准备一个共享目录</span></span><br><span class="line">[root@nfs ~]# mkdir /root/data/nfs -pv</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将共享目录以读写权限暴露给192.168.5.0/24网段中的所有主机</span></span><br><span class="line">[root@nfs ~]# vim /etc/exports</span><br><span class="line">[root@nfs ~]# more /etc/exports</span><br><span class="line">/root/data/nfs     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动nfs服务</span></span><br><span class="line">[root@nfs ~]# systemctl restart nfs</span><br></pre></td></tr></table></figure><p>2）接下来，要在的每个node节点上都安装下nfs，这样的目的是为了node节点可以驱动nfs设备</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在node上安装nfs服务，注意不需要启动</span></span><br><span class="line">[root@k8s-master01 ~]# yum install nfs-utils -y</span><br></pre></td></tr></table></figure><p>3）接下来，就可以编写pod的配置文件了，创建volume-nfs.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-nfs</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>] </span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">nfs:</span></span><br><span class="line">      <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span>  <span class="comment">#nfs服务器地址</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/root/data/nfs</span> <span class="comment">#共享文件路径</span></span><br></pre></td></tr></table></figure><p>4）最后，运行下pod，观察结果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-nfs.yaml</span><br><span class="line">pod/volume-nfs created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-nfs -n dev</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">volume-nfs        2/2     Running   0          2m9s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看nfs服务器上的共享目录，发现已经有文件了</span></span><br><span class="line">[root@k8s-master01 ~]# ls /root/data/</span><br><span class="line">access.log  error.log</span><br></pre></td></tr></table></figure><h2 id="8-2-高级存储"><a href="#8-2-高级存储" class="headerlink" title="8.2 高级存储"></a>8.2 高级存储</h2><p>前面已经学习了使用NFS提供存储，此时就要求用户会搭建NFS系统，并且会在yaml配置nfs。由于kubernetes支持的存储系统有很多，要求客户全都掌握，显然不现实。为了能够屏蔽底层存储实现的细节，方便用户使用， kubernetes引入PV和PVC两种资源对象。</p><p>PV（Persistent Volume）是持久化卷的意思，是对底层的共享存储的一种抽象。一般情况下PV由kubernetes管理员进行创建和配置，它与底层具体的共享存储技术有关，并通过插件完成与共享存储的对接。</p><p>PVC（Persistent Volume Claim）是持久卷声明的意思，是用户对于存储需求的一种声明。换句话说，PVC其实就是用户向kubernetes系统发出的一种资源需求申请。</p><p><img src="https://s2.loli.net/2023/01/24/19QWj2qopyCStJl.png" alt="img"></p><p>使用了PV和PVC之后，工作可以得到进一步的细分：</p><ul><li>存储：存储工程师维护</li><li>PV： kubernetes管理员维护</li><li>PVC：kubernetes用户维护</li></ul><h3 id="8-2-1-PV"><a href="#8-2-1-PV" class="headerlink" title="8.2.1 PV"></a>8.2.1 PV</h3><p>PV是存储资源的抽象，下面是资源清单文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span>  </span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pv2</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">nfs:</span> <span class="comment"># 存储类型，与底层真正存储对应</span></span><br><span class="line">  <span class="attr">capacity:</span>  <span class="comment"># 存储能力，目前只支持存储空间的设置</span></span><br><span class="line">    <span class="attr">storage:</span> <span class="string">2Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span>  <span class="comment"># 访问模式</span></span><br><span class="line">  <span class="attr">storageClassName:</span> <span class="comment"># 存储类别</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="comment"># 回收策略</span></span><br></pre></td></tr></table></figure><p>PV 的关键配置参数说明：</p><ul><li><p><strong>存储类型</strong></p><p>  底层实际存储的类型，kubernetes支持多种存储类型，每种存储类型的配置都有所差异</p></li><li><p><strong>存储能力（capacity）</strong></p></li></ul><p>目前只支持存储空间的设置( storage&#x3D;1Gi )，不过未来可能会加入IOPS、吞吐量等指标的配置</p><ul><li><p><strong>访问模式（accessModes）</strong></p><p>  用于描述用户应用对存储资源的访问权限，访问权限包括下面几种方式：</p><ul><li>ReadWriteOnce（RWO）：读写权限，但是只能被单个节点挂载</li><li>ReadOnlyMany（ROX）： 只读权限，可以被多个节点挂载</li><li>ReadWriteMany（RWX）：读写权限，可以被多个节点挂载</li></ul><p>  <code>需要注意的是，底层不同的存储类型可能支持的访问模式不同</code></p></li><li><p><strong>回收策略（persistentVolumeReclaimPolicy）</strong></p><p>  当PV不再被使用了之后，对其的处理方式。目前支持三种策略：</p><ul><li>Retain （保留） 保留数据，需要管理员手工清理数据</li><li>Recycle（回收） 清除 PV 中的数据，效果相当于执行 rm -rf &#x2F;thevolume&#x2F;*</li><li>Delete （删除） 与 PV 相连的后端存储完成 volume 的删除操作，当然这常见于云服务商的存储服务</li></ul><p>  <code>需要注意的是，底层不同的存储类型可能支持的回收策略不同</code></p></li><li><p><strong>存储类别</strong></p><p>  PV可以通过storageClassName参数指定一个存储类别</p><ul><li>具有特定类别的PV只能与请求了该类别的PVC进行绑定</li><li>未设定类别的PV则只能与不请求任何类别的PVC进行绑定</li></ul></li><li><p><strong>状态（status）</strong></p><p>  一个 PV 的生命周期中，可能会处于4中不同的阶段：</p><ul><li>Available（可用）： 表示可用状态，还未被任何 PVC 绑定</li><li>Bound（已绑定）： 表示 PV 已经被 PVC 绑定</li><li>Released（已释放）： 表示 PVC 被删除，但是资源还未被集群重新声明</li><li>Failed（失败）： 表示该 PV 的自动回收失败</li></ul></li></ul><p><strong>实验</strong></p><p>使用NFS作为存储，来演示PV的使用，创建3个PV，对应NFS中的3个暴露的路径。</p><ol><li>准备NFS环境</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建目录</span></span><br><span class="line">[root@nfs ~]# mkdir /root/data/&#123;pv1,pv2,pv3&#125; -pv</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">暴露服务</span></span><br><span class="line">[root@nfs ~]# more /etc/exports</span><br><span class="line">/root/data/pv1     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line">/root/data/pv2     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line">/root/data/pv3     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启服务</span></span><br><span class="line">[root@nfs ~]#  systemctl restart nfs</span><br></pre></td></tr></table></figure><ol start="2"><li>创建pv.yaml</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv1</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv1</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv2</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">2Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv2</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv3</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">3Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv3</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建 pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pv.yaml</span><br><span class="line">persistentvolume/pv1 created</span><br><span class="line">persistentvolume/pv2 created</span><br><span class="line">persistentvolume/pv3 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -o wide</span><br><span class="line">NAME   CAPACITY   ACCESS MODES  RECLAIM POLICY  STATUS      AGE   VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWX            Retain        Available    10s   Filesystem</span><br><span class="line">pv2    2Gi        RWX            Retain        Available    10s   Filesystem</span><br><span class="line">pv3    3Gi        RWX            Retain        Available    9s    Filesystem</span><br></pre></td></tr></table></figure><h3 id="8-2-2-PVC"><a href="#8-2-2-PVC" class="headerlink" title="8.2.2 PVC"></a>8.2.2 PVC</h3><p>PVC是资源的申请，用来声明对存储空间、访问模式、存储类别需求信息。下面是资源清单文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> <span class="comment"># 访问模式</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 采用标签对PV选择</span></span><br><span class="line">  <span class="attr">storageClassName:</span> <span class="comment"># 存储类别</span></span><br><span class="line">  <span class="attr">resources:</span> <span class="comment"># 请求空间</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">5Gi</span></span><br></pre></td></tr></table></figure><p>PVC 的关键配置参数说明：</p><ul><li><strong>访问模式（accessModes）</strong></li></ul><p>用于描述用户应用对存储资源的访问权限</p><ul><li><p><strong>选择条件（selector）</strong></p><p>  通过Label Selector的设置，可使PVC对于系统中己存在的PV进行筛选</p></li><li><p><strong>存储类别（storageClassName）</strong></p><p>  PVC在定义时可以设定需要的后端存储的类别，只有设置了该class的pv才能被系统选出</p></li><li><p><strong>资源请求（Resources ）</strong></p><p>  描述对存储资源的请求</p></li></ul><p><strong>实验</strong></p><ol><li>创建pvc.yaml，申请pv</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc2</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc3</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pvc.yaml</span><br><span class="line">persistentvolumeclaim/pvc1 created</span><br><span class="line">persistentvolumeclaim/pvc2 created</span><br><span class="line">persistentvolumeclaim/pvc3 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pvc  -n dev -o wide</span><br><span class="line">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE   VOLUMEMODE</span><br><span class="line">pvc1   Bound    pv1      1Gi        RWX                           15s   Filesystem</span><br><span class="line">pvc2   Bound    pv2      2Gi        RWX                           15s   Filesystem</span><br><span class="line">pvc3   Bound    pv3      3Gi        RWX                           15s   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -o wide</span><br><span class="line">NAME  CAPACITY ACCESS MODES  RECLAIM POLICY  STATUS    CLAIM       AGE     VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWx        Retain          Bound    dev/pvc1    3h37m    Filesystem</span><br><span class="line">pv2    2Gi        RWX        Retain          Bound    dev/pvc2    3h37m    Filesystem</span><br><span class="line">pv3    3Gi        RWX        Retain          Bound    dev/pvc3    3h37m    Filesystem   </span><br></pre></td></tr></table></figure><ol start="2"><li>创建pods.yaml, 使用pv</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do echo pod1 &gt;&gt; /root/out.txt; sleep 10; done;&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/root/</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">        <span class="attr">claimName:</span> <span class="string">pvc1</span></span><br><span class="line">        <span class="attr">readOnly:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod2</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do echo pod2 &gt;&gt; /root/out.txt; sleep 10; done;&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/root/</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">        <span class="attr">claimName:</span> <span class="string">pvc2</span></span><br><span class="line">        <span class="attr">readOnly:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pods.yaml</span><br><span class="line">pod/pod1 created</span><br><span class="line">pod/pod2 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME   READY   STATUS    RESTARTS   AGE   IP            NODE   </span><br><span class="line">pod1   1/1     Running   0          14s   10.244.1.69   node1   </span><br><span class="line">pod2   1/1     Running   0          14s   10.244.1.70   node1  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pvc -n dev -o wide</span><br><span class="line">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES      AGE   VOLUMEMODE</span><br><span class="line">pvc1   Bound    pv1      1Gi        RWX               94m   Filesystem</span><br><span class="line">pvc2   Bound    pv2      2Gi        RWX               94m   Filesystem</span><br><span class="line">pvc3   Bound    pv3      3Gi        RWX               94m   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -n dev -o wide</span><br><span class="line">NAME   CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM       AGE     VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWX            Retain           Bound    dev/pvc1    5h11m   Filesystem</span><br><span class="line">pv2    2Gi        RWX            Retain           Bound    dev/pvc2    5h11m   Filesystem</span><br><span class="line">pv3    3Gi        RWX            Retain           Bound    dev/pvc3    5h11m   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看nfs中的文件存储</span></span><br><span class="line">[root@nfs ~]# more /root/data/pv1/out.txt</span><br><span class="line">node1</span><br><span class="line">node1</span><br><span class="line">[root@nfs ~]# more /root/data/pv2/out.txt</span><br><span class="line">node2</span><br><span class="line">node2</span><br></pre></td></tr></table></figure><h3 id="8-2-3-生命周期"><a href="#8-2-3-生命周期" class="headerlink" title="8.2.3 生命周期"></a>8.2.3 生命周期</h3><p>PVC和PV是一一对应的，PV和PVC之间的相互作用遵循以下生命周期：</p><ul><li><p><strong>资源供应</strong>：管理员手动创建底层存储和PV</p></li><li><p><strong>资源绑定</strong>：用户创建PVC，kubernetes负责根据PVC的声明去寻找PV，并绑定</p><p>  在用户定义好PVC之后，系统将根据PVC对存储资源的请求在已存在的PV中选择一个满足条件的</p><ul><li>一旦找到，就将该PV与用户定义的PVC进行绑定，用户的应用就可以使用这个PVC了</li><li>如果找不到，PVC则会无限期处于Pending状态，直到等到系统管理员创建了一个符合其要求的PV</li></ul><p>  PV一旦绑定到某个PVC上，就会被这个PVC独占，不能再与其他PVC进行绑定了</p></li><li><p><strong>资源使用</strong>：用户可在pod中像volume一样使用pvc</p><p>  Pod使用Volume的定义，将PVC挂载到容器内的某个路径进行使用。</p></li><li><p><strong>资源释放</strong>：用户删除pvc来释放pv</p><p>  当存储资源使用完毕后，用户可以删除PVC，与该PVC绑定的PV将会被标记为“已释放”，但还不能立刻与其他PVC进行绑定。通过之前PVC写入的数据可能还被留在存储设备上，只有在清除之后该PV才能再次使用。</p></li><li><p><strong>资源回收</strong>：kubernetes根据pv设置的回收策略进行资源的回收</p><p>  对于PV，管理员可以设定回收策略，用于设置与之绑定的PVC释放资源之后如何处理遗留数据的问题。只有PV的存储空间完成回收，才能供新的PVC绑定和使用</p></li></ul><p><img src="https://s2.loli.net/2023/01/24/OoIxBl6kVsCiHFX.png" alt="img"></p><h2 id="8-3-配置存储"><a href="#8-3-配置存储" class="headerlink" title="8.3 配置存储"></a>8.3 配置存储</h2><h3 id="8-3-1-ConfigMap"><a href="#8-3-1-ConfigMap" class="headerlink" title="8.3.1 ConfigMap"></a>8.3.1 ConfigMap</h3><p>ConfigMap是一种比较特殊的存储卷，它的主要作用是用来存储配置信息的。</p><p>创建configmap.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">configmap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">info:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    username:admin</span></span><br><span class="line"><span class="string">    password:123456</span></span><br></pre></td></tr></table></figure><p>接下来，使用此配置文件创建configmap</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建configmap</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f configmap.yaml</span><br><span class="line">configmap/configmap created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看configmap详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe cm configmap -n dev</span><br><span class="line">Name:         configmap</span><br><span class="line">Namespace:    dev</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line"></span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">info:</span><br><span class="line">----</span><br><span class="line">username:admin</span><br><span class="line">password:123456</span><br><span class="line"></span><br><span class="line">Events:  &lt;none&gt;</span><br></pre></td></tr></table></figure><p>接下来创建一个pod-configmap.yaml，将上面创建的configmap挂载进去</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-configmap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">volumeMounts:</span> <span class="comment"># 将configmap挂载到目录</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/configmap/config</span></span><br><span class="line">  <span class="attr">volumes:</span> <span class="comment"># 引用configmap</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">    <span class="attr">configMap:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">configmap</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-configmap.yaml</span><br><span class="line">pod/pod-configmap created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-configmap -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-configmap   1/1     Running   0          6s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">进入容器</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pod-configmap -n dev /bin/sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> /configmap/config/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">info</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">more info</span></span><br><span class="line">username:admin</span><br><span class="line">password:123456</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以看到映射已经成功，每个configmap都映射成了一个目录</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">key---&gt;文件     value----&gt;文件中的内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时如果更新configmap的内容, 容器中的值也会动态更新</span></span><br></pre></td></tr></table></figure><h3 id="8-3-2-Secret"><a href="#8-3-2-Secret" class="headerlink" title="8.3.2 Secret"></a>8.3.2 Secret</h3><p>在kubernetes中，还存在一种和ConfigMap非常类似的对象，称为Secret对象。它主要用于存储敏感信息，例如密码、秘钥、证书等等。</p><ol><li>首先使用base64对数据进行编码</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# echo -n &#x27;admin&#x27; | base64 #准备username</span><br><span class="line">YWRtaW4=</span><br><span class="line">[root@k8s-master01 ~]# echo -n &#x27;123456&#x27; | base64 #准备password</span><br><span class="line">MTIzNDU2</span><br></pre></td></tr></table></figure><ol start="2"><li>接下来编写secret.yaml，并创建Secret</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">secret</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">YWRtaW4=</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">MTIzNDU2</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建secret</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f secret.yaml</span><br><span class="line">secret/secret created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看secret详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe secret secret -n dev</span><br><span class="line">Name:         secret</span><br><span class="line">Namespace:    dev</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Type:  Opaque</span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">password:  6 bytes</span><br><span class="line">username:  5 bytes</span><br></pre></td></tr></table></figure><ol start="3"><li>创建pod-secret.yaml，将上面创建的secret挂载进去：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-secret</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">volumeMounts:</span> <span class="comment"># 将secret挂载到目录</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/secret/config</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">    <span class="attr">secret:</span></span><br><span class="line">      <span class="attr">secretName:</span> <span class="string">secret</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-secret.yaml</span><br><span class="line">pod/pod-secret created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-secret -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-secret      1/1     Running   0          2m28s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器，查看secret信息，发现已经自动解码了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pod-secret /bin/sh -n dev</span><br><span class="line">/ # ls /secret/config/</span><br><span class="line">password  username</span><br><span class="line">/ # more /secret/config/username</span><br><span class="line">admin</span><br><span class="line">/ # more /secret/config/password</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>至此，已经实现了利用secret实现了信息的编码。</p><h1 id="9-安全认证"><a href="#9-安全认证" class="headerlink" title="9. 安全认证"></a>9. 安全认证</h1><h2 id="9-1-访问控制概述"><a href="#9-1-访问控制概述" class="headerlink" title="9.1 访问控制概述"></a>9.1 访问控制概述</h2><p>Kubernetes作为一个分布式集群的管理工具，保证集群的安全性是其一个重要的任务。所谓的安全性其实就是保证对Kubernetes的各种<strong>客户端</strong>进行<strong>认证和鉴权</strong>操作。</p><p><strong>客户端</strong></p><p>在Kubernetes集群中，客户端通常有两类：</p><ul><li><strong>User Account</strong>：一般是独立于kubernetes之外的其他服务管理的用户账号。</li><li><strong>Service Account</strong>：kubernetes管理的账号，用于为Pod中的服务进程在访问Kubernetes时提供身份标识。</li></ul><p><img src="https://s2.loli.net/2023/01/24/XDtu6VIOBh73FS2.png" alt="img"></p><p><strong>认证、授权与准入控制</strong></p><p>ApiServer是访问及管理资源对象的唯一入口。任何一个请求访问ApiServer，都要经过下面三个流程：</p><ul><li>Authentication（认证）：身份鉴别，只有正确的账号才能够通过认证</li><li>Authorization（授权）： 判断用户是否有权限对访问的资源执行特定的动作</li><li>Admission Control（准入控制）：用于补充授权机制以实现更加精细的访问控制功能。</li></ul><p><img src="https://s2.loli.net/2023/01/24/PmTWQnHcDp1C4G3.png" alt="img"></p><h2 id="9-2-认证管理"><a href="#9-2-认证管理" class="headerlink" title="9.2 认证管理"></a>9.2 认证管理</h2><p>Kubernetes集群安全的最关键点在于如何识别并认证客户端身份，它提供了3种客户端身份认证方式：</p><ul><li><p>HTTP Base认证：通过用户名+密码的方式认证</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是把“用户名:密码”用BASE64算法进行编码后的字符串放在HTTP请求中的Header Authorization域里发送给服务端。服务端收到后进行解码，获取用户名及密码，然后进行用户身份认证的过程。</span><br></pre></td></tr></table></figure></li><li><p>HTTP Token认证：通过一个Token来识别合法用户</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是用一个很长的难以被模仿的字符串--Token来表明客户身份的一种方式。每个Token对应一个用户名，当客户端发起API调用请求时，需要在HTTP Header里放入Token，API Server接到Token后会跟服务器中保存的token进行比对，然后进行用户身份认证的过程。</span><br></pre></td></tr></table></figure></li><li><p>HTTPS证书认证：基于CA根证书签名的双向数字证书认证方式</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是安全性最高的一种方式，但是同时也是操作起来最麻烦的一种方式。</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://s2.loli.net/2023/01/24/Z4WbLKugV1Y5UNn.png" alt="img"></p><p><strong>HTTPS认证大体分为3个过程：</strong></p><ol><li><p>证书申请和下发</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTPS通信双方的服务器向CA机构申请证书，CA机构下发根证书、服务端证书及私钥给申请者</span><br></pre></td></tr></table></figure></li><li><p>客户端和服务端的双向认证</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1&gt; 客户端向服务器端发起请求，服务端下发自己的证书给客户端，</span><br><span class="line">   客户端接收到证书后，通过私钥解密证书，在证书中获得服务端的公钥，</span><br><span class="line">   客户端利用服务器端的公钥认证证书中的信息，如果一致，则认可这个服务器</span><br><span class="line">2&gt; 客户端发送自己的证书给服务器端，服务端接收到证书后，通过私钥解密证书，</span><br><span class="line">   在证书中获得客户端的公钥，并用该公钥认证证书信息，确认客户端是否合法</span><br></pre></td></tr></table></figure></li><li><p>服务器端和客户端进行通信</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">服务器端和客户端协商好加密方案后，客户端会产生一个随机的秘钥并加密，然后发送到服务器端。</span><br><span class="line">服务器端接收这个秘钥后，双方接下来通信的所有内容都通过该随机秘钥加密</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>注意: Kubernetes允许同时配置多种认证方式，只要其中任意一个方式认证通过即可</p></blockquote><h2 id="9-3-授权管理"><a href="#9-3-授权管理" class="headerlink" title="9.3 授权管理"></a>9.3 授权管理</h2><p>授权发生在认证成功之后，通过认证就可以知道请求用户是谁， 然后Kubernetes会根据事先定义的授权策略来决定用户是否有权限访问，这个过程就称为授权。</p><p>每个发送到ApiServer的请求都带上了用户和资源的信息：比如发送请求的用户、请求的路径、请求的动作等，授权就是根据这些信息和授权策略进行比较，如果符合策略，则认为授权通过，否则会返回错误。</p><p>API Server目前支持以下几种授权策略：</p><ul><li>AlwaysDeny：表示拒绝所有请求，一般用于测试</li><li>AlwaysAllow：允许接收所有请求，相当于集群不需要授权流程（Kubernetes默认的策略）</li><li>ABAC：基于属性的访问控制，表示使用用户配置的授权规则对用户请求进行匹配和控制</li><li>Webhook：通过调用外部REST服务对用户进行授权</li><li>Node：是一种专用模式，用于对kubelet发出的请求进行访问控制</li><li>RBAC：基于角色的访问控制（kubeadm安装方式下的默认选项）</li></ul><p>RBAC(Role-Based Access Control) 基于角色的访问控制，主要是在描述一件事情：<strong>给哪些对象授予了哪些权限</strong></p><p>其中涉及到了下面几个概念：</p><ul><li>对象：User、Groups、ServiceAccount</li><li>角色：代表着一组定义在资源上的可操作动作(权限)的集合</li><li>绑定：将定义好的角色跟用户绑定在一起</li></ul><p><img src="https://s2.loli.net/2023/01/24/y1a9d4hNgbkqnzB.png" alt="img"></p><p>RBAC引入了4个顶级资源对象：</p><ul><li>Role、ClusterRole：角色，用于指定一组权限</li><li>RoleBinding、ClusterRoleBinding：角色绑定，用于将角色（权限）赋予给对象</li></ul><p><strong>Role、ClusterRole</strong></p><p>一个角色就是一组权限的集合，这里的权限都是许可形式的（白名单）。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Role只能对命名空间内的资源进行授权，需要指定nameapce</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]  <span class="comment"># 支持的API组列表,&quot;&quot; 空字符串，表示核心API群</span></span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>] <span class="comment"># 支持的资源对象列表</span></span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>] <span class="comment"># 允许的对资源对象的操作方法列表</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ClusterRole可以对集群范围内资源、跨namespaces的范围资源、非资源类型进行授权</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br></pre></td></tr></table></figure><p>需要详细说明的是，rules中的参数：</p><ul><li><p>apiGroups: 支持的API组列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;,&quot;apps&quot;, &quot;autoscaling&quot;, &quot;batch&quot;</span><br></pre></td></tr></table></figure></li><li><p>resources：支持的资源对象列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;services&quot;, &quot;endpoints&quot;, &quot;pods&quot;,&quot;secrets&quot;,&quot;configmaps&quot;,&quot;crontabs&quot;,&quot;deployments&quot;,&quot;jobs&quot;,</span><br><span class="line">&quot;nodes&quot;,&quot;rolebindings&quot;,&quot;clusterroles&quot;,&quot;daemonsets&quot;,&quot;replicasets&quot;,&quot;statefulsets&quot;,</span><br><span class="line">&quot;horizontalpodautoscalers&quot;,&quot;replicationcontrollers&quot;,&quot;cronjobs&quot;</span><br></pre></td></tr></table></figure></li><li><p>verbs：对资源对象的操作方法列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;, &quot;exec&quot;</span><br></pre></td></tr></table></figure></li></ul><p><strong>RoleBinding、ClusterRoleBinding</strong></p><p>角色绑定用来把一个角色绑定到一个目标对象上，绑定目标可以是User、Group或者ServiceAccount。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RoleBinding可以将同一namespace中的subject绑定到某个Role下，则此subject即具有该Role定义的权限</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ClusterRoleBinding在整个集群级别和所有namespaces将特定的subject与ClusterRole绑定，授予权限</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">authorization-clusterrole-binding</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><p><strong>RoleBinding引用ClusterRole进行授权</strong></p><p>RoleBinding可以引用ClusterRole，对属于同一命名空间内ClusterRole定义的资源主体进行授权。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一种很常用的做法就是，集群管理员为集群范围预定义好一组角色（ClusterRole），然后在多个命名空间中重复使用这些ClusterRole。这样可以大幅提高授权管理工作效率，也使得各个命名空间下的基础性授权规则与使用体验保持一致。</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 虽然authorization-clusterrole是一个集群角色，但是因为使用了RoleBinding</span></span><br><span class="line"><span class="comment"># 所以heima只能读取dev命名空间中的资源</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding-ns</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><p><strong>实战：创建一个只能管理dev空间下Pods资源的账号</strong></p><ol><li>创建账号</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1) 创建证书</span></span><br><span class="line">[root@k8s-master01 pki]# cd /etc/kubernetes/pki/</span><br><span class="line">[root@k8s-master01 pki]# (umask 077;openssl genrsa -out devman.key 2048)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2) 用apiserver的证书去签署</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2-1) 签名申请，申请的用户是devman,组是devgroup</span></span><br><span class="line">[root@k8s-master01 pki]# openssl req -new -key devman.key -out devman.csr -subj &quot;/CN=devman/O=devgroup&quot;     </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2-2) 签署证书</span></span><br><span class="line">[root@k8s-master01 pki]# openssl x509 -req -in devman.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out devman.crt -days 3650</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3) 设置集群、用户、上下文信息</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-cluster kubernetes --embed-certs=true --certificate-authority=/etc/kubernetes/pki/ca.crt --server=https://192.168.109.100:6443</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-credentials devman --embed-certs=true --client-certificate=/etc/kubernetes/pki/devman.crt --client-key=/etc/kubernetes/pki/devman.key</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-context devman@kubernetes --cluster=kubernetes --user=devman</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换账户到devman</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context devman@kubernetes</span><br><span class="line">Switched to context &quot;devman@kubernetes&quot;.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看dev下pod，发现没有权限</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl get pods -n dev</span><br><span class="line">Error from server (Forbidden): pods is forbidden: User &quot;devman&quot; cannot list resource &quot;pods&quot; in API group &quot;&quot; in the namespace &quot;dev&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换到admin账户</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context kubernetes-admin@kubernetes</span><br><span class="line">Switched to context &quot;kubernetes-admin@kubernetes&quot;.</span><br></pre></td></tr></table></figure><p>2） 创建Role和RoleBinding，为devman用户授权</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-role</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">devman</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-role</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 pki]# kubectl create -f dev-role.yaml</span><br><span class="line">role.rbac.authorization.k8s.io/dev-role created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io/authorization-role-binding created</span><br></pre></td></tr></table></figure><ol start="3"><li>切换账户，再次验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换账户到devman</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context devman@kubernetes</span><br><span class="line">Switched to context &quot;devman@kubernetes&quot;.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl get pods -n dev</span><br><span class="line">NAME                                 READY   STATUS             RESTARTS   AGE</span><br><span class="line">nginx-deployment-66cb59b984-8wp2k    1/1     Running            0          4d1h</span><br><span class="line">nginx-deployment-66cb59b984-dc46j    1/1     Running            0          4d1h</span><br><span class="line">nginx-deployment-66cb59b984-thfck    1/1     Running            0          4d1h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为了不影响后面的学习,切回admin账户</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context kubernetes-admin@kubernetes</span><br><span class="line">Switched to context &quot;kubernetes-admin@kubernetes&quot;.</span><br></pre></td></tr></table></figure><h2 id="9-4-准入控制"><a href="#9-4-准入控制" class="headerlink" title="9.4 准入控制"></a>9.4 准入控制</h2><p>通过了前面的认证和授权之后，还需要经过准入控制处理通过之后，apiserver才会处理这个请求。</p><p>准入控制是一个可配置的控制器列表，可以通过在Api-Server上通过命令行设置选择执行哪些准入控制器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--admission-control=NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,</span><br><span class="line">                      DefaultStorageClass,ResourceQuota,DefaultTolerationSeconds</span><br></pre></td></tr></table></figure><p>只有当所有的准入控制器都检查通过之后，apiserver才执行该请求，否则返回拒绝。</p><p>当前可配置的Admission Control准入控制如下：</p><ul><li>AlwaysAdmit：允许所有请求</li><li>AlwaysDeny：禁止所有请求，一般用于测试</li><li>AlwaysPullImages：在启动容器之前总去下载镜像</li><li>DenyExecOnPrivileged：它会拦截所有想在Privileged Container上执行命令的请求</li><li>ImagePolicyWebhook：这个插件将允许后端的一个Webhook程序来完成admission controller的功能。</li><li>Service Account：实现ServiceAccount实现了自动化</li><li>SecurityContextDeny：这个插件将使用SecurityContext的Pod中的定义全部失效</li><li>ResourceQuota：用于资源配额管理目的，观察所有请求，确保在namespace上的配额不会超标</li><li>LimitRanger：用于资源限制管理，作用于namespace上，确保对Pod进行资源限制</li><li>InitialResources：为未设置资源请求与限制的Pod，根据其镜像的历史资源的使用情况进行设置</li><li>NamespaceLifecycle：如果尝试在一个不存在的namespace中创建资源对象，则该创建请求将被拒绝。当删除一个namespace时，系统将会删除该namespace中所有对象。</li><li>DefaultStorageClass：为了实现共享存储的动态供应，为未指定StorageClass或PV的PVC尝试匹配默认的StorageClass，尽可能减少用户在申请PVC时所需了解的后端存储细节</li><li>DefaultTolerationSeconds：这个插件为那些没有设置forgiveness tolerations并具有notready:NoExecute和unreachable:NoExecute两种taints的Pod设置默认的“容忍”时间，为5min</li><li>PodSecurityPolicy：这个插件用于在创建或修改Pod时决定是否根据Pod的security context和可用的PodSecurityPolicy对Pod的安全策略进行控制</li></ul><h1 id="10-DashBoard"><a href="#10-DashBoard" class="headerlink" title="10. DashBoard"></a>10. DashBoard</h1><p>之前在kubernetes中完成的所有操作都是通过命令行工具kubectl完成的。其实，为了提供更丰富的用户体验，kubernetes还开发了一个基于web的用户界面（Dashboard）。用户可以使用Dashboard部署容器化的应用，还可以监控应用的状态，执行故障排查以及管理kubernetes中各种资源。</p><h2 id="10-1-部署Dashboard"><a href="#10-1-部署Dashboard" class="headerlink" title="10.1 部署Dashboard"></a>10.1 部署Dashboard</h2><ol><li>下载yaml，并运行Dashboard</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载yaml</span></span><br><span class="line">[root@k8s-master01 ~]# wget  https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改kubernetes-dashboard的Service类型</span></span><br><span class="line">kind: Service</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  type: NodePort  # 新增</span><br><span class="line">  ports:</span><br><span class="line">    - port: 443</span><br><span class="line">      targetPort: 8443</span><br><span class="line">      nodePort: 30009  # 新增</span><br><span class="line">  selector:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">部署</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f recommended.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看namespace下的kubernetes-dashboard下的资源</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod,svc -n kubernetes-dashboard</span><br><span class="line">NAME                                            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/dashboard-metrics-scraper-c79c65bb7-zwfvw   1/1     Running   0          111s</span><br><span class="line">pod/kubernetes-dashboard-56484d4c5-z95z5        1/1     Running   0          111s</span><br><span class="line"></span><br><span class="line">NAME                               TYPE       CLUSTER-IP      EXTERNAL-IP  PORT(S)         AGE</span><br><span class="line">service/dashboard-metrics-scraper  ClusterIP  10.96.89.218    &lt;none&gt;       8000/TCP        111s</span><br><span class="line">service/kubernetes-dashboard       NodePort   10.104.178.171  &lt;none&gt;       443:30009/TCP   111s</span><br></pre></td></tr></table></figure><p>2）创建访问账户，获取token</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建账号</span></span><br><span class="line">[root@k8s-master01-1 ~]# kubectl create serviceaccount dashboard-admin -n kubernetes-dashboard</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">授权</span></span><br><span class="line">[root@k8s-master01-1 ~]# kubectl create clusterrolebinding dashboard-admin-rb --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:dashboard-admin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取账号token</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get secrets -n kubernetes-dashboard | grep dashboard-admin</span><br><span class="line">dashboard-admin-token-xbqhh        kubernetes.io/service-account-token   3      2m35s</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe secrets dashboard-admin-token-xbqhh -n kubernetes-dashboard</span><br><span class="line">Name:         dashboard-admin-token-xbqhh</span><br><span class="line">Namespace:    kubernetes-dashboard</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  kubernetes.io/service-account.name: dashboard-admin</span><br><span class="line">              kubernetes.io/service-account.uid: 95d84d80-be7a-4d10-a2e0-68f90222d039</span><br><span class="line"></span><br><span class="line">Type:  kubernetes.io/service-account-token</span><br><span class="line"></span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">namespace:  20 bytes</span><br><span class="line">token:      eyJhbGciOiJSUzI1NiIsImtpZCI6ImJrYkF4bW5XcDhWcmNGUGJtek5NODFuSXl1aWptMmU2M3o4LTY5a2FKS2cifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkYXNoYm9hcmQtYWRtaW4tdG9rZW4teGJxaGgiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGFzaGJvYXJkLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiOTVkODRkODAtYmU3YS00ZDEwLWEyZTAtNjhmOTAyMjJkMDM5Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50Omt1YmVybmV0ZXMtZGFzaGJvYXJkOmRhc2hib2FyZC1hZG1pbiJ9.NAl7e8ZfWWdDoPxkqzJzTB46sK9E8iuJYnUI9vnBaY3Jts7T1g1msjsBnbxzQSYgAG--cV0WYxjndzJY_UWCwaGPrQrt_GunxmOK9AUnzURqm55GR2RXIZtjsWVP2EBatsDgHRmuUbQvTFOvdJB4x3nXcYLN2opAaMqg3rnU2rr-A8zCrIuX_eca12wIp_QiuP3SF-tzpdLpsyRfegTJZl6YnSGyaVkC9id-cxZRb307qdCfXPfCHR_2rt5FVfxARgg_C0e3eFHaaYQO7CitxsnIoIXpOFNAR8aUrmopJyODQIPqBWUehb7FhlU1DCduHnIIXVC_UICZ-MKYewBDLw</span><br><span class="line">ca.crt:     1025 bytes</span><br></pre></td></tr></table></figure><p>3）通过浏览器访问Dashboard的UI</p><p>在登录页面上输入上面的token</p><p><img src="https://s2.loli.net/2023/01/24/TLobRErwyncdlms.png" alt="image-20200520144548997"></p><p>出现下面的页面代表成功</p><p><img src="https://s2.loli.net/2023/01/24/TQUDXvcFi3Pp8fL.png" alt="image-20200520144959353"></p><h2 id="10-2-使用DashBoard"><a href="#10-2-使用DashBoard" class="headerlink" title="10.2 使用DashBoard"></a>10.2 使用DashBoard</h2><p>本章节以Deployment为例演示DashBoard的使用</p><p><strong>查看</strong></p><p>选择指定的命名空间<code>dev</code>，然后点击<code>Deployments</code>，查看dev空间下的所有deployment</p><p><img src="https://s2.loli.net/2023/01/24/wfJEueILK6bQONq.png" alt="img"></p><p><strong>扩缩容</strong></p><p>在<code>Deployment</code>上点击<code>规模</code>，然后指定<code>目标副本数量</code>，点击确定</p><p><img src="https://s2.loli.net/2023/01/24/rsqvAmzoPJdVGBY.png" alt="img"></p><p><strong>编辑</strong></p><p>在<code>Deployment</code>上点击<code>编辑</code>，然后修改<code>yaml文件</code>，点击确定</p><p><img src="https://s2.loli.net/2023/01/24/GvfDZWPiJtjMadx.png" alt="image-20200520163253644"></p><p><strong>查看Pod</strong></p><p>点击<code>Pods</code>, 查看pods列表</p><p><img src="https://s2.loli.net/2023/01/24/SQ1v5Vfqxn8GTka.png" alt="img"></p><p><strong>操作Pod</strong></p><p>选中某个Pod，可以对其执行日志（logs）、进入执行（exec）、编辑、删除操作</p><p><img src="https://s2.loli.net/2023/01/24/gOzA1Cacy2xTBKr.png" alt="img"></p><blockquote><p>Dashboard提供了kubectl的绝大部分功能，这里不再一一演示</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.建库建表的简单操作</title>
      <link href="/posts/d07c5d5a.html"/>
      <url>/posts/d07c5d5a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="2-1-SQL介绍和分类"><a href="#2-1-SQL介绍和分类" class="headerlink" title="2-1 SQL介绍和分类"></a>2-1 SQL介绍和分类</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL介绍：</span><br><span class="line">结构化查询语言，关系型数据库通用的语言</span><br><span class="line"></span><br><span class="line">SQL分类：</span><br><span class="line">DDL：数据定义语言Data Definition; create/alter/drop</span><br><span class="line">    DCL：数据控制语言Data Contrl; grant</span><br><span class="line">    DML：数据操作语言Data Manipulation; insert/update/delete</span><br><span class="line">    DQL：数据的查询语言(非官方);</span><br></pre></td></tr></table></figure><h1 id="2-2-库的简单操作"><a href="#2-2-库的简单操作" class="headerlink" title="2-2 库的简单操作"></a>2-2 库的简单操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">字符集charset：</span><br><span class="line">常用的字符集有两种分别是utf8和utf8mb4，utf8的最大存储长度，单个字符最多支持3个字节，utf8mb4支持的编码比utf8更多，比如emoji表情字符，utf8不支持，emoji字符一个字符占4个字节，utf8存不下</span><br><span class="line"></span><br><span class="line">创建数据库的规范：</span><br><span class="line">库名不建议有大写字母</span><br><span class="line">    创建数据库时建议指定字符集</span><br><span class="line">    库名不能以数字开头</span><br><span class="line">    库名要和实际业务相关</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">增create - 创建数据库：</span><br><span class="line">语法：create database 库名(charset=字符集);</span><br><span class="line"></span><br><span class="line">查show：</span><br><span class="line">show databases;  -- 查看当前MySQL中所有的库</span><br><span class="line">show create database 库名; -- 查看指定数据库的创建规则</span><br><span class="line"></span><br><span class="line">改alter - 修改数据库的字符集：</span><br><span class="line">alter database 库名 charset 字符集; -- 修改后的字符集必须是原字符集的严格超集，当数据库为空的时候，可以修改，但是一旦当数据库中有了数据就必须遵循修改后的字符集必须是原字符集的严格超集这一原则。</span><br><span class="line"></span><br><span class="line">删drop：</span><br><span class="line">drop database 库名;</span><br></pre></td></tr></table></figure><h1 id="2-3-创建表的简单语法及步骤"><a href="#2-3-创建表的简单语法及步骤" class="headerlink" title="2-3 创建表的简单语法及步骤"></a>2-3 创建表的简单语法及步骤</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库的逻辑关系 --- windows系统文件逻辑关系</span><br><span class="line">库 ---- 文件夹</span><br><span class="line">表 ---- 文件</span><br><span class="line">数据 ---- 文件中的数据</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建表的规范：</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建表的步骤和语法：</span><br><span class="line">    1.查看当前所有的库：show databases;</span><br><span class="line">    2.切换到需要创建表的库：use 目标数据库;</span><br><span class="line">    3.创建表(简单版)：create table 表名(字段1 数据类型(宽度), 字段2 数据类型(宽度), …)</span><br><span class="line">    例：create table stu_info(name char(4), age int);</span><br><span class="line">    4.查看当前库下所有的表：show tables;</span><br><span class="line">    5.补充：也可以使用绝对路径的方式创建表; create table 目标数据库.表名(字段 数据类型);</span><br></pre></td></tr></table></figure><h1 id="2-4-表的简单操作-插入数据"><a href="#2-4-表的简单操作-插入数据" class="headerlink" title="2-4 表的简单操作 - 插入数据"></a>2-4 表的简单操作 - 插入数据</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">标准的插入数据的SQL：</span><br><span class="line">insert into 表名(字段1, 字段2,...) values(值1, 值2, ...);  -- 注意字段需要和表中的字段相符，不能出现表中不存在的字段，字段也不能比表中实际的字段多，值和字段顺序相对应</span><br><span class="line"></span><br><span class="line">省略的插入数据的SQL：</span><br><span class="line">insert into 表名 values(值1, 值2, ...);  -- 值的个数必须和表中字段的数量一致，值和表中字段默认顺序相对应</span><br><span class="line"></span><br><span class="line">针对性的为某个字段插入数据：</span><br><span class="line">insert into 表名(指定字段1, 指定字段2, ...) values(值1, 值2)；</span><br><span class="line"></span><br><span class="line">同时插入多条数据：</span><br><span class="line">insert into 表名(字段1, 字段2,...) </span><br><span class="line">values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;  -- 指定字段或者全部字段插入多条数据</span><br><span class="line"></span><br><span class="line">insert into 表名 values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;   -- 所有字段插入多条数据</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 表中插入数据小练习</span><br><span class="line">create database info charset=utf8; -- 创建保存学生信息的数据库</span><br><span class="line">create table info.stu_info (id int, name char(5), QQ char(12));  -- 创建学生信息表</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into info.stu_info(id, name, QQ) values(1, &#x27;lili&#x27;, &#x27;123456&#x27;);-- 标准语法 </span><br><span class="line">insert into info.stu_info values(2, &#x27;梨花&#x27;, &#x27;12222&#x27;);  -- 简略写法</span><br><span class="line">insert into info.stu_info(name, id, QQ) values(&#x27;丽丽&#x27;, 3, &#x27;789456&#x27;);  -- 针对性的插入数据</span><br><span class="line">insert into info.stu_info(id, name, QQ) values</span><br><span class="line">(4, &#x27;qq&#x27;, &#x27;12345&#x27;),</span><br><span class="line">(5, &#x27;wx&#x27;, &#x27;7894&#x27;)</span><br><span class="line">;  -- 同时插入多条数据</span><br></pre></td></tr></table></figure><h1 id="2-5-存储引擎"><a href="#2-5-存储引擎" class="headerlink" title="2-5 存储引擎"></a>2-5 存储引擎</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">存储引擎定义：不同的文件需要不同的存储格式和处理方式；数据库中的储存引擎就是对存储数据的处理机制。不同的存储引擎，对数据的处理方式不同。</span><br><span class="line"></span><br><span class="line">MySQL中主要的存储引擎：</span><br><span class="line">Innodb,，是MySQL5.5版本及之后默认的存储引擎，存储数据更加的安全(第八章会详细介绍该存储引擎)</span><br><span class="line">myisam，是MySQL5.5版本之前默认的存储引擎，速度要比Innodb更快，是我们更加注重的是数据的安全</span><br><span class="line">memory，内存引擎(数据全部存放在内存中) 断电数据丢失</span><br><span class="line">blackhole，无论存什么，都将数据丢失(黑洞)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 查看MySQL的存储引擎</span><br><span class="line">show engines;</span><br><span class="line"></span><br><span class="line">-- 验证不同存储引擎在硬盘上对应的数据文件也不相同</span><br><span class="line">create database test charset=utf8mb4;</span><br><span class="line">create table test.t1(id int) engine=innodb;</span><br><span class="line">create table test.t2(id int) engine=myisam;</span><br><span class="line">create table test.t3(id int) engine=blackhole;</span><br><span class="line">create table test.t4(id int) engine=memory;</span><br><span class="line"></span><br><span class="line">-- 在MySQL安装目录下的Data文件夹的test(创建的数据库)的目录下会分别出现t1 t2 t3 t4表对应的数据文件</span><br></pre></td></tr></table></figure><h1 id="2-6-创建表的完整语法"><a href="#2-6-创建表的完整语法" class="headerlink" title="2-6 创建表的完整语法"></a>2-6 创建表的完整语法</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">复习：创建表的规范</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">字段1 数据类型(宽度) 约束条件 COMMENT 字段1注释,</span><br><span class="line">字段2 数据类型(宽度) 约束条件 COMMENT 字段2注释,</span><br><span class="line">...</span><br><span class="line">) engine=存储引擎 charset=字符集 comment 表注释;</span><br><span class="line"></span><br><span class="line">-- 注意：</span><br><span class="line">-- 1. 在同一张表中字段名不能重复</span><br><span class="line">-- 2. 字段名、字段类型是必须的，宽度、约束条件是可选的，约束条件支持写多个</span><br><span class="line">-- 3. 最后一个字段不能以逗号结尾否则会报错</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">约束条件：null/not null</span><br><span class="line">null：表示该字段可以为空</span><br><span class="line">not null：表示该字段不能为空</span><br><span class="line">例：create table t1(id int,name char(4) not null);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">宽度和约束条件的关系：</span><br><span class="line">宽度可以理解为字符的个数，是用来限制数据的存储的，而约束条件是在款段的基础之上增加的额外的约束。</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表的完整语法小练习</span><br><span class="line">create database info charset=utf8;  -- 创建库</span><br><span class="line">create table info.stu_info(</span><br><span class="line">id int not null comment &#x27;编号&#x27;,</span><br><span class="line">name char(4) not null comment &#x27;姓名&#x27;,</span><br><span class="line">age int not null comment &#x27;年龄&#x27;,</span><br><span class="line">sex char(1) null comment &#x27;性别&#x27;,</span><br><span class="line">qq char(12) not null comment &#x27;QQ号&#x27;</span><br><span class="line">) engine=innodb charset=utf8 comment &#x27;信息表&#x27;;</span><br><span class="line"></span><br><span class="line">-- 向表中写入数据</span><br><span class="line">use info;</span><br><span class="line">insert into stu_info(id, name, age, sex, qq) values(1, &#x27;lili&#x27;, 18, &#x27;男&#x27;, &#x27;123456789&#x27;);  -- 标准插入数据</span><br><span class="line">insert into stu_info values(2, &#x27;nini&#x27;, 18, &#x27;女&#x27;, &#x27;123456789&#x27;);  -- 省略插入数据</span><br><span class="line">insert into stu_info(id, name, age, qq) values(3, &#x27;wx&#x27;, 18, &#x27;123456789&#x27;);  -- 指定字段插入数据</span><br></pre></td></tr></table></figure><h1 id="2-7-查看表结构"><a href="#2-7-查看表结构" class="headerlink" title="2-7 查看表结构"></a>2-7 查看表结构</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">desc 表名；  -- 查看表结构</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(4) | NO   |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">-- Field：字段名</span><br><span class="line">-- Type：字段的数据类型</span><br><span class="line">-- Null：字段的约束条件是否接受空值</span><br><span class="line">-- Key：是否是key</span><br><span class="line">-- Default：默认值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">show create table 表名 \G; -- 查看创建表的完整语法，\G为了更加清楚的查看结果</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: t1</span><br><span class="line">Create Table: CREATE TABLE `t1` (</span><br><span class="line">  `id` int DEFAULT NULL,</span><br><span class="line">  `name` char(4) NOT NULL,</span><br><span class="line">  `age` int NOT NULL COMMENT &#x27;年龄&#x27;</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-8-MySQL数据类型-数字类型"><a href="#2-8-MySQL数据类型-数字类型" class="headerlink" title="2-8 MySQL数据类型 - 数字类型"></a>2-8 MySQL数据类型 - 数字类型</h1><p>MySQL 中定义数据字段的类型对你数据库的优化是非常重要的。</p><p>MySQL 支持多种类型，大致可以分为三类：数值、日期&#x2F;时间和字符串(字符)类型。</p><ul><li>常用的数字类型 - 整型，一般使用int就可以满足开发需求，除非涉及到极大的数据量使用bigint</li></ul><table><thead><tr><th align="center">类型</th><th align="center">范围(有符号)</th><th align="center">范围(无符号unsigned)</th><th align="center">用途</th></tr></thead><tbody><tr><td align="center">tinyint</td><td align="center">(-128，127)</td><td align="center">(0，2^8-1)</td><td align="center">小整数值</td></tr><tr><td align="center">int</td><td align="center">(-2^31 , 2^31-1)</td><td align="center">(0，2^32-1)</td><td align="center">大整数值</td></tr><tr><td align="center">bigint</td><td align="center">(-2^63, 2^63-1)</td><td align="center">(0,  2^64-1)</td><td align="center">极大整数值</td></tr></tbody></table><ul><li>常用的数字类型 - 浮点型，一般使用float就可以满足开发需求，除非是工程计算需要的精度就是非常高的了</li></ul><table><thead><tr><th align="center">类型</th><th align="center">用途</th><th>存储限制</th></tr></thead><tbody><tr><td align="center">float</td><td align="center">单精度，精度最小</td><td>float(255,30)  # 总共255位 小数部分占30位</td></tr><tr><td align="center">double</td><td align="center">双精度，精度高于float</td><td>double(255,30)  # 总共255位 小数部分占30位</td></tr><tr><td align="center">decimal</td><td align="center">小数值，精度高于doucle</td><td>decimal(65,30)  # 总共65位 小数部分占30位</td></tr></tbody></table><h1 id="2-9-MySQL数据类型-字符类型"><a href="#2-9-MySQL数据类型-字符类型" class="headerlink" title="2-9 MySQL数据类型 - 字符类型"></a>2-9 MySQL数据类型 - 字符类型</h1><table><thead><tr><th align="center">char(宽度)</th><th align="center">varchar(宽度)</th></tr></thead><tbody><tr><td align="center">宽度可省略，默认是1个宽度，宽度就是字符的个数</td><td align="center">宽度不能省略</td></tr><tr><td align="center">定长的字符串类型，在存储字符串时，比如char(11)，最大字符长度11个，立即分配11个字符长度的存储空间，如果存不满，就使用空格进行填充。</td><td align="center">在存储数据是会先判断字符长度，然后合理分配存储空间，char类型不会判断，立即分配空间，当然在固定长度的列中，选择char类型会更加合适。varchar类型除了会存储字符串之外还会额外使用1-2字节(bytes)来存储这个字符串的长度。</td></tr><tr><td align="center">查询速度快</td><td align="center">节省空间，但是查询速度慢</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">补充：</span><br><span class="line">1B(byte) = 8bit</span><br><span class="line">1KB = 1024Bytes</span><br><span class="line">1MB = 1024KB</span><br><span class="line">1GB = 1024MB</span><br><span class="line">1TB = 1024GB</span><br></pre></td></tr></table></figure><h1 id="2-10-MySQL数据类型-时间类型"><a href="#2-10-MySQL数据类型-时间类型" class="headerlink" title="2-10 MySQL数据类型 - 时间类型"></a>2-10 MySQL数据类型 - 时间类型</h1><table><thead><tr><th align="left">类型</th><th align="left">大小 ( bytes)</th><th align="left">范围</th><th align="left">格式</th><th align="left">用途</th></tr></thead><tbody><tr><td align="left">DATE</td><td align="left">3</td><td align="left">1000-01-01&#x2F;9999-12-31</td><td align="left">YYYY-MM-DD</td><td align="left">日期值</td></tr><tr><td align="left">TIME</td><td align="left">3</td><td align="left">‘-838:59:59’&#x2F;‘838:59:59’</td><td align="left">HH:MM:SS</td><td align="left">时间值或持续时间</td></tr><tr><td align="left">YEAR</td><td align="left">1</td><td align="left">1901&#x2F;2155</td><td align="left">YYYY</td><td align="left">年份值</td></tr><tr><td align="left">DATETIME</td><td align="left">8</td><td align="left">1000-01-01 00:00:00&#x2F;9999-12-31 23:59:59</td><td align="left">YYYY-MM-DD HH:MM:SS</td><td align="left">混合日期和时间值</td></tr><tr><td align="left">TIMESTAMP</td><td align="left">4</td><td align="left">1970-01-01 00:00:00&#x2F;2038结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td><td align="left">YYYYMMDD HHMMSS</td><td align="left">混合日期和时间值，时间戳</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 补充</span><br><span class="line">LOCALTIME() -- MySQL时间函数，返回当前时间的 年月日时分秒</span><br><span class="line">select LOCALTIME();  -- 查看当前时间的年月日时分秒</span><br><span class="line"></span><br><span class="line">-- 向表中写入当前时间的时分秒</span><br><span class="line">create table t1(curent_time datetime);</span><br><span class="line">insert into t1 values(LOCALTIME());</span><br><span class="line"></span><br><span class="line">-- SQL语句可以大写也可以小写，但是需要注意表名的大小写情况。</span><br></pre></td></tr></table></figure><h1 id="2-11-MySQL数据类型-枚举和集合"><a href="#2-11-MySQL数据类型-枚举和集合" class="headerlink" title="2-11 MySQL数据类型 - 枚举和集合"></a>2-11 MySQL数据类型 - 枚举和集合</h1><table><thead><tr><th align="center">enum(选项1, 选项2, …)</th><th align="center">set(选项1, 选项2, …)</th></tr></thead><tbody><tr><td align="center">枚举字段，向表中写入对应字段的数据时只能存所有选项中的某一个</td><td align="center">集合字段，向表中写入对应字段的数据时只能存所有选项中的一个或者多个</td></tr><tr><td align="center">不能存枚举中没有列出来的选项</td><td align="center">不能存集合中没有列出来的选项</td></tr><tr><td align="center">用途：比如性别、年级</td><td align="center">比如：爱好</td></tr></tbody></table><h1 id="2-12-MySQL数据类型总结"><a href="#2-12-MySQL数据类型总结" class="headerlink" title="2-12 MySQL数据类型总结"></a>2-12 MySQL数据类型总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 数字类型</span><br><span class="line">tinyint int(常用) bigint  -- 整数型</span><br><span class="line">float(常用) double decimal  -- 小数型</span><br><span class="line"></span><br><span class="line">-- 字符类型</span><br><span class="line">char(宽度)  -- 宽度可省略，查询速度快</span><br><span class="line">varchar(宽度)  -- 宽度不能省略，节省存储空间</span><br><span class="line"></span><br><span class="line">-- 时间类型</span><br><span class="line">date:年月日 2020-5-4</span><br><span class="line">    datetime:年月日时分秒  2020-5-4 11:11:11</span><br><span class="line">    time:时分秒11:11:11</span><br><span class="line">    Year:2020</span><br><span class="line">    </span><br><span class="line">-- 枚举(enum)和集合(set)类型</span><br><span class="line">enum(选项1, 选项2, ...) -- 多选一</span><br><span class="line">set(选项1, 选项2, ...)  -- 多选多</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-- 课后练习</span><br><span class="line">mysql&gt; create database student charset=utf8;  -- 创建库</span><br><span class="line">mysql&gt; create table student.info(</span><br><span class="line">    id int unsigned, </span><br><span class="line">    name varchar(6) not null, </span><br><span class="line">    age int not null, </span><br><span class="line">    sex enum(&#x27;male&#x27;, &#x27;female&#x27;) not null default &#x27;male&#x27;, </span><br><span class="line">    QQ varchar(12), </span><br><span class="line">    hobby set(&#x27;read&#x27;, &#x27;play&#x27;, &#x27;sleep&#x27;), </span><br><span class="line">    create_time datetime not null default localtime()</span><br><span class="line">) engine=innodb charset=utf8 comment=&#x27;信息表&#x27;;</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into info(id, name, age, QQ, hobby) values(1, &#x27;丽丽&#x27;, 18, &#x27;1277770&#x27;, &#x27;read,sleep&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from info;</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">| id   | name   | age | sex  | QQ      | hobby      | create_time         |</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">|    1 | 丽丽   |  18 | male | 1277770 | read,sleep | 2022-02-28 09:34:06 |</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-13-约束条件-default"><a href="#2-13-约束条件-default" class="headerlink" title="2-13 约束条件 - default"></a>2-13 约束条件 - default</h1><p>补充：在创建库和表以及表的字段的时候不能使用MySQL的关键字(SQL语法中的除了库名、表名、字段外的)作为库名&#x2F;表名</p><p>约束条件：限制和约束字段的条件，如果字段值违反了字段的约束条件，MySQL就会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- default默认值，在创建表的时候可以为字段设定一个默认值</span><br><span class="line">-- ps：在创建表的规范时，最后一条建议字段设为非空，可以使用默认值进行填充。</span><br><span class="line">-- 注意：在使用简略的插入数据的SQL语法(insert into 表名 values(值1, ...))时必须所有字段都有值，即使是设定了默认值的情况下。</span><br><span class="line">mysql&gt; create table t1(id int, sex enum(&#x27;male&#x27;, &#x27;female&#x27;, &#x27;unkonwn&#x27;) not null default &#x27;unkonwn&#x27;);</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type                            | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">| id    | int                             | YES  |     | NULL    |       |</span><br><span class="line">| sex   | enum(&#x27;male&#x27;,&#x27;female&#x27;,&#x27;unkonwn&#x27;) | NO   |     | unkonwn |       |</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><h1 id="2-14-约束条件-unique"><a href="#2-14-约束条件-unique" class="headerlink" title="2-14 约束条件 - unique"></a>2-14 约束条件 - unique</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">-- unique 唯一约束条件(key)，插入数据唯一不能重复，比如说学生编号</span><br><span class="line">mysql&gt; create table t2(id int unique, name varchar(6));</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t2;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | YES  | UNI | NULL    |       |</span><br><span class="line">| name  | varchar(6) | YES  |     | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(1, &#x27;lili&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(2, &#x27;lili&#x27;);  -- name字段重复不会报错</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(2, &#x27;lili&#x27;);  -- id因为有了unique约束条件会提示用重复(Duplicate)的数据</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;2&#x27; for key &#x27;t2.id&#x27;</span><br><span class="line"></span><br><span class="line">-- 可以使用联合唯一，几个字段连在一起时是唯一的</span><br><span class="line">mysql&gt; create table t3(id int, name varchar(5), unique(id, name));  -- id+name唯一</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t3;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | YES  | MUL | NULL    |       |</span><br><span class="line">| name  | varchar(5) | YES  |     | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;lili&#x27;); </span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(2, &#x27;lili&#x27;);  -- name重复不会报错</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;qq&#x27;);  -- id重复也不会报错</span><br><span class="line">Query OK, 1 row affected (0.08 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;lili&#x27;);  -- name+id重复就会报错提示重复了</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;1-lili&#x27; for key &#x27;t3.id&#x27;</span><br></pre></td></tr></table></figure><h1 id="2-15-约束条件-primary-key"><a href="#2-15-约束条件-primary-key" class="headerlink" title="2-15 约束条件 - primary key"></a>2-15 约束条件 - primary key</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">-- primary key，key的一种，主键效果等同于not null+unique，即非空且唯一</span><br><span class="line">mysql&gt; create table t4(id int primary key, name varchar(6) unique);</span><br><span class="line">Query OK, 0 rows affected (0.63 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t4;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    |       |</span><br><span class="line">| name  | varchar(6) | YES  | UNI | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 主键除了能够对字段进行约束之外，还是innodb存储引擎组织数据的依据，这个在详细介绍innodb时再详细介绍</span><br><span class="line">-- 使用innodb存储引擎创建表时必须要有主键，并且可以通过主键提升查询效率</span><br><span class="line">-- 在一张表中有且只有一个主键</span><br><span class="line">mysql&gt; create table t5(id int primary key, name char(6) primary key);</span><br><span class="line">ERROR 1068 (42000): Multiple primary key defined</span><br><span class="line"></span><br><span class="line">-- 如果没有设置主键，则按照创建表时的字段顺序第一个非空且唯一的字段将自动升级为主键。</span><br><span class="line">mysql&gt; create table t5(id int, name char(6) not null unique, age int not null unique);</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t5;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(6) | NO   | PRI | NULL    |       |</span><br><span class="line">| age   | int     | NO   | UNI | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 如果表中没有设置逐渐和非空且唯一的字段，则Innodb默认提供一个隐藏的主键，但是这个默认隐藏的主键无法提供快速查询的服务。</span><br><span class="line">mysql&gt; create table t6(id int, name char(6));</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t6;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(6) | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 一般，表中的主键应该设置为id字段，id字段一般在创建表的时候是必须指定的，并且是主键字段</span><br><span class="line">-- 主键可以为一个字段，也可以是联合主键（多个字段联合起来作为表的主键，本质还是一个主键）</span><br><span class="line">mysql&gt; create table t7(id int, name varchar(5), primary key(id, name));</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t7;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    |       |</span><br><span class="line">| name  | varchar(5) | NO   | PRI | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-16-约束条件-auto-increment"><a href="#2-16-约束条件-auto-increment" class="headerlink" title="2-16 约束条件 - auto_increment"></a>2-16 约束条件 - auto_increment</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">-- auto_increment 自增约束条件，通常是主键字段使用，普通字段不使用该约束条件，可以标识当前数据是是表中d第几条数据</span><br><span class="line">-- 同一张表中只能有一个字段使用该约束条件。</span><br><span class="line">mysql&gt; create table t8(id int primary key auto_increment, cid int auto_increment);</span><br><span class="line">ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key  -- 提示只能有一个列是自增列</span><br><span class="line"></span><br><span class="line">-- 向表中写入数据时，可以省略主键，因为主键是非空唯一且自增的</span><br><span class="line">-- 主键的初始值是1，每向表中写入一条数据，主键值自动+1</span><br><span class="line">mysql&gt; create table t9(id int primary key auto_increment, name char(6));</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t9;</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| id    | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | char(6) | YES  |     | NULL    |                |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t9 values(&#x27;lili&#x27;);  -- 当不手动写入主键字段时，不能使用简略的插入数据的sql语法</span><br><span class="line">ERROR 1136 (21S01): Column count doesn&#x27;t match value count at row 1</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t9(name) values(&#x27;lili&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t9;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | lili |</span><br><span class="line">+----+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-17-约束条件-总结"><a href="#2-17-约束条件-总结" class="headerlink" title="2-17 约束条件 - 总结"></a>2-17 约束条件 - 总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">null/not null：空/非空</span><br><span class="line"></span><br><span class="line">unsigned：无符号</span><br><span class="line"></span><br><span class="line">default：为字段设置默认值</span><br><span class="line"></span><br><span class="line">unique：唯一键(约束条件)，可以单列唯一，也可以联合唯一</span><br><span class="line"></span><br><span class="line">primary key：主键约束，非空且唯一(unique+not null)</span><br><span class="line">主键除了能够对字段进行约束之外，还是innodb存储引擎组织数据的依据</span><br><span class="line">用innodb存储引擎创建表时必须要有主键，并且可以通过主键提升查询效率</span><br><span class="line">在一张表中有且只有一个主键</span><br><span class="line">如果没有设置主键，则按照创建表时的字段顺序第一个非空且唯一的字段将自动升级为主键。</span><br><span class="line">如果表中没有设置逐渐和非空且唯一的字段，则Innodb默认提供一个隐藏的主键，但是这个默认隐藏的主键无法提供快速查询的服务。</span><br><span class="line">一般，表中的主键应该设置为id字段，id字段一般在创建表的时候是必须指定的，并且是主键字段</span><br><span class="line">主键可以为一个字段，也可以是联合主键（多个字段联合起来作为表的主键，本质还是一个主键）</span><br><span class="line"></span><br><span class="line">auto_increment：自增约束条件，通常和主键一起使用。</span><br><span class="line">同一张表中只能有一个字段使用该约束条件。</span><br><span class="line">主键的初始值是1，每向表中写入一条数据，主键值自动+1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 小练习</span><br><span class="line">mysql&gt; create database info charset=utf8mb4;  -- 创建库</span><br><span class="line">mysql&gt; create table student(</span><br><span class="line">    id int primary key auto_increment comment &#x27;主键&#x27;,</span><br><span class="line">    name varchar(6) not null unique,</span><br><span class="line">    age int unsigned not null,</span><br><span class="line">    sex enum(&#x27;male&#x27;, &#x27;female&#x27;) not null default &#x27;male&#x27;,</span><br><span class="line">    hobby set(&#x27;read&#x27;, &#x27;play&#x27;, &#x27;sleep&#x27;) null,</span><br><span class="line">    create_time datetime default localtime()</span><br><span class="line">    ) engine=innodb charset=utf8mb4;  -- 创建表</span><br><span class="line">mysql&gt; insert into student(name, age, hobby) values(&#x27;丽丽&#x27;, 18, &#x27;read,sleep&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">| id | name   | age | sex  | hobby      | create_time         |</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">|  1 | 丽丽   |  18 | male | read,sleep | 2022-03-01 09:27:00 |</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-18-表增加字段"><a href="#2-18-表增加字段" class="headerlink" title="2-18 表增加字段"></a>2-18 表增加字段</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">mysql&gt; create database test;</span><br><span class="line">mysql&gt; create table test.t1(id int primary key auto_increment);</span><br><span class="line"></span><br><span class="line">-- 添加1个字段</span><br><span class="line">alter table 表名  add 字段名 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;;</span><br><span class="line">mysql&gt; alter table t1 add name varchar(5);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(5) | YES  |     | NULL    |                |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 添加多个字段</span><br><span class="line">alter table 表名  add (字段名1 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;, 字段名2 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;);</span><br><span class="line">mysql&gt; alter table t1 add (age int, sex enum(&#x27;male&#x27;, &#x27;female&#x27;) default &#x27;male&#x27;);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age   | int                   | YES  |     | NULL    |                |</span><br><span class="line">| sex   | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 向指定位置添加列(在第一个字段的位置写入新的字段，只能添加一个字段)</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度)  约束条件 comment &#x27;字段注释&#x27; first;</span><br><span class="line">mysql&gt; alter table t1 add fir_name int unsigned first;</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| fir_name | int unsigned          | YES  |     | NULL    |                |</span><br><span class="line">| id       | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name     | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age      | int                   | YES  |     | NULL    |                |</span><br><span class="line">| sex      | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 向指定位置添加列(在某个字段之后写入新的字段)</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度) 约束条件  comment &#x27;字段注释&#x27; after 字段名;</span><br><span class="line">mysql&gt; alter table t1 add after_name char(6) default &#x27;sss&#x27; after age;</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field      | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| fir_name   | int unsigned          | YES  |     | NULL    |                |</span><br><span class="line">| id         | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name       | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age        | int                   | YES  |     | NULL    |                |</span><br><span class="line">| after_name | char(6)               | YES  |     | sss     |                |</span><br><span class="line">| sex        | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br></pre></td></tr></table></figure><h1 id="2-19-表的其他修改和删除操作"><a href="#2-19-表的其他修改和删除操作" class="headerlink" title="2-19 表的其他修改和删除操作"></a>2-19 表的其他修改和删除操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">create table t1(id int primary key auto_increment, name varchar(6) not null unique);</span><br><span class="line">desc t1;</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(6) | NO   | UNI | NULL    |                |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 修改表名，不能修改库名但是可以修改表名</span><br><span class="line">alter table 表名 rename 新表名;</span><br><span class="line">alter table t1 rename t0;</span><br><span class="line">show tables;</span><br><span class="line"></span><br><span class="line">-- 修改字段数据类型、约束条件，需要将不需要修改的约束条件同时写上，否则约束条件可能会产生变化</span><br><span class="line">alter table 表名 modify 字段名 字段类型(宽度) 约束条件；</span><br><span class="line">mysql&gt; alter table t1 modify name char(6);  -- 只修改字段的数据类型，约束条件变化了</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| id    | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | char(6) | YES  | UNI | NULL    |                |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 修改字段名，如果约束条件不变的话也是需要同时写上修改前的约束条件，否则约束条件可能会产生变化</span><br><span class="line">alter table 表名 change 旧字段名 新字段名 字段类型(宽度) 约束条件;</span><br><span class="line">mysql&gt; alter table t1 change name new_name char(6);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line">| id       | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| new_name | char(6) | YES  | UNI | NULL    |                |</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 删除字段，删除字段后，如果表中有数据那么对应该字段的数据都会被删除。</span><br><span class="line">alter table 表名 drop 字段名;</span><br><span class="line">alter table t1 drop name;</span><br><span class="line">desc t1;</span><br><span class="line"></span><br><span class="line">-- 删除表</span><br><span class="line">drop table 表名;</span><br></pre></td></tr></table></figure><h1 id="2-20-数据的修改"><a href="#2-20-数据的修改" class="headerlink" title="2-20 数据的修改"></a>2-20 数据的修改</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">create table t1(id int primary key auto_increment, name char(6), age int);</span><br><span class="line">insert into t1(name, age) values</span><br><span class="line">(&#x27;lili&#x27;, 18),</span><br><span class="line">(&#x27;nini&#x27;, 19),</span><br><span class="line">(&#x27;nana&#x27;, 20);</span><br><span class="line"></span><br><span class="line">-- 数据的修改操作,如果不指明修改哪一行的话会将所有数据行的字段值都进行修改操作。</span><br><span class="line">update 表名 set 字段名=新字段值, 字段名=新字段值,... where 条件;</span><br></pre></td></tr></table></figure><h1 id="2-21-数据的删除"><a href="#2-21-数据的删除" class="headerlink" title="2-21 数据的删除"></a>2-21 数据的删除</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">-- 提示：删除操作非常危险，在实际开发中尽量不要执行删除操作</span><br><span class="line"></span><br><span class="line">-- 删除数据，删除一条数据</span><br><span class="line">delete from 表名 where 条件;</span><br><span class="line"></span><br><span class="line">-- 删除数据，删除表中所有数据</span><br><span class="line">drop table 表名;  -- 删除表就表示表中所有的数据都被删除</span><br><span class="line">delete from 表名; -- 清空表中所有数据</span><br><span class="line">truncate table 表名;  -- 清空表中所有数据</span><br><span class="line"></span><br><span class="line">-- delete和truncate的区别</span><br><span class="line">1.delete清空表之后向表中再写入数据主键的值是在已经删除的数据的基础上+1，而truncate清空表之后，再写入数据，主键值是从1开始的。</span><br><span class="line">2.delete是DML操作也就是数据库修改操作, 是逻辑性质删除,逐行进行删除,速度慢.并未真正在磁盘上删除，磁盘空间不会立即释放。</span><br><span class="line">3.truncate是DDL操作也就是数据库定义的操作,对表的数据进行清空,速度快.磁盘空间立即释放</span><br><span class="line"></span><br><span class="line">-- 补充小知识</span><br><span class="line">在实际开发场景中，通常使用一个字段来标识数据是否删除，而不是真正的将数据从我们的表中删除，比如说我们可以定义一个字段is_delete来表示该条数据是否被删除了，我们可以使用0表示数据被删除1表示数据没有被删除。</span><br><span class="line">像这种只有两种状态的数据我们都可以使用布尔类型进行定义。</span><br><span class="line">在MySQL中MySQL内置其实并没有布尔类型，但是MySQL支持在定义字段的时候将数据类型定义为布尔类型叫BOOLEAN或BOOL，布尔类型只有两种状态，一种是真一种是假。</span><br><span class="line">在MySQL中0被认为是假(FALSE/False/false)，非零值被认为是真(true/True/TRUE)，当然也可以使用布尔文本也就是FALSE/False/false和true/True/TRUE表示真假，但是在显示数据的时候布尔文本只显示0和1这两种状态</span><br><span class="line"></span><br><span class="line">alter table t1 add(is_delete bool default true);</span><br><span class="line">alter table t1 add(is_delete1 boolean default 1);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field      | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">| id         | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| new_name   | char(6)    | YES  | UNI | NULL    |                |</span><br><span class="line">| is_delete  | tinyint(1) | YES  |     | 1       |                |</span><br><span class="line">| is_delete1 | tinyint(1) | YES  |     | 1       |                |</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">mysql&gt; insert into t1(new_name, is_delete) values(&#x27;11&#x27;, FALSE);</span><br><span class="line">mysql&gt; select * from t1;</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line">| id | new_name | is_delete | is_delete1 |</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line">|  1 | 11       |         0 |          1 |</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line"></span><br><span class="line">我们可以通过查看创建表的完整SQL看一下MySQL的布尔类型到底是什么类型。可以发现定义字段时使用的布尔类型变成了tinyint(1)。</span><br><span class="line">mysql&gt; show create table t1 \G;</span><br><span class="line">Table: t1</span><br><span class="line">Create Table: CREATE TABLE `t1` (</span><br><span class="line">  `id` int NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `new_name` char(6) DEFAULT NULL,</span><br><span class="line">  `is_delete` tinyint(1) DEFAULT &#x27;1&#x27;,</span><br><span class="line">  `is_delete1` tinyint(1) DEFAULT &#x27;1&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `name` (`new_name`),</span><br><span class="line">  UNIQUE KEY `name_2` (`new_name`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-22-库的操作总结"><a href="#2-22-库的操作总结" class="headerlink" title="2-22 库的操作总结"></a>2-22 库的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">SQL：SQL语句对大小写不敏感，SQL语法大写小写都可以，但是库名、表名、字段名定义的时候是小写的话在SQL语句中也是小写。</span><br><span class="line"></span><br><span class="line">创建数据库的规范：</span><br><span class="line">库名不建议有大写字母</span><br><span class="line">    创建数据库时建议指定字符集</span><br><span class="line">    库名不能以数字开头</span><br><span class="line">    库名不能使用MySQL关键字命名</span><br><span class="line">    库名要和实际业务相关</span><br><span class="line"></span><br><span class="line">增create - 创建数据库：</span><br><span class="line">语法：create database 库名(charset=字符集);</span><br><span class="line"></span><br><span class="line">查show：</span><br><span class="line">show databases;  -- 查看当前MySQL中所有的库</span><br><span class="line">show create database 库名; -- 查看指定数据库的创建规则</span><br><span class="line"></span><br><span class="line">改alter - 修改数据库的字符集，不支持直接修改库名：</span><br><span class="line">alter database 库名 charset 字符集; </span><br><span class="line"></span><br><span class="line">删drop：</span><br><span class="line">drop database 库名;</span><br></pre></td></tr></table></figure><h1 id="2-23-表的操作总结"><a href="#2-23-表的操作总结" class="headerlink" title="2-23 表的操作总结"></a>2-23 表的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">创建表的规范：</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    不能使用MySQL关键字作为表名和字段名</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br><span class="line">    </span><br><span class="line">增 - 新建表</span><br><span class="line">create table 表名(</span><br><span class="line">字段1 数据类型(宽度) 约束条件 COMMENT 字段1注释,</span><br><span class="line">字段2 数据类型(宽度) 约束条件 COMMENT 字段2注释,</span><br><span class="line">...</span><br><span class="line">) engine=存储引擎 charset=字符集 comment 表注释;</span><br><span class="line"></span><br><span class="line">改 - 修改表</span><br><span class="line">alter table 表名  add 字段名 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;;  -- 新增1个字段</span><br><span class="line">alter table 表名  add (字段名1 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;, 字段名2 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;);  -- 添加多个字段</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度)  约束条件 comment &#x27;字段注释&#x27; first;  -- 向指定位置添加字段，字段插入到表中第一个字段的位置，只能添加一个字段</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度) 约束条件  comment &#x27;字段注释&#x27; after 字段名;  -- 向指定位置添加字段，在指定字段之后添加字段，只能添加一个字段</span><br><span class="line">alter table 表名 rename 新表名;  -- 修改表名</span><br><span class="line">alter table 表名 modify 字段名 字段类型(宽度) 约束条件；  -- 修改字段属性</span><br><span class="line">alter table 表名 change 旧字段名 新字段名 字段类型(宽度) 约束条件;  -- 修改字段名</span><br><span class="line">alter table 表名 drop 字段名;  -- 删除表中的字段</span><br><span class="line"></span><br><span class="line">查 - 查询</span><br><span class="line">show tables;  -- 查看当前库中有哪些表</span><br><span class="line">desc 表名;  -- 查看表结构</span><br><span class="line">show create table 表名;  -- 查看创建表的完整语法</span><br><span class="line"></span><br><span class="line">删 - 删除</span><br><span class="line">drop table 表名;</span><br></pre></td></tr></table></figure><h1 id="2-24-数据的操作总结"><a href="#2-24-数据的操作总结" class="headerlink" title="2-24 数据的操作总结"></a>2-24 数据的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">增 - 增加数据</span><br><span class="line">insert into 表名(字段1, 字段2,...) values(值1, 值2, ...);  -- 标准的插入数据的SQL</span><br><span class="line">insert into 表名 values(值1, 值2, ...);  -- 省略的插入数据的SQL</span><br><span class="line">insert into 表名(指定字段1, 指定字段2, ...) values(值1, 值2)；  -- 针对性的为某个字段插入数据</span><br><span class="line"></span><br><span class="line">-- 同时插入多条数据：</span><br><span class="line">insert into 表名(字段1, 字段2,...) </span><br><span class="line">values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;  -- 指定字段或者全部字段插入多条数据</span><br><span class="line"></span><br><span class="line">insert into 表名 values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;   -- 所有字段插入多条数据</span><br><span class="line"></span><br><span class="line">改 - 修改数据</span><br><span class="line">update 表名 set 字段名=新字段值, 字段名=新字段值,... where 条件; -- 数据的修改操作,如果不指明修改哪一行的话会将所有数据行的字段值都进行修改操作。</span><br><span class="line"></span><br><span class="line">删 - 删除数据</span><br><span class="line"></span><br><span class="line">delete from 表名 where 条件;  -- 删除数据，删除一条数据</span><br><span class="line">    -- 删除数据，删除表中所有数据</span><br><span class="line">    drop table 表名;  -- 删除表就表示表中所有的数据都被删除</span><br><span class="line">    delete from 表名; -- 清空表中所有数据</span><br><span class="line">    truncate table 表名;  -- 清空表中所有数据</span><br><span class="line">    </span><br><span class="line">查 - 查询数据</span><br><span class="line">select * from 表名;  -- 查询表中所有数据</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webase搭建教程</title>
      <link href="/posts/fc6bbfe4.html"/>
      <url>/posts/fc6bbfe4.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="webase搭建教程"><a href="#webase搭建教程" class="headerlink" title="webase搭建教程"></a>webase搭建教程</h3><h4 id="1-前提条件"><a href="#1-前提条件" class="headerlink" title="1.前提条件"></a>1.前提条件</h4><ol><li><h5 id="mysql-的安装"><a href="#mysql-的安装" class="headerlink" title="mysql 的安装"></a>mysql 的安装</h5></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装完成之后进人mysql 密码为空</span></span><br><span class="line">sudo mysql -uroot -p </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改密码</span></span><br><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=&#x27;&#x27; where user=&#x27;root&#x27;;//用户名</span><br><span class="line">ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;;//密码</span><br><span class="line"> flush privileges;//刷新权限</span><br></pre></td></tr></table></figure><h5 id="2-Java的安装"><a href="#2-Java的安装" class="headerlink" title="2.Java的安装"></a>2.Java的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ubuntu系统安装java</span></span><br><span class="line">sudo apt install -y default-jdk</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装完成之后配置环境变量</span></span><br><span class="line">1.查看Java所在目录</span><br><span class="line">sudo ls /lib/jvm/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2，使用命令</span><br><span class="line">sudo vim /etc/profile</span><br><span class="line">3.添加环境变量</span><br><span class="line">sudo vim /etc/profile</span><br><span class="line">JAVA_HOME=/lib/jvm/java-11-openjdk-amd64</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.更新保存文件</span><br><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure><h5 id="3-python的安装"><a href="#3-python的安装" class="headerlink" title="3.python的安装"></a>3.python的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 添加仓库，回车继续</span><br><span class="line">sudo add-apt-repository ppa:deadsnakes/ppa</span><br><span class="line">// 安装python 3.6</span><br><span class="line">sudo apt-get install -y python3.6</span><br><span class="line">sudo apt-get install -y python3-pip</span><br></pre></td></tr></table></figure><h5 id="4-pymysql的安装"><a href="#4-pymysql的安装" class="headerlink" title="4 . pymysql的安装"></a>4 . pymysql的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install pymysql</span><br></pre></td></tr></table></figure><h4 id="2-拉取部署脚本："><a href="#2-拉取部署脚本：" class="headerlink" title="2.拉取部署脚本："></a>2.拉取部署脚本：</h4><ul><li>获取部署安装包</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeBASE/releases/download/v1.5.4/webase-deploy.zip</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>解压安装包：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip webase-deploy.zip</span><br></pre></td></tr></table></figure><ul><li>进入目录：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd webase-deploy</span><br><span class="line">cat /etc/mysql/debian.cnf</span><br></pre></td></tr></table></figure><p>我们进入到mysql配置文件中debian.cnf复制用户名和密码</p><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>然后我们进入到webase-deploy这个目录里面</li></ul><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>使用命令sudo vim common.properties修改配置文件</li><li>然后启动</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 deploy.py installAll</span><br></pre></td></tr></table></figure><ul><li>如果Java的环境配置成功 还是报错，我们就使用临时配置</li></ul><p> <img src="https://s2.loli.net/2023/01/07/y81dnEvepC9qYQS.png" alt="image-20230107132531597"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/lib/jvm/java-11-openjdk-amd64</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib</span><br><span class="line">export PATH=.:$&#123;JAVA_HOME&#125;/bin:$PATH</span><br><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">common]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Webase Subsystem Version (v1.1.0 or above)</span></span><br><span class="line">webase.web.version=v1.5.4</span><br><span class="line">webase.mgr.version=v1.5.4</span><br><span class="line">webase.sign.version=v1.5.3</span><br><span class="line">webase.front.version=v1.5.4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####################################################################</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> use [installDockerAll] to install WeBASE by docker</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> use [installAll] or [installWeBASE], ignore configuration here</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1: <span class="built_in">enable</span> mysql <span class="keyword">in</span> docker</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0: mysql run <span class="keyword">in</span> host, required fill <span class="keyword">in</span> the configuration of webase-node-mgr and webase-sign</span></span><br><span class="line">docker.mysql=0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> [docker.mysql=1], mysql run <span class="keyword">in</span> host (only works <span class="keyword">in</span> [installDockerAll])</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">run mysql 5.6 by docker</span></span><br><span class="line">docker.mysql.port=23306</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">default user [root]</span></span><br><span class="line">docker.mysql.password=123456</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####################################################################</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mysql database configuration of WeBASE-Node-Manager</span></span><br><span class="line">mysql.ip=localhost</span><br><span class="line">mysql.port=3306</span><br><span class="line">mysql.user=root //需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">mysql.password=00000000 //需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">mysql.database=webasenodemanager</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mysql database configuration of WeBASE-Sign</span></span><br><span class="line">sign.mysql.ip=localhost</span><br><span class="line">sign.mysql.port=3306</span><br><span class="line">sign.mysql.user=root//需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">sign.mysql.password=00000000//需要将/etc/mysql/debian.cnf数据库密码复制到这里</span><br><span class="line">sign.mysql.database=webasesign</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> docker mysql disabled[docker.mysql=0] above</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">H2 database name of WeBASE-Front (docker mode ignore this)</span></span><br><span class="line">front.h2.name=webasefront</span><br><span class="line">front.org=fisco</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Web service port</span> </span><br><span class="line">web.port=5000</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">enable</span> WeBASE-Web overview pages <span class="keyword">for</span> mobile phone(docker mode not support h5 yet)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(0: <span class="built_in">disable</span>, 1: <span class="built_in">enable</span>)</span></span><br><span class="line">web.h5.enable=1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Node-Manager service port</span></span><br><span class="line">mgr.port=5001</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Front service port</span></span><br><span class="line">front.port=5002</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Sign service port</span></span><br><span class="line">sign.port=5004</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node listening IP</span></span><br><span class="line">node.listenIp=127.0.0.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node p2p service port</span></span><br><span class="line">node.p2pPort=30300//需要更改端口号</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node channel service port</span></span><br><span class="line">node.channelPort=20200//需要更改端口号</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node rpc service port</span></span><br><span class="line">node.rpcPort=8545//需要更改端口号</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Encrypt <span class="built_in">type</span> (0: standard, 1: guomi)</span></span><br><span class="line">encrypt.type=0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ssl encrypt <span class="built_in">type</span> (0: standard ssl, 1: guomi ssl)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">only guomi <span class="built_in">type</span> support guomi ssl</span></span><br><span class="line">encrypt.sslType=0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Use existing chain or not (<span class="built_in">yes</span>/no)</span></span><br><span class="line">if.exist.fisco=yes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## if build new chain, [if.exist.fisco=no]</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Configuration required when building a new chain</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Fisco-bcos version</span></span><br><span class="line">fisco.version=2.8.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Number of building nodes (default value: 2)</span></span><br><span class="line">node.counts=4  //需要将这里改为4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## if using exited chain, [if.exist.fisco=yes]</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The path of the existing chain, the path of the start_all.sh script</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Under the path, there should be a <span class="string">&#x27;sdk&#x27;</span> directory <span class="built_in">where</span> the SDK certificates (ca.crt, sdk.crt, node.key and gm directory(gm ssl)) are stored</span></span><br><span class="line">fisco.dir=/root/fisco/nodes/127.0.0.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node directory <span class="keyword">in</span> [fisco.dir] <span class="keyword">for</span> WeBASE-Front to connect</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">example: <span class="string">&#x27;node.dir=node0&#x27;</span> would auto change to <span class="string">&#x27;/data/app/nodes/127.0.0.1/node0&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Under the path, there is a conf directory <span class="built_in">where</span> node certificates (ca.crt, node.crt and node.key) are stored</span></span><br><span class="line">node.dir=node0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>此处默认是2个节点，改成4ji</li><li>等待部署即可</li></ul><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>完成之后</li><li>打开浏览器输入127.0.0.1 ：5000</li></ul><p><strong>3.验证码报错解决办法</strong></p><p>​    <img src="data:image/png;base64,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" alt="0"></p><p>将url改成</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jdbc:mysql://localhost:3306/webasenodemanager?serverTimezone=GMT%2B8&amp;useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">默认账号为admin，默认密码为Abcd1234</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 区块链 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.k8s安装部署</title>
      <link href="/posts/91b35ad8.html"/>
      <url>/posts/91b35ad8.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="2-2-kubeadm-部署方式介绍"><a href="#2-2-kubeadm-部署方式介绍" class="headerlink" title="2.2 kubeadm 部署方式介绍"></a>2.2 kubeadm 部署方式介绍</h4><p>kubeadm 是官方社区推出的一个用于快速部署kubernetes 集群的工具，这个工具能通过两条指令完成一个kubernetes 集群的部署：</p><ul><li>创建一个Master 节点kubeadm init</li><li>将Node 节点加入到当前集群中$ kubeadm join &lt;Master 节点的IP 和端口&gt;</li></ul><h4 id="2-3-安装要求"><a href="#2-3-安装要求" class="headerlink" title="2.3 安装要求"></a>2.3 安装要求</h4><p>在开始之前，部署Kubernetes 集群机器需要满足以下几个条件：</p><ul><li>一台或多台机器，操作系统CentOS7.x-86_x64</li><li>硬件配置：2GB 或更多RAM，2 个CPU 或更多CPU，硬盘30GB 或更多</li><li>集群中所有机器之间网络互通</li><li>可以访问外网，需要拉取镜像</li><li>禁止swap 分区</li></ul><h4 id="2-4-最终目标"><a href="#2-4-最终目标" class="headerlink" title="2.4 最终目标"></a>2.4 最终目标</h4><ul><li>在所有节点上安装Docker 和kubeadm</li><li>部署Kubernetes Master</li><li>部署容器网络插件</li><li>部署Kubernetes Node，将节点加入Kubernetes 集群中</li><li>部署Dashboard Web 页面，可视化查看Kubernetes 资源</li></ul><h4 id="2-5-准备环境"><a href="#2-5-准备环境" class="headerlink" title="2.5 准备环境"></a>2.5 准备环境</h4><p><img src="https://s2.loli.net/2023/01/20/agvFUDi65RBun1V.png" alt="image-20210609000002940"></p><table><thead><tr><th align="left">角色</th><th align="left">IP地址</th><th align="left">组件</th></tr></thead><tbody><tr><td align="left">master01</td><td align="left">192.168.5.3</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr><tr><td align="left">node01</td><td align="left">192.168.5.4</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr><tr><td align="left">node02</td><td align="left">192.168.5.5</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr></tbody></table><h4 id="2-6-环境初始化"><a href="#2-6-环境初始化" class="headerlink" title="2.6 环境初始化"></a>2.6 环境初始化</h4><h5 id="2-6-1-检查操作系统的版本"><a href="#2-6-1-检查操作系统的版本" class="headerlink" title="2.6.1 检查操作系统的版本"></a>2.6.1 检查操作系统的版本</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此方式下安装kubernetes集群要求Centos版本要在7.5或之上</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">Centos Linux <span class="number">7.5</span>.<span class="number">1804</span> (Core)</span><br></pre></td></tr></table></figure><h5 id="2-6-2-主机名解析"><a href="#2-6-2-主机名解析" class="headerlink" title="2.6.2 主机名解析"></a>2.6.2 主机名解析</h5><p>为了方便集群节点间的直接调用，在这个配置一下主机名解析，企业中推荐使用内部DNS服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主机名成解析 编辑三台服务器的/etc/hosts文件，添加下面内容</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.100</span> master</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.106</span> node1</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.107</span> node2</span><br></pre></td></tr></table></figure><h5 id="2-6-3-时间同步"><a href="#2-6-3-时间同步" class="headerlink" title="2.6.3 时间同步"></a>2.6.3 时间同步</h5><p>kubernetes要求集群中的节点时间必须精确一直，这里使用chronyd服务从网络同步时间</p><p>企业中建议配置内部的会见同步服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动chronyd服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl start chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># date</span></span><br></pre></td></tr></table></figure><h5 id="2-6-4-禁用iptable和firewalld服务"><a href="#2-6-4-禁用iptable和firewalld服务" class="headerlink" title="2.6.4  禁用iptable和firewalld服务"></a>2.6.4  禁用iptable和firewalld服务</h5><p>kubernetes和docker 在运行的中会产生大量的iptables规则，为了不让系统规则跟它们混淆，直接关闭系统的规则</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 关闭firewalld服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop firewalld</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable firewalld</span></span><br><span class="line"><span class="comment"># 2 关闭iptables服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop iptables</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable iptables</span></span><br></pre></td></tr></table></figure><h5 id="2-6-5-禁用selinux"><a href="#2-6-5-禁用selinux" class="headerlink" title="2.6.5 禁用selinux"></a>2.6.5 禁用selinux</h5><p>selinux是linux系统下的一个安全服务，如果不关闭它，在安装集群中会产生各种各样的奇葩问题</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 /etc/selinux/config 文件，修改SELINUX的值为disable</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><h5 id="2-6-6-禁用swap分区"><a href="#2-6-6-禁用swap分区" class="headerlink" title="2.6.6 禁用swap分区"></a>2.6.6 禁用swap分区</h5><p>swap分区指的是虚拟内存分区，它的作用是物理内存使用完，之后将磁盘空间虚拟成内存来使用，启用swap设备会对系统的性能产生非常负面的影响，因此kubernetes要求每个节点都要禁用swap设备，但是如果因为某些原因确实不能关闭swap分区，就需要在集群安装过程中通过明确的参数进行配置说明</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑分区配置文件/etc/fstab，注释掉swap分区一行</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">注释掉 /dev/mapper/centos<span class="literal">-swap</span> swap</span><br><span class="line"><span class="comment"># /dev/mapper/centos-swap swap</span></span><br></pre></td></tr></table></figure><h5 id="2-6-7-修改linux的内核参数"><a href="#2-6-7-修改linux的内核参数" class="headerlink" title="2.6.7 修改linux的内核参数"></a>2.6.7 修改linux的内核参数</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改linux的内核采纳数，添加网桥过滤和地址转发功能</span></span><br><span class="line"><span class="comment"># 编辑/etc/sysctl.d/kubernetes.conf文件，添加如下配置：</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-ip6tables</span> = <span class="number">1</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-iptables</span> = <span class="number">1</span></span><br><span class="line">net.ipv4.ip_forward = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载配置</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sysctl -p</span></span><br><span class="line"><span class="comment"># 加载网桥过滤模块</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># modprobe br_netfilter</span></span><br><span class="line"><span class="comment"># 查看网桥过滤模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep br_netfilter</span></span><br></pre></td></tr></table></figure><h5 id="2-6-8-配置ipvs功能"><a href="#2-6-8-配置ipvs功能" class="headerlink" title="2.6.8 配置ipvs功能"></a>2.6.8 配置ipvs功能</h5><p>在Kubernetes中Service有两种带来模型，一种是基于iptables的，一种是基于ipvs的两者比较的话，ipvs的性能明显要高一些，但是如果要使用它，需要手动载入ipvs模块</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.安装ipset和ipvsadm</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install ipset ipvsadm -y</span></span><br><span class="line"><span class="comment"># 2.添加需要加载的模块写入脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">modprobe <span class="literal">--</span> ip_vs</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_rr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_wrr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_sh</span><br><span class="line">modprobe <span class="literal">--</span> nf_conntrack_ipv4</span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># 3.为脚本添加执行权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># chmod +x /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 4.执行脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># /bin/bash /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 5.查看对应的模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep -e ip_vs -e nf_conntrack_ipv4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-9-安装docker"><a href="#2-6-9-安装docker" class="headerlink" title="2.6.9 安装docker"></a>2.6.9 安装docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、切换镜像源</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、查看当前镜像源中支持的docker版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum list docker-ce --showduplicates</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装特定版本的docker-ce</span></span><br><span class="line"><span class="comment"># 必须制定--setopt=obsoletes=0，否则yum会自动安装更高版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 docker-ce-18.06.3.ce-3.el7 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、添加一个配置文件</span></span><br><span class="line"><span class="comment">#Docker 在默认情况下使用Vgroup Driver为cgroupfs，而Kubernetes推荐使用systemd来替代cgroupfs</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir /etc/docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/docker/daemon.json</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line"><span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://kn0t2bca.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、启动dokcer</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl restart docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable docker</span></span><br></pre></td></tr></table></figure><h5 id="2-6-10-安装Kubernetes组件"><a href="#2-6-10-安装Kubernetes组件" class="headerlink" title="2.6.10 安装Kubernetes组件"></a>2.6.10 安装Kubernetes组件</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、由于kubernetes的镜像在国外，速度比较慢，这里切换成国内的镜像源</span></span><br><span class="line"><span class="comment"># 2、编辑/etc/yum.repos.d/kubernetes.repo,添加下面的配置</span></span><br><span class="line">[<span class="type">kubernetes</span>]</span><br><span class="line">name=Kubernetes</span><br><span class="line">baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes<span class="literal">-el7-x86_64</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgchech=<span class="number">0</span></span><br><span class="line">repo_gpgcheck=<span class="number">0</span></span><br><span class="line">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum<span class="literal">-key</span>.gpg</span><br><span class="line">http://mirrors.aliyun.com/kubernetes/yum/doc/rpm<span class="literal">-package-key</span>.gpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装kubeadm、kubelet和kubectl</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 kubeadm-1.17.4-0 kubelet-1.17.4-0 kubectl-1.17.4-0 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、配置kubelet的cgroup</span></span><br><span class="line"><span class="comment">#编辑/etc/sysconfig/kubelet, 添加下面的配置</span></span><br><span class="line">KUBELET_CGROUP_ARGS=<span class="string">&quot;--cgroup-driver=systemd&quot;</span></span><br><span class="line">KUBE_PROXY_MODE=<span class="string">&quot;ipvs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、设置kubelet开机自启</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable kubelet</span></span><br></pre></td></tr></table></figure><h5 id="2-6-11-准备集群镜像"><a href="#2-6-11-准备集群镜像" class="headerlink" title="2.6.11 准备集群镜像"></a>2.6.11 准备集群镜像</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在安装kubernetes集群之前，必须要提前准备好集群需要的镜像，所需镜像可以通过下面命令查看</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm config images list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载镜像</span></span><br><span class="line"><span class="comment"># 此镜像kubernetes的仓库中，由于网络原因，无法连接，下面提供了一种替换方案</span></span><br><span class="line">images=(</span><br><span class="line">kube<span class="literal">-apiserver</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-controller-manager</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-scheduler</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-proxy</span>:v1.<span class="number">17.4</span></span><br><span class="line">pause:<span class="number">3.1</span></span><br><span class="line">etcd:<span class="number">3.4</span>.<span class="number">3</span><span class="literal">-0</span></span><br><span class="line">coredns:<span class="number">1.6</span>.<span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> imageName <span class="keyword">in</span> <span class="variable">$</span>&#123;images[<span class="selector-tag">@</span>]&#125;;<span class="keyword">do</span></span><br><span class="line">docker pull registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span></span><br><span class="line">docker tag registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> k8s.gcr.io/<span class="variable">$imageName</span></span><br><span class="line">docker rmi registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> </span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-11-集群初始化"><a href="#2-6-11-集群初始化" class="headerlink" title="2.6.11 集群初始化"></a>2.6.11 集群初始化</h5><blockquote><p>下面的操作只需要在master节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建集群</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm init \</span></span><br><span class="line"><span class="literal">--apiserver-advertise-address</span>=<span class="number">192.168</span>.<span class="number">169.100</span> \</span><br><span class="line"><span class="literal">--image-repository</span> registry.aliyuncs.com/google_containers \</span><br><span class="line"><span class="literal">--kubernetes-version</span>=v1.<span class="number">17.4</span> \</span><br><span class="line"><span class="literal">--service-cidr</span>=<span class="number">10.96</span>.<span class="number">0.0</span>/<span class="number">12</span> \</span><br><span class="line"><span class="literal">--pod-network-cidr</span>=<span class="number">10.244</span>.<span class="number">0.0</span>/<span class="number">16</span></span><br><span class="line"><span class="comment"># 创建必要文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir -p $HOME/.kube</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo chown $(id -u):$(id -g) $HOME/.kube/config</span></span><br></pre></td></tr></table></figure><blockquote><p>下面的操作只需要在node节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join <span class="number">192.168</span>.<span class="number">0.100</span>:<span class="number">6443</span> <span class="literal">--token</span> awk15p.t6bamck54w69u4s8 \</span><br><span class="line">    <span class="literal">--discovery-token-ca-cert-hash</span> sha256:a94fa09562466d32d29523ab6cff122186f1127599fa4dcd5fa0152694f17117 </span><br></pre></td></tr></table></figure><p>在master上查看节点信息</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubectl get nodes</span></span><br><span class="line">NAME    STATUS   ROLES     AGE   VERSION</span><br><span class="line">master  NotReady  master   <span class="number">6</span>m    v1.<span class="number">17.4</span></span><br><span class="line">node1   NotReady   &lt;none&gt;  <span class="number">22</span>s   v1.<span class="number">17.4</span></span><br><span class="line">node2   NotReady   &lt;none&gt;  <span class="number">19</span>s   v1.<span class="number">17.4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-13-安装网络插件，只在master节点操作即可"><a href="#2-6-13-安装网络插件，只在master节点操作即可" class="headerlink" title="2.6.13 安装网络插件，只在master节点操作即可"></a>2.6.13 安装网络插件，只在master节点操作即可</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wget</span> https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>由于外网不好访问，如果出现无法访问的情况，可以直接用下面的 记得文件名是kube-flannel.yml，位置：&#x2F;root&#x2F;kube-flannel.yml内容：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/flannel<span class="literal">-io</span>/flannel/tree/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>也可手动拉取指定版本<br>docker pull quay.io&#x2F;coreos&#x2F;flannel:v0.14.0              #拉取flannel网络，三台主机<br>docker images                  #查看仓库是否拉去下来</p><p><code>个人笔记</code><br>若是集群状态一直是 notready,用下面语句查看原因，<br>journalctl -f -u kubelet.service<br>若原因是： cni.go:237] Unable to update cni config: no networks found in &#x2F;etc&#x2F;cni&#x2F;net.d<br>mkdir -p &#x2F;etc&#x2F;cni&#x2F;net.d                    #创建目录给flannel做配置文件<br>vim &#x2F;etc&#x2F;cni&#x2F;net.d&#x2F;10-flannel.conf         #编写配置文件</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">&quot;name&quot;</span>:<span class="string">&quot;cbr0&quot;</span>,</span><br><span class="line"> <span class="string">&quot;cniVersion&quot;</span>:<span class="string">&quot;0.3.1&quot;</span>,</span><br><span class="line"> <span class="string">&quot;type&quot;</span>:<span class="string">&quot;flannel&quot;</span>,</span><br><span class="line"> <span class="string">&quot;deledate&quot;</span>:&#123;</span><br><span class="line">    <span class="string">&quot;hairpinMode&quot;</span>:true,</span><br><span class="line">    <span class="string">&quot;isDefaultGateway&quot;</span>:true</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-14-使用kubeadm-reset重置集群"><a href="#2-6-14-使用kubeadm-reset重置集群" class="headerlink" title="2.6.14 使用kubeadm reset重置集群"></a>2.6.14 使用kubeadm reset重置集群</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#在master节点之外的节点进行操作</span><br><span class="line">kubeadm reset</span><br><span class="line">systemctl stop kubelet</span><br><span class="line">systemctl stop docker</span><br><span class="line">rm -rf /var/lib/cni/</span><br><span class="line">rm -rf /var/lib/kubelet/*</span><br><span class="line">rm -rf /etc/cni/</span><br><span class="line">ifconfig cni0 down</span><br><span class="line">ifconfig flannel.1 down</span><br><span class="line">ifconfig docker0 down</span><br><span class="line">ip link delete cni0</span><br><span class="line">ip link delete flannel.1</span><br><span class="line">##重启kubelet</span><br><span class="line">systemctl restart kubelet</span><br><span class="line">##重启docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h5 id="2-6-15-重启kubelet和docker"><a href="#2-6-15-重启kubelet和docker" class="headerlink" title="2.6.15 重启kubelet和docker"></a>2.6.15 重启kubelet和docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重启kubelet</span></span><br><span class="line">systemctl restart kubelet</span><br><span class="line"><span class="comment"># 重启docker</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>使用配置文件启动fannel</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply <span class="operator">-f</span> kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>等待它安装完毕 发现已经是 集群的状态已经是Ready</p><p><img src="https://s2.loli.net/2023/01/20/NX47UjpanZ5AruM.png" alt="img"></p><h5 id="2-6-16-kubeadm中的命令"><a href="#2-6-16-kubeadm中的命令" class="headerlink" title="2.6.16 kubeadm中的命令"></a>2.6.16 kubeadm中的命令</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 新的token</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm token create --print-join-command</span></span><br></pre></td></tr></table></figure><h4 id="2-7-集群测试"><a href="#2-7-集群测试" class="headerlink" title="2.7 集群测试"></a>2.7 集群测试</h4><h5 id="2-7-1-创建一个nginx服务"><a href="#2-7-1-创建一个nginx服务" class="headerlink" title="2.7.1 创建一个nginx服务"></a>2.7.1 创建一个nginx服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment nginx  <span class="literal">--image</span>=nginx:<span class="number">1.14</span><span class="literal">-alpine</span></span><br></pre></td></tr></table></figure><h5 id="2-7-2-暴露端口"><a href="#2-7-2-暴露端口" class="headerlink" title="2.7.2 暴露端口"></a>2.7.2 暴露端口</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deploy nginx  <span class="literal">--port</span>=<span class="number">80</span> <span class="literal">--target-port</span>=<span class="number">80</span>  <span class="literal">--type</span>=NodePort</span><br></pre></td></tr></table></figure><h5 id="2-7-3-查看服务"><a href="#2-7-3-查看服务" class="headerlink" title="2.7.3 查看服务"></a>2.7.3 查看服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod,svc</span><br></pre></td></tr></table></figure><h5 id="2-7-4-查看pod"><a href="#2-7-4-查看pod" class="headerlink" title="2.7.4 查看pod"></a>2.7.4 查看pod</h5><p><img src="https://s2.loli.net/2023/01/20/pdK6OJnImvZGNR1.png" alt="img"></p><p>浏览器测试结果：</p><p><img src="https://s2.loli.net/2023/01/20/lZzMhoHsP1qUjNY.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux更新源</title>
      <link href="/posts/b7866dc2.html"/>
      <url>/posts/b7866dc2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="Linux更新源"><a href="#Linux更新源" class="headerlink" title="Linux更新源"></a>Linux更新源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim </span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/lzXfgEcaWh1w6pZ.png" alt="image-20230107163536689"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wq保存退出</span><br><span class="line">更新 sudo apt-get update</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql远程登录</title>
      <link href="/posts/c93102b7.html"/>
      <url>/posts/c93102b7.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-mysql开启远程登录"><a href="#1-mysql开启远程登录" class="headerlink" title="1. mysql开启远程登录"></a>1. mysql开启远程登录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#删除之前配置</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">#配置远程登录</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>; </span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="2-刷新权限"><a href="#2-刷新权限" class="headerlink" title="2.刷新权限"></a>2.刷新权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">sudo yum<span class="operator">-</span>config<span class="operator">-</span>manager <span class="comment">--add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span><br><span class="line">sudo yum<span class="operator">-</span>config<span class="operator">-</span>manager <span class="comment">--add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql更改密码</title>
      <link href="/posts/37f0288c.html"/>
      <url>/posts/37f0288c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="mysql更改密码"><a href="#mysql更改密码" class="headerlink" title="mysql更改密码"></a>mysql更改密码</h3><p>进入到MySQL输入以下指令</p><img src="https://s2.loli.net/2023/01/07/WyHISEZt9JnGlQz.png" alt="image-20230107162204484" style="zoom:80%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; update mysql.user set authentication_string=password(&#x27;123456&#x27;) where user=&#x27;root&#x27; and Host =&#x27;localhost&#x27;;</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.04 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 1</span><br><span class="line"></span><br><span class="line">mysql&gt; update user set plugin=&quot;mysql_native_password&quot;; </span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Rows matched: 4  Changed: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line"></span><br><span class="line">ALTER USER “root”@“localhost” IDENTIFIED WITH mysql_native_password BY “your password”;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">show databases;  #查看数据库</span><br><span class="line">use mysql;       #使用数据库</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">update user set authentication_string=PASSWORD(&quot;123456&quot;) where user=&#x27;root&#x27;;  </span><br><span class="line"></span><br><span class="line">#修改密码，密码设置的是 123456</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">update user set plugin=&quot;mysql_native_password&quot;;</span><br><span class="line"></span><br><span class="line">flush privileges; #刷新</span><br><span class="line"></span><br><span class="line">exit;  #退出,密码已经修改成功</span><br><span class="line"></span><br><span class="line">/etc/init.d/mysql restart   #重启mysql</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">重置为新的密码，这里分为两个版本</span><br><span class="line"></span><br><span class="line">一直使用5.7的命令在8.0的版本中执行，一直报错，感到很诧异，后查找资料后发现，mysql 5.7.9以后废弃了password字段和password()函数；</span><br><span class="line"></span><br><span class="line">而且用于表示用户密码的authentication_string字段只能是mysql加密后的41位字符串密码。因此在修改密码时，5.7版本和8.0版本有所不同，需要使用不同的语句执行，其他版本也有可能不同。</span><br><span class="line"></span><br><span class="line">1、MySql5.7</span><br><span class="line"></span><br><span class="line">update user set authentication_string = password([&quot;your new password&quot;]) where user = &quot;your username&quot; [and Host=&quot;localhost&quot;];</span><br><span class="line"></span><br><span class="line">2、MySql8.0</span><br><span class="line"></span><br><span class="line">（1）检查authentication_string字段是否为空，不为空先置空，我比较懒，我就直接置空了。</span><br><span class="line"></span><br><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=&#x27;&#x27; where user=&#x27;root&#x27;;</span><br><span class="line">ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br><span class="line"></span><br><span class="line">（2）如果顺利执行，那么恭喜你已经修改密码成功了，如果报错则执行flush privileges;刷新MySQL的系统权限相关表后再次执行上一步。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis的安装</title>
      <link href="/posts/ee5d6723.html"/>
      <url>/posts/ee5d6723.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Redis安装说明"><a href="#Redis安装说明" class="headerlink" title="Redis安装说明"></a>Redis安装说明</h1><p>大多数企业都是基于Linux服务器来部署项目，而且Redis官方也没有提供Windows版本的安装包。因此课程中我们会基于Linux系统来安装Redis.</p><p>此处选择的Linux版本为CentOS 7.</p><p>Redis的官方网站地址：<a href="https://redis.io/">https://redis.io/</a></p><h1 id="1-单机安装Redis"><a href="#1-单机安装Redis" class="headerlink" title="1.单机安装Redis"></a>1.单机安装Redis</h1><h2 id="1-1-安装Redis依赖"><a href="#1-1-安装Redis依赖" class="headerlink" title="1.1.安装Redis依赖"></a>1.1.安装Redis依赖</h2><p>Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><h2 id="1-2-上传安装包并解压"><a href="#1-2-上传安装包并解压" class="headerlink" title="1.2.上传安装包并解压"></a>1.2.上传安装包并解压</h2><p>然后将课前资料提供的Redis安装包上传到虚拟机的任意目录：</p><p><img src="https://s2.loli.net/2023/01/16/Ja8dPWHy4Rvcsbp.png" alt="image-20211211071712536"></p><p>例如，我放到了&#x2F;usr&#x2F;local&#x2F;src 目录：</p><p><img src="https://s2.loli.net/2023/01/16/NQSlt6T3AmXBp4F.png" alt="image-20211211080151539"></p><p>解压缩：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xzf redis-6.2.6.tar.gz</span><br></pre></td></tr></table></figure><p>解压后：</p><p><img src="https://s2.loli.net/2023/01/16/OUWYNnmTz28tQkg.png" alt="image-20211211080339076"></p><p>进入redis目录：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-6.2.6</span><br></pre></td></tr></table></figure><p>运行编译命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>如果没有出错，应该就安装成功了。</p><p>默认的安装路径是在 <code>/usr/local/bin</code>目录下：</p><p><img src="https://s2.loli.net/2023/01/16/xPGSKM7L4lgjdVZ.png" alt="image-20211211080603710"></p><p>该目录以及默认配置到环境变量，因此可以在任意目录下运行这些命令。其中：</p><ul><li>redis-cli：是redis提供的命令行客户端</li><li>redis-server：是redis的服务端启动脚本</li><li>redis-sentinel：是redis的哨兵启动脚本</li></ul><h2 id="1-3-启动"><a href="#1-3-启动" class="headerlink" title="1.3.启动"></a>1.3.启动</h2><p>redis的启动方式有很多种，例如：</p><ul><li>默认启动</li><li>指定配置启动</li><li>开机自启</li></ul><h3 id="1-3-1-默认启动"><a href="#1-3-1-默认启动" class="headerlink" title="1.3.1.默认启动"></a>1.3.1.默认启动</h3><p>安装完成后，在任意目录输入redis-server命令即可启动Redis：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>如图：</p><p><img src="https://s2.loli.net/2023/01/16/wsHFY3bmj5eLvxJ.png" alt="image-20211211081716167"></p><p>这种启动属于<code>前台启动</code>，会阻塞整个会话窗口，窗口关闭或者按下<code>CTRL + C</code>则Redis停止。不推荐使用。</p><h3 id="1-3-2-指定配置启动"><a href="#1-3-2-指定配置启动" class="headerlink" title="1.3.2.指定配置启动"></a>1.3.2.指定配置启动</h3><p>如果要让Redis以<code>后台</code>方式启动，则必须修改Redis配置文件，就在我们之前解压的redis安装包下（<code>/usr/local/src/redis-6.2.6</code>），名字叫redis.conf：</p><p><img src="https://s2.loli.net/2023/01/16/rsK6fwt1gQMNhH3.png" alt="image-20211211082225509"></p><p>我们先将这个配置文件备份一份：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp redis.conf redis.conf.bck</span><br></pre></td></tr></table></figure><p>然后修改redis.conf文件中的一些配置：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span></span><br><span class="line"><span class="attr">bind</span> <span class="string">0.0.0.0</span></span><br><span class="line"><span class="comment"># 守护进程，修改为yes后即可后台运行</span></span><br><span class="line"><span class="attr">daemonize</span> <span class="string">yes </span></span><br><span class="line"><span class="comment"># 密码，设置后访问Redis必须输入密码</span></span><br><span class="line"><span class="attr">requirepass</span> <span class="string">123321</span></span><br></pre></td></tr></table></figure><p>Redis的其它常见配置：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 监听的端口</span></span><br><span class="line"><span class="attr">port</span> <span class="string">6379</span></span><br><span class="line"><span class="comment"># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span></span><br><span class="line"><span class="attr">dir</span> <span class="string">.</span></span><br><span class="line"><span class="comment"># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span></span><br><span class="line"><span class="attr">databases</span> <span class="string">1</span></span><br><span class="line"><span class="comment"># 设置redis能够使用的最大内存</span></span><br><span class="line"><span class="attr">maxmemory</span> <span class="string">512mb</span></span><br><span class="line"><span class="comment"># 日志文件，默认为空，不记录日志，可以指定日志文件名</span></span><br><span class="line"><span class="attr">logfile</span> <span class="string">&quot;redis.log&quot;</span></span><br></pre></td></tr></table></figure><p>启动Redis：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入redis安装目录 </span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/src/redis-6.2.6</span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">redis-server redis.conf</span><br><span class="line"><span class="comment">#查看端口</span></span><br><span class="line">ps -ef | grep redis</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>停止服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span></span><br><span class="line"><span class="comment"># 因为之前配置了密码，因此需要通过 -u 来指定密码</span></span><br><span class="line">redis-cli -u 123321 shutdown</span><br></pre></td></tr></table></figure><h3 id="1-3-3-开机自启"><a href="#1-3-3-开机自启" class="headerlink" title="1.3.3.开机自启"></a>1.3.3.开机自启</h3><p>我们也可以通过配置来实现开机自启。</p><p>首先，新建一个系统服务文件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=redis-server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>然后重载系统服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>现在，我们可以用下面这组命令来操作redis了：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">systemctl start redis</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">systemctl stop redis</span><br><span class="line"><span class="comment"># 重启</span></span><br><span class="line">systemctl restart redis</span><br><span class="line"><span class="comment"># 查看状态</span></span><br><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><p>执行下面的命令，可以让redis开机自启：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><h1 id="2-Redis客户端"><a href="#2-Redis客户端" class="headerlink" title="2.Redis客户端"></a>2.Redis客户端</h1><p>安装完成Redis，我们就可以操作Redis，实现数据的CRUD了。这需要用到Redis客户端，包括：</p><ul><li>命令行客户端</li><li>图形化桌面客户端</li><li>编程客户端</li></ul><h2 id="2-1-Redis命令行客户端"><a href="#2-1-Redis命令行客户端" class="headerlink" title="2.1.Redis命令行客户端"></a>2.1.Redis命令行客户端</h2><p>Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli [options] [commonds]</span><br></pre></td></tr></table></figure><p>其中常见的options有：</p><ul><li><code>-h 127.0.0.1</code>：指定要连接的redis节点的IP地址，默认是127.0.0.1</li><li><code>-p 6379</code>：指定要连接的redis节点的端口，默认是6379</li><li><code>-a 123321</code>：指定redis的访问密码</li></ul><p>其中的commonds就是Redis的操作命令，例如：</p><ul><li><code>ping</code>：与redis服务端做心跳测试，服务端正常会返回<code>pong</code></li></ul><p>不指定commond时，会进入<code>redis-cli</code>的交互控制台：</p><p><img src="https://s2.loli.net/2023/01/16/Tv6LYeOJ2fpku9q.png" alt="image-20211211110439353"></p><h2 id="2-2-图形化桌面客户端"><a href="#2-2-图形化桌面客户端" class="headerlink" title="2.2.图形化桌面客户端"></a>2.2.图形化桌面客户端</h2><p>GitHub上的大神编写了Redis的图形化桌面客户端，地址：<a href="https://github.com/uglide/RedisDesktopManager">https://github.com/uglide/RedisDesktopManager</a></p><p>不过该仓库提供的是RedisDesktopManager的源码，并未提供windows安装包。</p><p>在下面这个仓库可以找到安装包：<a href="https://github.com/lework/RedisDesktopManager-Windows/releases">https://github.com/lework/RedisDesktopManager-Windows/releases</a></p><p><img src="https://s2.loli.net/2023/01/16/q7urFMCLPn4DYXH.png" alt="image-20211211111351885"></p><h3 id="2-2-1-安装"><a href="#2-2-1-安装" class="headerlink" title="2.2.1.安装"></a>2.2.1.安装</h3><p>在课前资料中可以找到Redis的图形化桌面客户端：</p><p><img src="https://s2.loli.net/2023/01/16/j8ZSa3pINtdFc5e.png" alt="image-20211214154938770"></p><p>解压缩后，运行安装程序即可安装：</p><p><img src="https://s2.loli.net/2023/01/16/qGC1cTbVjvzoQlf.png" alt="image-20211214155123841"></p><p>此处略。</p><p>安装完成后，在安装目录下找到rdm.exe文件：</p><p><img src="https://s2.loli.net/2023/01/16/1SkoMUcuynrHtGW.png" alt="image-20211211110935819"></p><p>双击即可运行：</p><p><img src="https://s2.loli.net/2023/01/16/UkhqAgJpEt4yYST.png" alt="image-20211214155406692"></p><h3 id="2-2-2-建立连接"><a href="#2-2-2-建立连接" class="headerlink" title="2.2.2.建立连接"></a>2.2.2.建立连接</h3><p>点击左上角的<code>连接到Redis服务器</code>按钮：</p><p><img src="https://s2.loli.net/2023/01/16/PODfCFNWjpa3iMV.png" alt="image-20211214155424842"></p><p>在弹出的窗口中填写Redis服务信息：</p><p><img src="https://s2.loli.net/2023/01/16/gqDpbGrfRJkAhdC.png" alt="image-20211211111614483"></p><p>点击确定后，在左侧菜单会出现这个链接：</p><p><img src="/assets/image-20211214155804523.png" alt="image-20211214155804523"></p><p>点击即可建立连接了：</p><p><img src="https://s2.loli.net/2023/01/16/vqycs5CufFY32iQ.png" alt="image-20211214155849495"></p><p>Redis默认有16个仓库，编号从0至15.  通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名称。</p><p>如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择 0号库</span></span><br><span class="line">select 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nosql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>select查询语句</title>
      <link href="/posts/24fbc361.html"/>
      <url>/posts/24fbc361.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="3-1-导入-x2F-导出sql文件"><a href="#3-1-导入-x2F-导出sql文件" class="headerlink" title="3-1 导入&#x2F;导出sql文件"></a>3-1 导入&#x2F;导出sql文件</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 将数据库中的数据导出，在命令行直接写命令，不需要进入MySQL</span><br><span class="line">mysqldump -u root -p --all-databases &gt; 本地路径  -- 将数据库中所有的库和库中数据全部导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p --all-databases &gt; F:\all_data.sql</span><br><span class="line"></span><br><span class="line">mysqldump -u root -p 库名 &gt; 本地路径  -- 将数据库中指定的库的数据导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p test &gt; F:\test.sql</span><br><span class="line"></span><br><span class="line">mysqldump -u 用户名 -p 数据库名 表名1 表名2 ...&gt; 本地路径  -- 将库中的一个表或者多个表和表中的数据导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p1026 test t1 t2 &gt; F:\many_tables.sql</span><br><span class="line"></span><br><span class="line">-- 向数据库中导入sql文件，需要登录mysql</span><br><span class="line">source sql文件  -- 导入所有库</span><br><span class="line">-- 导入一个库文件或者表需要先进入到库里</span><br><span class="line">    use 库;</span><br><span class="line">    source sql文件</span><br></pre></td></tr></table></figure><h1 id="3-2-select介绍"><a href="#3-2-select介绍" class="headerlink" title="3-2 select介绍"></a>3-2 select介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- DQL 数据查询语言，并不是官方定义的，只是因为数据查询非常重要而且知识点较多，所以就出现了DQL这个分类</span><br><span class="line">-- 功能</span><br><span class="line">获取表中的数据行，可以单独使用也可以配合其他子句使用，标准用法是配合其他子句使用</span><br><span class="line">-- 单独使用</span><br><span class="line">select localtime();  -- 配合内置函数使用，显示当前时间</span><br><span class="line">select concat(id, &#x27;@&#x27;, name) from t1;  -- concat拼接操作</span><br><span class="line"></span><br><span class="line">-- 标准用法：配合from /where /group by /having /order by /limit子句进行查询数据</span><br><span class="line">-- 上述子句的顺序就是SQL语法的书写顺序，需要注意语法书写顺序和执行顺序不一致</span><br></pre></td></tr></table></figure><h1 id="3-3-单表查询-from"><a href="#3-3-单表查询-from" class="headerlink" title="3-3 单表查询 - from"></a>3-3 单表查询 - from</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">在我要自学网本课程的资源下载中下载课程中用到的sql文件</span><br><span class="line">-- 将数据导入到本地MySQL中</span><br><span class="line">source sql文件路径</span><br><span class="line"></span><br><span class="line">-- select配合from子句：select 想要查询的数据 from 表;</span><br><span class="line">select * from dql.info;   -- 查询info表中的所有数据，全表扫描</span><br><span class="line">select id, name from dql.info;  -- 查询city表中id和name的数据，查询部分列的值</span><br><span class="line">ps：通常不使用全表扫描的方式查询数据，在数据非常多的情况下全表扫描是非常慢的</span><br></pre></td></tr></table></figure><h1 id="3-4-单表查询-where"><a href="#3-4-单表查询-where" class="headerlink" title="3-4 单表查询 - where"></a>3-4 单表查询 - where</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：where字句后需要有筛选条件，根据条件筛选出满足的数据</span><br><span class="line">-- 配合= &gt; &lt; &lt;= &gt;= != 比较运算使用</span><br><span class="line">select * from info where teacher=&#x27;李老师&#x27;;  -- 查询李老师带的学生的所有信息</span><br><span class="line"></span><br><span class="line">-- 配合and or not 逻辑判断使用</span><br><span class="line">select * from info where score&gt;90 and age&lt;8; -- 查询成绩大于90分并且年龄小于8岁的学生信息</span><br><span class="line">select * from info where score&gt;90 or score&lt;60 -- 查询成绩大于90分或者小于60分的学生的信息</span><br><span class="line"></span><br><span class="line">-- 配合between and 范围使用</span><br><span class="line">select * from info where score between 80 and 100; -- 查询分数在80-100范围的学生信息</span><br><span class="line"></span><br><span class="line">-- 配合in、not in 成员运算使用</span><br><span class="line"> select * from info where teacher in(&#x27;张老师&#x27;, &#x27;李老师&#x27;); -- 查询张老师和李老师带的学生信息</span><br><span class="line"> select * from info where teacher not in (&#x27;李老师&#x27;, &#x27;刘老师&#x27;); -- 查询没有被李老师和刘老师带的学生的信息</span><br><span class="line"> </span><br><span class="line">-- 配合like 模糊查询使用</span><br><span class="line">-- % 匹配任意多个字符</span><br><span class="line">-- _匹配任意单个字符</span><br><span class="line">SELECT * FROM info WHERE name LIKE &#x27;小%&#x27;;  -- 查询&#x27;小&#x27;开头的学生信息</span><br><span class="line">SELECT * FROM city WHERE district LIKE &#x27;小_&#x27;;  -- 查询&#x27;小&#x27;开头的学生信息</span><br></pre></td></tr></table></figure><h1 id="3-5-单表查询-group-by"><a href="#3-5-单表查询-group-by" class="headerlink" title="3-5 单表查询 - group by"></a>3-5 单表查询 - group by</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：按照某种逻辑分类分组，然后以组为单位统计分析数据。根据情况判断是否需要where过滤</span><br><span class="line">-- 使用：分组后不能使用表内定义字段作为select后的查询字段，需要配合聚合函数使用；由于MySQL数据库中不允许一行数据与多行数据对应，因此需要使用聚合函数将多个数据整合为与分组依据对应的一个数据。</span><br><span class="line">-- max()/min()最大/最小</span><br><span class="line">select teacher, min(score) from info group by teacher; -- 每个老师所带的学生的最低分数</span><br><span class="line">-- avg() 平均数</span><br><span class="line">select grade, avg(score) from info group by grade; -- 每个年级的平均分</span><br><span class="line">-- count() 计数</span><br><span class="line">select teacher, count(id) from info group by teacher; -- 统计每个老师带的学生数量</span><br><span class="line">-- sum() 总和</span><br><span class="line">select grade, sum(score) from info group by grade; -- 统计每个年级学生的总分</span><br><span class="line">-- group_concat()，列转行，将group by产生的同一个分组中的值连接起来，返回一个字符串结果。group_concat函数首先根据group by指定的列进行分组，将同一组的列转换成行出来。</span><br><span class="line">select grade, avg(score)， group_concat(name) from info group by grade;-- 统计每个年级的平均分，并且列出每个年级学生的名字</span><br><span class="line"></span><br><span class="line">-- 补充：可以使用as给字段起别名，as可以省略</span><br><span class="line">select grade as &#x27;年级&#x27;, avg(score) as &#x27;平均分&#x27; from info group by grade; -- 每个年级的平均分</span><br><span class="line"></span><br><span class="line">-- 和where子句结合使用</span><br><span class="line">select grade, age, avg(score) as &#x27;平均分&#x27; from info where grade=1 group by age; -- 统计一年级中不同年龄的分数平均值</span><br><span class="line"></span><br><span class="line">-- 使用分组group by注意事项</span><br><span class="line">&lt;1&gt; 关键字where和group by同时出现的时候group by必须在where的后面</span><br><span class="line">&lt;2&gt; where先对整体数据进行过滤之后再分组操作</span><br><span class="line">&lt;3&gt; where后面的筛选条件不能使用聚合函数</span><br></pre></td></tr></table></figure><h1 id="3-6-单表查询-having"><a href="#3-6-单表查询-having" class="headerlink" title="3-6 单表查询 - having"></a>3-6 单表查询 - having</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：对分组之后的数据再次进行筛选，作用和where类似，但是在having之后可以直接使用聚合函数作为条件</span><br><span class="line">-- 使用</span><br><span class="line">select grade, avg(score) from info group by grade having avg(score)&gt;=80; -- 统计每个年级的平均分并且输出平均分大于等于80的年级</span><br><span class="line"></span><br><span class="line">-- from + where + group by + having结合使用</span><br><span class="line">select grade, age, avg(score) as &#x27;平均分&#x27; from info where grade=1 group by age having avg(score)&gt;85;-- 统计一年级中不同年龄学生的分数平均值并输出平均分大于85分的年龄和分数</span><br></pre></td></tr></table></figure><h1 id="3-7-单表查询-distinct"><a href="#3-7-单表查询-distinct" class="headerlink" title="3-7 单表查询 - distinct"></a>3-7 单表查询 - distinct</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：对跟在distinct之后的字段数据去重操作，数据必须完全一致才能去重，如果去重的数据包含主键是无法进行去重的操作的</span><br><span class="line">-- 使用：</span><br><span class="line">select distinct id, teacher from info;  -- 查询老师和id,无法去重</span><br><span class="line">select distinct teacher from info;  -- 只查询老师可以去重</span><br><span class="line">select distinct age from info; -- 查询学生年龄都有哪些</span><br><span class="line">-- 结合group by使用</span><br><span class="line">select grade, min(score) as &#x27;最低分数&#x27;, group_concat(distinct teacher) from info group by grade;-- 查询每个年级最低分数并且输出该年级所有老师</span><br></pre></td></tr></table></figure><h1 id="3-8-单表查询-order-by"><a href="#3-8-单表查询-order-by" class="headerlink" title="3-8 单表查询 - order by"></a>3-8 单表查询 - order by</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：按照指定顺序输出结果，默认是从小到大，desc是从大到小</span><br><span class="line">-- 使用：</span><br><span class="line">select * from info order by id desc; -- 将数据按照id从大到小的顺序排序</span><br><span class="line">select * from info order by name; -- 按照学生姓名进行排序，非数字的排序是按照ASCII码表的顺序进行排序</span><br><span class="line">select name, score from info where grade=1 order by score desc;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序</span><br></pre></td></tr></table></figure><h1 id="3-9-单表查询-limit"><a href="#3-9-单表查询-limit" class="headerlink" title="3-9 单表查询 - limit"></a>3-9 单表查询 - limit</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：限制数据的展示条数，通常配合order by使用</span><br><span class="line">-- 使用</span><br><span class="line">-- limit后跟一个数字，表示从头开始展示的条数</span><br><span class="line">select * from info limit 5;  -- 展示前5条数据</span><br><span class="line">-- limit后跟两个数字，第一个参数是起始位置，第二个参数是展示的条数</span><br><span class="line">select * from info limit 5, 6; --  从第6条开始显示，共显示6条LIMIT N, M;  跳过N行，显示M行</span><br><span class="line">select * from info limit 6 offset 5; --  从第6条开始显示，共显示6条，LIMIT M OFFSET N; 跳过N行，显示M行</span><br><span class="line"></span><br><span class="line">-- 配合order by使用</span><br><span class="line">select * from info order by id desc limit 5; -- 将数据按照id从大到小的顺序排序，并展示前5条数据</span><br><span class="line">select name, score from info where grade=1 order by score desc limit 2, 4;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序，从第2条开始展示，展示4条</span><br><span class="line">select name, score from info where grade=1 order by score desc limit 4 offset 2;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序，从第2条开始展示，展示4条</span><br></pre></td></tr></table></figure><h1 id="3-10-单表查询总结"><a href="#3-10-单表查询总结" class="headerlink" title="3-10 单表查询总结"></a>3-10 单表查询总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-- 单表查询所有子句书写顺序</span><br><span class="line">SELECT DISTINCT field_list</span><br><span class="line">FROM table</span><br><span class="line">WHERE &lt;where_condition&gt;</span><br><span class="line">GROUP BY &lt;group_by_list&gt;</span><br><span class="line">HAVING &lt;having_condition&gt;</span><br><span class="line">ORDER BY &lt;order_by_condition&gt;</span><br><span class="line">LIMIT &lt;limit_number&gt;</span><br><span class="line"></span><br><span class="line">-- 执行顺序</span><br><span class="line">from# 找到表</span><br><span class="line">where# 筛选</span><br><span class="line">group by# 分组</span><br><span class="line">having# 再筛选</span><br><span class="line">select# 选择查看内容</span><br><span class="line">distinct# 内容去重</span><br><span class="line">order by# 内容排序</span><br><span class="line">limit# 限制内容条数</span><br><span class="line"></span><br><span class="line">-- 单表查询总结</span><br><span class="line"> where + 筛选条件; 可以配合= &gt; &lt; &lt;= &gt;= != 比较运算使用，也可以配合配合and or not 逻辑判断使用，也可以配合between and 范围使用，还有配合in、not in 成员运算使用以及配合like 模糊查询使用(% 匹配任意多个字符,_匹配任意单个字符)</span><br><span class="line"></span><br><span class="line"> group by 通常都是和聚合函数min()/max()/avg()/count()/sum()一起使用，分组后不能使用表内定义字段作为select后的查询字段，需要配合聚合函数使用；由于MySQL数据库中不允许一行数据与多行数据对应，因此需要使用聚合函数将多个数据整合为与分组依据对应的一个数据。</span><br><span class="line"> </span><br><span class="line"> having 对分组之后的数据再次进行筛选，作用和where类似，但是在having之后可以直接使用聚合函数作为条件,只能在分组之后使用，如果没有使用分组筛选条件只能使用where</span><br><span class="line"> </span><br><span class="line"> distinct 对跟在distinct之后的字段数据去重操作，数据必须完全一致才能去重，如果去重的数据包含主键是无法进行去重的操作的</span><br><span class="line"> </span><br><span class="line"> order by 按照指定顺序输出结果，默认是从小到大，desc是从大到小</span><br><span class="line"> </span><br><span class="line"> limit 限制数据的展示条数，通常配合order by使用，有三种写法</span><br><span class="line"> limit N; -- 展示结果的前N条数据</span><br><span class="line"> limit N, M; -- 跳过N条数据之后再展示M条数据</span><br><span class="line"> LIMIT M OFFSET N; 跳过N行，显示M行</span><br></pre></td></tr></table></figure><h1 id="3-11-单表查询综合实战-1"><a href="#3-11-单表查询综合实战-1" class="headerlink" title="3-11 单表查询综合实战(1)"></a>3-11 单表查询综合实战(1)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">数据准备：https://downloads.mysql.com/docs/world-db.zip</span><br><span class="line">或者在我要自学网上进行下载</span><br><span class="line">-- 查询中国所有城市信息</span><br><span class="line">select * from city where countrycode=&#x27;CHN&#x27;;</span><br><span class="line">-- 中国人口大于5000000的城市信息</span><br><span class="line">SELECT * FROM city WHERE countrycode=&#x27;CHN&#x27; AND population&gt;5000000;</span><br><span class="line">-- 查询中国省的名字前面带guang开头的</span><br><span class="line">SELECT * FROM city WHERE district LIKE &#x27;guang%&#x27;;</span><br><span class="line">-- 查询中国和美国所有城市信息</span><br><span class="line">SELECT * FROM city WHERE countrycode IN (&#x27;CHN&#x27; ,&#x27;USA&#x27;); </span><br><span class="line">-- 查询世界上人口数量大于100w小于200w的城市信息</span><br><span class="line">SELECT * FROM city WHERE population &gt;1000000 AND population &lt;2000000;  -- 第一种</span><br><span class="line">SELECT * FROM city WHERE population BETWEEN 1000000 AND 2000000;  -- 第二种</span><br><span class="line">-- 统计世界上每个国家的总人口数.</span><br><span class="line">SELECT countrycode ,SUM(population) FROM  city  GROUP BY countrycode;</span><br><span class="line">-- 统计中国每个省的人口数</span><br><span class="line">SELECT district,SUM(Population) FROM city  WHERE countrycode=&#x27;chn&#x27; GROUP BY district;</span><br></pre></td></tr></table></figure><h1 id="3-12-单表查询综合实战-2"><a href="#3-12-单表查询综合实战-2" class="headerlink" title="3-12 单表查询综合实战(2)"></a>3-12 单表查询综合实战(2)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">-- 统计中国每个省的名字，人数，城市个数，城市名字</span><br><span class="line">SELECT</span><br><span class="line">district AS &#x27;省份&#x27;,</span><br><span class="line">sum( population ) AS &#x27;总人数&#x27;,</span><br><span class="line">count( id ) AS &#x27;城市个数&#x27;,</span><br><span class="line">GROUP_CONCAT( NAME ) as &#x27;城市名称&#x27; </span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District;</span><br><span class="line">-- 统计中国每个省的总人口数，只打印总人口数小于1000000</span><br><span class="line">SELECT</span><br><span class="line">District AS &#x27;省份&#x27;,</span><br><span class="line">SUM( Population ) AS &#x27;总人口数&#x27;</span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District </span><br><span class="line">HAVING</span><br><span class="line">SUM( Population ) &lt; 1000000;</span><br><span class="line"></span><br><span class="line">-- 统计中国每个省的总人口数，只打印总人口数大于1000000,从大到小排列，只显示前6~11条。</span><br><span class="line">SELECT</span><br><span class="line">District AS &#x27;省份&#x27;,</span><br><span class="line">SUM( Population ) AS &#x27;总人口数&#x27; </span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District </span><br><span class="line">HAVING</span><br><span class="line">SUM( Population )&gt; 1000000 </span><br><span class="line">ORDER BY</span><br><span class="line">SUM( Population ) DESC </span><br><span class="line">LIMIT 5,</span><br><span class="line">6;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
