<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>1.k8s介绍</title>
      <link href="/posts/6e669434.html"/>
      <url>/posts/6e669434.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-Kubernetes介绍"><a href="#1-Kubernetes介绍" class="headerlink" title="1. Kubernetes介绍"></a>1. Kubernetes介绍</h1><h2 id="1-1-应用部署方式演变"><a href="#1-1-应用部署方式演变" class="headerlink" title="1.1 应用部署方式演变"></a>1.1 应用部署方式演变</h2><p>在部署应用程序的方式上，主要经历了三个时代：</p><ul><li><p><strong>传统部署</strong>：互联网早期，会直接将应用程序部署在物理机上</p><blockquote><p>优点：简单，不需要其它技术的参与</p><p>缺点：不能为应用程序定义资源使用边界，很难合理地分配计算资源，而且程序之间容易产生影响</p></blockquote></li><li><p><strong>虚拟化部署</strong>：可以在一台物理机上运行多个虚拟机，每个虚拟机都是独立的一个环境</p><blockquote><p>优点：程序环境不会相互产生影响，提供了一定程度的安全性</p><p>缺点：增加了操作系统，浪费了部分资源</p></blockquote></li><li><p><strong>容器化部署</strong>：与虚拟化类似，但是共享了操作系统</p><blockquote><p>优点：</p><p>可以保证每个容器拥有自己的文件系统、CPU、内存、进程空间等</p><p>运行应用程序所需要的资源都被容器包装，并和底层基础架构解耦</p><p>容器化的应用程序可以跨云服务商、跨Linux操作系统发行版进行部署</p></blockquote></li></ul><p><img src="https://s2.loli.net/2022/12/29/mhDUPf5wpFaTnN7.png" alt="image-20200505183738289"></p><p>容器化部署方式给带来很多的便利，但是也会出现一些问题，比如说：</p><ul><li>一个容器故障停机了，怎么样让另外一个容器立刻启动去替补停机的容器</li><li>当并发访问量变大的时候，怎么样做到横向扩展容器数量</li></ul><p>这些容器管理的问题统称为<strong>容器编排</strong>问题，为了解决这些容器编排问题，就产生了一些容器编排的软件：</p><ul><li><strong>Swarm</strong>：Docker自己的容器编排工具</li><li><strong>Mesos</strong>：Apache的一个资源统一管控的工具，需要和Marathon结合使用</li><li><strong>Kubernetes</strong>：Google开源的的容器编排工具</li></ul><p><img src="https://s2.loli.net/2022/12/29/mLkVIzHdTjlNqby.png" alt="image-20200524150339551"></p><h2 id="1-2-kubernetes简介"><a href="#1-2-kubernetes简介" class="headerlink" title="1.2 kubernetes简介"></a>1.2 kubernetes简介</h2><p><img src="https://s2.loli.net/2022/12/29/sJp93LAKyWew6jF.png" alt="image-20200406232838722"></p><p>kubernetes，是一个全新的基于容器技术的分布式架构领先方案，是谷歌严格保密十几年的秘密武器—-Borg系统的一个开源版本，于2014年9月发布第一个版本，2015年7月发布第一个正式版本。</p><p>kubernetes的本质是<strong>一组服务器集群</strong>，它可以在集群的每个节点上运行特定的程序，来对节点中的容器进行管理。目的是实现资源管理的自动化，主要提供了如下的主要功能：</p><ul><li><strong>自我修复</strong>：一旦某一个容器崩溃，能够在1秒中左右迅速启动新的容器</li><li><strong>弹性伸缩</strong>：可以根据需要，自动对集群中正在运行的容器数量进行调整</li><li><strong>服务发现</strong>：服务可以通过自动发现的形式找到它所依赖的服务</li><li><strong>负载均衡</strong>：如果一个服务起动了多个容器，能够自动实现请求的负载均衡</li><li><strong>版本回退</strong>：如果发现新发布的程序版本有问题，可以立即回退到原来的版本</li><li><strong>存储编排</strong>：可以根据容器自身的需求自动创建存储卷</li></ul><p><img src="/Kubenetes.assets/image-20200526203726071-1626780706899.png" alt="image-20200526203726071"></p><h2 id="1-3-kubernetes组件"><a href="#1-3-kubernetes组件" class="headerlink" title="1.3 kubernetes组件"></a>1.3 kubernetes组件</h2><p>一个kubernetes集群主要是由**控制节点(master)<strong>、</strong>工作节点(node)**构成，每个节点上都会安装不同的组件。</p><p><strong>master：集群的控制平面，负责集群的决策 ( 管理 )</strong></p><blockquote><p><strong>ApiServer</strong> : 资源操作的唯一入口，接收用户输入的命令，提供认证、授权、API注册和发现等机制</p><p><strong>Scheduler</strong> : 负责集群资源调度，按照预定的调度策略将Pod调度到相应的node节点上</p><p><strong>ControllerManager</strong> : 负责维护集群的状态，比如程序部署安排、故障检测、自动扩展、滚动更新等</p><p><strong>Etcd</strong> ：负责存储集群中各种资源对象的信息</p></blockquote><p><strong>node：集群的数据平面，负责为容器提供运行环境 ( 干活 )</strong></p><blockquote><p><strong>Kubelet</strong> : 负责维护容器的生命周期，即通过控制docker，来创建、更新、销毁容器</p><p><strong>KubeProxy</strong> : 负责提供集群内部的服务发现和负载均衡</p><p><strong>Docker</strong> : 负责节点上容器的各种操作</p></blockquote><p><img src="https://s2.loli.net/2022/12/29/KqaAmPuctikdhES.png" alt="image-20200406184656917"></p><p>下面，以部署一个nginx服务来说明kubernetes系统各个组件调用关系：</p><ol><li><p>首先要明确，一旦kubernetes环境启动之后，master和node都会将自身的信息存储到etcd数据库中</p></li><li><p>一个nginx服务的安装请求会首先被发送到master节点的apiServer组件</p></li><li><p>apiServer组件会调用scheduler组件来决定到底应该把这个服务安装到哪个node节点上</p><p> 在此时，它会从etcd中读取各个node节点的信息，然后按照一定的算法进行选择，并将结果告知apiServer</p></li><li><p>apiServer调用controller-manager去调度Node节点安装nginx服务</p></li><li><p>kubelet接收到指令后，会通知docker，然后由docker来启动一个nginx的pod</p><p> pod是kubernetes的最小操作单元，容器必须跑在pod中至此，</p></li><li><p>一个nginx服务就运行了，如果需要访问nginx，就需要通过kube-proxy来对pod产生访问的代理</p></li></ol><p>这样，外界用户就可以访问集群中的nginx服务了</p><h2 id="1-4-kubernetes概念"><a href="#1-4-kubernetes概念" class="headerlink" title="1.4 kubernetes概念"></a>1.4 kubernetes概念</h2><p><strong>Master</strong>：集群控制节点，每个集群需要至少一个master节点负责集群的管控</p><p><strong>Node</strong>：工作负载节点，由master分配容器到这些node工作节点上，然后node节点上的docker负责容器的运行</p><p><strong>Pod</strong>：kubernetes的最小控制单元，容器都是运行在pod中的，一个pod中可以有1个或者多个容器</p><p><strong>Controller</strong>：控制器，通过它来实现对pod的管理，比如启动pod、停止pod、伸缩pod的数量等等</p><p><strong>Service</strong>：pod对外服务的统一入口，下面可以维护者同一类的多个pod</p><p><strong>Label</strong>：标签，用于对pod进行分类，同一类pod会拥有相同的标签</p><p><strong>NameSpace</strong>：命名空间，用来隔离pod的运行环境</p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack一键安装脚本</title>
      <link href="/posts/a1b82ddb.html"/>
      <url>/posts/a1b82ddb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="使用Packstack工具一键安装OpenStack"><a href="#使用Packstack工具一键安装OpenStack" class="headerlink" title="使用Packstack工具一键安装OpenStack"></a>使用Packstack工具一键安装OpenStack</h2><h2 id="1-环境规划"><a href="#1-环境规划" class="headerlink" title="1.环境规划"></a>1.环境规划</h2><table><thead><tr><th><strong>操作系统版本</strong></th><th><strong>硬件配置</strong></th><th><strong>IP地址规划</strong></th><th><strong>主机名</strong></th><th><strong>虚拟机软件</strong></th><th><strong>OpenStack版本</strong></th></tr></thead><tbody><tr><td>centos7.9</td><td>4vCPUS&#x2F;15G 30G硬盘</td><td>172.17.2.60&#x2F;24</td><td>openstack</td><td>VMware WorkStation16</td><td>Stein</td></tr></tbody></table><p>centos7.9镜像获取地址：<a href="http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso">http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso</a></p><h2 id="2-准备资料"><a href="#2-准备资料" class="headerlink" title="2.准备资料"></a>2.准备资料</h2><p>OpenStack官方文档：<a href="https://docs.openstack.org/install-guide/">https://docs.openstack.org/install-guide/</a></p><p>使用Packstack一键部署OpenStack的方式，隐藏了技术细节，如果使用中出来任何问题，我们都无法解决，所以体验完OpenStack的日常界面操作后，后期还是要仔细查看官方文档，然后一步步手工安装OpenStack各组件。</p><p>阿里云yum源设置官方文档：<a href="https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11Jpkdzb">https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11Jpkdzb</a></p><h3 id="3-修改centos系统的主机名"><a href="#3-修改centos系统的主机名" class="headerlink" title="3.修改centos系统的主机名"></a>3.修改centos系统的主机名</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname openstack</span><br></pre></td></tr></table></figure><h3 id="4-设置centos系统为静态IP地址"><a href="#4-设置centos系统为静态IP地址" class="headerlink" title="4.设置centos系统为静态IP地址"></a>4.设置centos系统为静态IP地址</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">注意修改自己的网卡配置文件</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens32</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启网络服务</span></span><br><span class="line">systemctl restart network</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证IP地址</span></span><br><span class="line">ip addr</span><br></pre></td></tr></table></figure><h2 id="5-添加主机hosts记录"><a href="#5-添加主机hosts记录" class="headerlink" title="5.添加主机hosts记录"></a>5.添加主机hosts记录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;172.17.2.60 openstack&quot; &gt;&gt; /etc/hosts</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">验证修改结果</span></span><br><span class="line">more /etc/hosts</span><br></pre></td></tr></table></figure><h3 id="6-设置本机SSH免密码登录"><a href="#6-设置本机SSH免密码登录" class="headerlink" title="6.设置本机SSH免密码登录"></a>6.设置本机SSH免密码登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">生成ssh密钥</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">添加密钥信息到~./ssh/know_hosts文件</span></span><br><span class="line">ssh-copy-id root@172.17.2.60</span><br></pre></td></tr></table></figure><h3 id="7-关闭防火墙"><a href="#7-关闭防火墙" class="headerlink" title="7.关闭防火墙"></a>7.关闭防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看防火墙状态</span></span><br><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><h3 id="8-关闭SeLinux"><a href="#8-关闭SeLinux" class="headerlink" title="8.关闭SeLinux"></a>8.关闭SeLinux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s/SELINUX=enforcing/SELINUX=disabled/&#x27; /etc/selinux/config</span><br></pre></td></tr></table></figure><h3 id="9-关闭NetworkManager服务"><a href="#9-关闭NetworkManager服务" class="headerlink" title="9.关闭NetworkManager服务"></a>9.关闭NetworkManager服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop NetworkManager</span><br><span class="line">systemctl disable NetworkManager</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看NetworkManager状态</span></span><br><span class="line">systemctl status NetworkManager</span><br></pre></td></tr></table></figure><h3 id="10-修改官方yum源为阿里云yum源"><a href="#10-修改官方yum源为阿里云yum源" class="headerlink" title="10.修改官方yum源为阿里云yum源"></a>10.修改官方yum源为阿里云yum源</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重建本地yum索引缓存</span></span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure><h3 id="11-系统升级"><a href="#11-系统升级" class="headerlink" title="11.系统升级"></a>11.系统升级</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">升级</span></span><br><span class="line">yum -y update</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><h2 id="12-安装常用的软件"><a href="#12-安装常用的软件" class="headerlink" title="12.安装常用的软件"></a>12.安装常用的软件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install vim bash-completion yum-utils</span><br></pre></td></tr></table></figure><h3 id="13-安装OpenStack-Stein的yum库"><a href="#13-安装OpenStack-Stein的yum库" class="headerlink" title="13.安装OpenStack Stein的yum库"></a>13.安装<code>OpenStack Stein</code>的<code>yum</code>库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install centos-release-openstack-stein</span><br></pre></td></tr></table></figure><h3 id="14-修改CentOS-OpenStack-stein-repo配置文件"><a href="#14-修改CentOS-OpenStack-stein-repo配置文件" class="headerlink" title="14.修改CentOS-OpenStack-stein.repo配置文件"></a>14.修改<code>CentOS-OpenStack-stein.repo</code>配置文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">备份</span></span><br><span class="line">cp -a CentOS-OpenStack-stein.repo CentOS-OpenStack-stein.repo.bak</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改配置文件</span></span><br><span class="line">vim CentOS-OpenStack-stein.repo</span><br><span class="line">[centos-openstack-stein]</span><br><span class="line">baseurl=http://mirrors.aliyun.com/$contentdir/$releasever/cloud/$basearch/openstack-stein/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mirrorlist=http://mirrorlist.centos.org/?release=<span class="variable">$releasever</span>&amp;<span class="built_in">arch</span>=<span class="variable">$basearch</span>&amp;repo=cloud-openstack-stein</span></span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">清除本地yum索引缓存，然后再重建索引缓存</span></span><br><span class="line">yum clean all &amp;&amp; yum makecache</span><br></pre></td></tr></table></figure><h3 id="15-安装packstack工具"><a href="#15-安装packstack工具" class="headerlink" title="15.安装packstack工具"></a>15.安装packstack工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install openstack-packstack</span><br></pre></td></tr></table></figure><h3 id="16-安装OpenStack-allinone"><a href="#16-安装OpenStack-allinone" class="headerlink" title="16.安装OpenStack allinone"></a>16.安装OpenStack allinone</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">packstack --allinone</span><br></pre></td></tr></table></figure><p>自动化安装时间很长，静静等待，直到出现如下信息，表示成功安装。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">**** Installation completed successfully ******</span><br><span class="line"></span><br><span class="line">Additional information:</span><br><span class="line"> * Parameter CONFIG_NEUTRON_L2_AGENT: You have choosen OVN neutron backend. Note that this backend does not support LBaaS, VPNaaS or FWaaS services. Geneve will be used as encapsulation method for tenant networks</span><br><span class="line"> * A new answerfile was created in: /root/packstack-answers-20220222-171022.txt</span><br><span class="line"> * Time synchronization installation was skipped. Please note that unsynchronized time on server instances might be problem for some OpenStack components.</span><br><span class="line"> * File /root/keystonerc_admin has been created on OpenStack client host 172.17.2.60. To use the command line tools you need to source the file.</span><br><span class="line"> * To access the OpenStack Dashboard browse to http://172.17.2.60/dashboard .</span><br><span class="line">Please, find your login credentials stored in the keystonerc_admin in your home directory.</span><br><span class="line"> * The installation log file is available at: /var/tmp/packstack/20220222-171021-YFXtB3/openstack-setup.log</span><br><span class="line"> * The generated manifests are available at: /var/tmp/packstack/20220222-171021-YFXtB3/manifests</span><br></pre></td></tr></table></figure><h3 id="17-查看Dashboard-web页面的登录账号及密码"><a href="#17-查看Dashboard-web页面的登录账号及密码" class="headerlink" title="17 .查看Dashboard web页面的登录账号及密码"></a>17 .查看Dashboard web页面的登录账号及密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat keystonerc_admin </span><br><span class="line">unset OS_SERVICE_TOKEN</span><br><span class="line">    export OS_USERNAME=admin#Dashboard登录账号</span><br><span class="line">    export OS_PASSWORD=&#x27;12b2ca7e963242ae&#x27;#Dashboard登录密码</span><br><span class="line">    export OS_REGION_NAME=RegionOne</span><br><span class="line">    export OS_AUTH_URL=http://172.17.2.60:5000/v3</span><br><span class="line">    export PS1=&#x27;[\u@\h \W(keystone_admin)]\$ &#x27;</span><br><span class="line">    </span><br><span class="line">export OS_PROJECT_NAME=admin</span><br><span class="line">export OS_USER_DOMAIN_NAME=Default</span><br><span class="line">export OS_PROJECT_DOMAIN_NAME=Default</span><br><span class="line">export OS_IDENTITY_API_VERSION=3</span><br></pre></td></tr></table></figure><h3 id="18-修改密码"><a href="#18-修改密码" class="headerlink" title="18.修改密码"></a>18.修改密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim keystonerc_admin</span><br><span class="line">export OS_PASSWORD=&#x27;admin&#x27;#填入修改后的新密码</span><br></pre></td></tr></table></figure><h3 id="19-本人亲测没有问题"><a href="#19-本人亲测没有问题" class="headerlink" title="19.本人亲测没有问题"></a>19.本人亲测没有问题</h3><p><img src="https://s2.loli.net/2023/01/29/ys49ZU6JiKDtSvl.png" alt="image-20230129181318202"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack服务相关命令</title>
      <link href="/posts/f612fab2.html"/>
      <url>/posts/f612fab2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="openstack服务相关命令"><a href="#openstack服务相关命令" class="headerlink" title="openstack服务相关命令"></a>openstack服务相关命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">重启openstack的整个服务</span><br><span class="line">openstack-service restart</span><br><span class="line"></span><br><span class="line">1. 重启dashboard</span><br><span class="line">service httpd restart</span><br><span class="line">service memcached restart</span><br><span class="line"></span><br><span class="line">2. 重启 ceilometer</span><br><span class="line">2.1 cinder</span><br><span class="line">service mongod restart</span><br><span class="line">2.2 controller</span><br><span class="line">service openstack-ceilometer-api restart</span><br><span class="line">service openstack-ceilometer-notification restart</span><br><span class="line">service openstack-ceilometer-central restart</span><br><span class="line">service openstack-ceilometer-collector restart</span><br><span class="line">service openstack-ceilometer-alarm-evaluator restart</span><br><span class="line">service openstack-ceilometer-alarm-notifier restart</span><br><span class="line">2.3 compute</span><br><span class="line">service openstack-nova-compute restart</span><br><span class="line">2.4 controller</span><br><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br><span class="line">Block Storage service</span><br><span class="line">2.5 controller node</span><br><span class="line">service openstack-cinder-api restart</span><br><span class="line">service openstack-cinder-scheduler restart</span><br><span class="line">2.6 cinder</span><br><span class="line">service openstack-cinder-volume restart</span><br><span class="line"></span><br><span class="line">3. 重启Fuel服务</span><br><span class="line">docker restart fuel-core-6.1-nailgun</span><br><span class="line">docker restart fuel-core-6.1-keystone</span><br><span class="line">docker restart fuel-core-6.1-rsync</span><br><span class="line">docker restart fuel-core-6.1-mcollective</span><br><span class="line">docker restart fuel-core-6.1-ostf</span><br><span class="line">docker restart fuel-core-6.1-astute</span><br><span class="line">docker restart fuel-core-6.1-rsyslog</span><br><span class="line">docker restart fuel-core-6.1-postgres</span><br><span class="line">docker restart fuel-core-6.1-rabbitmq</span><br><span class="line">docker restart fuel-core-6.1-nginx</span><br><span class="line">docker restart fuel-core-6.1-cobbler</span><br><span class="line"></span><br><span class="line">4. 重启 Neutron 服务</span><br><span class="line">4.1 控制节点</span><br><span class="line">service openstack-nova-api restart</span><br><span class="line">service openstack-nova-scheduler restart</span><br><span class="line">service openstack-nova-conductor restart</span><br><span class="line">service neutron-server restart</span><br><span class="line">4.2 网络节点</span><br><span class="line">service openvswitch restart</span><br><span class="line">service neutron-openvswitch-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-l3-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-dhcp-agent restart（fuel控制节点默认stop）</span><br><span class="line">service neutron-metadata-agent restart（fuel控制节点默认stop）</span><br><span class="line">4.3 计算节点</span><br><span class="line">service neutron-openvswitch-agent restart</span><br><span class="line">service openvswitch restart</span><br><span class="line"></span><br><span class="line">5. 重启cinder服务</span><br><span class="line">5.1 控制节点</span><br><span class="line">service openstack-cinder-api restart</span><br><span class="line">service openstack-cinder-scheduler restart</span><br><span class="line">5.2 存储节点</span><br><span class="line">service openstack-cinder-volume restart</span><br><span class="line"></span><br><span class="line">6. 重启glance服务</span><br><span class="line">6.1 控制节点</span><br><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br><span class="line"></span><br><span class="line">7. 重启Swift服务</span><br><span class="line">7.1 控制节点</span><br><span class="line">service openstack-swift-proxy restart</span><br><span class="line">service memcached restart</span><br><span class="line">7.2 存储节点</span><br><span class="line">service openstack-swift-account restart</span><br><span class="line">service openstack-swift-account-auditor restart</span><br><span class="line">service openstack-swift-account-reaper restart</span><br><span class="line">service openstack-swift-account-replicator restart</span><br><span class="line">service openstack-swift-container restart</span><br><span class="line">service openstack-swift-container-auditor restart</span><br><span class="line">service openstack-swift-container-replicator restart</span><br><span class="line">service openstack-swift-container-updater restart</span><br><span class="line">service openstack-swift-object restart</span><br><span class="line">service openstack-swift-object-auditor restart</span><br><span class="line">service openstack-swift-object-replicator restart</span><br><span class="line">service openstack-swift-object-updater restart</span><br><span class="line"></span><br><span class="line">8. 重启Nova服务</span><br><span class="line">8.1 控制节点</span><br><span class="line">service openstack-nova-api restart</span><br><span class="line"></span><br><span class="line">or:/etc/init.d/openstack-nova-api restart</span><br><span class="line"></span><br><span class="line">service openstack-nova-cert restart</span><br><span class="line">service openstack-nova-consoleauth restart</span><br><span class="line">service openstack-nova-scheduler restart</span><br><span class="line">service openstack-nova-conductor restart</span><br><span class="line">service openstack-nova-novncproxy restart</span><br><span class="line">8.2 计算节点</span><br><span class="line">service libvirtd restart</span><br><span class="line">service openstack-nova-compute restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>httpd解决方案</title>
      <link href="/posts/d8a1ddad.html"/>
      <url>/posts/d8a1ddad.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-httpd解决方案"><a href="#1-httpd解决方案" class="headerlink" title="1.httpd解决方案"></a>1.httpd解决方案</h2><p>​Job for httpd.service failed because the control process exited with error code.see “systemctl status httpd.service” and “journalctl -xe” for details.</p><p>这个提醒 会让你去查看当前状态日志，查看状态日志时基本上你会发现 一些服务处在 fail 状态 基本上就是httpd服务没能够起来。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.杀掉这个进程就可以：</span><br><span class="line"></span><br><span class="line">先ps –aux | grep http</span><br><span class="line">第二行数字就是进程pid号</span><br><span class="line">Kill -9 pid号 即可杀掉进程</span><br><span class="line">杀完之后 重启reboot 再ps –aux | grep http 确保httpd进程被杀掉 若发现无法杀掉进程 往下看</span><br><span class="line"></span><br><span class="line">2. 如果杀掉进程的话，重启进程还存在，就代表成了僵尸进程，就重新安装哈httpd</span><br><span class="line">步骤如下：</span><br><span class="line">先用yum卸载httpd和mod_wsgi，</span><br><span class="line">命令：yum remove httpd mod_wsgi;</span><br><span class="line">然后再安装yun -y install httpd mod_wsgi 就可以了</span><br><span class="line">安装完成后 service httpd restart 即可 问题基本排除</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看运行状态</span></span><br><span class="line">systemctl status httpd.service</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动服务</span></span><br><span class="line">systemctl start httpd.service</span><br></pre></td></tr></table></figure><h3 id="2-Openstack-glance-安装-403错误"><a href="#2-Openstack-glance-安装-403错误" class="headerlink" title="2.Openstack glance 安装 403错误"></a>2.Openstack glance 安装 403错误</h3><p>​执行openstack endpoint create –region RegionOne image public <a href="http://controller160:9292/">http://controller160:9292</a></p><p>报错HTTP 403 Forbidden:You are not authorized to complete publicize_image action</p><p><strong>解决办法</strong></p><ul><li>修改glance配置文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/glance/glance-api.conf</span><br><span class="line"> </span><br><span class="line">vim /etc/glance/glance-registry.conf</span><br></pre></td></tr></table></figure><ul><li>出现这种错误一般是配置文件中flavor&#x3D;keystone没有写，2个文件都要看</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[paste_deploy]</span><br><span class="line">flavor = keystone</span><br></pre></td></tr></table></figure><ul><li>重新启动服务</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service openstack-glance-api restart</span><br><span class="line">service openstack-glance-registry restart</span><br></pre></td></tr></table></figure><h3 id="openstack错误"><a href="#openstack错误" class="headerlink" title="openstack错误"></a>openstack错误</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">   platform: Linux-3.10.0-1127.el7.x86_64-x86_64-with-centos-7.8.2003-Core</span><br><span class="line">        pip: 9.0.3</span><br><span class="line">        setuptools: 33.1.1</span><br><span class="line">        setuptools_rust: 1.1.2</span><br><span class="line">        rustc: n/a</span><br><span class="line">        =============================DEBUG ASSISTANCE=============================</span><br><span class="line"></span><br><span class="line">    Traceback (most recent call last):</span><br><span class="line">      File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">      File &quot;/tmp/pip-build-9859g78y/cryptography/setup.py&quot;, line 63, in &lt;module&gt;</span><br><span class="line">        rust_version=&quot;&gt;=1.48.0&quot;,</span><br><span class="line">      File &quot;/usr/lib64/python3.6/distutils/core.py&quot;, line 108, in setup</span><br><span class="line">        _setup_distribution = dist = klass(attrs)</span><br><span class="line">      File &quot;/usr/local/lib/python3.6/site-packages/setuptools/dist.py&quot;, line 320, in __init__</span><br><span class="line">        _Distribution.__init__(self, attrs)</span><br><span class="line">      File &quot;/usr/lib64/python3.6/distutils/dist.py&quot;, line 261, in __init__</span><br><span class="line">        warnings.warn(msg)</span><br><span class="line">    UserWarning: Unknown distribution option: &#x27;cffi_modules&#x27;</span><br><span class="line"></span><br><span class="line">    ----------------------------------------</span><br><span class="line">Command &quot;python setup.py egg_info&quot; failed with error code 1 in /tmp/pip-build-9859g78y/cryptography/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> pip3 install setuptools_rust</span><br><span class="line"> sudo pip3 install setuptools==33.1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install gcc libffi-devel python-devel openssl-devel -y</span><br><span class="line"></span><br><span class="line">python3 -m pip install --upgrade pip</span><br><span class="line"></span><br><span class="line">pip3 install paramiko</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos配置网卡</title>
      <link href="/posts/7f72d94.html"/>
      <url>/posts/7f72d94.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="centos配置网卡"><a href="#centos配置网卡" class="headerlink" title="centos配置网卡"></a>centos配置网卡</h2><ol><li>输入vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33 ，修改ifcfg-ens33配置文件。</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">TYPE=&quot;Ethernet&quot;</span><br><span class="line">PROXY_METHOD=&quot;none&quot;</span><br><span class="line">BROWSER_ONLY=&quot;no&quot;</span><br><span class="line">BOOTPROTO=&quot;none&quot;</span><br><span class="line">DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6INIT=&quot;yes&quot;</span><br><span class="line">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class="line">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class="line">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class="line">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class="line">NAME=&quot;ens33&quot;</span><br><span class="line">UUID=&quot;6970da3b-cfc7-4d7d-a19e-644516dbd352&quot;</span><br><span class="line">DEVICE=&quot;ens33&quot;</span><br><span class="line">ONBOOT=&quot;yes&quot;</span><br><span class="line">IPADDR=&quot;10.0.0.10&quot;</span><br><span class="line">PREFIX=&quot;255.255.255.0&quot;</span><br><span class="line">GATEWAY=&quot;10.0.0.1&quot;</span><br><span class="line">DNS1=&quot;8.8.8.8&quot;</span><br><span class="line">DNS2=&quot;144.144.144.144&quot;</span><br><span class="line">IPV6_PRIVACY=&quot;no&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>输入systemctl restart network重启网络服务，使修改的配置文件生效。</li></ol><p><img src="https://s2.loli.net/2023/01/27/TUPKYj3ehoq8fAR.png" alt="image-20230127100554113"></p><p>3.输入ip addr查看是否获取到IP地址，ping <a href="http://www.baidu.com./">www.baidu.com。</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件和权限</title>
      <link href="/posts/3f315f69.html"/>
      <url>/posts/3f315f69.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="文件和目录权限"><a href="#文件和目录权限" class="headerlink" title="文件和目录权限"></a>文件和目录权限</h2><p>​文件是操作系统用来存储信息的基本结构，是一组信息的集合。与其他操作系统相比，Linux系统最大的不同点是没有“扩展名”的概念，也就是说文件的名称和该文件的种类并没有直接的关联。例如，1.txt可能是一个运行文件，1.exe也有可能是一个文本文件，甚至可以不使用扩展名。在Linux系统中，如果文件名以“.”开始，表示该文件为隐藏文件，需要使用“ls -a”命令才能显示。</p><p>​一个Linux目录或者文件都会有一个所属主（user）和所属组(group)。所属主是指文件的拥有者，而所属组是指该文件的所属主所在的一个组。Linux这样设置文件属性的目的是保证文件的安全。例如，1.txt文件的所属主是zs，而2.txt文件的所属主是ls，那么ls是不能查看1.txt文件的，相应的zs也不能查看2.txt文件。有时我们也会有这样的需求，即使一个文件同时让zs和ls来查看，这如何实现呢？</p><p>​这时，先创建一个群组shares，让zs和ls同属于shares组，然后建立一个文件3.txt，且其所属组为shares，那么zs和ls都可以访问3.txt文件。Linux文件属性不仅规定了所属主和所属组，还规定了所属主、所属组及其他用户（others）对该文件的权限，可以通过“ ls -l”命令来查看这些属性。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">在当前目录下用touch命令创建一个普通文件2.txt，用mkdir命令创建一个BB目录，用ln命令为2.txt创建软链接到BB目录里，再用“ ls -l”命令查看刚才创建的3个文件，代码如下。</span><br><span class="line">［root@fishyoung~］# touch 2.txt</span><br><span class="line">［root@fishyoung~］# mkdir BB</span><br><span class="line">［root@fishyoung~］# ln -s ~/2.txt BB</span><br><span class="line">［root@fishyoung~］# ls -l 2.txt; ls -ld BB; ls -l BB/2.txt</span><br><span class="line">-rw-r--r--.1 root root 0Apr7 15:42 2.txt</span><br><span class="line">Drwxr-xr-x.2 root root 19 Apr7 15:43 BB</span><br><span class="line">lrwxrwxrwx.1 root root 11 Apr7 15:43 BB/2.txt-&gt; /root/2.txt</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/K2x5ogB48VwSpMt.png" alt="image-20230125103018879"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">（1）第1列：文件类型权限，包含文件所属类型及用户对该文件的权限。第1列共11位，有的文件是10位，即没有最后面的一位“.”（此位与selinux和acl有关）。</span><br><span class="line">①第1位用来描述该文件的类型，有</span><br><span class="line">“-”“d”“l”“b”“c”“s”等。</span><br><span class="line">a.“-”表示该文件为普通文件。</span><br><span class="line">b.“d”表示该文件为目录。</span><br><span class="line">c.“l”表示该文件为软链接文件。</span><br><span class="line">d.“b”表示该文件为块设备，如 /dev/sda。</span><br><span class="line">e.“c”表示该文件为串行端口设备，如键盘、鼠标等。</span><br><span class="line">f.“s”表示该文件为套接字文件（socket），用于进程间通信。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​②后边的9位，每3位为一组，均是“r”“w”“x”三个参数的组合，其中“r”代表可读，“w”代表可写，“x”代表可执行。前三位为所属主（user，u）的权限，中间3位为所属组（group，g）的权限，最后3位为其他非本群组（others，o）的权限。</p><p>​a.“-rw-r–r–.”代表该文件为普通文件，文件拥有者可读可写不可执行，文件所属组可读不可写不可执行，其他用户可读不可写不可执行。</p><p>​b.“drwxr-xr-x.”代表该文件为目录。文件拥有者可读可写可执行，文件所属组可读不可写可执行，其他用户可读不可写可执行。</p><p>​对于一般文件来说，权限比较容易理解：“可读”表示能够读取文件的实际内容；“可写”表示能够编辑、新增、修改、删除文件的实际内容；“可执行”则表示能够运行一个脚本程序。但是，对于目录文件来说，“可读”表示能够读取目录内的文件列表；“可写”表示能够在目录内新增、删除、重命名文件；而“可执行”则表示能够进入该目录。</p><p>​文件的读、写、执行权限可以简写为rwx，也可分别用数字4、2、1来表示，文件所属主、所属组及其他用户权限之间无关联，具体见表3-6。</p><p><img src="https://s2.loli.net/2023/01/25/LnH9wxSkEDUX75A.png" alt="image-20230125103231852"></p><p>​文件权限的数字法表示基于字符表示（rwx）的权限计算而来，其目的是简化权限的表示。例如，若某个文件的权限为7，则代表可读、可写、可执行（4+2+1）；若权限为6，则代表可读、可写（4+2）。</p><p>​现在有这样一个文件，其所有者拥有可读、可写、可执行的权限，其文件所属组拥有可读、可写的权限，而其他人只有可读的权限。那么，该文件的权限就是rwxrw-r–，用数字法表示即为764。Linux系统的文件权限相当复杂，但是用途很广泛，建议读者把它彻底搞清楚之后再学习后面的内容。</p><p><strong>练一练：</strong></p><p>请分别计算数字表示法744、632、453、751所对应的字符表示法，然后把rwxrw-rw-、rw-rw–wx、rw-r-xr–转换成数字表示法。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（1）chown命令用来更改文件的所属主和所属组，该命令操作的语法格式为</span><br><span class="line"></span><br><span class="line">chown［-R ］账户名［：组名］文件名</span><br><span class="line"></span><br><span class="line">如果文件名是目录，并要求同时更改目录下的所有文件，则需要加入“-R”参数递归更改。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用户和组</title>
      <link href="/posts/b330f276.html"/>
      <url>/posts/b330f276.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="用户和组"><a href="#用户和组" class="headerlink" title="用户和组"></a>用户和组</h2><h3 id="1-1-用户和组"><a href="#1-1-用户和组" class="headerlink" title="1.1 用户和组"></a>1.1 用户和组</h3><ul><li>​Linux是一个具有很好的稳定性与安全性的多用户、多任务操作系统，在幕后保障Linux系统安全的则是一系列复杂的配置工作。</li><li>​Linux系统对用户分配如下：系统管理员（root）、系统用户（不可登录）和普通用户（可登录）。我们登录linux系统时输入的是账号，但是Linux系统并不会直接识别账号，而是通过我们建立账号时系统分配的ID号码，其中，系统管理员（root）ID为0，可登录的普通用户ID为1000~65535。</li><li>​在建立用户账号时，系统会为用户账号分配至少两个ID，一个用户ID（User ID，UID），一个组ID（Group ID，GID）。UID的知识已经在前面介绍过了，下面了解一下GID,管理员（root）组ID为0,非系统组ID为1000~65535。</li><li>​对于一个用户而言，只有唯一一个UID，但是可以有多个不同的组，分别为主组群和附属组，主组群名与用户名相同，且只有一个用户（本身），也可以称为私有组。主组群以外的组为附属组。</li><li>在Linux系统中，用户账号、用户密码、用户组信息和用户组密码均存放在不同的配置文件中，所创建的用户账号及其相关信息(密码除外)均存放在&#x2F;etc&#x2F;passwd配置文件中。由于所有用户对passwd文件均有读取的权限，因此密码信息并未保存在该文件中，而是保存在&#x2F;etc&#x2F;shadow配置文件中。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在passwd配置文件中，一行定义一个用户账号，每行均由多个不同的字段构成，各字段值间用“：”分隔如下。</span><br><span class="line">［root@fishyoung~］# cat /etc/passwd   //查看passwd文件信息</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">……省略部分信息……</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/Fnomd2trYSqaey8.png" alt="image-20230125100922706"></p><p>因为passwd不再保存密码信息，所以用x占位代表，若要使某个用户账户不能登录Linux，只需设置该用户所使用的shell为&#x2F;sbin&#x2F;nologin即可。</p><h3 id="1-2-添加，修改，删除"><a href="#1-2-添加，修改，删除" class="headerlink" title="1.2 添加，修改，删除"></a>1.2 添加，修改，删除</h3><p>​用户账户的管理工作主要涉及用户账户的添加、修改和删除。添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录shell等资源，刚添加的账号是被锁定的，无法使用。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">（1）useradd命令用来添加新的用户账户，该命令操作的语法格式为：</span><br><span class="line"></span><br><span class="line">useradd［参数选项］用户名</span><br></pre></td></tr></table></figure><p>​使用useradd命令在创建用户账户时，默认家目录是 &#x2F;home&#x2F;“创建用户名”，默认的shell解释器为&#x2F;bin&#x2F;bash，同时会创建一个同名的主组群。这些默认值都是可以搭配参数选项进行更改的，具体的参数及作用见表3-2。</p><p><img src="https://s2.loli.net/2023/01/25/iFIXRLAJDk8OSaE.png" alt="image-20230125101204481"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">【例3-1】创建一个普通用户zs。</span><br><span class="line">［root@fishyoung~］# tail -1 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］# useradd zs</span><br><span class="line">［root@fishyoung~］# tail -2 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyoungzs</span><br><span class="line">［root@fishyoung~］# id zs</span><br><span class="line">uid=1001(zs) gid=1001(zs) groups=1001(zs)</span><br><span class="line">分析得出：zs用户的UID为1001，GID为1001，同时创建用户私有组为1001，用户家目录默认为/home/zs，shell默认为/bin/bash。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>【例3-2】创建一个普通用户ls，用户的UID为1111，GID为1001，不创建用户私有组，所属的附属组群为0和1，用户家目录为&#x2F;home&#x2F;lshome，shell为&#x2F;sbin&#x2F;nologin（不能登录使用）。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# tail -1 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">［root@fishyoung~］# useradd -u 1111 -g 1001 -n -G 0,1 -d /home/lshome -s /sbin/nologin ls</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">ls:x:1111:1001::/home/lshome:/sbin/nologin</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomezs</span><br><span class="line">［root@fishyoung~］# id ls</span><br><span class="line">uid=1111(ls) gid=1001(zs) groups=1001(zs),0(root),1(bin)</span><br></pre></td></tr></table></figure><p>【例3-3】创建一个普通用户ww，用户账户过期日期为2018年4月7日。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# date</span><br><span class="line">Sat Apr7 11:28:52 CST 2018</span><br><span class="line">［root@fishyoung~］# useradd -e 2018-04-07 ww</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomewwzs</span><br><span class="line">［root@fishyoung~］# id ww</span><br><span class="line">uid=1112(ww) gid=1112(ww) groups=1112(ww)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>学习使用passwd命令来设置用户登录密码，该命令操作的语法格式为:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd［参数选项］［用户账户名］</span><br></pre></td></tr></table></figure><p>​若指定了账户名称，则设置指定账户的登录密码，原密码被自动覆盖。只有root用户才有权设置指定账户的密码，一般用户只能设置或修改自己账户的密码（不带参数）。</p><p><img src="https://s2.loli.net/2023/01/25/Uzi1K6g3vhlcjXG.png" alt="image-20230125102003688"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">设置账户登录密码后，该账户就可以登录系统了，就可以继续完善【例3-3】了。</span><br><span class="line">首先用ssh登录测试（ssh的用法后面会讲到），再更改系统时间为2018年4月6日 23:59:00，用ssh再次登录Linux系统进行测试。</span><br><span class="line">［root@fishyoung~］# date //查看当前系统时间</span><br><span class="line">Sat Apr7 11:49:30 CST 2018</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128 //用ww账户登录系统</span><br><span class="line">ww@192.168.244.128’s password:  //输入登录密码</span><br><span class="line">Your account has expired; please contact your system administrator</span><br><span class="line">Authentication failed.∥账户过期，登录失败</span><br><span class="line">［root@fishyoung~］# date -s &quot;2018-04-06 23:59:00&quot; //设置系统时间</span><br><span class="line">Fri Apr6 23:59:00 CST 2018</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128 //用ww账户再次登录</span><br><span class="line">ww@192.168.244.128’s password:</span><br><span class="line">Last failed login: Sat Apr7 11:49:36 CST 2018 from 192.168.244.128 on ssh:notty</span><br><span class="line">There were 1 failed login attempts since the last successful login.</span><br><span class="line">［ww@fishyoung~］$ pwd //登录成功，查看当前目录</span><br><span class="line">/home/ww</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>（3）usermod命令用来修改用户的属性，该命令操作的语法格式为：</p><p>usermod［参数选项］用户账户名</p><p>Linux系统中的一切都是文件，系统管理员可以直接用文本编辑器来修改其中的用户参数项目，也可以用usermod命令修改已经创建的用户信息，如用户的UID、主组群、附属组群、默认shell等。usermod命令具体的参数及作用见表3-4。</p><p><img src="https://s2.loli.net/2023/01/25/nLZrJwyTUobPYDi.png" alt="image-20230125102252136"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">【例3-5】修改ww账户的过期时间为2018年5月7日，再进行登录测试。</span><br><span class="line">［root@fishyoung~］# date</span><br><span class="line">Sat Apr7 12:39:59 CST 2018</span><br><span class="line">［root@fishyoung~］# usermod -e &quot;2018-05-07&quot; ww //修改过期时间</span><br><span class="line">［root@fishyoung~］# ssh ww@192.168.244.128∥登录测试</span><br><span class="line">ww@192.168.244.128’s password:  //输入ww密码</span><br><span class="line">［ww@fishyoung~］</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>（4）userdel命令用来删除用户，该命令操作的语法格式为：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel［-r］用户账户名</span><br></pre></td></tr></table></figure><p>“-r”为可选项，若带上该参数，则在删除该账户的同时一并删除该账户对应的主目录。<br>【例3-7】删除之前创建的zs、ls、ww账户及其家目录。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">［root@fishyoung~］# tail -4 /etc/passwd</span><br><span class="line">fishyoung:x:1000:1000::/home/fishyoung:/bin/bash</span><br><span class="line">zs:x:1001:1001::/home/zs:/bin/bash</span><br><span class="line">ls:x:1111:1001::/home/lshome:/sbin/nologin</span><br><span class="line">ww:x:2222:1000::/home/wwhome:/bin/bash</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyounglshomewwhomezs</span><br><span class="line">［root@fishyoung~］# userdel -rf zs //强制删除账户及其家目录</span><br><span class="line">［root@fishyoung~］# userdel -rf ls</span><br><span class="line">［root@fishyoung~］# userdel -rf ww</span><br><span class="line">［root@fishyoung~］# ls /home</span><br><span class="line">fishyoung</span><br><span class="line">［root@fishyoung~］#</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">（1）groupadd命令用来增加一个新的用户组，该命令操作的语法格式为：</span><br><span class="line">groupadd［-g］用户组</span><br><span class="line">groupadd命令在创建用户组时，可以通过“-g”参数来指定GID号。</span><br><span class="line">【例3-8】增加两个新组groupA和groupB。</span><br><span class="line">［root@fishyoung~］# groupadd groupA</span><br><span class="line">［root@fishyoung~］# groupadd -g 2222 groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:1001:</span><br><span class="line">groupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line">用命令向系统中增加了一个新组groupA，新组的组标识号是在当前已有的最大组标识号的基础上加1，另外用命令向系统中增加了一个新组groupB，同时指定新组的组标识号为2222。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/25/fs8ZGyX9ztYCPiD.png" alt="image-20230125102638149"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【例3-9】新增两个用户组groupA和groupB。</span><br><span class="line">［root@fishyoung~］# groupadd groupA</span><br><span class="line">［root@fishyoung~］# groupadd -g 2222 groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:1001:</span><br><span class="line">groupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line">用命令向系统中增加了一个新组groupA，新组的组标识号是在当前已有的最大组标识号的基础上加1，另外用命令向系统中增加了一个新组groupB，同时指定新组的组标识号为2222。</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【例3-10】修改组groupA的GID号为3333和groupB的组名为NewgroupB。</span><br><span class="line">［root@fishyoung~］# groupmod -g 3333 groupA</span><br><span class="line">［root@fishyoung~］# groupmod -n NewgroupB groupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:3333:</span><br><span class="line">NewgroupB:x:2222:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">（3）groupdel命令用来删除用户组，该命令操作的语法格式为：</span><br><span class="line">userdel［参数选项］用户账户名</span><br><span class="line">【例3-11】删除上述创建的groupA和NewgroupB两个用户组。</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">groupA:x:3333:</span><br><span class="line">NewgroupB:x:2222:</span><br><span class="line">［root@fishyoung~］# groupdel groupA</span><br><span class="line">［root@fishyoung~］# groupdel NewgroupB</span><br><span class="line">［root@fishyoung~］# tail -3 /etc/group</span><br><span class="line">postdrop:x:90:</span><br><span class="line">postfix:x:89:</span><br><span class="line">fishyoung:x:1000:</span><br><span class="line">［root@fishyoung~］#</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8.数据存储</title>
      <link href="/posts/df6f0f7b.html"/>
      <url>/posts/df6f0f7b.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="8-数据存储"><a href="#8-数据存储" class="headerlink" title="8. 数据存储"></a>8. 数据存储</h1><p>在前面已经提到，容器的生命周期可能很短，会被频繁地创建和销毁。那么容器在销毁时，保存在容器中的数据也会被清除。这种结果对用户来说，在某些情况下是不乐意看到的。为了持久化保存容器的数据，kubernetes引入了Volume的概念。</p><p>Volume是Pod中能够被多个容器访问的共享目录，它被定义在Pod上，然后被一个Pod里的多个容器挂载到具体的文件目录下，kubernetes通过Volume实现同一个Pod中不同容器之间的数据共享以及数据的持久化存储。Volume的生命容器不与Pod中单个容器的生命周期相关，当容器终止或者重启时，Volume中的数据也不会丢失。</p><p>kubernetes的Volume支持多种类型，比较常见的有下面几个：</p><ul><li>简单存储：EmptyDir、HostPath、NFS</li><li>高级存储：PV、PVC</li><li>配置存储：ConfigMap、Secret</li></ul><h2 id="8-1-基本存储"><a href="#8-1-基本存储" class="headerlink" title="8.1 基本存储"></a>8.1 基本存储</h2><h3 id="8-1-1-EmptyDir"><a href="#8-1-1-EmptyDir" class="headerlink" title="8.1.1 EmptyDir"></a>8.1.1 EmptyDir</h3><p>EmptyDir是最基础的Volume类型，一个EmptyDir就是Host上的一个空目录。</p><p>EmptyDir是在Pod被分配到Node时创建的，它的初始内容为空，并且无须指定宿主机上对应的目录文件，因为kubernetes会自动分配一个目录，当Pod销毁时， EmptyDir中的数据也会被永久删除。 EmptyDir用途如下：</p><ul><li>临时空间，例如用于某些应用程序运行时所需的临时目录，且无须永久保留</li><li>一个容器需要从另一个容器中获取数据的目录（多容器共享目录）</li></ul><p>接下来，通过一个容器之间文件共享的案例来使用一下EmptyDir。</p><p>在一个Pod中准备两个容器nginx和busybox，然后声明一个Volume分别挂在到两个容器的目录中，然后nginx容器负责向Volume中写日志，busybox中通过命令将日志内容读到控制台。</p><p><img src="https://s2.loli.net/2023/01/24/tYjE9eGU8FKqQM3.png" alt="img"></p><p>创建一个volume-emptydir.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-emptydir</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span>  <span class="comment"># 将logs-volume挂在到nginx容器中，对应的目录为 /var/log/nginx</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>] <span class="comment"># 初始命令，动态读取指定文件中内容</span></span><br><span class="line">    <span class="attr">volumeMounts:</span>  <span class="comment"># 将logs-volume 挂在到busybox容器中，对应的目录为 /logs</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span> <span class="comment"># 声明volume， name为logs-volume，类型为emptyDir</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">emptyDir:</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-emptydir.yaml</span><br><span class="line">pod/volume-emptydir created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-emptydir -n dev -o wide</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE      IP       NODE   ...... </span><br><span class="line">volume-emptydir       2/2     Running   0          97s   10.42.2.9   node1  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过podIp访问nginx</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.42.2.9</span><br><span class="line">......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过kubectl logs命令查看指定容器的标准输出</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl logs -f volume-emptydir -n dev -c busybox</span><br><span class="line">10.42.1.0 - - [27/Jun/2021:15:08:54 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.29.0&quot; &quot;-&quot;</span><br></pre></td></tr></table></figure><h3 id="8-1-2-HostPath"><a href="#8-1-2-HostPath" class="headerlink" title="8.1.2 HostPath"></a>8.1.2 HostPath</h3><p>上节课提到，EmptyDir中数据不会被持久化，它会随着Pod的结束而销毁，如果想简单的将数据持久化到主机中，可以选择HostPath。</p><p>HostPath就是将Node主机中一个实际目录挂在到Pod中，以供容器使用，这样的设计就可以保证Pod销毁了，但是数据依据可以存在于Node主机上。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200413214031331.png" alt="img"></p><p>创建一个volume-hostpath.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-hostpath</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">hostPath:</span> </span><br><span class="line">      <span class="attr">path:</span> <span class="string">/root/logs</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">DirectoryOrCreate</span>  <span class="comment"># 目录存在就使用，不存在就先创建后使用</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">关于type的值的一点说明：</span><br><span class="line">    DirectoryOrCreate 目录存在就使用，不存在就先创建后使用</span><br><span class="line">    Directory   目录必须存在</span><br><span class="line">    FileOrCreate  文件存在就使用，不存在就先创建后使用</span><br><span class="line">    File 文件必须存在 </span><br><span class="line">    Socket  unix套接字必须存在</span><br><span class="line">    CharDevice  字符设备必须存在</span><br><span class="line">    BlockDevice 块设备必须存在</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-hostpath.yaml</span><br><span class="line">pod/volume-hostpath created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-hostpath -n dev -o wide</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE   IP             NODE   ......</span><br><span class="line">pod-volume-hostpath   2/2     Running   0          16s   10.42.2.10     node1  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">访问nginx</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.42.2.10</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来就可以去host的/root/logs目录下查看存储的文件了</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##  注意: 下面的操作需要到Pod所在的节点运行（案例中是node1）</span></span></span><br><span class="line">[root@node1 ~]# ls /root/logs/</span><br><span class="line">access.log  error.log</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同样的道理，如果在此目录下创建一个文件，到容器中也是可以看到的</span></span><br></pre></td></tr></table></figure><h3 id="8-1-3-NFS"><a href="#8-1-3-NFS" class="headerlink" title="8.1.3 NFS"></a>8.1.3 NFS</h3><p>HostPath可以解决数据持久化的问题，但是一旦Node节点故障了，Pod如果转移到了别的节点，又会出现问题了，此时需要准备单独的网络存储系统，比较常用的用NFS、CIFS。</p><p>NFS是一个网络文件存储系统，可以搭建一台NFS服务器，然后将Pod中的存储直接连接到NFS系统上，这样的话，无论Pod在节点上怎么转移，只要Node跟NFS的对接没问题，数据就可以成功访问。</p><p><img src="https://s2.loli.net/2023/01/24/7CE6sDdgyHXn2uJ.png" alt="img"></p><p>1）首先要准备nfs的服务器，这里为了简单，直接是master节点做nfs服务器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在nfs上安装nfs服务</span></span><br><span class="line">[root@nfs ~]# yum install nfs-utils -y</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">准备一个共享目录</span></span><br><span class="line">[root@nfs ~]# mkdir /root/data/nfs -pv</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将共享目录以读写权限暴露给192.168.5.0/24网段中的所有主机</span></span><br><span class="line">[root@nfs ~]# vim /etc/exports</span><br><span class="line">[root@nfs ~]# more /etc/exports</span><br><span class="line">/root/data/nfs     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动nfs服务</span></span><br><span class="line">[root@nfs ~]# systemctl restart nfs</span><br></pre></td></tr></table></figure><p>2）接下来，要在的每个node节点上都安装下nfs，这样的目的是为了node节点可以驱动nfs设备</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在node上安装nfs服务，注意不需要启动</span></span><br><span class="line">[root@k8s-master01 ~]# yum install nfs-utils -y</span><br></pre></td></tr></table></figure><p>3）接下来，就可以编写pod的配置文件了，创建volume-nfs.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">volume-nfs</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/var/log/nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;tail -f /logs/access.log&quot;</span>] </span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/logs</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logs-volume</span></span><br><span class="line">    <span class="attr">nfs:</span></span><br><span class="line">      <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span>  <span class="comment">#nfs服务器地址</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/root/data/nfs</span> <span class="comment">#共享文件路径</span></span><br></pre></td></tr></table></figure><p>4）最后，运行下pod，观察结果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f volume-nfs.yaml</span><br><span class="line">pod/volume-nfs created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods volume-nfs -n dev</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">volume-nfs        2/2     Running   0          2m9s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看nfs服务器上的共享目录，发现已经有文件了</span></span><br><span class="line">[root@k8s-master01 ~]# ls /root/data/</span><br><span class="line">access.log  error.log</span><br></pre></td></tr></table></figure><h2 id="8-2-高级存储"><a href="#8-2-高级存储" class="headerlink" title="8.2 高级存储"></a>8.2 高级存储</h2><p>前面已经学习了使用NFS提供存储，此时就要求用户会搭建NFS系统，并且会在yaml配置nfs。由于kubernetes支持的存储系统有很多，要求客户全都掌握，显然不现实。为了能够屏蔽底层存储实现的细节，方便用户使用， kubernetes引入PV和PVC两种资源对象。</p><p>PV（Persistent Volume）是持久化卷的意思，是对底层的共享存储的一种抽象。一般情况下PV由kubernetes管理员进行创建和配置，它与底层具体的共享存储技术有关，并通过插件完成与共享存储的对接。</p><p>PVC（Persistent Volume Claim）是持久卷声明的意思，是用户对于存储需求的一种声明。换句话说，PVC其实就是用户向kubernetes系统发出的一种资源需求申请。</p><p><img src="https://s2.loli.net/2023/01/24/19QWj2qopyCStJl.png" alt="img"></p><p>使用了PV和PVC之后，工作可以得到进一步的细分：</p><ul><li>存储：存储工程师维护</li><li>PV： kubernetes管理员维护</li><li>PVC：kubernetes用户维护</li></ul><h3 id="8-2-1-PV"><a href="#8-2-1-PV" class="headerlink" title="8.2.1 PV"></a>8.2.1 PV</h3><p>PV是存储资源的抽象，下面是资源清单文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span>  </span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pv2</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">nfs:</span> <span class="comment"># 存储类型，与底层真正存储对应</span></span><br><span class="line">  <span class="attr">capacity:</span>  <span class="comment"># 存储能力，目前只支持存储空间的设置</span></span><br><span class="line">    <span class="attr">storage:</span> <span class="string">2Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span>  <span class="comment"># 访问模式</span></span><br><span class="line">  <span class="attr">storageClassName:</span> <span class="comment"># 存储类别</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="comment"># 回收策略</span></span><br></pre></td></tr></table></figure><p>PV 的关键配置参数说明：</p><ul><li><p><strong>存储类型</strong></p><p>  底层实际存储的类型，kubernetes支持多种存储类型，每种存储类型的配置都有所差异</p></li><li><p><strong>存储能力（capacity）</strong></p></li></ul><p>目前只支持存储空间的设置( storage&#x3D;1Gi )，不过未来可能会加入IOPS、吞吐量等指标的配置</p><ul><li><p><strong>访问模式（accessModes）</strong></p><p>  用于描述用户应用对存储资源的访问权限，访问权限包括下面几种方式：</p><ul><li>ReadWriteOnce（RWO）：读写权限，但是只能被单个节点挂载</li><li>ReadOnlyMany（ROX）： 只读权限，可以被多个节点挂载</li><li>ReadWriteMany（RWX）：读写权限，可以被多个节点挂载</li></ul><p>  <code>需要注意的是，底层不同的存储类型可能支持的访问模式不同</code></p></li><li><p><strong>回收策略（persistentVolumeReclaimPolicy）</strong></p><p>  当PV不再被使用了之后，对其的处理方式。目前支持三种策略：</p><ul><li>Retain （保留） 保留数据，需要管理员手工清理数据</li><li>Recycle（回收） 清除 PV 中的数据，效果相当于执行 rm -rf &#x2F;thevolume&#x2F;*</li><li>Delete （删除） 与 PV 相连的后端存储完成 volume 的删除操作，当然这常见于云服务商的存储服务</li></ul><p>  <code>需要注意的是，底层不同的存储类型可能支持的回收策略不同</code></p></li><li><p><strong>存储类别</strong></p><p>  PV可以通过storageClassName参数指定一个存储类别</p><ul><li>具有特定类别的PV只能与请求了该类别的PVC进行绑定</li><li>未设定类别的PV则只能与不请求任何类别的PVC进行绑定</li></ul></li><li><p><strong>状态（status）</strong></p><p>  一个 PV 的生命周期中，可能会处于4中不同的阶段：</p><ul><li>Available（可用）： 表示可用状态，还未被任何 PVC 绑定</li><li>Bound（已绑定）： 表示 PV 已经被 PVC 绑定</li><li>Released（已释放）： 表示 PVC 被删除，但是资源还未被集群重新声明</li><li>Failed（失败）： 表示该 PV 的自动回收失败</li></ul></li></ul><p><strong>实验</strong></p><p>使用NFS作为存储，来演示PV的使用，创建3个PV，对应NFS中的3个暴露的路径。</p><ol><li>准备NFS环境</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建目录</span></span><br><span class="line">[root@nfs ~]# mkdir /root/data/&#123;pv1,pv2,pv3&#125; -pv</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">暴露服务</span></span><br><span class="line">[root@nfs ~]# more /etc/exports</span><br><span class="line">/root/data/pv1     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line">/root/data/pv2     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line">/root/data/pv3     192.168.5.0/24(rw,no_root_squash)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启服务</span></span><br><span class="line">[root@nfs ~]#  systemctl restart nfs</span><br></pre></td></tr></table></figure><ol start="2"><li>创建pv.yaml</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv1</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv1</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv2</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">2Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv2</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span>  <span class="string">pv3</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">capacity:</span> </span><br><span class="line">    <span class="attr">storage:</span> <span class="string">3Gi</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">persistentVolumeReclaimPolicy:</span> <span class="string">Retain</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/root/data/pv3</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.6</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建 pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pv.yaml</span><br><span class="line">persistentvolume/pv1 created</span><br><span class="line">persistentvolume/pv2 created</span><br><span class="line">persistentvolume/pv3 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -o wide</span><br><span class="line">NAME   CAPACITY   ACCESS MODES  RECLAIM POLICY  STATUS      AGE   VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWX            Retain        Available    10s   Filesystem</span><br><span class="line">pv2    2Gi        RWX            Retain        Available    10s   Filesystem</span><br><span class="line">pv3    3Gi        RWX            Retain        Available    9s    Filesystem</span><br></pre></td></tr></table></figure><h3 id="8-2-2-PVC"><a href="#8-2-2-PVC" class="headerlink" title="8.2.2 PVC"></a>8.2.2 PVC</h3><p>PVC是资源的申请，用来声明对存储空间、访问模式、存储类别需求信息。下面是资源清单文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> <span class="comment"># 访问模式</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 采用标签对PV选择</span></span><br><span class="line">  <span class="attr">storageClassName:</span> <span class="comment"># 存储类别</span></span><br><span class="line">  <span class="attr">resources:</span> <span class="comment"># 请求空间</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">5Gi</span></span><br></pre></td></tr></table></figure><p>PVC 的关键配置参数说明：</p><ul><li><strong>访问模式（accessModes）</strong></li></ul><p>用于描述用户应用对存储资源的访问权限</p><ul><li><p><strong>选择条件（selector）</strong></p><p>  通过Label Selector的设置，可使PVC对于系统中己存在的PV进行筛选</p></li><li><p><strong>存储类别（storageClassName）</strong></p><p>  PVC在定义时可以设定需要的后端存储的类别，只有设置了该class的pv才能被系统选出</p></li><li><p><strong>资源请求（Resources ）</strong></p><p>  描述对存储资源的请求</p></li></ul><p><strong>实验</strong></p><ol><li>创建pvc.yaml，申请pv</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc2</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc3</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">ReadWriteMany</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">1Gi</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pvc.yaml</span><br><span class="line">persistentvolumeclaim/pvc1 created</span><br><span class="line">persistentvolumeclaim/pvc2 created</span><br><span class="line">persistentvolumeclaim/pvc3 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pvc  -n dev -o wide</span><br><span class="line">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   AGE   VOLUMEMODE</span><br><span class="line">pvc1   Bound    pv1      1Gi        RWX                           15s   Filesystem</span><br><span class="line">pvc2   Bound    pv2      2Gi        RWX                           15s   Filesystem</span><br><span class="line">pvc3   Bound    pv3      3Gi        RWX                           15s   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -o wide</span><br><span class="line">NAME  CAPACITY ACCESS MODES  RECLAIM POLICY  STATUS    CLAIM       AGE     VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWx        Retain          Bound    dev/pvc1    3h37m    Filesystem</span><br><span class="line">pv2    2Gi        RWX        Retain          Bound    dev/pvc2    3h37m    Filesystem</span><br><span class="line">pv3    3Gi        RWX        Retain          Bound    dev/pvc3    3h37m    Filesystem   </span><br></pre></td></tr></table></figure><ol start="2"><li>创建pods.yaml, 使用pv</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do echo pod1 &gt;&gt; /root/out.txt; sleep 10; done;&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/root/</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">        <span class="attr">claimName:</span> <span class="string">pvc1</span></span><br><span class="line">        <span class="attr">readOnly:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod2</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do echo pod2 &gt;&gt; /root/out.txt; sleep 10; done;&quot;</span>]</span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/root/</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume</span></span><br><span class="line">      <span class="attr">persistentVolumeClaim:</span></span><br><span class="line">        <span class="attr">claimName:</span> <span class="string">pvc2</span></span><br><span class="line">        <span class="attr">readOnly:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pods.yaml</span><br><span class="line">pod/pod1 created</span><br><span class="line">pod/pod2 created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME   READY   STATUS    RESTARTS   AGE   IP            NODE   </span><br><span class="line">pod1   1/1     Running   0          14s   10.244.1.69   node1   </span><br><span class="line">pod2   1/1     Running   0          14s   10.244.1.70   node1  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pvc</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pvc -n dev -o wide</span><br><span class="line">NAME   STATUS   VOLUME   CAPACITY   ACCESS MODES      AGE   VOLUMEMODE</span><br><span class="line">pvc1   Bound    pv1      1Gi        RWX               94m   Filesystem</span><br><span class="line">pvc2   Bound    pv2      2Gi        RWX               94m   Filesystem</span><br><span class="line">pvc3   Bound    pv3      3Gi        RWX               94m   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pv</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pv -n dev -o wide</span><br><span class="line">NAME   CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM       AGE     VOLUMEMODE</span><br><span class="line">pv1    1Gi        RWX            Retain           Bound    dev/pvc1    5h11m   Filesystem</span><br><span class="line">pv2    2Gi        RWX            Retain           Bound    dev/pvc2    5h11m   Filesystem</span><br><span class="line">pv3    3Gi        RWX            Retain           Bound    dev/pvc3    5h11m   Filesystem</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看nfs中的文件存储</span></span><br><span class="line">[root@nfs ~]# more /root/data/pv1/out.txt</span><br><span class="line">node1</span><br><span class="line">node1</span><br><span class="line">[root@nfs ~]# more /root/data/pv2/out.txt</span><br><span class="line">node2</span><br><span class="line">node2</span><br></pre></td></tr></table></figure><h3 id="8-2-3-生命周期"><a href="#8-2-3-生命周期" class="headerlink" title="8.2.3 生命周期"></a>8.2.3 生命周期</h3><p>PVC和PV是一一对应的，PV和PVC之间的相互作用遵循以下生命周期：</p><ul><li><p><strong>资源供应</strong>：管理员手动创建底层存储和PV</p></li><li><p><strong>资源绑定</strong>：用户创建PVC，kubernetes负责根据PVC的声明去寻找PV，并绑定</p><p>  在用户定义好PVC之后，系统将根据PVC对存储资源的请求在已存在的PV中选择一个满足条件的</p><ul><li>一旦找到，就将该PV与用户定义的PVC进行绑定，用户的应用就可以使用这个PVC了</li><li>如果找不到，PVC则会无限期处于Pending状态，直到等到系统管理员创建了一个符合其要求的PV</li></ul><p>  PV一旦绑定到某个PVC上，就会被这个PVC独占，不能再与其他PVC进行绑定了</p></li><li><p><strong>资源使用</strong>：用户可在pod中像volume一样使用pvc</p><p>  Pod使用Volume的定义，将PVC挂载到容器内的某个路径进行使用。</p></li><li><p><strong>资源释放</strong>：用户删除pvc来释放pv</p><p>  当存储资源使用完毕后，用户可以删除PVC，与该PVC绑定的PV将会被标记为“已释放”，但还不能立刻与其他PVC进行绑定。通过之前PVC写入的数据可能还被留在存储设备上，只有在清除之后该PV才能再次使用。</p></li><li><p><strong>资源回收</strong>：kubernetes根据pv设置的回收策略进行资源的回收</p><p>  对于PV，管理员可以设定回收策略，用于设置与之绑定的PVC释放资源之后如何处理遗留数据的问题。只有PV的存储空间完成回收，才能供新的PVC绑定和使用</p></li></ul><p><img src="https://s2.loli.net/2023/01/24/OoIxBl6kVsCiHFX.png" alt="img"></p><h2 id="8-3-配置存储"><a href="#8-3-配置存储" class="headerlink" title="8.3 配置存储"></a>8.3 配置存储</h2><h3 id="8-3-1-ConfigMap"><a href="#8-3-1-ConfigMap" class="headerlink" title="8.3.1 ConfigMap"></a>8.3.1 ConfigMap</h3><p>ConfigMap是一种比较特殊的存储卷，它的主要作用是用来存储配置信息的。</p><p>创建configmap.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">configmap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">info:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    username:admin</span></span><br><span class="line"><span class="string">    password:123456</span></span><br></pre></td></tr></table></figure><p>接下来，使用此配置文件创建configmap</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建configmap</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f configmap.yaml</span><br><span class="line">configmap/configmap created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看configmap详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe cm configmap -n dev</span><br><span class="line">Name:         configmap</span><br><span class="line">Namespace:    dev</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line"></span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">info:</span><br><span class="line">----</span><br><span class="line">username:admin</span><br><span class="line">password:123456</span><br><span class="line"></span><br><span class="line">Events:  &lt;none&gt;</span><br></pre></td></tr></table></figure><p>接下来创建一个pod-configmap.yaml，将上面创建的configmap挂载进去</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-configmap</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">volumeMounts:</span> <span class="comment"># 将configmap挂载到目录</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/configmap/config</span></span><br><span class="line">  <span class="attr">volumes:</span> <span class="comment"># 引用configmap</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">    <span class="attr">configMap:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">configmap</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-configmap.yaml</span><br><span class="line">pod/pod-configmap created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-configmap -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-configmap   1/1     Running   0          6s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">进入容器</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pod-configmap -n dev /bin/sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cd</span> /configmap/config/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">info</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">more info</span></span><br><span class="line">username:admin</span><br><span class="line">password:123456</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以看到映射已经成功，每个configmap都映射成了一个目录</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">key---&gt;文件     value----&gt;文件中的内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时如果更新configmap的内容, 容器中的值也会动态更新</span></span><br></pre></td></tr></table></figure><h3 id="8-3-2-Secret"><a href="#8-3-2-Secret" class="headerlink" title="8.3.2 Secret"></a>8.3.2 Secret</h3><p>在kubernetes中，还存在一种和ConfigMap非常类似的对象，称为Secret对象。它主要用于存储敏感信息，例如密码、秘钥、证书等等。</p><ol><li>首先使用base64对数据进行编码</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# echo -n &#x27;admin&#x27; | base64 #准备username</span><br><span class="line">YWRtaW4=</span><br><span class="line">[root@k8s-master01 ~]# echo -n &#x27;123456&#x27; | base64 #准备password</span><br><span class="line">MTIzNDU2</span><br></pre></td></tr></table></figure><ol start="2"><li>接下来编写secret.yaml，并创建Secret</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">secret</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">YWRtaW4=</span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">MTIzNDU2</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建secret</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f secret.yaml</span><br><span class="line">secret/secret created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看secret详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe secret secret -n dev</span><br><span class="line">Name:         secret</span><br><span class="line">Namespace:    dev</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Type:  Opaque</span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">password:  6 bytes</span><br><span class="line">username:  5 bytes</span><br></pre></td></tr></table></figure><ol start="3"><li>创建pod-secret.yaml，将上面创建的secret挂载进去：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-secret</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">volumeMounts:</span> <span class="comment"># 将secret挂载到目录</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/secret/config</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config</span></span><br><span class="line">    <span class="attr">secret:</span></span><br><span class="line">      <span class="attr">secretName:</span> <span class="string">secret</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-secret.yaml</span><br><span class="line">pod/pod-secret created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-secret -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-secret      1/1     Running   0          2m28s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器，查看secret信息，发现已经自动解码了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pod-secret /bin/sh -n dev</span><br><span class="line">/ # ls /secret/config/</span><br><span class="line">password  username</span><br><span class="line">/ # more /secret/config/username</span><br><span class="line">admin</span><br><span class="line">/ # more /secret/config/password</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>至此，已经实现了利用secret实现了信息的编码。</p><h1 id="9-安全认证"><a href="#9-安全认证" class="headerlink" title="9. 安全认证"></a>9. 安全认证</h1><h2 id="9-1-访问控制概述"><a href="#9-1-访问控制概述" class="headerlink" title="9.1 访问控制概述"></a>9.1 访问控制概述</h2><p>Kubernetes作为一个分布式集群的管理工具，保证集群的安全性是其一个重要的任务。所谓的安全性其实就是保证对Kubernetes的各种<strong>客户端</strong>进行<strong>认证和鉴权</strong>操作。</p><p><strong>客户端</strong></p><p>在Kubernetes集群中，客户端通常有两类：</p><ul><li><strong>User Account</strong>：一般是独立于kubernetes之外的其他服务管理的用户账号。</li><li><strong>Service Account</strong>：kubernetes管理的账号，用于为Pod中的服务进程在访问Kubernetes时提供身份标识。</li></ul><p><img src="https://s2.loli.net/2023/01/24/XDtu6VIOBh73FS2.png" alt="img"></p><p><strong>认证、授权与准入控制</strong></p><p>ApiServer是访问及管理资源对象的唯一入口。任何一个请求访问ApiServer，都要经过下面三个流程：</p><ul><li>Authentication（认证）：身份鉴别，只有正确的账号才能够通过认证</li><li>Authorization（授权）： 判断用户是否有权限对访问的资源执行特定的动作</li><li>Admission Control（准入控制）：用于补充授权机制以实现更加精细的访问控制功能。</li></ul><p><img src="https://s2.loli.net/2023/01/24/PmTWQnHcDp1C4G3.png" alt="img"></p><h2 id="9-2-认证管理"><a href="#9-2-认证管理" class="headerlink" title="9.2 认证管理"></a>9.2 认证管理</h2><p>Kubernetes集群安全的最关键点在于如何识别并认证客户端身份，它提供了3种客户端身份认证方式：</p><ul><li><p>HTTP Base认证：通过用户名+密码的方式认证</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是把“用户名:密码”用BASE64算法进行编码后的字符串放在HTTP请求中的Header Authorization域里发送给服务端。服务端收到后进行解码，获取用户名及密码，然后进行用户身份认证的过程。</span><br></pre></td></tr></table></figure></li><li><p>HTTP Token认证：通过一个Token来识别合法用户</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是用一个很长的难以被模仿的字符串--Token来表明客户身份的一种方式。每个Token对应一个用户名，当客户端发起API调用请求时，需要在HTTP Header里放入Token，API Server接到Token后会跟服务器中保存的token进行比对，然后进行用户身份认证的过程。</span><br></pre></td></tr></table></figure></li><li><p>HTTPS证书认证：基于CA根证书签名的双向数字证书认证方式</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这种认证方式是安全性最高的一种方式，但是同时也是操作起来最麻烦的一种方式。</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://s2.loli.net/2023/01/24/Z4WbLKugV1Y5UNn.png" alt="img"></p><p><strong>HTTPS认证大体分为3个过程：</strong></p><ol><li><p>证书申请和下发</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTPS通信双方的服务器向CA机构申请证书，CA机构下发根证书、服务端证书及私钥给申请者</span><br></pre></td></tr></table></figure></li><li><p>客户端和服务端的双向认证</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1&gt; 客户端向服务器端发起请求，服务端下发自己的证书给客户端，</span><br><span class="line">   客户端接收到证书后，通过私钥解密证书，在证书中获得服务端的公钥，</span><br><span class="line">   客户端利用服务器端的公钥认证证书中的信息，如果一致，则认可这个服务器</span><br><span class="line">2&gt; 客户端发送自己的证书给服务器端，服务端接收到证书后，通过私钥解密证书，</span><br><span class="line">   在证书中获得客户端的公钥，并用该公钥认证证书信息，确认客户端是否合法</span><br></pre></td></tr></table></figure></li><li><p>服务器端和客户端进行通信</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">服务器端和客户端协商好加密方案后，客户端会产生一个随机的秘钥并加密，然后发送到服务器端。</span><br><span class="line">服务器端接收这个秘钥后，双方接下来通信的所有内容都通过该随机秘钥加密</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>注意: Kubernetes允许同时配置多种认证方式，只要其中任意一个方式认证通过即可</p></blockquote><h2 id="9-3-授权管理"><a href="#9-3-授权管理" class="headerlink" title="9.3 授权管理"></a>9.3 授权管理</h2><p>授权发生在认证成功之后，通过认证就可以知道请求用户是谁， 然后Kubernetes会根据事先定义的授权策略来决定用户是否有权限访问，这个过程就称为授权。</p><p>每个发送到ApiServer的请求都带上了用户和资源的信息：比如发送请求的用户、请求的路径、请求的动作等，授权就是根据这些信息和授权策略进行比较，如果符合策略，则认为授权通过，否则会返回错误。</p><p>API Server目前支持以下几种授权策略：</p><ul><li>AlwaysDeny：表示拒绝所有请求，一般用于测试</li><li>AlwaysAllow：允许接收所有请求，相当于集群不需要授权流程（Kubernetes默认的策略）</li><li>ABAC：基于属性的访问控制，表示使用用户配置的授权规则对用户请求进行匹配和控制</li><li>Webhook：通过调用外部REST服务对用户进行授权</li><li>Node：是一种专用模式，用于对kubelet发出的请求进行访问控制</li><li>RBAC：基于角色的访问控制（kubeadm安装方式下的默认选项）</li></ul><p>RBAC(Role-Based Access Control) 基于角色的访问控制，主要是在描述一件事情：<strong>给哪些对象授予了哪些权限</strong></p><p>其中涉及到了下面几个概念：</p><ul><li>对象：User、Groups、ServiceAccount</li><li>角色：代表着一组定义在资源上的可操作动作(权限)的集合</li><li>绑定：将定义好的角色跟用户绑定在一起</li></ul><p><img src="https://s2.loli.net/2023/01/24/y1a9d4hNgbkqnzB.png" alt="img"></p><p>RBAC引入了4个顶级资源对象：</p><ul><li>Role、ClusterRole：角色，用于指定一组权限</li><li>RoleBinding、ClusterRoleBinding：角色绑定，用于将角色（权限）赋予给对象</li></ul><p><strong>Role、ClusterRole</strong></p><p>一个角色就是一组权限的集合，这里的权限都是许可形式的（白名单）。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Role只能对命名空间内的资源进行授权，需要指定nameapce</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]  <span class="comment"># 支持的API组列表,&quot;&quot; 空字符串，表示核心API群</span></span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>] <span class="comment"># 支持的资源对象列表</span></span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>] <span class="comment"># 允许的对资源对象的操作方法列表</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ClusterRole可以对集群范围内资源、跨namespaces的范围资源、非资源类型进行授权</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br></pre></td></tr></table></figure><p>需要详细说明的是，rules中的参数：</p><ul><li><p>apiGroups: 支持的API组列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;,&quot;apps&quot;, &quot;autoscaling&quot;, &quot;batch&quot;</span><br></pre></td></tr></table></figure></li><li><p>resources：支持的资源对象列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;services&quot;, &quot;endpoints&quot;, &quot;pods&quot;,&quot;secrets&quot;,&quot;configmaps&quot;,&quot;crontabs&quot;,&quot;deployments&quot;,&quot;jobs&quot;,</span><br><span class="line">&quot;nodes&quot;,&quot;rolebindings&quot;,&quot;clusterroles&quot;,&quot;daemonsets&quot;,&quot;replicasets&quot;,&quot;statefulsets&quot;,</span><br><span class="line">&quot;horizontalpodautoscalers&quot;,&quot;replicationcontrollers&quot;,&quot;cronjobs&quot;</span><br></pre></td></tr></table></figure></li><li><p>verbs：对资源对象的操作方法列表</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;, &quot;exec&quot;</span><br></pre></td></tr></table></figure></li></ul><p><strong>RoleBinding、ClusterRoleBinding</strong></p><p>角色绑定用来把一个角色绑定到一个目标对象上，绑定目标可以是User、Group或者ServiceAccount。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># RoleBinding可以将同一namespace中的subject绑定到某个Role下，则此subject即具有该Role定义的权限</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ClusterRoleBinding在整个集群级别和所有namespaces将特定的subject与ClusterRole绑定，授予权限</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line"> <span class="attr">name:</span> <span class="string">authorization-clusterrole-binding</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><p><strong>RoleBinding引用ClusterRole进行授权</strong></p><p>RoleBinding可以引用ClusterRole，对属于同一命名空间内ClusterRole定义的资源主体进行授权。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一种很常用的做法就是，集群管理员为集群范围预定义好一组角色（ClusterRole），然后在多个命名空间中重复使用这些ClusterRole。这样可以大幅提高授权管理工作效率，也使得各个命名空间下的基础性授权规则与使用体验保持一致。</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 虽然authorization-clusterrole是一个集群角色，但是因为使用了RoleBinding</span></span><br><span class="line"><span class="comment"># 所以heima只能读取dev命名空间中的资源</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding-ns</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">heima</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-clusterrole</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><p><strong>实战：创建一个只能管理dev空间下Pods资源的账号</strong></p><ol><li>创建账号</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1) 创建证书</span></span><br><span class="line">[root@k8s-master01 pki]# cd /etc/kubernetes/pki/</span><br><span class="line">[root@k8s-master01 pki]# (umask 077;openssl genrsa -out devman.key 2048)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2) 用apiserver的证书去签署</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2-1) 签名申请，申请的用户是devman,组是devgroup</span></span><br><span class="line">[root@k8s-master01 pki]# openssl req -new -key devman.key -out devman.csr -subj &quot;/CN=devman/O=devgroup&quot;     </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2-2) 签署证书</span></span><br><span class="line">[root@k8s-master01 pki]# openssl x509 -req -in devman.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out devman.crt -days 3650</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3) 设置集群、用户、上下文信息</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-cluster kubernetes --embed-certs=true --certificate-authority=/etc/kubernetes/pki/ca.crt --server=https://192.168.109.100:6443</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-credentials devman --embed-certs=true --client-certificate=/etc/kubernetes/pki/devman.crt --client-key=/etc/kubernetes/pki/devman.key</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 pki]# kubectl config set-context devman@kubernetes --cluster=kubernetes --user=devman</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换账户到devman</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context devman@kubernetes</span><br><span class="line">Switched to context &quot;devman@kubernetes&quot;.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看dev下pod，发现没有权限</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl get pods -n dev</span><br><span class="line">Error from server (Forbidden): pods is forbidden: User &quot;devman&quot; cannot list resource &quot;pods&quot; in API group &quot;&quot; in the namespace &quot;dev&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换到admin账户</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context kubernetes-admin@kubernetes</span><br><span class="line">Switched to context &quot;kubernetes-admin@kubernetes&quot;.</span><br></pre></td></tr></table></figure><p>2） 创建Role和RoleBinding，为devman用户授权</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-role</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br><span class="line">  </span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1beta1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">authorization-role-binding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">devman</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-role</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 pki]# kubectl create -f dev-role.yaml</span><br><span class="line">role.rbac.authorization.k8s.io/dev-role created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io/authorization-role-binding created</span><br></pre></td></tr></table></figure><ol start="3"><li>切换账户，再次验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换账户到devman</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context devman@kubernetes</span><br><span class="line">Switched to context &quot;devman@kubernetes&quot;.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl get pods -n dev</span><br><span class="line">NAME                                 READY   STATUS             RESTARTS   AGE</span><br><span class="line">nginx-deployment-66cb59b984-8wp2k    1/1     Running            0          4d1h</span><br><span class="line">nginx-deployment-66cb59b984-dc46j    1/1     Running            0          4d1h</span><br><span class="line">nginx-deployment-66cb59b984-thfck    1/1     Running            0          4d1h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为了不影响后面的学习,切回admin账户</span></span><br><span class="line">[root@k8s-master01 pki]# kubectl config use-context kubernetes-admin@kubernetes</span><br><span class="line">Switched to context &quot;kubernetes-admin@kubernetes&quot;.</span><br></pre></td></tr></table></figure><h2 id="9-4-准入控制"><a href="#9-4-准入控制" class="headerlink" title="9.4 准入控制"></a>9.4 准入控制</h2><p>通过了前面的认证和授权之后，还需要经过准入控制处理通过之后，apiserver才会处理这个请求。</p><p>准入控制是一个可配置的控制器列表，可以通过在Api-Server上通过命令行设置选择执行哪些准入控制器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--admission-control=NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,</span><br><span class="line">                      DefaultStorageClass,ResourceQuota,DefaultTolerationSeconds</span><br></pre></td></tr></table></figure><p>只有当所有的准入控制器都检查通过之后，apiserver才执行该请求，否则返回拒绝。</p><p>当前可配置的Admission Control准入控制如下：</p><ul><li>AlwaysAdmit：允许所有请求</li><li>AlwaysDeny：禁止所有请求，一般用于测试</li><li>AlwaysPullImages：在启动容器之前总去下载镜像</li><li>DenyExecOnPrivileged：它会拦截所有想在Privileged Container上执行命令的请求</li><li>ImagePolicyWebhook：这个插件将允许后端的一个Webhook程序来完成admission controller的功能。</li><li>Service Account：实现ServiceAccount实现了自动化</li><li>SecurityContextDeny：这个插件将使用SecurityContext的Pod中的定义全部失效</li><li>ResourceQuota：用于资源配额管理目的，观察所有请求，确保在namespace上的配额不会超标</li><li>LimitRanger：用于资源限制管理，作用于namespace上，确保对Pod进行资源限制</li><li>InitialResources：为未设置资源请求与限制的Pod，根据其镜像的历史资源的使用情况进行设置</li><li>NamespaceLifecycle：如果尝试在一个不存在的namespace中创建资源对象，则该创建请求将被拒绝。当删除一个namespace时，系统将会删除该namespace中所有对象。</li><li>DefaultStorageClass：为了实现共享存储的动态供应，为未指定StorageClass或PV的PVC尝试匹配默认的StorageClass，尽可能减少用户在申请PVC时所需了解的后端存储细节</li><li>DefaultTolerationSeconds：这个插件为那些没有设置forgiveness tolerations并具有notready:NoExecute和unreachable:NoExecute两种taints的Pod设置默认的“容忍”时间，为5min</li><li>PodSecurityPolicy：这个插件用于在创建或修改Pod时决定是否根据Pod的security context和可用的PodSecurityPolicy对Pod的安全策略进行控制</li></ul><h1 id="10-DashBoard"><a href="#10-DashBoard" class="headerlink" title="10. DashBoard"></a>10. DashBoard</h1><p>之前在kubernetes中完成的所有操作都是通过命令行工具kubectl完成的。其实，为了提供更丰富的用户体验，kubernetes还开发了一个基于web的用户界面（Dashboard）。用户可以使用Dashboard部署容器化的应用，还可以监控应用的状态，执行故障排查以及管理kubernetes中各种资源。</p><h2 id="10-1-部署Dashboard"><a href="#10-1-部署Dashboard" class="headerlink" title="10.1 部署Dashboard"></a>10.1 部署Dashboard</h2><ol><li>下载yaml，并运行Dashboard</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载yaml</span></span><br><span class="line">[root@k8s-master01 ~]# wget  https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改kubernetes-dashboard的Service类型</span></span><br><span class="line">kind: Service</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line">  name: kubernetes-dashboard</span><br><span class="line">  namespace: kubernetes-dashboard</span><br><span class="line">spec:</span><br><span class="line">  type: NodePort  # 新增</span><br><span class="line">  ports:</span><br><span class="line">    - port: 443</span><br><span class="line">      targetPort: 8443</span><br><span class="line">      nodePort: 30009  # 新增</span><br><span class="line">  selector:</span><br><span class="line">    k8s-app: kubernetes-dashboard</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">部署</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f recommended.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看namespace下的kubernetes-dashboard下的资源</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod,svc -n kubernetes-dashboard</span><br><span class="line">NAME                                            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/dashboard-metrics-scraper-c79c65bb7-zwfvw   1/1     Running   0          111s</span><br><span class="line">pod/kubernetes-dashboard-56484d4c5-z95z5        1/1     Running   0          111s</span><br><span class="line"></span><br><span class="line">NAME                               TYPE       CLUSTER-IP      EXTERNAL-IP  PORT(S)         AGE</span><br><span class="line">service/dashboard-metrics-scraper  ClusterIP  10.96.89.218    &lt;none&gt;       8000/TCP        111s</span><br><span class="line">service/kubernetes-dashboard       NodePort   10.104.178.171  &lt;none&gt;       443:30009/TCP   111s</span><br></pre></td></tr></table></figure><p>2）创建访问账户，获取token</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建账号</span></span><br><span class="line">[root@k8s-master01-1 ~]# kubectl create serviceaccount dashboard-admin -n kubernetes-dashboard</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">授权</span></span><br><span class="line">[root@k8s-master01-1 ~]# kubectl create clusterrolebinding dashboard-admin-rb --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:dashboard-admin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取账号token</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get secrets -n kubernetes-dashboard | grep dashboard-admin</span><br><span class="line">dashboard-admin-token-xbqhh        kubernetes.io/service-account-token   3      2m35s</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe secrets dashboard-admin-token-xbqhh -n kubernetes-dashboard</span><br><span class="line">Name:         dashboard-admin-token-xbqhh</span><br><span class="line">Namespace:    kubernetes-dashboard</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  kubernetes.io/service-account.name: dashboard-admin</span><br><span class="line">              kubernetes.io/service-account.uid: 95d84d80-be7a-4d10-a2e0-68f90222d039</span><br><span class="line"></span><br><span class="line">Type:  kubernetes.io/service-account-token</span><br><span class="line"></span><br><span class="line">Data</span><br><span class="line">====</span><br><span class="line">namespace:  20 bytes</span><br><span class="line">token:      eyJhbGciOiJSUzI1NiIsImtpZCI6ImJrYkF4bW5XcDhWcmNGUGJtek5NODFuSXl1aWptMmU2M3o4LTY5a2FKS2cifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkYXNoYm9hcmQtYWRtaW4tdG9rZW4teGJxaGgiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGFzaGJvYXJkLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiOTVkODRkODAtYmU3YS00ZDEwLWEyZTAtNjhmOTAyMjJkMDM5Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50Omt1YmVybmV0ZXMtZGFzaGJvYXJkOmRhc2hib2FyZC1hZG1pbiJ9.NAl7e8ZfWWdDoPxkqzJzTB46sK9E8iuJYnUI9vnBaY3Jts7T1g1msjsBnbxzQSYgAG--cV0WYxjndzJY_UWCwaGPrQrt_GunxmOK9AUnzURqm55GR2RXIZtjsWVP2EBatsDgHRmuUbQvTFOvdJB4x3nXcYLN2opAaMqg3rnU2rr-A8zCrIuX_eca12wIp_QiuP3SF-tzpdLpsyRfegTJZl6YnSGyaVkC9id-cxZRb307qdCfXPfCHR_2rt5FVfxARgg_C0e3eFHaaYQO7CitxsnIoIXpOFNAR8aUrmopJyODQIPqBWUehb7FhlU1DCduHnIIXVC_UICZ-MKYewBDLw</span><br><span class="line">ca.crt:     1025 bytes</span><br></pre></td></tr></table></figure><p>3）通过浏览器访问Dashboard的UI</p><p>在登录页面上输入上面的token</p><p><img src="https://s2.loli.net/2023/01/24/TLobRErwyncdlms.png" alt="image-20200520144548997"></p><p>出现下面的页面代表成功</p><p><img src="https://s2.loli.net/2023/01/24/TQUDXvcFi3Pp8fL.png" alt="image-20200520144959353"></p><h2 id="10-2-使用DashBoard"><a href="#10-2-使用DashBoard" class="headerlink" title="10.2 使用DashBoard"></a>10.2 使用DashBoard</h2><p>本章节以Deployment为例演示DashBoard的使用</p><p><strong>查看</strong></p><p>选择指定的命名空间<code>dev</code>，然后点击<code>Deployments</code>，查看dev空间下的所有deployment</p><p><img src="https://s2.loli.net/2023/01/24/wfJEueILK6bQONq.png" alt="img"></p><p><strong>扩缩容</strong></p><p>在<code>Deployment</code>上点击<code>规模</code>，然后指定<code>目标副本数量</code>，点击确定</p><p><img src="https://s2.loli.net/2023/01/24/rsqvAmzoPJdVGBY.png" alt="img"></p><p><strong>编辑</strong></p><p>在<code>Deployment</code>上点击<code>编辑</code>，然后修改<code>yaml文件</code>，点击确定</p><p><img src="https://s2.loli.net/2023/01/24/GvfDZWPiJtjMadx.png" alt="image-20200520163253644"></p><p><strong>查看Pod</strong></p><p>点击<code>Pods</code>, 查看pods列表</p><p><img src="https://s2.loli.net/2023/01/24/SQ1v5Vfqxn8GTka.png" alt="img"></p><p><strong>操作Pod</strong></p><p>选中某个Pod，可以对其执行日志（logs）、进入执行（exec）、编辑、删除操作</p><p><img src="https://s2.loli.net/2023/01/24/gOzA1Cacy2xTBKr.png" alt="img"></p><blockquote><p>Dashboard提供了kubectl的绝大部分功能，这里不再一一演示</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7.service介绍</title>
      <link href="/posts/f379794e.html"/>
      <url>/posts/f379794e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="7-Service详解"><a href="#7-Service详解" class="headerlink" title="7. Service详解"></a>7. Service详解</h1><h2 id="7-1-Service介绍"><a href="#7-1-Service介绍" class="headerlink" title="7.1 Service介绍"></a>7.1 Service介绍</h2><p>在kubernetes中，pod是应用程序的载体，我们可以通过pod的ip来访问应用程序，但是pod的ip地址不是固定的，这也就意味着不方便直接采用pod的ip对服务进行访问。</p><p>为了解决这个问题，kubernetes提供了Service资源，Service会对提供同一个服务的多个pod进行聚合，并且提供一个统一的入口地址。通过访问Service的入口地址就能访问到后面的pod服务。</p><p><img src="https://s2.loli.net/2022/12/29/EptgkjrqOf1GTDS.png" alt="img"></p><p>Service在很多情况下只是一个概念，真正起作用的其实是kube-proxy服务进程，每个Node节点上都运行着一个kube-proxy服务进程。当创建Service的时候会通过api-server向etcd写入创建的service的信息，而kube-proxy会基于监听的机制发现这种Service的变动，然后<strong>它会将最新的Service信息转换成对应的访问规则</strong>。</p><p><img src="https://s2.loli.net/2022/12/29/MgVKTo49HAq31Wb.png" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 10.97.97.97:80 是service提供的访问入口</span><br><span class="line"># 当访问这个入口的时候，可以发现后面有三个pod的服务在等待调用，</span><br><span class="line"># kube-proxy会基于rr（轮询）的策略，将请求分发到其中一个pod上去</span><br><span class="line"># 这个规则会同时在集群内的所有节点上都生成，所以在任何一个节点上访问都可以。</span><br><span class="line">[root@node1 ~]# ipvsadm -Ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line">  -&gt; RemoteAddress:Port           Forward Weight ActiveConn InActConn</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line">  -&gt; 10.244.1.39:80               Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.1.40:80               Masq    1      0          0</span><br><span class="line">  -&gt; 10.244.2.33:80               Masq    1      0          0</span><br></pre></td></tr></table></figure><p>kube-proxy目前支持三种工作模式:</p><p><strong>userspace 模式</strong></p><p>userspace模式下，kube-proxy会为每一个Service创建一个监听端口，发向Cluster IP的请求被Iptables规则重定向到kube-proxy监听的端口上，kube-proxy根据LB算法选择一个提供服务的Pod并和其建立链接，以将请求转发到Pod上。  该模式下，kube-proxy充当了一个四层负责均衡器的角色。由于kube-proxy运行在userspace中，在进行转发处理时会增加内核和用户空间之间的数据拷贝，虽然比较稳定，但是效率比较低。</p><p><img src="https://s2.loli.net/2022/12/29/SvC2Yn7ZielVmEP.png" alt="img"></p><p><strong>iptables 模式</strong></p><p>iptables模式下，kube-proxy为service后端的每个Pod创建对应的iptables规则，直接将发向Cluster IP的请求重定向到一个Pod IP。  该模式下kube-proxy不承担四层负责均衡器的角色，只负责创建iptables规则。该模式的优点是较userspace模式效率更高，但不能提供灵活的LB策略，当后端Pod不可用时也无法进行重试。</p><p><img src="https://s2.loli.net/2022/12/29/mzlXyqsx1kGMwvJ.png" alt="img"></p><p><strong>ipvs 模式</strong></p><p>ipvs模式和iptables类似，kube-proxy监控Pod的变化并创建相应的ipvs规则。ipvs相对iptables转发效率更高。除此以外，ipvs支持更多的LB算法。</p><p><img src="https://s2.loli.net/2022/12/29/BWbfVOcTHL3jDPo.png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此模式必须安装ipvs内核模块，否则会降级为iptables</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启ipvs</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit cm kube-proxy -n kube-system</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改mode: <span class="string">&quot;ipvs&quot;</span></span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete pod -l k8s-app=kube-proxy -n kube-system</span><br><span class="line">[root@node1 ~]# ipvsadm -Ln</span><br><span class="line">IP Virtual Server version 1.2.1 (size=4096)</span><br><span class="line">Prot LocalAddress:Port Scheduler Flags</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">RemoteAddress:Port           Forward Weight ActiveConn InActConn</span></span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br></pre></td></tr></table></figure><h2 id="7-2-Service类型"><a href="#7-2-Service类型" class="headerlink" title="7.2 Service类型"></a>7.2 Service类型</h2><p>Service的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Service</span>  <span class="comment"># 资源类型</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span>  <span class="comment"># 资源版本</span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service</span> <span class="comment"># 资源名称</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span> <span class="comment"># 命名空间</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 描述</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 标签选择器，用于确定当前service代理哪些pod</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">type:</span> <span class="comment"># Service类型，指定service的访问方式</span></span><br><span class="line">  <span class="attr">clusterIP:</span>  <span class="comment"># 虚拟服务的ip地址</span></span><br><span class="line">  <span class="attr">sessionAffinity:</span> <span class="comment"># session亲和性，支持ClientIP、None两个选项</span></span><br><span class="line">  <span class="attr">ports:</span> <span class="comment"># 端口信息</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">protocol:</span> <span class="string">TCP</span> </span><br><span class="line">      <span class="attr">port:</span> <span class="number">3017</span>  <span class="comment"># service端口</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">5003</span> <span class="comment"># pod端口</span></span><br><span class="line">      <span class="attr">nodePort:</span> <span class="number">31122</span> <span class="comment"># 主机端口</span></span><br></pre></td></tr></table></figure><ul><li>ClusterIP：默认值，它是Kubernetes系统自动分配的虚拟IP，只能在集群内部访问</li><li>NodePort：将Service通过指定的Node上的端口暴露给外部，通过此方法，就可以在集群外部访问服务</li><li>LoadBalancer：使用外接负载均衡器完成到服务的负载分发，注意此模式需要外部云环境支持</li><li>ExternalName： 把集群外部的服务引入集群内部，直接使用</li></ul><h2 id="7-3-Service使用"><a href="#7-3-Service使用" class="headerlink" title="7.3 Service使用"></a>7.3 Service使用</h2><h3 id="7-3-1-实验环境准备"><a href="#7-3-1-实验环境准备" class="headerlink" title="7.3.1 实验环境准备"></a>7.3.1 实验环境准备</h3><p>在使用service之前，首先利用Deployment创建出3个pod，注意要为pod设置<code>app=nginx-pod</code>的标签</p><p>创建deployment.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl create -f deployment.yaml</span><br><span class="line">deployment.apps/pc-deployment created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide --show-labels</span><br><span class="line">NAME                             READY   STATUS     IP            NODE     LABELS</span><br><span class="line">pc-deployment-66cb59b984-8p84h   1/1     Running    10.244.1.39   node1    app=nginx-pod</span><br><span class="line">pc-deployment-66cb59b984-vx8vx   1/1     Running    10.244.2.33   node2    app=nginx-pod</span><br><span class="line">pc-deployment-66cb59b984-wnncx   1/1     Running    10.244.1.40   node1    app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为了方便后面的测试，修改下三台nginx的index.html页面（三台修改的IP地址不一致）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">exec</span> -it pc-deployment-66cb59b984-8p84h -n dev /bin/sh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;10.244.1.39&quot;</span> &gt; /usr/share/nginx/html/index.html</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改完毕之后，访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.1.39</span><br><span class="line">10.244.1.39</span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.1.40</span><br><span class="line">10.244.1.40</span><br></pre></td></tr></table></figure><h3 id="7-3-2-ClusterIP类型的Service"><a href="#7-3-2-ClusterIP类型的Service" class="headerlink" title="7.3.2 ClusterIP类型的Service"></a>7.3.2 ClusterIP类型的Service</h3><p>创建service-clusterip.yaml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-clusterip</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="number">10.97</span><span class="number">.97</span><span class="number">.97</span> <span class="comment"># service的ip地址，如果不写，默认会生成一个</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span>  <span class="comment"># Service端口       </span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span> <span class="comment"># pod端口</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-clusterip.yaml</span><br><span class="line">service/service-clusterip created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev -o wide</span><br><span class="line">NAME                TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)   AGE   SELECTOR</span><br><span class="line">service-clusterip   ClusterIP   10.97.97.97   &lt;none&gt;        80/TCP    13s   app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service的详细信息</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在这里有一个Endpoints列表，里面就是当前service可以负载到的服务入口</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe svc service-clusterip -n dev</span><br><span class="line">Name:              service-clusterip</span><br><span class="line">Namespace:         dev</span><br><span class="line">Labels:            &lt;none&gt;</span><br><span class="line">Annotations:       &lt;none&gt;</span><br><span class="line">Selector:          app=nginx-pod</span><br><span class="line">Type:              ClusterIP</span><br><span class="line">IP:                10.97.97.97</span><br><span class="line">Port:              &lt;unset&gt;  80/TCP</span><br><span class="line">TargetPort:        80/TCP</span><br><span class="line">Endpoints:         10.244.1.39:80,10.244.1.40:80,10.244.2.33:80</span><br><span class="line">Session Affinity:  None</span><br><span class="line">Events:            &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs的映射规则</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">访问10.97.97.97:80观察效果</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.97.97.97:80</span><br><span class="line">10.244.2.33</span><br></pre></td></tr></table></figure><p><strong>Endpoint</strong></p><p>Endpoint是kubernetes中的一个资源对象，存储在etcd中，用来记录一个service对应的所有pod的访问地址，它是根据service配置文件中selector描述产生的。</p><p>一个Service由一组Pod组成，这些Pod通过Endpoints暴露出来，<strong>Endpoints是实现实际服务的端点集合</strong>。换句话说，service和pod之间的联系是通过endpoints实现的。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200509191917069.png" alt="image-20200509191917069"></p><p><strong>负载分发策略</strong></p><p>对Service的访问被分发到了后端的Pod上去，目前kubernetes提供了两种负载分发策略：</p><ul><li><p>如果不定义，默认使用kube-proxy的策略，比如随机、轮询</p></li><li><p>基于客户端地址的会话保持模式，即来自同一个客户端发起的所有请求都会转发到固定的一个Pod上</p><p>  此模式可以使在spec中添加<code>sessionAffinity:ClientIP</code>选项</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs的映射规则【rr 轮询】</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">循环访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# while true;do curl 10.97.97.97:80; sleep 5; done;</span><br><span class="line">10.244.1.40</span><br><span class="line">10.244.1.39</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.1.40</span><br><span class="line">10.244.1.39</span><br><span class="line">10.244.2.33</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改分发策略----sessionAffinity:ClientIP</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看ipvs规则【persistent 代表持久】</span></span><br><span class="line">[root@k8s-master01 ~]# ipvsadm -Ln</span><br><span class="line">TCP  10.97.97.97:80 rr persistent 10800</span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.39:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.1.40:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_">  -&gt; </span><span class="language-bash">10.244.2.33:80               Masq    1      0          0</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">循环访问测试</span></span><br><span class="line">[root@k8s-master01 ~]# while true;do curl 10.97.97.97; sleep 5; done;</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line">10.244.2.33</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f service-clusterip.yaml</span><br><span class="line">service &quot;service-clusterip&quot; deleted</span><br></pre></td></tr></table></figure><h3 id="7-3-3-HeadLiness类型的Service"><a href="#7-3-3-HeadLiness类型的Service" class="headerlink" title="7.3.3 HeadLiness类型的Service"></a>7.3.3 HeadLiness类型的Service</h3><p>在某些场景中，开发人员可能不想使用Service提供的负载均衡功能，而希望自己来控制负载均衡策略，针对这种情况，kubernetes提供了HeadLiness Service，这类Service不会分配Cluster IP，如果想要访问service，只能通过service的域名进行查询。</p><p>创建service-headliness.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-headliness</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span> <span class="comment"># 将clusterIP设置为None，即可创建headliness Service</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span>    </span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-headliness.yaml</span><br><span class="line">service/service-headliness created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取service， 发现CLUSTER-IP未分配</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc service-headliness -n dev -o wide</span><br><span class="line">NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE   SELECTOR</span><br><span class="line">service-headliness   ClusterIP   None         &lt;none&gt;        80/TCP    11s   app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe svc service-headliness  -n dev</span><br><span class="line">Name:              service-headliness</span><br><span class="line">Namespace:         dev</span><br><span class="line">Labels:            &lt;none&gt;</span><br><span class="line">Annotations:       &lt;none&gt;</span><br><span class="line">Selector:          app=nginx-pod</span><br><span class="line">Type:              ClusterIP</span><br><span class="line">IP:                None</span><br><span class="line">Port:              &lt;unset&gt;  80/TCP</span><br><span class="line">TargetPort:        80/TCP</span><br><span class="line">Endpoints:         10.244.1.39:80,10.244.1.40:80,10.244.2.33:80</span><br><span class="line">Session Affinity:  None</span><br><span class="line">Events:            &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看域名的解析情况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec -it pc-deployment-66cb59b984-8p84h -n dev /bin/sh</span><br><span class="line">/ # cat /etc/resolv.conf</span><br><span class="line">nameserver 10.96.0.10</span><br><span class="line">search dev.svc.cluster.local svc.cluster.local cluster.local</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# dig @10.96.0.10 service-headliness.dev.svc.cluster.local</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.1.40</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.1.39</span><br><span class="line">service-headliness.dev.svc.cluster.local. 30 IN A 10.244.2.33</span><br></pre></td></tr></table></figure><h3 id="7-3-4-NodePort类型的Service"><a href="#7-3-4-NodePort类型的Service" class="headerlink" title="7.3.4 NodePort类型的Service"></a>7.3.4 NodePort类型的Service</h3><p>在之前的样例中，创建的Service的ip地址只有集群内部才可以访问，如果希望将Service暴露给集群外部使用，那么就要使用到另外一种类型的Service，称为NodePort类型。NodePort的工作原理其实就是<strong>将service的端口映射到Node的一个端口上</strong>，然后就可以通过<code>NodeIp:NodePort</code>来访问service了。</p><p><img src="https://s2.loli.net/2022/12/29/zV1NXd5uOM4gqnx.png" alt="img"></p><p>创建service-nodeport.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">service-nodeport</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span> <span class="comment"># service类型</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">nodePort:</span> <span class="number">30002</span> <span class="comment"># 指定绑定的node的端口(默认的取值范围是：30000-32767), 如果不指定，会默认分配</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f service-nodeport.yaml</span><br><span class="line">service/service-nodeport created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev -o wide</span><br><span class="line">NAME               TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)       SELECTOR</span><br><span class="line">service-nodeport   NodePort   10.105.64.191   &lt;none&gt;        80:30002/TCP  app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来可以通过电脑主机的浏览器去访问集群中任意一个nodeip的30002端口，即可访问到pod</span></span><br></pre></td></tr></table></figure><h3 id="7-3-5-LoadBalancer类型的Service"><a href="#7-3-5-LoadBalancer类型的Service" class="headerlink" title="7.3.5 LoadBalancer类型的Service"></a>7.3.5 LoadBalancer类型的Service</h3><p>LoadBalancer和NodePort很相似，目的都是向外部暴露一个端口，区别在于LoadBalancer会在集群的外部再来做一个负载均衡设备，而这个设备需要外部环境支持的，外部服务发送到这个设备上的请求，会被设备负载之后转发到集群中。</p><p><img src="/Kubenetes.assets/image-20200510103945494.png" alt="img"></p><h3 id="7-3-6-ExternalName类型的Service"><a href="#7-3-6-ExternalName类型的Service" class="headerlink" title="7.3.6 ExternalName类型的Service"></a>7.3.6 ExternalName类型的Service</h3><p>ExternalName类型的Service用于引入集群外部的服务，它通过<code>externalName</code>属性指定外部一个服务的地址，然后在集群内部访问此service就可以访问到外部的服务了。</p><p><img src="/Kubenetes.assets/image-20200510113311209.png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: service-externalname</span><br><span class="line">  namespace: dev</span><br><span class="line">spec:</span><br><span class="line">  type: ExternalName # service类型</span><br><span class="line">  externalName: www.baidu.com  #改成ip地址也可以</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  create -f service-externalname.yaml</span><br><span class="line">service/service-externalname created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">域名解析</span></span><br><span class="line">[root@k8s-master01 ~]# dig @10.96.0.10 service-externalname.dev.svc.cluster.local</span><br><span class="line">service-externalname.dev.svc.cluster.local. 30 IN CNAME www.baidu.com.</span><br><span class="line">www.baidu.com.          30      IN      CNAME   www.a.shifen.com.</span><br><span class="line">www.a.shifen.com.       30      IN      A       39.156.66.18</span><br><span class="line">www.a.shifen.com.       30      IN      A       39.156.66.14</span><br></pre></td></tr></table></figure><h2 id="7-4-Ingress介绍"><a href="#7-4-Ingress介绍" class="headerlink" title="7.4 Ingress介绍"></a>7.4 Ingress介绍</h2><p>在前面课程中已经提到，Service对集群之外暴露服务的主要方式有两种：NotePort和LoadBalancer，但是这两种方式，都有一定的缺点：</p><ul><li>NodePort方式的缺点是会占用很多集群机器的端口，那么当集群服务变多的时候，这个缺点就愈发明显</li><li>LB方式的缺点是每个service需要一个LB，浪费、麻烦，并且需要kubernetes之外设备的支持</li></ul><p>基于这种现状，kubernetes提供了Ingress资源对象，Ingress只需要一个NodePort或者一个LB就可以满足暴露多个Service的需求。工作机制大致如下图表示：</p><p><img src="/Kubenetes.assets/image-20200623092808049.png" alt="img"></p><p>实际上，Ingress相当于一个7层的负载均衡器，是kubernetes对反向代理的一个抽象，它的工作原理类似于Nginx，可以理解成在<strong>Ingress里建立诸多映射规则，Ingress Controller通过监听这些配置规则并转化成Nginx的反向代理配置 , 然后对外部提供服务</strong>。在这里有两个核心概念：</p><ul><li>ingress：kubernetes中的一个对象，作用是定义请求如何转发到service的规则</li><li>ingress controller：具体实现反向代理及负载均衡的程序，对ingress定义的规则进行解析，根据配置的规则来实现请求转发，实现方式有很多，比如Nginx, Contour, Haproxy等等</li></ul><p>Ingress（以Nginx为例）的工作原理如下：</p><ol><li>用户编写Ingress规则，说明哪个域名对应kubernetes集群中的哪个Service</li><li>Ingress控制器动态感知Ingress服务规则的变化，然后生成一段对应的Nginx反向代理配置</li><li>Ingress控制器会将生成的Nginx配置写入到一个运行着的Nginx服务中，并动态更新</li><li>到此为止，其实真正在工作的就是一个Nginx了，内部配置了用户定义的请求转发规则</li></ol><p><img src="/Kubenetes.assets/image-20200516112704764.png" alt="img"></p><h2 id="7-5-Ingress使用"><a href="#7-5-Ingress使用" class="headerlink" title="7.5 Ingress使用"></a>7.5 Ingress使用</h2><h3 id="7-5-1-环境准备"><a href="#7-5-1-环境准备" class="headerlink" title="7.5.1 环境准备"></a>7.5.1 环境准备</h3><p><strong>搭建ingress环境</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 创建文件夹</span><br><span class="line">[root@k8s-master01 ~]# mkdir ingress-controller</span><br><span class="line">[root@k8s-master01 ~]# cd ingress-controller/</span><br><span class="line"></span><br><span class="line"># 获取ingress-nginx，本次案例使用的是0.30版本</span><br><span class="line">[root@k8s-master01 ingress-controller]# wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/mandatory.yaml</span><br><span class="line">[root@k8s-master01 ingress-controller]# wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/provider/baremetal/service-nodeport.yaml</span><br><span class="line"></span><br><span class="line"># 修改mandatory.yaml文件中的仓库</span><br><span class="line"># 修改quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0</span><br><span class="line"># 为quay-mirror.qiniu.com/kubernetes-ingress-controller/nginx-ingress-controller:0.30.0</span><br><span class="line"># 创建ingress-nginx</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl apply -f ./</span><br><span class="line"></span><br><span class="line"># 查看ingress-nginx</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl get pod -n ingress-nginx</span><br><span class="line">NAME                                           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginx-ingress-controller-fbf967dd5-4qpbp   1/1     Running   0          12h</span><br><span class="line"></span><br><span class="line"># 查看service</span><br><span class="line">[root@k8s-master01 ingress-controller]# kubectl get svc -n ingress-nginx</span><br><span class="line">NAME            TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)                      AGE</span><br><span class="line">ingress-nginx   NodePort   10.98.75.163   &lt;none&gt;        80:32240/TCP,443:31335/TCP   11h</span><br></pre></td></tr></table></figure><p><strong>准备service和pod</strong></p><p>为了后面的实验比较方便，创建如下图所示的模型</p><p><img src="/Kubenetes.assets/image-20200516102419998.png" alt="img"></p><p>创建tomcat-nginx.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tomcat-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">tomcat</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">tomcat:8.5-jre10-slim</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-service</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">tomcat-service</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f tomcat-nginx.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get svc -n dev</span><br><span class="line">NAME             TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)    AGE</span><br><span class="line">nginx-service    ClusterIP   None         &lt;none&gt;        80/TCP     48s</span><br><span class="line">tomcat-service   ClusterIP   None         &lt;none&gt;        8080/TCP   48s</span><br></pre></td></tr></table></figure><h3 id="7-5-2-Http代理"><a href="#7-5-2-Http代理" class="headerlink" title="7.5.2 Http代理"></a>7.5.2 Http代理</h3><p>创建ingress-http.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingress-http</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">nginx-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">tomcat-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f ingress-http.yaml</span><br><span class="line">ingress.extensions/ingress-http created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get ing ingress-http -n dev</span><br><span class="line">NAME           HOSTS                                  ADDRESS   PORTS   AGE</span><br><span class="line">ingress-http   nginx.itheima.com,tomcat.itheima.com             80      22s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe ing ingress-http  -n dev</span><br><span class="line">...</span><br><span class="line">Rules:</span><br><span class="line">Host                Path  Backends</span><br><span class="line">----                ----  --------</span><br><span class="line">nginx.itheima.com   / nginx-service:80 (10.244.1.96:80,10.244.1.97:80,10.244.2.112:80)</span><br><span class="line">tomcat.itheima.com  / tomcat-service:8080(10.244.1.94:8080,10.244.1.95:8080,10.244.2.111:8080)</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来,在本地电脑上配置host文件,解析上面的两个域名到192.168.109.100(master)上</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后,就可以分别访问tomcat.itheima.com:32240  和  nginx.itheima.com:32240 查看效果了</span></span><br></pre></td></tr></table></figure><h3 id="7-5-3-Https代理"><a href="#7-5-3-Https代理" class="headerlink" title="7.5.3 Https代理"></a>7.5.3 Https代理</h3><p>创建证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">生成证书</span></span><br><span class="line">openssl req -x509 -sha256 -nodes -days 365 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj &quot;/C=CN/ST=BJ/L=BJ/O=nginx/CN=itheima.com&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建密钥</span></span><br><span class="line">kubectl create secret tls tls-secret --key tls.key --cert tls.crt</span><br></pre></td></tr></table></figure><p>创建ingress-https.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingress-https</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">tls:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">hosts:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">      <span class="attr">secretName:</span> <span class="string">tls-secret</span> <span class="comment"># 指定秘钥</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">nginx.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">nginx-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">80</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">tomcat.itheima.com</span></span><br><span class="line">    <span class="attr">http:</span></span><br><span class="line">      <span class="attr">paths:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">        <span class="attr">backend:</span></span><br><span class="line">          <span class="attr">serviceName:</span> <span class="string">tomcat-service</span></span><br><span class="line">          <span class="attr">servicePort:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f ingress-https.yaml</span><br><span class="line">ingress.extensions/ingress-https created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get ing ingress-https -n dev</span><br><span class="line">NAME            HOSTS                                  ADDRESS         PORTS     AGE</span><br><span class="line">ingress-https   nginx.itheima.com,tomcat.itheima.com   10.104.184.38   80, 443   2m42s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe ing ingress-https -n dev</span><br><span class="line">...</span><br><span class="line">TLS:</span><br><span class="line">  tls-secret terminates nginx.itheima.com,tomcat.itheima.com</span><br><span class="line">Rules:</span><br><span class="line">Host              Path Backends</span><br><span class="line">----              ---- --------</span><br><span class="line">nginx.itheima.com  /  nginx-service:80 (10.244.1.97:80,10.244.1.98:80,10.244.2.119:80)</span><br><span class="line">tomcat.itheima.com /  tomcat-service:8080(10.244.1.99:8080,10.244.2.117:8080,10.244.2.120:8080)</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下面可以通过浏览器访问https://nginx.itheima.com:31335 和 https://tomcat.itheima.com:31335来查看了</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.pod控制器介绍</title>
      <link href="/posts/185fad5e.html"/>
      <url>/posts/185fad5e.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="6-Pod控制器详解"><a href="#6-Pod控制器详解" class="headerlink" title="6. Pod控制器详解"></a>6. Pod控制器详解</h1><h2 id="6-1-Pod控制器介绍"><a href="#6-1-Pod控制器介绍" class="headerlink" title="6.1 Pod控制器介绍"></a>6.1 Pod控制器介绍</h2><p>Pod是kubernetes的最小管理单元，在kubernetes中，按照pod的创建方式可以将其分为两类：</p><ul><li>自主式pod：kubernetes直接创建出来的Pod，这种pod删除后就没有了，也不会重建</li><li>控制器创建的pod：kubernetes通过控制器创建的pod，这种pod删除了之后还会自动重建</li></ul><blockquote><p><strong><code>什么是Pod控制器</code></strong></p><p>Pod控制器是管理pod的中间层，使用Pod控制器之后，只需要告诉Pod控制器，想要多少个什么样的Pod就可以了，它会创建出满足条件的Pod并确保每一个Pod资源处于用户期望的目标状态。如果Pod资源在运行中出现故障，它会基于指定策略重新编排Pod。</p></blockquote><p>在kubernetes中，有很多类型的pod控制器，每种都有自己的适合的场景，常见的有下面这些：</p><ul><li>ReplicationController：比较原始的pod控制器，已经被废弃，由ReplicaSet替代</li><li>ReplicaSet：保证副本数量一直维持在期望值，并支持pod数量扩缩容，镜像版本升级</li><li>Deployment：通过控制ReplicaSet来控制Pod，并支持滚动升级、回退版本</li><li>Horizontal Pod Autoscaler：可以根据集群负载自动水平调整Pod的数量，实现削峰填谷</li><li>DaemonSet：在集群中的指定Node上运行且仅运行一个副本，一般用于守护进程类的任务</li><li>Job：它创建出来的pod只要完成任务就立即退出，不需要重启或重建，用于执行一次性任务</li><li>Cronjob：它创建的Pod负责周期性任务控制，不需要持续后台运行</li><li>StatefulSet：管理有状态应用</li></ul><h2 id="6-2-ReplicaSet-RS"><a href="#6-2-ReplicaSet-RS" class="headerlink" title="6.2 ReplicaSet(RS)"></a>6.2 ReplicaSet(RS)</h2><p>ReplicaSet的主要作用是<strong>保证一定数量的pod正常运行</strong>，它会持续监听这些Pod的运行状态，一旦Pod发生故障，就会重启或重建。同时它还支持对pod数量的扩缩容和镜像版本的升降级。</p><p><img src="https://s2.loli.net/2022/12/29/gmE7sRlcJBiLd5T.png" alt="img"></p><p>ReplicaSet的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ReplicaSet</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">rs</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 副本数量</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>在这里面，需要新了解的配置项就是<code>spec</code>下面几个选项：</p><ul><li><p>replicas：指定副本数量，其实就是当前rs创建出来的pod的数量，默认为1</p></li><li><p>selector：选择器，它的作用是建立pod控制器和pod之间的关联关系，采用的Label Selector机制</p><p>  在pod模板上定义label，在控制器上定义选择器，就可以表明当前控制器能管理哪些pod了</p></li><li><p>template：模板，就是当前控制器创建pod所使用的模板板，里面其实就是前一章学过的pod的定义</p></li></ul><p><strong>创建ReplicaSet</strong></p><p>创建pc-replicaset.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ReplicaSet</span>   </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-replicaset</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span> </span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建rs</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-replicaset.yaml</span><br><span class="line">replicaset.apps/pc-replicaset created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DESIRED:期望副本数量</span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CURRENT:当前副本数量</span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">READY:已经准备好提供服务的副本数量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs pc-replicaset -n dev -o wide</span><br><span class="line">NAME          DESIRED   CURRENT READY AGE   CONTAINERS   IMAGES             SELECTOR</span><br><span class="line">pc-replicaset 3         3       3     22s   nginx        nginx:1.17.1       app=nginx-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前控制器创建出来的pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里发现控制器创建出来的pod的名称是在控制器名称后面拼接了-xxxxx随机码</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod -n dev</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   1/1     Running   0          54s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          54s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          54s</span><br></pre></td></tr></table></figure><p><strong>扩缩容</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑rs的副本数量，修改spec:replicas: 6即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps/pc-replicaset edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   1/1     Running   0          114m</span><br><span class="line">pc-replicaset-cftnp   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-fjlm6   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          114m</span><br><span class="line">pc-replicaset-s2whj   1/1     Running   0          10s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          114m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然也可以直接使用命令实现</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用scale命令实现扩缩容， 后面--replicas=n直接指定目标数量即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl scale rs pc-replicaset --replicas=2 -n dev</span><br><span class="line">replicaset.apps/pc-replicaset scaled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令运行完毕，立即查看，发现已经有4个开始准备退出了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                       READY   STATUS        RESTARTS   AGE</span><br><span class="line">pc-replicaset-6vmvt   0/1     Terminating   0          118m</span><br><span class="line">pc-replicaset-cftnp   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-fjlm6   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running       0          118m</span><br><span class="line">pc-replicaset-s2whj   0/1     Terminating   0          4m17s</span><br><span class="line">pc-replicaset-snrk2   1/1     Running       0          118m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">稍等片刻，就只剩下2个了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-fmb8f   1/1     Running   0          119m</span><br><span class="line">pc-replicaset-snrk2   1/1     Running   0          119m</span><br></pre></td></tr></table></figure><p><strong>镜像升级</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑rs的容器镜像 - image: nginx:1.17.2</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps/pc-replicaset edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看，发现镜像版本已经变更了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                DESIRED  CURRENT   READY   AGE    CONTAINERS   IMAGES        ...</span><br><span class="line">pc-replicaset       2        2         2       140m   nginx         nginx:1.17.2  ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同样的道理，也可以使用命令完成这个工作</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubectl <span class="built_in">set</span> image rs rs名称 容器=镜像版本 -n namespace</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image rs pc-replicaset nginx=nginx:1.17.1  -n dev</span><br><span class="line">replicaset.apps/pc-replicaset image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看，发现镜像版本已经变更了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                 DESIRED  CURRENT   READY   AGE    CONTAINERS   IMAGES            ...</span><br><span class="line">pc-replicaset        2        2         2       145m   nginx        nginx:1.17.1 ... </span><br></pre></td></tr></table></figure><p><strong>删除ReplicaSet</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用kubectl delete命令会删除此RS以及它管理的Pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在kubernetes删除RS前，会将RS的replicasclear调整为0，等待所有的Pod被删除后，在执行RS对象的删除</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete rs pc-replicaset -n dev</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod -n dev -o wide</span><br><span class="line">No resources found in dev namespace.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果希望仅仅删除RS对象（保留Pod），可以使用kubectl delete命令时添加--cascade=<span class="literal">false</span>选项（不推荐）。</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete rs pc-replicaset -n dev --cascade=false</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                  READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-replicaset-cl82j   1/1     Running   0          75s</span><br><span class="line">pc-replicaset-dslhb   1/1     Running   0          75s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">也可以使用yaml直接删除(推荐)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-replicaset.yaml</span><br><span class="line">replicaset.apps &quot;pc-replicaset&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-3-Deployment-Deploy"><a href="#6-3-Deployment-Deploy" class="headerlink" title="6.3 Deployment(Deploy)"></a>6.3 Deployment(Deploy)</h2><p>为了更好的解决服务编排的问题，kubernetes在V1.2版本开始，引入了Deployment控制器。值得一提的是，这种控制器并不直接管理pod，而是通过管理ReplicaSet来简介管理Pod，即：Deployment管理ReplicaSet，ReplicaSet管理Pod。所以Deployment比ReplicaSet功能更加强大。</p><p><img src="https://s2.loli.net/2022/12/29/9UX4I6qZMyoPjei.png" alt="img"></p><p>Deployment主要功能有下面几个：</p><ul><li>支持ReplicaSet的所有功能</li><li>支持发布的停止、继续</li><li>支持滚动升级和回滚版本</li></ul><p>Deployment的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span> <span class="comment"># 副本数量</span></span><br><span class="line">  <span class="attr">revisionHistoryLimit:</span> <span class="number">3</span> <span class="comment"># 保留历史版本</span></span><br><span class="line">  <span class="attr">paused:</span> <span class="literal">false</span> <span class="comment"># 暂停部署，默认是false</span></span><br><span class="line">  <span class="attr">progressDeadlineSeconds:</span> <span class="number">600</span> <span class="comment"># 部署超时时间（s），默认是600</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span> <span class="comment"># 滚动更新</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">30</span><span class="string">%</span> <span class="comment"># 最大额外可以存在的副本数，可以为百分比，也可以为整数</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">30</span><span class="string">%</span> <span class="comment"># 最大不可用状态的 Pod 的最大值，可以为百分比，也可以为整数</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p><strong>创建deployment</strong></p><p>创建pc-deployment.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-deployment</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建deployment</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-deployment.yaml --record=true</span><br><span class="line">deployment.apps/pc-deployment created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UP-TO-DATE 最新版本的pod的数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">AVAILABLE  当前可用的pod的数量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy pc-deployment -n dev</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">pc-deployment   3/3     3            3           15s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现rs的名称是在原来deployment的名字后面添加了一个10位数的随机串</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   3         3         3       23s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          107s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          107s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          107s</span><br></pre></td></tr></table></figure><p><strong>扩缩容</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更副本数量为5个</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl scale deploy pc-deployment --replicas=5  -n dev</span><br><span class="line">deployment.apps/pc-deployment scaled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy pc-deployment -n dev</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">pc-deployment   5/5     5            5           2m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          4m19s</span><br><span class="line">pc-deployment-6696798b78-jxmdq   1/1     Running   0          94s</span><br><span class="line">pc-deployment-6696798b78-mktqv   1/1     Running   0          93s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          4m19s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          4m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑deployment的副本数量，修改spec:replicas: 4即可</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl edit deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment edited</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6696798b78-d2c8n   1/1     Running   0          5m23s</span><br><span class="line">pc-deployment-6696798b78-jxmdq   1/1     Running   0          2m38s</span><br><span class="line">pc-deployment-6696798b78-smpvp   1/1     Running   0          5m23s</span><br><span class="line">pc-deployment-6696798b78-wvjd8   1/1     Running   0          5m23s</span><br></pre></td></tr></table></figure><p><strong>镜像更新</strong></p><p>deployment支持两种更新策略:<code>重建更新</code>和<code>滚动更新</code>,可以通过<code>strategy</code>指定策略类型,支持两个属性:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">strategy：指定新的Pod替换旧的Pod的策略，</span> <span class="string">支持两个属性：</span></span><br><span class="line">  <span class="string">type：指定策略类型，支持两种策略</span></span><br><span class="line">    <span class="string">Recreate：在创建出新的Pod之前会先杀掉所有已存在的Pod</span></span><br><span class="line">    <span class="string">RollingUpdate：滚动更新，就是杀死一部分，就启动一部分，在更新过程中，存在两个版本Pod</span></span><br><span class="line">  <span class="string">rollingUpdate：当type为RollingUpdate时生效，用于为RollingUpdate设置参数，支持两个属性：</span></span><br><span class="line">    <span class="string">maxUnavailable：用来指定在升级过程中不可用Pod的最大数量，默认为25%。</span></span><br><span class="line">    <span class="string">maxSurge：</span> <span class="string">用来指定在升级过程中可以超过期望的Pod的最大数量，默认为25%。</span></span><br></pre></td></tr></table></figure><p>重建更新</p><ol><li>编辑pc-deployment.yaml,在spec节点下添加更新策略</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">Recreate</span> <span class="comment"># 重建更新</span></span><br></pre></td></tr></table></figure><ol start="2"><li>创建deploy进行验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更镜像</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image deployment pc-deployment nginx=nginx:1.17.2 -n dev</span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察升级过程</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev -w</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-5d89bdfbf9-65qcw   1/1     Running   0          31s</span><br><span class="line">pc-deployment-5d89bdfbf9-w5nzv   1/1     Running   0          31s</span><br><span class="line">pc-deployment-5d89bdfbf9-xpt7w   1/1     Running   0          31s</span><br><span class="line"></span><br><span class="line">pc-deployment-5d89bdfbf9-xpt7w   1/1     Terminating   0          41s</span><br><span class="line">pc-deployment-5d89bdfbf9-65qcw   1/1     Terminating   0          41s</span><br><span class="line">pc-deployment-5d89bdfbf9-w5nzv   1/1     Terminating   0          41s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   0/1     Pending       0          0s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   0/1     Pending       0          0s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   0/1     Pending       0          0s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   0/1     ContainerCreating   0          0s</span><br><span class="line"></span><br><span class="line">pc-deployment-675d469f8b-grn8z   1/1     Running             0          1s</span><br><span class="line">pc-deployment-675d469f8b-67nz2   1/1     Running             0          1s</span><br><span class="line">pc-deployment-675d469f8b-hbl4v   1/1     Running             0          2s</span><br></pre></td></tr></table></figure><p>滚动更新</p><ol><li>编辑pc-deployment.yaml,在spec节点下添加更新策略</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">25</span><span class="string">%</span> </span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">25</span><span class="string">%</span></span><br></pre></td></tr></table></figure><ol start="2"><li>创建deploy进行验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">变更镜像</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl set image deployment pc-deployment nginx=nginx:1.17.3 -n dev </span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察升级过程</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME                           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-c848d767-8rbzt   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-h4p68   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-hlmz4   1/1     Running   0          31m</span><br><span class="line">pc-deployment-c848d767-rrqcn   1/1     Running   0          31m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-226rx   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-226rx   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-226rx   1/1     Running             0          1s</span><br><span class="line">pc-deployment-c848d767-h4p68    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-cnd44   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-cnd44   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-cnd44   1/1     Running             0          2s</span><br><span class="line">pc-deployment-c848d767-hlmz4    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-px48p   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-px48p   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-px48p   1/1     Running             0          0s</span><br><span class="line">pc-deployment-c848d767-8rbzt    0/1     Terminating         0          34m</span><br><span class="line"></span><br><span class="line">pc-deployment-966bf7f44-dkmqp   0/1     Pending             0          0s</span><br><span class="line">pc-deployment-966bf7f44-dkmqp   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-deployment-966bf7f44-dkmqp   1/1     Running             0          2s</span><br><span class="line">pc-deployment-c848d767-rrqcn    0/1     Terminating         0          34m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">至此，新版本的pod创建完毕，就版本的pod销毁完毕</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">中间过程是滚动进行的，也就是边销毁边创建</span></span><br></pre></td></tr></table></figure><p>滚动更新的过程：</p><p><img src="https://s2.loli.net/2022/12/29/BZXt8LKv9VyjnNx.png" alt="img"></p><p>镜像更新中rs的变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs,发现原来的rs的依旧存在，只是pod数量变为了0，而后又新产生了一个rs，pod数量为4</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其实这就是deployment能够进行版本回退的奥妙所在，后面会详细解释</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   0         0         0       7m37s</span><br><span class="line">pc-deployment-6696798b11   0         0         0       5m37s</span><br><span class="line">pc-deployment-c848d76789   4         4         4       72s</span><br></pre></td></tr></table></figure><p><strong>版本回退</strong></p><p>deployment支持版本升级过程中的暂停、继续功能以及版本回退等诸多功能，下面具体来看.</p><p>kubectl rollout： 版本升级相关功能，支持下面的选项：</p><ul><li>status 显示当前升级状态</li><li>history 显示 升级历史记录</li><li>pause 暂停版本升级过程</li><li>resume 继续已经暂停的版本升级过程</li><li>restart 重启版本升级过程</li><li>undo 回滚到上一级版本（可以使用–to-revision回滚到指定版本）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前升级版本的状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout status deploy pc-deployment -n dev</span><br><span class="line">deployment &quot;pc-deployment&quot; successfully rolled out</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看升级历史记录</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout history deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment</span><br><span class="line">REVISION  CHANGE-CAUSE</span><br><span class="line">1         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line">2         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line">3         kubectl create --filename=pc-deployment.yaml --record=true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以发现有三次版本记录，说明完成过两次升级</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">版本回滚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里直接使用--to-revision=1回滚到了1版本， 如果省略这个选项，就是回退到上个版本，就是2版本</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout undo deployment pc-deployment --to-revision=1 -n dev</span><br><span class="line">deployment.apps/pc-deployment rolled back</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看发现，通过nginx镜像版本可以发现到了第一版</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get deploy -n dev -o wide</span><br><span class="line">NAME            READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment   4/4     4            4           74m   nginx        nginx:1.17.1   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看rs，发现第一个rs中有4个pod运行，后面两个版本的rs中pod为运行</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">其实deployment之所以可是实现版本的回滚，就是通过记录下历史rs来实现的，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">一旦想回滚到哪个版本，只需要将当前版本pod数量降为0，然后将回滚版本的pod提升为目标数量就可以了</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE</span><br><span class="line">pc-deployment-6696798b78   4         4         4       78m</span><br><span class="line">pc-deployment-966bf7f44    0         0         0       37m</span><br><span class="line">pc-deployment-c848d767     0         0         0       71m</span><br></pre></td></tr></table></figure><p><strong>金丝雀发布</strong></p><p>Deployment控制器支持控制更新过程中的控制，如“暂停(pause)”或“继续(resume)”更新操作。</p><p>比如有一批新的Pod资源创建完成后立即暂停更新过程，此时，仅存在一部分新版本的应用，主体部分还是旧的版本。然后，再筛选一小部分的用户请求路由到新版本的Pod应用，继续观察能否稳定地按期望的方式运行。确定没问题之后再继续完成余下的Pod资源滚动更新，否则立即回滚更新操作。这就是所谓的金丝雀发布。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新deployment的版本，并配置暂停deployment</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl set image deploy pc-deployment nginx=nginx:1.17.4 -n dev &amp;&amp; kubectl rollout pause deployment pc-deployment  -n dev</span><br><span class="line">deployment.apps/pc-deployment image updated</span><br><span class="line">deployment.apps/pc-deployment paused</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">观察更新状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout status deploy pc-deployment -n dev　</span><br><span class="line">Waiting for deployment &quot;pc-deployment&quot; rollout to finish: 2 out of 4 new replicas have been updated...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">监控更新的过程，可以看到已经新增了一个资源，但是并未按照预期的状态去删除一个旧的资源，就是因为使用了pause暂停命令</span></span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE     CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment-5d89bdfbf9   3         3         3       19m     nginx        nginx:1.17.1   </span><br><span class="line">pc-deployment-675d469f8b   0         0         0       14m     nginx        nginx:1.17.2   </span><br><span class="line">pc-deployment-6c9f56fcfb   2         2         2       3m16s   nginx        nginx:1.17.4   </span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-5d89bdfbf9-rj8sq   1/1     Running   0          7m33s</span><br><span class="line">pc-deployment-5d89bdfbf9-ttwgg   1/1     Running   0          7m35s</span><br><span class="line">pc-deployment-5d89bdfbf9-v4wvc   1/1     Running   0          7m34s</span><br><span class="line">pc-deployment-6c9f56fcfb-996rt   1/1     Running   0          3m31s</span><br><span class="line">pc-deployment-6c9f56fcfb-j2gtj   1/1     Running   0          3m31s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确保更新的pod没问题了，继续更新</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl rollout resume deploy pc-deployment -n dev</span><br><span class="line">deployment.apps/pc-deployment resumed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看最后的更新情况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get rs -n dev -o wide</span><br><span class="line">NAME                       DESIRED   CURRENT   READY   AGE     CONTAINERS   IMAGES         </span><br><span class="line">pc-deployment-5d89bdfbf9   0         0         0       21m     nginx        nginx:1.17.1   </span><br><span class="line">pc-deployment-675d469f8b   0         0         0       16m     nginx        nginx:1.17.2   </span><br><span class="line">pc-deployment-6c9f56fcfb   4         4         4       5m11s   nginx        nginx:1.17.4   </span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-deployment-6c9f56fcfb-7bfwh   1/1     Running   0          37s</span><br><span class="line">pc-deployment-6c9f56fcfb-996rt   1/1     Running   0          5m27s</span><br><span class="line">pc-deployment-6c9f56fcfb-j2gtj   1/1     Running   0          5m27s</span><br><span class="line">pc-deployment-6c9f56fcfb-rf84v   1/1     Running   0          37s</span><br></pre></td></tr></table></figure><p><strong>删除Deployment</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除deployment，其下的rs和pod也将被删除</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-deployment.yaml</span><br><span class="line">deployment.apps &quot;pc-deployment&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-4-Horizontal-Pod-Autoscaler-HPA"><a href="#6-4-Horizontal-Pod-Autoscaler-HPA" class="headerlink" title="6.4 Horizontal Pod Autoscaler(HPA)"></a>6.4 Horizontal Pod Autoscaler(HPA)</h2><p>在前面的课程中，我们已经可以实现通过手工执行<code>kubectl scale</code>命令实现Pod扩容或缩容，但是这显然不符合Kubernetes的定位目标–自动化、智能化。 Kubernetes期望可以实现通过监测Pod的使用情况，实现pod数量的自动调整，于是就产生了Horizontal Pod Autoscaler（HPA）这种控制器。</p><p>HPA可以获取每个Pod利用率，然后和HPA中定义的指标进行对比，同时计算出需要伸缩的具体值，最后实现Pod的数量的调整。其实HPA与之前的Deployment一样，也属于一种Kubernetes资源对象，它通过追踪分析RC控制的所有目标Pod的负载变化情况，来确定是否需要针对性地调整目标Pod的副本数，这是HPA的实现原理。</p><p><img src="https://s2.loli.net/2022/12/29/sdMI51XLJFK8rR7.png" alt="img"></p><p>接下来，我们来做一个实验</p><p><strong>1 安装metrics-server</strong></p><p>metrics-server可以用来收集集群中的资源使用情况</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装git</span></span><br><span class="line">[root@k8s-master01 ~]# yum install git -y</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取metrics-server, 注意使用的版本</span></span><br><span class="line">[root@k8s-master01 ~]# git clone -b v0.3.6 https://github.com/kubernetes-incubator/metrics-server</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改deployment, 注意修改的是镜像和初始化参数</span></span><br><span class="line">[root@k8s-master01 ~]# cd /root/metrics-server/deploy/1.8+/</span><br><span class="line">[root@k8s-master01 1.8+]# vim metrics-server-deployment.yaml</span><br><span class="line">按图中添加下面选项</span><br><span class="line">hostNetwork: true</span><br><span class="line">image: registry.cn-hangzhou.aliyuncs.com/google_containers/metrics-server-amd64:v0.3.6</span><br><span class="line">args:</span><br><span class="line">- --kubelet-insecure-tls</span><br><span class="line">- --kubelet-preferred-address-types=InternalIP,Hostname,InternalDNS,ExternalDNS,ExternalIP</span><br></pre></td></tr></table></figure><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200608163326496.png" alt="image-20200608163326496"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装metrics-server</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl apply -f ./</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod运行情况</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl get pod -n kube-system</span><br><span class="line">metrics-server-6b976979db-2xwbj   1/1     Running   0          90s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用kubectl top node 查看资源使用情况</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl top node</span><br><span class="line">NAME           CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%</span><br><span class="line">k8s-master01   289m         14%    1582Mi          54%       </span><br><span class="line">k8s-node01     81m          4%     1195Mi          40%       </span><br><span class="line">k8s-node02     72m          3%     1211Mi          41%  </span><br><span class="line">[root@k8s-master01 1.8+]# kubectl top pod -n kube-system</span><br><span class="line">NAME                              CPU(cores)   MEMORY(bytes)</span><br><span class="line">coredns-6955765f44-7ptsb          3m           9Mi</span><br><span class="line">coredns-6955765f44-vcwr5          3m           8Mi</span><br><span class="line">etcd-master                       14m          145Mi</span><br><span class="line">...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">至此,metrics-server安装完成</span></span><br></pre></td></tr></table></figure><p><strong>2 准备deployment和servie</strong></p><p>创建pc-hpa-pod.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">strategy:</span> <span class="comment"># 策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">resources:</span> <span class="comment"># 资源配额</span></span><br><span class="line">          <span class="attr">limits:</span>  <span class="comment"># 限制资源（上限）</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;1&quot;</span> <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">          <span class="attr">requests:</span> <span class="comment"># 请求资源（下限）</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;100m&quot;</span>  <span class="comment"># CPU限制，单位是core数</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建service</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl expose deployment nginx --type=NodePort --port=80 -n dev</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl get deployment,pod,svc -n dev</span><br><span class="line">NAME                    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps/nginx   1/1     1            1           47s</span><br><span class="line"></span><br><span class="line">NAME                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginx-7df9756ccc-bh8dr   1/1     Running   0          47s</span><br><span class="line"></span><br><span class="line">NAME            TYPE       CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">service/nginx   NodePort   10.101.18.29   &lt;none&gt;        80:31830/TCP   35s</span><br></pre></td></tr></table></figure><p><strong>3 部署HPA</strong></p><p>创建pc-hpa.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">autoscaling/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">HorizontalPodAutoscaler</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-hpa</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">minReplicas:</span> <span class="number">1</span>  <span class="comment">#最小pod数量</span></span><br><span class="line">  <span class="attr">maxReplicas:</span> <span class="number">10</span> <span class="comment">#最大pod数量</span></span><br><span class="line">  <span class="attr">targetCPUUtilizationPercentage:</span> <span class="number">3</span> <span class="comment"># CPU使用率指标</span></span><br><span class="line">  <span class="attr">scaleTargetRef:</span>   <span class="comment"># 指定要控制的nginx信息</span></span><br><span class="line">    <span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建hpa</span></span><br><span class="line">[root@k8s-master01 1.8+]# kubectl create -f pc-hpa.yaml</span><br><span class="line">horizontalpodautoscaler.autoscaling/pc-hpa created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看hpa</span></span><br><span class="line">    [root@k8s-master01 1.8+]# kubectl get hpa -n dev</span><br><span class="line">NAME     REFERENCE          TARGETS   MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">pc-hpa   Deployment/nginx   0%/3%     1         10        1          62s</span><br></pre></td></tr></table></figure><p><strong>4 测试</strong></p><p>使用压测工具对service地址<code>192.168.5.4:31830</code>进行压测，然后通过控制台查看hpa和pod的变化</p><p>hpa变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get hpa -n dev -w</span><br><span class="line">NAME   REFERENCE      TARGETS  MINPODS  MAXPODS  REPLICAS  AGE</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      4m11s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      5m19s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     1      6m50s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     4      7m5s</span><br><span class="line">pc-hpa  Deployment/nginx  22%/3%   1     10     8      7m21s</span><br><span class="line">pc-hpa  Deployment/nginx  6%/3%   1     10     8      7m51s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     8      9m6s</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     8      13m</span><br><span class="line">pc-hpa  Deployment/nginx  0%/3%   1     10     1      14m</span><br></pre></td></tr></table></figure><p>deployment变化</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get deployment -n dev -w</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   1/1     1            1           11m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     1            1           13m</span><br><span class="line">nginx   1/4     4            1           13m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     4            1           14m</span><br><span class="line">nginx   1/8     8            1           14m</span><br><span class="line">nginx   2/8     8            2           14m</span><br><span class="line">nginx   3/8     8            3           14m</span><br><span class="line">nginx   4/8     8            4           14m</span><br><span class="line">nginx   5/8     8            5           14m</span><br><span class="line">nginx   6/8     8            6           14m</span><br><span class="line">nginx   7/8     8            7           14m</span><br><span class="line">nginx   8/8     8            8           15m</span><br><span class="line">nginx   8/1     8            8           20m</span><br><span class="line">nginx   8/1     8            8           20m</span><br><span class="line">nginx   1/1     1            1           20m</span><br></pre></td></tr></table></figure><p>pod变化</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-7df9756ccc-bh8dr   1/1     Running   0          11m</span><br><span class="line">nginx-7df9756ccc-cpgrv   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-rr9bn   0/1     Pending   0          0s</span><br><span class="line">nginx-7df9756ccc-cpgrv   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-rr9bn   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-m9gsj   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-g56qb   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-sl9c6   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-fgst7   0/1     Pending             0          0s</span><br><span class="line">nginx-7df9756ccc-g56qb   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-m9gsj   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-sl9c6   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-fgst7   0/1     ContainerCreating   0          0s</span><br><span class="line">nginx-7df9756ccc-8zhwk   1/1     Running             0          19s</span><br><span class="line">nginx-7df9756ccc-rr9bn   1/1     Running             0          30s</span><br><span class="line">nginx-7df9756ccc-m9gsj   1/1     Running             0          21s</span><br><span class="line">nginx-7df9756ccc-cpgrv   1/1     Running             0          47s</span><br><span class="line">nginx-7df9756ccc-sl9c6   1/1     Running             0          33s</span><br><span class="line">nginx-7df9756ccc-g56qb   1/1     Running             0          48s</span><br><span class="line">nginx-7df9756ccc-fgst7   1/1     Running             0          66s</span><br><span class="line">nginx-7df9756ccc-fgst7   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-8zhwk   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-cpgrv   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-g56qb   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-rr9bn   1/1     Terminating         0          7m5s</span><br><span class="line">nginx-7df9756ccc-m9gsj   1/1     Terminating         0          6m50s</span><br><span class="line">nginx-7df9756ccc-sl9c6   1/1     Terminating         0          6m50s</span><br></pre></td></tr></table></figure><h2 id="6-5-DaemonSet-DS"><a href="#6-5-DaemonSet-DS" class="headerlink" title="6.5 DaemonSet(DS)"></a>6.5 DaemonSet(DS)</h2><p>DaemonSet类型的控制器可以保证在集群中的每一台（或指定）节点上都运行一个副本。一般适用于日志收集、节点监控等场景。也就是说，如果一个Pod提供的功能是节点级别的（每个节点都需要且只需要一个），那么这类Pod就适合使用DaemonSet类型的控制器创建。</p><p><img src="https://s2.loli.net/2022/12/29/l9M2n6WUzHfaJYL.png" alt="img"></p><p>DaemonSet控制器的特点：</p><ul><li>每当向集群中添加一个节点时，指定的 Pod 副本也将添加到该节点上</li><li>当节点从集群中移除时，Pod 也就被垃圾回收了</li></ul><p>下面先来看下DaemonSet的资源清单文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">daemonset</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">revisionHistoryLimit:</span> <span class="number">3</span> <span class="comment"># 保留历史版本</span></span><br><span class="line">  <span class="attr">updateStrategy:</span> <span class="comment"># 更新策略</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span> <span class="comment"># 滚动更新策略</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span> <span class="comment"># 滚动更新</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">1</span> <span class="comment"># 最大不可用状态的 Pod 的最大值，可以为百分比，也可以为整数</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">nginx-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>创建pc-daemonset.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-daemonset</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建daemonset</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f  pc-daemonset.yaml</span><br><span class="line">daemonset.apps/pc-daemonset created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看daemonset</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get ds -n dev -o wide</span><br><span class="line">NAME        DESIRED  CURRENT  READY  UP-TO-DATE  AVAILABLE   AGE   CONTAINERS   IMAGES         </span><br><span class="line">pc-daemonset   2        2        2      2           2        24s   nginx        nginx:1.17.1   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod,发现在每个Node上都运行一个pod</span></span><br><span class="line">[root@k8s-master01 ~]#  kubectl get pods -n dev -o wide</span><br><span class="line">NAME                 READY   STATUS    RESTARTS   AGE   IP            NODE    </span><br><span class="line">pc-daemonset-9bck8   1/1     Running   0          37s   10.244.1.43   node1     </span><br><span class="line">pc-daemonset-k224w   1/1     Running   0          37s   10.244.2.74   node2      </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除daemonset</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-daemonset.yaml</span><br><span class="line">daemonset.apps &quot;pc-daemonset&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-6-Job"><a href="#6-6-Job" class="headerlink" title="6.6 Job"></a>6.6 Job</h2><p>Job，主要用于负责**批量处理(一次要处理指定数量任务)<strong>短暂的</strong>一次性(每个任务仅运行一次就结束)**任务。Job特点如下：</p><ul><li>当Job创建的pod执行成功结束时，Job将记录成功结束的pod数量</li><li>当成功结束的pod达到指定的数量时，Job将完成执行</li></ul><p><img src="https://s2.loli.net/2022/12/29/ajShvWDKqzCLwiQ.png" alt="img"></p><p>Job的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Job</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">job</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">completions:</span> <span class="number">1</span> <span class="comment"># 指定job需要成功运行Pods的次数。默认值: 1</span></span><br><span class="line">  <span class="attr">parallelism:</span> <span class="number">1</span> <span class="comment"># 指定job在任一时刻应该并发运行Pods的数量。默认值: 1</span></span><br><span class="line">  <span class="attr">activeDeadlineSeconds:</span> <span class="number">30</span> <span class="comment"># 指定job可运行的时间期限，超过时间还未结束，系统将会尝试进行终止。</span></span><br><span class="line">  <span class="attr">backoffLimit:</span> <span class="number">6</span> <span class="comment"># 指定job失败后进行重试的次数。默认是6</span></span><br><span class="line">  <span class="attr">manualSelector:</span> <span class="literal">true</span> <span class="comment"># 是否可以使用selector选择器选择pod，默认是false</span></span><br><span class="line">  <span class="attr">selector:</span> <span class="comment"># 选择器，通过它指定该控制器管理哪些pod</span></span><br><span class="line">    <span class="attr">matchLabels:</span>      <span class="comment"># Labels匹配规则</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">matchExpressions:</span> <span class="comment"># Expressions匹配规则</span></span><br><span class="line">      <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">counter-pod</span>]&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="comment"># 模板，当副本数量不足时，会根据下面的模板创建pod副本</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">restartPolicy:</span> <span class="string">Never</span> <span class="comment"># 重启策略只能设置为Never或者OnFailure</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 2;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">关于重启策略设置的说明：</span><br><span class="line">    如果指定为OnFailure，则job会在pod出现故障时重启容器，而不是创建pod，failed次数不变</span><br><span class="line">    如果指定为Never，则job会在pod出现故障时创建新的pod，并且故障pod不会消失，也不会重启，failed次数加1</span><br><span class="line">    如果指定为Always的话，就意味着一直重启，意味着job任务会重复去执行了，当然不对，所以不能设置为Always</span><br></pre></td></tr></table></figure><p>创建pc-job.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Job</span>      </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-job</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">manualSelector:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">restartPolicy:</span> <span class="string">Never</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 3;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-job.yaml</span><br><span class="line">job.batch/pc-job created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get job -n dev -o wide  -w</span><br><span class="line">NAME     COMPLETIONS   DURATION   AGE   CONTAINERS   IMAGES         SELECTOR</span><br><span class="line">pc-job   0/1           21s        21s   counter      busybox:1.30   app=counter-pod</span><br><span class="line">pc-job   1/1           31s        79s   counter      busybox:1.30   app=counter-pod</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">通过观察pod状态可以看到，pod在运行完毕任务后，就会变成Completed状态</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME           READY   STATUS     RESTARTS      AGE</span><br><span class="line">pc-job-rxg96   1/1     Running     0            29s</span><br><span class="line">pc-job-rxg96   0/1     Completed   0            33s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，调整下pod运行的总数量和并行数量 即：在spec下设置下面两个选项</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> completions: 6 <span class="comment"># 指定job需要成功运行Pods的次数为6</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> parallelism: 3 <span class="comment"># 指定job并发运行Pods的数量为3</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 然后重新运行job，观察效果，此时会发现，job会每次运行3个pod，总共执行了6个pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -w</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE</span><br><span class="line">pc-job-684ft   1/1     Running   0          5s</span><br><span class="line">pc-job-jhj49   1/1     Running   0          5s</span><br><span class="line">pc-job-pfcvh   1/1     Running   0          5s</span><br><span class="line">pc-job-684ft   0/1     Completed   0          11s</span><br><span class="line">pc-job-v7rhr   0/1     Pending     0          0s</span><br><span class="line">pc-job-v7rhr   0/1     Pending     0          0s</span><br><span class="line">pc-job-v7rhr   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-jhj49   0/1     Completed           0          11s</span><br><span class="line">pc-job-fhwf7   0/1     Pending             0          0s</span><br><span class="line">pc-job-fhwf7   0/1     Pending             0          0s</span><br><span class="line">pc-job-pfcvh   0/1     Completed           0          11s</span><br><span class="line">pc-job-5vg2j   0/1     Pending             0          0s</span><br><span class="line">pc-job-fhwf7   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-5vg2j   0/1     Pending             0          0s</span><br><span class="line">pc-job-5vg2j   0/1     ContainerCreating   0          0s</span><br><span class="line">pc-job-fhwf7   1/1     Running             0          2s</span><br><span class="line">pc-job-v7rhr   1/1     Running             0          2s</span><br><span class="line">pc-job-5vg2j   1/1     Running             0          3s</span><br><span class="line">pc-job-fhwf7   0/1     Completed           0          12s</span><br><span class="line">pc-job-v7rhr   0/1     Completed           0          12s</span><br><span class="line">pc-job-5vg2j   0/1     Completed           0          12s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pc-job.yaml</span><br><span class="line">job.batch &quot;pc-job&quot; deleted</span><br></pre></td></tr></table></figure><h2 id="6-7-CronJob-CJ"><a href="#6-7-CronJob-CJ" class="headerlink" title="6.7 CronJob(CJ)"></a>6.7 CronJob(CJ)</h2><p>CronJob控制器以Job控制器资源为其管控对象，并借助它管理pod资源对象，Job控制器定义的作业任务在其控制器资源创建之后便会立即执行，但CronJob可以以类似于Linux操作系统的周期性任务作业计划的方式控制其运行<strong>时间点</strong>及<strong>重复运行</strong>的方式。也就是说，<strong>CronJob可以在特定的时间点(反复的)去运行job任务</strong>。</p><p><img src="https://s2.loli.net/2022/12/29/kX3hms72VrgwNST.png" alt="img"></p><p>CronJob的资源清单文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1beta1</span> <span class="comment"># 版本号</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CronJob</span> <span class="comment"># 类型       </span></span><br><span class="line"><span class="attr">metadata:</span> <span class="comment"># 元数据</span></span><br><span class="line">  <span class="attr">name:</span> <span class="comment"># rs名称 </span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="comment"># 所属命名空间 </span></span><br><span class="line">  <span class="attr">labels:</span> <span class="comment">#标签</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">cronjob</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment"># 详情描述</span></span><br><span class="line">  <span class="attr">schedule:</span> <span class="comment"># cron格式的作业调度运行时间点,用于控制任务在什么时间执行</span></span><br><span class="line">  <span class="attr">concurrencyPolicy:</span> <span class="comment"># 并发执行策略，用于定义前一次作业运行尚未完成时是否以及如何运行后一次的作业</span></span><br><span class="line">  <span class="attr">failedJobHistoryLimit:</span> <span class="comment"># 为失败的任务执行保留的历史记录数，默认为1</span></span><br><span class="line">  <span class="attr">successfulJobHistoryLimit:</span> <span class="comment"># 为成功的任务执行保留的历史记录数，默认为3</span></span><br><span class="line">  <span class="attr">startingDeadlineSeconds:</span> <span class="comment"># 启动作业错误的超时时长</span></span><br><span class="line">  <span class="attr">jobTemplate:</span> <span class="comment"># job控制器模板，用于为cronjob控制器生成job对象;下面其实就是job的定义</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">completions:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">parallelism:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">activeDeadlineSeconds:</span> <span class="number">30</span></span><br><span class="line">      <span class="attr">backoffLimit:</span> <span class="number">6</span></span><br><span class="line">      <span class="attr">manualSelector:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">selector:</span></span><br><span class="line">        <span class="attr">matchLabels:</span></span><br><span class="line">          <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">        <span class="attr">matchExpressions:</span> <span class="string">规则</span></span><br><span class="line">          <span class="bullet">-</span> &#123;<span class="attr">key:</span> <span class="string">app</span>, <span class="attr">operator:</span> <span class="string">In</span>, <span class="attr">values:</span> [<span class="string">counter-pod</span>]&#125;</span><br><span class="line">      <span class="attr">template:</span></span><br><span class="line">        <span class="attr">metadata:</span></span><br><span class="line">          <span class="attr">labels:</span></span><br><span class="line">            <span class="attr">app:</span> <span class="string">counter-pod</span></span><br><span class="line">        <span class="attr">spec:</span></span><br><span class="line">          <span class="attr">restartPolicy:</span> <span class="string">Never</span> </span><br><span class="line">          <span class="attr">containers:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">            <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">            <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 20;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">需要重点解释的几个选项：</span></span><br><span class="line"><span class="attr">schedule:</span> <span class="string">cron表达式，用于指定任务的执行时间</span></span><br><span class="line">    <span class="string">*/1</span>    <span class="string">*</span>      <span class="string">*</span>    <span class="string">*</span>     <span class="string">*</span></span><br><span class="line">    <span class="string">&lt;分钟&gt;</span> <span class="string">&lt;小时&gt;</span> <span class="string">&lt;日&gt;</span> <span class="string">&lt;月份&gt;</span> <span class="string">&lt;星期&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">分钟</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">59</span><span class="string">.</span></span><br><span class="line">    <span class="string">小时</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">23</span><span class="string">.</span></span><br><span class="line">    <span class="string">日</span> <span class="string">值从</span> <span class="number">1</span> <span class="string">到</span> <span class="number">31</span><span class="string">.</span></span><br><span class="line">    <span class="string">月</span> <span class="string">值从</span> <span class="number">1</span> <span class="string">到</span> <span class="number">12</span><span class="string">.</span></span><br><span class="line">    <span class="string">星期</span> <span class="string">值从</span> <span class="number">0</span> <span class="string">到</span> <span class="number">6</span><span class="string">,</span> <span class="number">0</span> <span class="string">代表星期日</span></span><br><span class="line">    <span class="string">多个时间可以用逗号隔开；</span> <span class="string">范围可以用连字符给出；*可以作为通配符；</span> <span class="string">/表示每...</span></span><br><span class="line"><span class="attr">concurrencyPolicy:</span></span><br><span class="line">    <span class="attr">Allow:</span>   <span class="string">允许Jobs并发运行(默认)</span></span><br><span class="line">    <span class="attr">Forbid:</span>  <span class="string">禁止并发运行，如果上一次运行尚未完成，则跳过下一次运行</span></span><br><span class="line">    <span class="attr">Replace:</span> <span class="string">替换，取消当前正在运行的作业并用新作业替换它</span></span><br></pre></td></tr></table></figure><p>创建pc-cronjob.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">batch/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CronJob</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pc-cronjob</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">controller:</span> <span class="string">cronjob</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">schedule:</span> <span class="string">&quot;*/1 * * * *&quot;</span></span><br><span class="line">  <span class="attr">jobTemplate:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">template:</span></span><br><span class="line">        <span class="attr">spec:</span></span><br><span class="line">          <span class="attr">restartPolicy:</span> <span class="string">Never</span></span><br><span class="line">          <span class="attr">containers:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">counter</span></span><br><span class="line">            <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">            <span class="attr">command:</span> [<span class="string">&quot;bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;for i in 9 8 7 6 5 4 3 2 1; do echo $i;sleep 3;done&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pc-cronjob.yaml</span><br><span class="line">cronjob.batch/pc-cronjob created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get cronjobs -n dev</span><br><span class="line">NAME         SCHEDULE      SUSPEND   ACTIVE   LAST SCHEDULE   AGE</span><br><span class="line">pc-cronjob   */1 * * * *   False     0        &lt;none&gt;          6s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看job</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get jobs -n dev</span><br><span class="line">NAME                    COMPLETIONS   DURATION   AGE</span><br><span class="line">pc-cronjob-1592587800   1/1           28s        3m26s</span><br><span class="line">pc-cronjob-1592587860   1/1           28s        2m26s</span><br><span class="line">pc-cronjob-1592587920   1/1           28s        86s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev</span><br><span class="line">pc-cronjob-1592587800-x4tsm   0/1     Completed   0          2m24s</span><br><span class="line">pc-cronjob-1592587860-r5gv4   0/1     Completed   0          84s</span><br><span class="line">pc-cronjob-1592587920-9dxxq   1/1     Running     0          24s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除cronjob</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  delete -f pc-cronjob.yaml</span><br><span class="line">cronjob.batch &quot;pc-cronjob&quot; deleted</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.pod介绍</title>
      <link href="/posts/db06385.html"/>
      <url>/posts/db06385.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="5-Pod详解"><a href="#5-Pod详解" class="headerlink" title="5. Pod详解"></a>5. Pod详解</h1><h2 id="5-1-Pod介绍"><a href="#5-1-Pod介绍" class="headerlink" title="5.1 Pod介绍"></a>5.1 Pod介绍</h2><h3 id="5-1-1-Pod结构"><a href="#5-1-1-Pod结构" class="headerlink" title="5.1.1 Pod结构"></a>5.1.1 Pod结构</h3><p><img src="https://s2.loli.net/2022/12/29/ebiY6jCs7yO3ao9.png" alt="image-20200407121501907"></p><p>每个Pod中都可以包含一个或者多个容器，这些容器可以分为两类：</p><ul><li><p>用户程序所在的容器，数量可多可少</p></li><li><p>Pause容器，这是每个Pod都会有的一个<strong>根容器</strong>，它的作用有两个：</p><ul><li><p>可以以它为依据，评估整个Pod的健康状态</p></li><li><p>可以在根容器上设置Ip地址，其它容器都此Ip（Pod IP），以实现Pod内部的网路通信</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里是Pod内部的通讯，Pod的之间的通讯采用虚拟二层网络技术来实现，我们当前环境用的是Flannel</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="5-1-2-Pod定义"><a href="#5-1-2-Pod定义" class="headerlink" title="5.1.2 Pod定义"></a>5.1.2 Pod定义</h3><p>下面是Pod的资源清单：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1     #必选，版本号，例如v1</span><br><span class="line">kind: Pod       　 #必选，资源类型，例如 Pod</span><br><span class="line">metadata:       　 #必选，元数据</span><br><span class="line">  name: string     #必选，Pod名称</span><br><span class="line">  namespace: string  #Pod所属的命名空间,默认为&quot;default&quot;</span><br><span class="line">  labels:       　　  #自定义标签列表</span><br><span class="line">    - name: string      　          </span><br><span class="line">spec:  #必选，Pod中容器的详细定义</span><br><span class="line">  containers:  #必选，Pod中容器列表</span><br><span class="line">  - name: string   #必选，容器名称</span><br><span class="line">    image: string  #必选，容器的镜像名称</span><br><span class="line">    imagePullPolicy: [ Always|Never|IfNotPresent ]  #获取镜像的策略 </span><br><span class="line">    command: [string]   #容器的启动命令列表，如不指定，使用打包时使用的启动命令</span><br><span class="line">    args: [string]      #容器的启动命令参数列表</span><br><span class="line">    workingDir: string  #容器的工作目录</span><br><span class="line">    volumeMounts:       #挂载到容器内部的存储卷配置</span><br><span class="line">    - name: string      #引用pod定义的共享存储卷的名称，需用volumes[]部分定义的的卷名</span><br><span class="line">      mountPath: string #存储卷在容器内mount的绝对路径，应少于512字符</span><br><span class="line">      readOnly: boolean #是否为只读模式</span><br><span class="line">    ports: #需要暴露的端口库号列表</span><br><span class="line">    - name: string        #端口的名称</span><br><span class="line">      containerPort: int  #容器需要监听的端口号</span><br><span class="line">      hostPort: int       #容器所在主机需要监听的端口号，默认与Container相同</span><br><span class="line">      protocol: string    #端口协议，支持TCP和UDP，默认TCP</span><br><span class="line">    env:   #容器运行前需设置的环境变量列表</span><br><span class="line">    - name: string  #环境变量名称</span><br><span class="line">      value: string #环境变量的值</span><br><span class="line">    resources: #资源限制和请求的设置</span><br><span class="line">      limits:  #资源限制的设置</span><br><span class="line">        cpu: string     #Cpu的限制，单位为core数，将用于docker run --cpu-shares参数</span><br><span class="line">        memory: string  #内存限制，单位可以为Mib/Gib，将用于docker run --memory参数</span><br><span class="line">      requests: #资源请求的设置</span><br><span class="line">        cpu: string    #Cpu请求，容器启动的初始可用数量</span><br><span class="line">        memory: string #内存请求,容器启动的初始可用数量</span><br><span class="line">    lifecycle: #生命周期钩子</span><br><span class="line">        postStart: #容器启动后立即执行此钩子,如果执行失败,会根据重启策略进行重启</span><br><span class="line">        preStop: #容器终止前执行此钩子,无论结果如何,容器都会终止</span><br><span class="line">    livenessProbe:  #对Pod内各容器健康检查的设置，当探测无响应几次后将自动重启该容器</span><br><span class="line">      exec:       　 #对Pod容器内检查方式设置为exec方式</span><br><span class="line">        command: [string]  #exec方式需要制定的命令或脚本</span><br><span class="line">      httpGet:       #对Pod内个容器健康检查方法设置为HttpGet，需要制定Path、port</span><br><span class="line">        path: string</span><br><span class="line">        port: number</span><br><span class="line">        host: string</span><br><span class="line">        scheme: string</span><br><span class="line">        HttpHeaders:</span><br><span class="line">        - name: string</span><br><span class="line">          value: string</span><br><span class="line">      tcpSocket:     #对Pod内个容器健康检查方式设置为tcpSocket方式</span><br><span class="line">         port: number</span><br><span class="line">       initialDelaySeconds: 0       #容器启动完成后首次探测的时间，单位为秒</span><br><span class="line">       timeoutSeconds: 0    　　    #对容器健康检查探测等待响应的超时时间，单位秒，默认1秒</span><br><span class="line">       periodSeconds: 0     　　    #对容器监控检查的定期探测时间设置，单位秒，默认10秒一次</span><br><span class="line">       successThreshold: 0</span><br><span class="line">       failureThreshold: 0</span><br><span class="line">       securityContext:</span><br><span class="line">         privileged: false</span><br><span class="line">  restartPolicy: [Always | Never | OnFailure]  #Pod的重启策略</span><br><span class="line">  nodeName: &lt;string&gt; #设置NodeName表示将该Pod调度到指定到名称的node节点上</span><br><span class="line">  nodeSelector: obeject #设置NodeSelector表示将该Pod调度到包含这个label的node上</span><br><span class="line">  imagePullSecrets: #Pull镜像时使用的secret名称，以key：secretkey格式指定</span><br><span class="line">  - name: string</span><br><span class="line">  hostNetwork: false   #是否使用主机网络模式，默认为false，如果设置为true，表示使用宿主机网络</span><br><span class="line">  volumes:   #在该pod上定义共享存储卷列表</span><br><span class="line">  - name: string    #共享存储卷名称 （volumes类型有很多种）</span><br><span class="line">    emptyDir: &#123;&#125;       #类型为emtyDir的存储卷，与Pod同生命周期的一个临时目录。为空值</span><br><span class="line">    hostPath: string   #类型为hostPath的存储卷，表示挂载Pod所在宿主机的目录</span><br><span class="line">      path: string      　　        #Pod所在宿主机的目录，将被用于同期中mount的目录</span><br><span class="line">    secret:       　　　#类型为secret的存储卷，挂载集群与定义的secret对象到容器内部</span><br><span class="line">      scretname: string  </span><br><span class="line">      items:     </span><br><span class="line">      - key: string</span><br><span class="line">        path: string</span><br><span class="line">    configMap:         #类型为configMap的存储卷，挂载预定义的configMap对象到容器内部</span><br><span class="line">      name: string</span><br><span class="line">      items:</span><br><span class="line">      - key: string</span><br><span class="line">        path: string</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">小提示：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  在这里，可通过一个命令来查看每种资源的可配置项</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  kubectl explain 资源类型         查看某种资源可以配置的一级属性</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  kubectl explain 资源类型.属性     查看属性的子属性</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl explain pod</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">FIELDS:</span><br><span class="line">   apiVersion   &lt;string&gt;</span><br><span class="line">   kind &lt;string&gt;</span><br><span class="line">   metadata     &lt;Object&gt;</span><br><span class="line">   spec &lt;Object&gt;</span><br><span class="line">   status       &lt;Object&gt;</span><br><span class="line"></span><br><span class="line">[root@k8s-master01 ~]# kubectl explain pod.metadata</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: metadata &lt;Object&gt;</span><br><span class="line">FIELDS:</span><br><span class="line">   annotations  &lt;map[string]string&gt;</span><br><span class="line">   clusterName  &lt;string&gt;</span><br><span class="line">   creationTimestamp    &lt;string&gt;</span><br><span class="line">   deletionGracePeriodSeconds   &lt;integer&gt;</span><br><span class="line">   deletionTimestamp    &lt;string&gt;</span><br><span class="line">   finalizers   &lt;[]string&gt;</span><br><span class="line">   generateName &lt;string&gt;</span><br><span class="line">   generation   &lt;integer&gt;</span><br><span class="line">   labels       &lt;map[string]string&gt;</span><br><span class="line">   managedFields        &lt;[]Object&gt;</span><br><span class="line">   name &lt;string&gt;</span><br><span class="line">   namespace    &lt;string&gt;</span><br><span class="line">   ownerReferences      &lt;[]Object&gt;</span><br><span class="line">   resourceVersion      &lt;string&gt;</span><br><span class="line">   selfLink     &lt;string&gt;</span><br><span class="line">   uid  &lt;string&gt;</span><br></pre></td></tr></table></figure><p>在kubernetes中基本所有资源的一级属性都是一样的，主要包含5部分：</p><ul><li>apiVersion <string> 版本，由kubernetes内部定义，版本号必须可以用 kubectl api-versions 查询到</li><li>kind <string> 类型，由kubernetes内部定义，版本号必须可以用 kubectl api-resources 查询到</li><li>metadata <Object> 元数据，主要是资源标识和说明，常用的有name、namespace、labels等</li><li>spec <Object> 描述，这是配置中最重要的一部分，里面是对各种资源配置的详细描述</li><li>status <Object> 状态信息，里面的内容不需要定义，由kubernetes自动生成</li></ul><p>在上面的属性中，spec是接下来研究的重点，继续看下它的常见子属性:</p><ul><li>containers &lt;[]Object&gt; 容器列表，用于定义容器的详细信息</li><li>nodeName <String> 根据nodeName的值将pod调度到指定的Node节点上</li><li>nodeSelector &lt;map[]&gt; 根据NodeSelector中定义的信息选择将该Pod调度到包含这些label的Node 上</li><li>hostNetwork <boolean> 是否使用主机网络模式，默认为false，如果设置为true，表示使用宿主机网络</li><li>volumes &lt;[]Object&gt; 存储卷，用于定义Pod上面挂在的存储信息</li><li>restartPolicy <string> 重启策略，表示Pod在遇到故障的时候的处理策略</li></ul><h2 id="5-2-Pod配置"><a href="#5-2-Pod配置" class="headerlink" title="5.2 Pod配置"></a>5.2 Pod配置</h2><p>本小节主要来研究<code>pod.spec.containers</code>属性，这也是pod配置中最为关键的一项配置。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: containers &lt;[]Object&gt;   # 数组，代表可以有多个容器</span><br><span class="line">FIELDS:</span><br><span class="line">   name  &lt;string&gt;     # 容器名称</span><br><span class="line">   image &lt;string&gt;     # 容器需要的镜像地址</span><br><span class="line">   imagePullPolicy  &lt;string&gt; # 镜像拉取策略 </span><br><span class="line">   command  &lt;[]string&gt; # 容器的启动命令列表，如不指定，使用打包时使用的启动命令</span><br><span class="line">   args     &lt;[]string&gt; # 容器的启动命令需要的参数列表</span><br><span class="line">   env      &lt;[]Object&gt; # 容器环境变量的配置</span><br><span class="line">   ports    &lt;[]Object&gt;     # 容器需要暴露的端口号列表</span><br><span class="line">   resources &lt;Object&gt;      # 资源限制和资源请求的设置</span><br></pre></td></tr></table></figure><h3 id="5-2-1-基本配置"><a href="#5-2-1-基本配置" class="headerlink" title="5.2.1 基本配置"></a>5.2.1 基本配置</h3><p>创建pod-base.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-base</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">heima</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/6cHF9fioMGrEQtI.png" alt="image-20210617223823675"></p><p>上面定义了一个比较简单Pod的配置，里面有两个容器：</p><ul><li>nginx：用1.17.1版本的nginx镜像创建，（nginx是一个轻量级web容器）</li><li>busybox：用1.30版本的busybox镜像创建，（busybox是一个小巧的linux命令集合）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl apply -f pod-base.yaml</span><br><span class="line">pod/pod-base created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状况</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">READY 1/2 : 表示当前Pod中有2个容器，其中1个准备就绪，1个未就绪</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">RESTARTS  : 重启次数，因为有1个容器故障了，Pod一直在重启试图恢复它</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl get pod -n dev</span><br><span class="line">NAME       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-base   1/2     Running   4          95s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以通过describe查看内部的详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时已经运行起来了一个基本的Pod，虽然它暂时有问题</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl describe pod pod-base -n dev</span><br></pre></td></tr></table></figure><h3 id="5-2-2-镜像拉取"><a href="#5-2-2-镜像拉取" class="headerlink" title="5.2.2 镜像拉取"></a>5.2.2 镜像拉取</h3><p>创建pod-imagepullpolicy.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-imagepullpolicy</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">Never</span> <span class="comment"># 用于设置镜像拉取策略</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/SK1bx2JanNtHLzD.png" alt="image-20210617223923659"></p><p>imagePullPolicy，用于设置镜像拉取策略，kubernetes支持配置三种拉取策略：</p><ul><li>Always：总是从远程仓库拉取镜像（一直远程下载）</li><li>IfNotPresent：本地有则使用本地镜像，本地没有则从远程仓库拉取镜像（本地有就本地 本地没远程下载）</li><li>Never：只使用本地镜像，从不去远程仓库拉取，本地没有就报错 （一直使用本地）</li></ul><blockquote><p>默认值说明：</p><p>如果镜像tag为具体版本号， 默认策略是：IfNotPresent</p><p>如果镜像tag为：latest（最终版本） ，默认策略是always</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl create -f pod-imagepullpolicy.yaml</span><br><span class="line">pod/pod-imagepullpolicy created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时明显可以看到nginx镜像有一步Pulling image <span class="string">&quot;nginx:1.17.1&quot;</span>的过程</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl describe pod pod-imagepullpolicy -n dev</span><br><span class="line">......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason     Age               From               Message</span><br><span class="line">  ----     ------     ----              ----               -------</span><br><span class="line">  Normal   Scheduled  &lt;unknown&gt;         default-scheduler  Successfully assigned dev/pod-imagePullPolicy to node1</span><br><span class="line">  Normal   Pulling    32s               kubelet, node1     Pulling image &quot;nginx:1.17.1&quot;</span><br><span class="line">  Normal   Pulled     26s               kubelet, node1     Successfully pulled image &quot;nginx:1.17.1&quot;</span><br><span class="line">  Normal   Created    26s               kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    25s               kubelet, node1     Started container nginx</span><br><span class="line">  Normal   Pulled     7s (x3 over 25s)  kubelet, node1     Container image &quot;busybox:1.30&quot; already present on machine</span><br><span class="line">  Normal   Created    7s (x3 over 25s)  kubelet, node1     Created container busybox</span><br><span class="line">  Normal   Started    7s (x3 over 25s)  kubelet, node1     Started container busybox</span><br></pre></td></tr></table></figure><h3 id="5-2-3-启动命令"><a href="#5-2-3-启动命令" class="headerlink" title="5.2.3 启动命令"></a>5.2.3 启动命令</h3><p>在前面的案例中，一直有一个问题没有解决，就是的busybox容器一直没有成功运行，那么到底是什么原因导致这个容器的故障呢？</p><p>原来busybox并不是一个程序，而是类似于一个工具类的集合，kubernetes集群启动管理后，它会自动关闭。解决方法就是让其一直在运行，这就用到了command配置。</p><p>创建pod-command.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-command</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;touch /tmp/hello.txt;while true;do /bin/echo $(date +%T) &gt;&gt; /tmp/hello.txt; sleep 3; done;&quot;</span>]</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/wdPGTtbLSfY7H8a.png" alt="image-20210617224457945"></p><p>command，用于在pod中的容器初始化完毕之后运行一个命令。</p><blockquote><p>稍微解释下上面命令的意思：</p><p>“&#x2F;bin&#x2F;sh”,”-c”, 使用sh执行命令</p><p>touch &#x2F;tmp&#x2F;hello.txt; 创建一个&#x2F;tmp&#x2F;hello.txt 文件</p><p>while true;do &#x2F;bin&#x2F;echo $(date +%T) &gt;&gt; &#x2F;tmp&#x2F;hello.txt; sleep 3; done; 每隔3秒向文件中写入当前时间</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl create  -f pod-command.yaml</span><br><span class="line">pod/pod-command created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状态</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时发现两个pod都正常运行了</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl get pods pod-command -n dev</span><br><span class="line">NAME          READY   STATUS   RESTARTS   AGE</span><br><span class="line">pod-command   2/2     Runing   0          2s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入pod中的busybox容器，查看文件内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">补充一个命令: kubectl <span class="built_in">exec</span>  pod名称 -n 命名空间 -it -c 容器名称 /bin/sh  在容器内部执行命令</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用这个命令就可以进入某个容器的内部，然后进行相关操作了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">比如，可以查看txt文件的内容</span></span><br><span class="line">[root@k8s-master01 pod]# kubectl exec pod-command -n dev -it -c busybox /bin/sh</span><br><span class="line">/ # tail -f /tmp/hello.txt</span><br><span class="line">14:44:19</span><br><span class="line">14:44:22</span><br><span class="line">14:44:25</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">特别说明：</span><br><span class="line">    通过上面发现command已经可以完成启动命令和传递参数的功能，为什么这里还要提供一个args选项，用于传递参数呢?这其实跟docker有点关系，kubernetes中的command、args两项其实是实现覆盖Dockerfile中ENTRYPOINT的功能。</span><br><span class="line"> 1 如果command和args均没有写，那么用Dockerfile的配置。</span><br><span class="line"> 2 如果command写了，但args没有写，那么Dockerfile默认的配置会被忽略，执行输入的command</span><br><span class="line"> 3 如果command没写，但args写了，那么Dockerfile中配置的ENTRYPOINT的命令会被执行，使用当前args的参数</span><br><span class="line"> 4 如果command和args都写了，那么Dockerfile的配置被忽略，执行command并追加上args参数</span><br></pre></td></tr></table></figure><h3 id="5-2-4-环境变量"><a href="#5-2-4-环境变量" class="headerlink" title="5.2.4 环境变量"></a>5.2.4 环境变量</h3><p>创建pod-env.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-env</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">busybox</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>,<span class="string">&quot;-c&quot;</span>,<span class="string">&quot;while true;do /bin/echo $(date +%T);sleep 60; done;&quot;</span>]</span><br><span class="line">    <span class="attr">env:</span> <span class="comment"># 设置环境变量列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;username&quot;</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;admin&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&quot;password&quot;</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">&quot;123456&quot;</span></span><br></pre></td></tr></table></figure><p>env，环境变量，用于在pod中的容器设置环境变量。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-env.yaml</span><br><span class="line">pod/pod-env created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器，输出环境变量</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl exec pod-env -n dev -c busybox -it /bin/sh</span><br><span class="line">/ # echo $username</span><br><span class="line">admin</span><br><span class="line">/ # echo $password</span><br><span class="line">123456</span><br></pre></td></tr></table></figure><p>这种方式不是很推荐，推荐将这些配置单独存储在配置文件中，这种方式将在后面介绍。</p><h3 id="5-2-5-端口设置"><a href="#5-2-5-端口设置" class="headerlink" title="5.2.5 端口设置"></a>5.2.5 端口设置</h3><p>本小节来介绍容器的端口设置，也就是containers的ports选项。</p><p>首先看下ports支持的子选项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers.ports</span><br><span class="line">KIND:     Pod</span><br><span class="line">VERSION:  v1</span><br><span class="line">RESOURCE: ports &lt;[]Object&gt;</span><br><span class="line">FIELDS:</span><br><span class="line">   name         &lt;string&gt;  # 端口名称，如果指定，必须保证name在pod中是唯一的</span><br><span class="line">   containerPort&lt;integer&gt; # 容器要监听的端口(0&lt;x&lt;65536)</span><br><span class="line">   hostPort     &lt;integer&gt; # 容器要在主机上公开的端口，如果设置，主机上只能运行容器的一个副本(一般省略) </span><br><span class="line">   hostIP       &lt;string&gt;  # 要将外部端口绑定到的主机IP(一般省略)</span><br><span class="line">   protocol     &lt;string&gt;  # 端口协议。必须是UDP、TCP或SCTP。默认为“TCP”。</span><br></pre></td></tr></table></figure><p>接下来，编写一个测试案例，创建pod-ports.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-ports</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> <span class="comment"># 设置容器暴露的端口列表</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-ports.yaml</span><br><span class="line">pod/pod-ports created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在下面可以明显看到配置信息</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-ports -n dev -o yaml</span><br><span class="line">......</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - image: nginx:1.17.1</span><br><span class="line">    imagePullPolicy: IfNotPresent</span><br><span class="line">    name: nginx</span><br><span class="line">    ports:</span><br><span class="line">    - containerPort: 80</span><br><span class="line">      name: nginx-port</span><br><span class="line">      protocol: TCP</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>访问容器中的程序需要使用的是<code>Podip:containerPort</code></p><h3 id="5-2-6-资源配额"><a href="#5-2-6-资源配额" class="headerlink" title="5.2.6 资源配额"></a>5.2.6 资源配额</h3><p>容器中的程序要运行，肯定是要占用一定资源的，比如cpu和内存等，如果不对某个容器的资源做限制，那么它就可能吃掉大量资源，导致其它容器无法运行。针对这种情况，kubernetes提供了对内存和cpu的资源进行配额的机制，这种机制主要通过resources选项实现，他有两个子选项：</p><ul><li>limits：用于限制运行时容器的最大占用资源，当容器占用资源超过limits时会被终止，并进行重启</li><li>requests ：用于设置容器需要的最小资源，如果环境资源不够，容器将无法启动</li></ul><p>可以通过上面两个选项设置资源的上下限。</p><p>接下来，编写一个测试案例，创建pod-resources.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-resources</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">resources:</span> <span class="comment"># 资源配额</span></span><br><span class="line">      <span class="attr">limits:</span>  <span class="comment"># 限制资源（上限）</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">&quot;2&quot;</span> <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">&quot;10Gi&quot;</span> <span class="comment"># 内存限制</span></span><br><span class="line">      <span class="attr">requests:</span> <span class="comment"># 请求资源（下限）</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">&quot;1&quot;</span>  <span class="comment"># CPU限制，单位是core数</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">&quot;10Mi&quot;</span>  <span class="comment"># 内存限制</span></span><br></pre></td></tr></table></figure><p>在这对cpu和memory的单位做一个说明：</p><ul><li>cpu：core数，可以为整数或小数</li><li>memory： 内存大小，可以使用Gi、Mi、G、M等形式</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create  -f pod-resources.yaml</span><br><span class="line">pod/pod-resources created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看发现pod运行正常</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-resources -n dev</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE  </span><br><span class="line">pod-resources   1/1     Running   0          39s   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，停止Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete  -f pod-resources.yaml</span><br><span class="line">pod &quot;pod-resources&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑pod，修改resources.requests.memory的值为10Gi</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-resources.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次启动pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create  -f pod-resources.yaml</span><br><span class="line">pod/pod-resources created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod状态，发现Pod启动失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-resources -n dev -o wide</span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE          </span><br><span class="line">pod-resources   0/1     Pending   0          20s    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod详情会发现，如下提示</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-resources -n dev</span><br><span class="line">......</span><br><span class="line">Warning  FailedScheduling  35s   default-scheduler  0/3 nodes are available: 1 node(s) had taint &#123;node-role.kubernetes.io/master: &#125;, that the pod didn&#x27;t tolerate, 2 Insufficient memory.(内存不足)</span><br></pre></td></tr></table></figure><h2 id="5-3-Pod生命周期"><a href="#5-3-Pod生命周期" class="headerlink" title="5.3 Pod生命周期"></a>5.3 Pod生命周期</h2><p>我们一般将pod对象从创建至终的这段时间范围称为pod的生命周期，它主要包含下面的过程：</p><ul><li>pod创建过程</li><li>运行初始化容器（init container）过程</li><li>运行主容器（main container）<ul><li>容器启动后钩子（post start）、容器终止前钩子（pre stop）</li><li>容器的存活性探测（liveness probe）、就绪性探测（readiness probe）</li></ul></li><li>pod终止过程</li></ul><p><img src="https://s2.loli.net/2022/12/29/49ZPKbnD6qLWMy1.png" alt="image-20200412111402706"></p><p>在整个生命周期中，Pod会出现5种<strong>状态</strong>（<strong>相位</strong>），分别如下：</p><ul><li>挂起（Pending）：apiserver已经创建了pod资源对象，但它尚未被调度完成或者仍处于下载镜像的过程中</li><li>运行中（Running）：pod已经被调度至某节点，并且所有容器都已经被kubelet创建完成</li><li>成功（Succeeded）：pod中的所有容器都已经成功终止并且不会被重启</li><li>失败（Failed）：所有容器都已经终止，但至少有一个容器终止失败，即容器返回了非0值的退出状态</li><li>未知（Unknown）：apiserver无法正常获取到pod对象的状态信息，通常由网络通信失败所导致</li></ul><h3 id="5-3-1-创建和终止"><a href="#5-3-1-创建和终止" class="headerlink" title="5.3.1 创建和终止"></a>5.3.1 创建和终止</h3><p><strong>pod的创建过程</strong></p><ol><li><p>用户通过kubectl或其他api客户端提交需要创建的pod信息给apiServer</p></li><li><p>apiServer开始生成pod对象的信息，并将信息存入etcd，然后返回确认信息至客户端</p></li><li><p>apiServer开始反映etcd中的pod对象的变化，其它组件使用watch机制来跟踪检查apiServer上的变动</p></li><li><p>scheduler发现有新的pod对象要创建，开始为Pod分配主机并将结果信息更新至apiServer</p></li><li><p>node节点上的kubelet发现有pod调度过来，尝试调用docker启动容器，并将结果回送至apiServer</p></li><li><p>apiServer将接收到的pod状态信息存入etcd中</p><p> <img src="https://s2.loli.net/2022/12/29/KqaAmPuctikdhES.png" alt="image-20200406184656917"></p></li></ol><p><strong>pod的终止过程</strong></p><ol><li>用户向apiServer发送删除pod对象的命令</li><li>apiServcer中的pod对象信息会随着时间的推移而更新，在宽限期内（默认30s），pod被视为dead</li><li>将pod标记为terminating状态</li><li>kubelet在监控到pod对象转为terminating状态的同时启动pod关闭过程</li><li>端点控制器监控到pod对象的关闭行为时将其从所有匹配到此端点的service资源的端点列表中移除</li><li>如果当前pod对象定义了preStop钩子处理器，则在其标记为terminating后即会以同步的方式启动执行</li><li>pod对象中的容器进程收到停止信号</li><li>宽限期结束后，若pod中还存在仍在运行的进程，那么pod对象会收到立即终止的信号</li><li>kubelet请求apiServer将此pod资源的宽限期设置为0从而完成删除操作，此时pod对于用户已不可见</li></ol><h3 id="5-3-2-初始化容器"><a href="#5-3-2-初始化容器" class="headerlink" title="5.3.2 初始化容器"></a>5.3.2 初始化容器</h3><p>初始化容器是在pod的主容器启动之前要运行的容器，主要是做一些主容器的前置工作，它具有两大特征：</p><ol><li>初始化容器必须运行完成直至结束，若某初始化容器运行失败，那么kubernetes需要重启它直到成功完成</li><li>初始化容器必须按照定义的顺序执行，当且仅当前一个成功之后，后面的一个才能运行</li></ol><p>初始化容器有很多的应用场景，下面列出的是最常见的几个：</p><ul><li>提供主容器镜像中不具备的工具程序或自定义代码</li><li>初始化容器要先于应用容器串行启动并运行完成，因此可用于延后应用容器的启动直至其依赖的条件得到满足</li></ul><p>接下来做一个案例，模拟下面这个需求：</p><p>假设要以主容器来运行nginx，但是要求在运行nginx之前先要能够连接上mysql和redis所在服务器</p><p>为了简化测试，事先规定好mysql<code>(192.168.5.4)</code>和redis<code>(192.168.5.5)</code>服务器的地址</p><p>创建pod-initcontainer.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-initcontainer</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">initContainers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-mysql</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;until ping 192.168.5.14 -c 1 ; do echo waiting for mysql...; sleep 2; done;&#x27;</span>]</span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-redis</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">busybox:1.30</span></span><br><span class="line">    <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;until ping 192.168.5.15 -c 1 ; do echo waiting for reids...; sleep 2; done;&#x27;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-initcontainer.yaml</span><br><span class="line">pod/pod-initcontainer created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现pod卡在启动第一个初始化容器过程中，后面的容器不会运行</span></span><br><span class="line">root@k8s-master01 ~]# kubectl describe pod  pod-initcontainer -n dev</span><br><span class="line">........</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age   From               Message</span><br><span class="line">  ----    ------     ----  ----               -------</span><br><span class="line">  Normal  Scheduled  49s   default-scheduler  Successfully assigned dev/pod-initcontainer to node1</span><br><span class="line">  Normal  Pulled     48s   kubelet, node1     Container image &quot;busybox:1.30&quot; already present on machine</span><br><span class="line">  Normal  Created    48s   kubelet, node1     Created container test-mysql</span><br><span class="line">  Normal  Started    48s   kubelet, node1     Started container test-mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">动态查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-initcontainer -n dev -w</span><br><span class="line">NAME                             READY   STATUS     RESTARTS   AGE</span><br><span class="line">pod-initcontainer                0/1     Init:0/2   0          15s</span><br><span class="line">pod-initcontainer                0/1     Init:1/2   0          52s</span><br><span class="line">pod-initcontainer                0/1     Init:1/2   0          53s</span><br><span class="line">pod-initcontainer                0/1     PodInitializing   0          89s</span><br><span class="line">pod-initcontainer                1/1     Running           0          90s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来新开一个shell，为当前服务器新增两个ip，观察pod的变化</span></span><br><span class="line">[root@k8s-master01 ~]# ifconfig ens33:1 192.168.5.14 netmask 255.255.255.0 up</span><br><span class="line">[root@k8s-master01 ~]# ifconfig ens33:2 192.168.5.15 netmask 255.255.255.0 up</span><br></pre></td></tr></table></figure><h3 id="5-3-3-钩子函数"><a href="#5-3-3-钩子函数" class="headerlink" title="5.3.3 钩子函数"></a>5.3.3 钩子函数</h3><p>钩子函数能够感知自身生命周期中的事件，并在相应的时刻到来时运行用户指定的程序代码。</p><p>kubernetes在主容器的启动之后和停止之前提供了两个钩子函数：</p><ul><li>post start：容器创建之后执行，如果失败了会重启容器</li><li>pre stop ：容器终止之前执行，执行完成之后容器将成功终止，在其完成之前会阻塞删除容器的操作</li></ul><p>钩子处理器支持使用下面三种方式定义动作：</p><ul><li><p>Exec命令：在容器内执行一次命令</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span> </span><br><span class="line">      <span class="attr">exec:</span></span><br><span class="line">        <span class="attr">command:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">/tmp/healthy</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>TCPSocket：在当前容器尝试访问指定的socket</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span>      </span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span></span><br><span class="line">      <span class="attr">tcpSocket:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>HTTPGet：在当前容器中向某url发起http请求</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">postStart:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/</span> <span class="comment">#URI地址</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">        <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.5</span><span class="number">.3</span> <span class="comment">#主机地址</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li></ul><p>接下来，以exec方式为例，演示下钩子函数的使用，创建pod-hook-exec.yaml文件，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-hook-exec</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">main-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="attr">postStart:</span> </span><br><span class="line">        <span class="attr">exec:</span> <span class="comment"># 在容器启动的时候执行一个命令，修改掉nginx的默认首页内容</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo postStart... &gt; /usr/share/nginx/html/index.html&quot;</span>]</span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">        <span class="attr">exec:</span> <span class="comment"># 在容器停止之前停止nginx服务</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;/usr/sbin/nginx&quot;</span>,<span class="string">&quot;-s&quot;</span>,<span class="string">&quot;quit&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-hook-exec.yaml</span><br><span class="line">pod/pod-hook-exec created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods  pod-hook-exec -n dev -o wide</span><br><span class="line">NAME           READY   STATUS     RESTARTS   AGE    IP            NODE    </span><br><span class="line">pod-hook-exec  1/1     Running    0          29s    10.244.2.48   node2   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">访问pod</span></span><br><span class="line">[root@k8s-master01 ~]# curl 10.244.2.48</span><br><span class="line">postStart...</span><br></pre></td></tr></table></figure><h3 id="5-3-4-容器探测"><a href="#5-3-4-容器探测" class="headerlink" title="5.3.4 容器探测"></a>5.3.4 容器探测</h3><p>容器探测用于检测容器中的应用实例是否正常工作，是保障业务可用性的一种传统机制。如果经过探测，实例的状态不符合预期，那么kubernetes就会把该问题实例” 摘除 “，不承担业务流量。kubernetes提供了两种探针来实现容器探测，分别是：</p><ul><li>liveness probes：存活性探针，用于检测应用实例当前是否处于正常运行状态，如果不是，k8s会重启容器</li><li>readiness probes：就绪性探针，用于检测应用实例当前是否可以接收请求，如果不能，k8s不会转发流量</li></ul><blockquote><p>livenessProbe 决定是否重启容器，readinessProbe 决定是否将请求转发给容器。</p></blockquote><p>上面两种探针目前均支持三种探测方式：</p><ul><li><p>Exec命令：在容器内执行一次命令，如果命令执行的退出码为0，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">exec:</span></span><br><span class="line">      <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/tmp/healthy</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>TCPSocket：将会尝试访问一个用户容器的端口，如果能够建立这条连接，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span>      </span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">tcpSocket:</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li><li><p>HTTPGet：调用容器内Web应用的URL，如果返回的状态码在200和399之间，则认为程序正常，否则不正常</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">……</span></span><br><span class="line">  <span class="attr">livenessProbe:</span></span><br><span class="line">    <span class="attr">httpGet:</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/</span> <span class="comment">#URI地址</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">      <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="comment">#主机地址</span></span><br><span class="line">      <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line"><span class="string">……</span></span><br></pre></td></tr></table></figure></li></ul><p>下面以liveness probes为例，做几个演示：</p><p><strong>方式一：Exec</strong></p><p>创建pod-liveness-exec.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-exec</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">exec:</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&quot;/bin/cat&quot;</span>,<span class="string">&quot;/tmp/hello.txt&quot;</span>] <span class="comment"># 执行一个查看文件的命令</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-exec.yaml</span><br><span class="line">pod/pod-liveness-exec created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-liveness-exec -n dev</span><br><span class="line">......</span><br><span class="line">  Normal   Created    20s (x2 over 50s)  kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    20s (x2 over 50s)  kubelet, node1     Started container nginx</span><br><span class="line">  Normal   Killing    20s                kubelet, node1     Container nginx failed liveness probe, will be restarted</span><br><span class="line">  Warning  Unhealthy  0s (x5 over 40s)   kubelet, node1     Liveness probe failed: cat: can&#x27;t open &#x27;/tmp/hello11.txt&#x27;: No such file or directory</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面的信息就会发现nginx容器启动之后就进行了健康检查</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查失败之后，容器被<span class="built_in">kill</span>掉，然后尝试进行重启（这是重启策略的作用，后面讲解）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-liveness-exec -n dev</span><br><span class="line">NAME                READY   STATUS             RESTARTS   AGE</span><br><span class="line">pod-liveness-exec   0/1     CrashLoopBackOff   2          3m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个存在的文件，比如/tmp/hello.txt，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p><strong>方式二：TCPSocket</strong></p><p>创建pod-liveness-tcpsocket.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-tcpsocket</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">tcpSocket:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span> <span class="comment"># 尝试访问8080端口</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-tcpsocket.yaml</span><br><span class="line">pod/pod-liveness-tcpsocket created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-liveness-tcpsocket -n dev</span><br><span class="line">......</span><br><span class="line">  Normal   Scheduled  31s                            default-scheduler  Successfully assigned dev/pod-liveness-tcpsocket to node2</span><br><span class="line">  Normal   Pulled     &lt;invalid&gt;                      kubelet, node2     Container image &quot;nginx:1.17.1&quot; already present on machine</span><br><span class="line">  Normal   Created    &lt;invalid&gt;                      kubelet, node2     Created container nginx</span><br><span class="line">  Normal   Started    &lt;invalid&gt;                      kubelet, node2     Started container nginx</span><br><span class="line">  Warning  Unhealthy  &lt;invalid&gt; (x2 over &lt;invalid&gt;)  kubelet, node2     Liveness probe failed: dial tcp 10.244.2.44:8080: connect: connection refused</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面的信息，发现尝试访问8080端口,但是失败了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-liveness-tcpsocket  -n dev</span><br><span class="line">NAME                     READY   STATUS             RESTARTS   AGE</span><br><span class="line">pod-liveness-tcpsocket   0/1     CrashLoopBackOff   2          3m19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个可以访问的端口，比如80，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p><strong>方式三：HTTPGet</strong></p><p>创建pod-liveness-httpget.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-httpget</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span>  <span class="comment"># 其实就是访问http://127.0.0.1:80/hello  </span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span> <span class="comment">#支持的协议，http或者https</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> <span class="comment">#端口号</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/hello</span> <span class="comment">#URI地址</span></span><br></pre></td></tr></table></figure><p>创建pod，观察效果</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-liveness-httpget.yaml</span><br><span class="line">pod/pod-liveness-httpget created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-liveness-httpget -n dev</span><br><span class="line">.......</span><br><span class="line">  Normal   Pulled     6s (x3 over 64s)  kubelet, node1     Container image &quot;nginx:1.17.1&quot; already present on machine</span><br><span class="line">  Normal   Created    6s (x3 over 64s)  kubelet, node1     Created container nginx</span><br><span class="line">  Normal   Started    6s (x3 over 63s)  kubelet, node1     Started container nginx</span><br><span class="line">  Warning  Unhealthy  6s (x6 over 56s)  kubelet, node1     Liveness probe failed: HTTP probe failed with statuscode: 404</span><br><span class="line">  Normal   Killing    6s (x2 over 36s)  kubelet, node1     Container nginx failed liveness probe, will be restarted</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">观察上面信息，尝试访问路径，但是未找到,出现404错误</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等一会之后，再观察pod信息，就可以看到RESTARTS不再是0，而是一直增长</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-liveness-httpget -n dev</span><br><span class="line">NAME                   READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-liveness-httpget   1/1     Running   5          3m17s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">当然接下来，可以修改成一个可以访问的路径path，比如/，再试，结果就正常了......</span></span><br></pre></td></tr></table></figure><p>至此，已经使用liveness Probe演示了三种探测方式，但是查看livenessProbe的子属性，会发现除了这三种方式，还有一些其他的配置，在这里一并解释下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.containers.livenessProbe</span><br><span class="line">FIELDS:</span><br><span class="line">   exec &lt;Object&gt;  </span><br><span class="line">   tcpSocket    &lt;Object&gt;</span><br><span class="line">   httpGet      &lt;Object&gt;</span><br><span class="line">   initialDelaySeconds  &lt;integer&gt;  # 容器启动后等待多少秒执行第一次探测</span><br><span class="line">   timeoutSeconds       &lt;integer&gt;  # 探测超时时间。默认1秒，最小1秒</span><br><span class="line">   periodSeconds        &lt;integer&gt;  # 执行探测的频率。默认是10秒，最小1秒</span><br><span class="line">   failureThreshold     &lt;integer&gt;  # 连续探测失败多少次才被认定为失败。默认是3。最小值是1</span><br><span class="line">   successThreshold     &lt;integer&gt;  # 连续探测成功多少次才被认定为成功。默认是1</span><br></pre></td></tr></table></figure><p>下面稍微配置两个，演示下效果即可：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@k8s-master01</span> <span class="string">~</span>]<span class="comment"># more pod-liveness-httpget.yaml</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-liveness-httpget</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span> </span><br><span class="line">        <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">30</span> <span class="comment"># 容器启动后30s开始探测</span></span><br><span class="line">      <span class="attr">timeoutSeconds:</span> <span class="number">5</span> <span class="comment"># 探测超时时间为5s</span></span><br></pre></td></tr></table></figure><h3 id="5-3-5-重启策略"><a href="#5-3-5-重启策略" class="headerlink" title="5.3.5 重启策略"></a>5.3.5 重启策略</h3><p>在上一节中，一旦容器探测出现了问题，kubernetes就会对容器所在的Pod进行重启，其实这是由pod的重启策略决定的，pod的重启策略有 3 种，分别如下：</p><ul><li>Always ：容器失效时，自动重启该容器，这也是默认值。</li><li>OnFailure ： 容器终止运行且退出码不为0时重启</li><li>Never ： 不论状态为何，都不重启该容器</li></ul><p>重启策略适用于pod对象中的所有容器，首次需要重启的容器，将在其需要时立即进行重启，随后再次需要重启的操作将由kubelet延迟一段时间后进行，且反复的重启操作的延迟时长以此为10s、20s、40s、80s、160s和300s，300s是最大延迟时长。</p><p>创建pod-restartpolicy.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-restartpolicy</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">scheme:</span> <span class="string">HTTP</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/hello</span></span><br><span class="line">  <span class="attr">restartPolicy:</span> <span class="string">Never</span> <span class="comment"># 设置重启策略为Never</span></span><br></pre></td></tr></table></figure><p>运行Pod测试</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-restartpolicy.yaml</span><br><span class="line">pod/pod-restartpolicy created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod详情，发现nginx容器失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl  describe pods pod-restartpolicy  -n dev</span><br><span class="line">......</span><br><span class="line">  Warning  Unhealthy  15s (x3 over 35s)  kubelet, node1     Liveness probe failed: HTTP probe failed with statuscode: 404</span><br><span class="line">  Normal   Killing    15s                kubelet, node1     Container nginx failed liveness probe</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">多等一会，再观察pod的重启次数，发现一直是0，并未重启</span>   </span><br><span class="line">[root@k8s-master01 ~]# kubectl  get pods pod-restartpolicy -n dev</span><br><span class="line">NAME                   READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-restartpolicy      0/1     Running   0          5min42s</span><br></pre></td></tr></table></figure><h2 id="5-4-Pod调度"><a href="#5-4-Pod调度" class="headerlink" title="5.4 Pod调度"></a>5.4 Pod调度</h2><p>在默认情况下，一个Pod在哪个Node节点上运行，是由Scheduler组件采用相应的算法计算出来的，这个过程是不受人工控制的。但是在实际使用中，这并不满足的需求，因为很多情况下，我们想控制某些Pod到达某些节点上，那么应该怎么做呢？这就要求了解kubernetes对Pod的调度规则，kubernetes提供了四大类调度方式：</p><ul><li>自动调度：运行在哪个节点上完全由Scheduler经过一系列的算法计算得出</li><li>定向调度：NodeName、NodeSelector</li><li>亲和性调度：NodeAffinity、PodAffinity、PodAntiAffinity</li><li>污点（容忍）调度：Taints、Toleration</li></ul><h3 id="5-4-1-定向调度"><a href="#5-4-1-定向调度" class="headerlink" title="5.4.1 定向调度"></a>5.4.1 定向调度</h3><p>定向调度，指的是利用在pod上声明nodeName或者nodeSelector，以此将Pod调度到期望的node节点上。注意，这里的调度是强制的，这就意味着即使要调度的目标Node不存在，也会向上面进行调度，只不过pod运行失败而已。</p><p><strong>NodeName</strong></p><p>NodeName用于强制约束将Pod调度到指定的Name的Node节点上。这种方式，其实是直接跳过Scheduler的调度逻辑，直接将Pod调度到指定名称的节点。</p><p>接下来，实验一下：创建一个pod-nodename.yaml文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodename</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeName:</span> <span class="string">node1</span> <span class="comment"># 指定调度到node1节点上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodename.yaml</span><br><span class="line">pod/pod-nodename created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看Pod调度到NODE属性，确实是调度到了node1节点上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodename -n dev -o wide</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE   IP            NODE      ......</span><br><span class="line">pod-nodename   1/1     Running   0          56s   10.244.1.87   node1     ......   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除pod，修改nodeName的值为node3（并没有node3节点）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodename.yaml</span><br><span class="line">pod &quot;pod-nodename&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodename.yaml</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodename.yaml</span><br><span class="line">pod/pod-nodename created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">再次查看，发现已经向Node3节点调度，但是由于不存在node3节点，所以pod无法正常运行</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodename -n dev -o wide</span><br><span class="line">NAME           READY   STATUS    RESTARTS   AGE   IP       NODE    ......</span><br><span class="line">pod-nodename   0/1     Pending   0          6s    &lt;none&gt;   node3   ......           </span><br></pre></td></tr></table></figure><p><strong>NodeSelector</strong></p><p>NodeSelector用于将pod调度到添加了指定标签的node节点上。它是通过kubernetes的label-selector机制实现的，也就是说，在pod创建之前，会由scheduler使用MatchNodeSelector调度策略进行label匹配，找出目标node，然后将pod调度到目标节点，该匹配规则是强制约束。</p><p>接下来，实验一下：</p><p>1 首先分别为node节点添加标签</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl label nodes node1 nodeenv=pro</span><br><span class="line">node/node2 labeled</span><br><span class="line">[root@k8s-master01 ~]# kubectl label nodes node2 nodeenv=test</span><br><span class="line">node/node2 labeled</span><br></pre></td></tr></table></figure><p>2 创建一个pod-nodeselector.yaml文件，并使用它创建Pod</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeselector</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeSelector:</span> </span><br><span class="line">    <span class="attr">nodeenv:</span> <span class="string">pro</span> <span class="comment"># 指定调度到具有nodeenv=pro标签的节点上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">创建Pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeselector.yaml</span><br><span class="line">pod/pod-nodeselector created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看Pod调度到NODE属性，确实是调度到了node1节点上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeselector -n dev -o wide</span><br><span class="line">NAME               READY   STATUS    RESTARTS   AGE     IP          NODE    ......</span><br><span class="line">pod-nodeselector   1/1     Running   0          47s   10.244.1.87   node1   ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除pod，修改nodeSelector的值为nodeenv: xxxx（不存在打有此标签的节点）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodeselector.yaml</span><br><span class="line">pod &quot;pod-nodeselector&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodeselector.yaml</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeselector.yaml</span><br><span class="line">pod/pod-nodeselector created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">再次查看，发现pod无法正常运行,Node的值为none</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME               READY   STATUS    RESTARTS   AGE     IP       NODE    </span><br><span class="line">pod-nodeselector   0/1     Pending   0          2m20s   &lt;none&gt;   &lt;none&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详情,发现node selector匹配失败的提示</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-nodeselector -n dev</span><br><span class="line">.......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason            Age        From               Message</span><br><span class="line">  ----     ------            ----       ----               -------</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br></pre></td></tr></table></figure><h3 id="5-4-2-亲和性调度"><a href="#5-4-2-亲和性调度" class="headerlink" title="5.4.2 亲和性调度"></a>5.4.2 亲和性调度</h3><p>上一节，介绍了两种定向调度的方式，使用起来非常方便，但是也有一定的问题，那就是如果没有满足条件的Node，那么Pod将不会被运行，即使在集群中还有可用Node列表也不行，这就限制了它的使用场景。</p><p>基于上面的问题，kubernetes还提供了一种亲和性调度（Affinity）。它在NodeSelector的基础之上的进行了扩展，可以通过配置的形式，实现优先选择满足条件的Node进行调度，如果没有，也可以调度到不满足条件的节点上，使调度更加灵活。</p><p>Affinity主要分为三类：</p><ul><li>nodeAffinity(node亲和性）: 以node为目标，解决pod可以调度到哪些node的问题</li><li>podAffinity(pod亲和性) : 以pod为目标，解决pod可以和哪些已存在的pod部署在同一个拓扑域中的问题</li><li>podAntiAffinity(pod反亲和性) : 以pod为目标，解决pod不能和哪些已存在pod部署在同一个拓扑域中的问题</li></ul><blockquote><p>关于亲和性(反亲和性)使用场景的说明：</p><p><strong>亲和性</strong>：如果两个应用频繁交互，那就有必要利用亲和性让两个应用的尽可能的靠近，这样可以减少因网络通信而带来的性能损耗。</p><p><strong>反亲和性</strong>：当应用的采用多副本部署时，有必要采用反亲和性让各个应用实例打散分布在各个node上，这样可以提高服务的高可用性。</p></blockquote><p><strong>NodeAffinity</strong></p><p>首先来看一下<code>NodeAffinity</code>的可配置项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">pod.spec.affinity.nodeAffinity</span><br><span class="line">  requiredDuringSchedulingIgnoredDuringExecution  Node节点必须满足指定的所有规则才可以，相当于硬限制</span><br><span class="line">    nodeSelectorTerms  节点选择列表</span><br><span class="line">      matchFields   按节点字段列出的节点选择器要求列表</span><br><span class="line">      matchExpressions   按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持Exists, DoesNotExist, In, NotIn, Gt, Lt</span><br><span class="line">  preferredDuringSchedulingIgnoredDuringExecution 优先调度到满足指定的规则的Node，相当于软限制 (倾向)</span><br><span class="line">    preference   一个节点选择器项，与相应的权重相关联</span><br><span class="line">      matchFields   按节点字段列出的节点选择器要求列表</span><br><span class="line">      matchExpressions   按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持In, NotIn, Exists, DoesNotExist, Gt, Lt</span><br><span class="line">weight 倾向权重，在范围1-100。</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">关系符的使用说明:</span><br><span class="line"></span><br><span class="line">- matchExpressions:</span><br><span class="line">  - key: nodeenv              # 匹配存在标签的key为nodeenv的节点</span><br><span class="line">    operator: Exists</span><br><span class="line">  - key: nodeenv              # 匹配标签的key为nodeenv,且value是&quot;xxx&quot;或&quot;yyy&quot;的节点</span><br><span class="line">    operator: In</span><br><span class="line">    values: [&quot;xxx&quot;,&quot;yyy&quot;]</span><br><span class="line">  - key: nodeenv              # 匹配标签的key为nodeenv,且value大于&quot;xxx&quot;的节点</span><br><span class="line">    operator: Gt</span><br><span class="line">    values: &quot;xxx&quot;</span><br></pre></td></tr></table></figure><p>接下来首先演示一下<code>requiredDuringSchedulingIgnoredDuringExecution</code> ,</p><p>创建pod-nodeaffinity-required.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">nodeAffinity:</span> <span class="comment">#设置node亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">        <span class="attr">nodeSelectorTerms:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">nodeenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod/pod-nodeaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态 （运行失败）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeaffinity-required -n dev -o wide</span><br><span class="line">NAME                        READY   STATUS    RESTARTS   AGE   IP       NODE    ...... </span><br><span class="line">pod-nodeaffinity-required   0/1     Pending   0          16s   &lt;none&gt;   &lt;none&gt;  ......</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod的详情</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现调度失败，提示node选择失败</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pod pod-nodeaffinity-required -n dev</span><br><span class="line">......</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 3 node(s) didn&#x27;t match node selector.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">接下来，停止pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod &quot;pod-nodeaffinity-required&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改文件，将values: [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]------&gt; [<span class="string">&quot;pro&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-nodeaffinity-required.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次启动</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-required.yaml</span><br><span class="line">pod/pod-nodeaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时查看，发现调度成功，已经将pod调度到了node1上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-nodeaffinity-required -n dev -o wide</span><br><span class="line">NAME                        READY   STATUS    RESTARTS   AGE   IP            NODE  ...... </span><br><span class="line">pod-nodeaffinity-required   1/1     Running   0          11s   10.244.1.89   node1 ......</span><br></pre></td></tr></table></figure><p>接下来再演示一下<code>requiredDuringSchedulingIgnoredDuringExecution</code> ,</p><p>创建pod-nodeaffinity-preferred.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-nodeaffinity-preferred</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">nodeAffinity:</span> <span class="comment">#设置node亲和性</span></span><br><span class="line">      <span class="attr">preferredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 软限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">weight:</span> <span class="number">1</span></span><br><span class="line">        <span class="attr">preference:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签(当前环境没有)</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">nodeenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-nodeaffinity-preferred.yaml</span><br><span class="line">pod/pod-nodeaffinity-preferred created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态 （运行成功）</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pod pod-nodeaffinity-preferred -n dev</span><br><span class="line">NAME                         READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-nodeaffinity-preferred   1/1     Running   0          40s</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NodeAffinity规则设置的注意事项：</span><br><span class="line">    1 如果同时定义了nodeSelector和nodeAffinity，那么必须两个条件都得到满足，Pod才能运行在指定的Node上</span><br><span class="line">    2 如果nodeAffinity指定了多个nodeSelectorTerms，那么只需要其中一个能够匹配成功即可</span><br><span class="line">    3 如果一个nodeSelectorTerms中有多个matchExpressions ，则一个节点必须满足所有的才能匹配成功</span><br><span class="line">    4 如果一个pod所在的Node在Pod运行期间其标签发生了改变，不再符合该Pod的节点亲和性需求，则系统将忽略此变化</span><br></pre></td></tr></table></figure><p><strong>PodAffinity</strong></p><p>PodAffinity主要实现以运行的Pod为参照，实现让新创建的Pod跟参照pod在一个区域的功能。</p><p>首先来看一下<code>PodAffinity</code>的可配置项：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">pod.spec.affinity.podAffinity</span><br><span class="line">  requiredDuringSchedulingIgnoredDuringExecution  硬限制</span><br><span class="line">    namespaces       指定参照pod的namespace</span><br><span class="line">    topologyKey      指定调度作用域</span><br><span class="line">    labelSelector    标签选择器</span><br><span class="line">      matchExpressions  按节点标签列出的节点选择器要求列表(推荐)</span><br><span class="line">        key    键</span><br><span class="line">        values 值</span><br><span class="line">        operator 关系符 支持In, NotIn, Exists, DoesNotExist.</span><br><span class="line">      matchLabels    指多个matchExpressions映射的内容</span><br><span class="line">  preferredDuringSchedulingIgnoredDuringExecution 软限制</span><br><span class="line">    podAffinityTerm  选项</span><br><span class="line">      namespaces      </span><br><span class="line">      topologyKey</span><br><span class="line">      labelSelector</span><br><span class="line">        matchExpressions  </span><br><span class="line">          key    键</span><br><span class="line">          values 值</span><br><span class="line">          operator</span><br><span class="line">        matchLabels </span><br><span class="line">    weight 倾向权重，在范围1-100</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">topologyKey用于指定调度时作用域,例如:</span><br><span class="line">    如果指定为kubernetes.io/hostname，那就是以Node节点为区分范围</span><br><span class="line">如果指定为beta.kubernetes.io/os,则以Node节点的操作系统类型来区分</span><br></pre></td></tr></table></figure><p>接下来，演示下<code>requiredDuringSchedulingIgnoredDuringExecution</code>,</p><p>1）首先创建一个参照Pod，pod-podaffinity-target.yaml：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podaffinity-target</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">podenv:</span> <span class="string">pro</span> <span class="comment">#设置标签</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">nodeName:</span> <span class="string">node1</span> <span class="comment"># 将目标pod名确指定到node1上</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动目标pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-target.yaml</span><br><span class="line">pod/pod-podaffinity-target created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状况</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods  pod-podaffinity-target -n dev</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-podaffinity-target   1/1     Running   0          4s</span><br></pre></td></tr></table></figure><p>2）创建pod-podaffinity-required.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">podAffinity:</span> <span class="comment">#设置pod亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配env的值在[&quot;xxx&quot;,&quot;yyy&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">podenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span><br><span class="line">        <span class="attr">topologyKey:</span> <span class="string">kubernetes.io/hostname</span></span><br></pre></td></tr></table></figure><p>上面配置表达的意思是：新Pod必须要与拥有标签nodeenv&#x3D;xxx或者nodeenv&#x3D;yyy的pod在同一Node上，显然现在没有这样pod，接下来，运行测试一下。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-required.yaml</span><br><span class="line">pod/pod-podaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod状态，发现未运行</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podaffinity-required -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod-podaffinity-required   0/1     Pending   0          9s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详细信息</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl describe pods pod-podaffinity-required  -n dev</span><br><span class="line">......</span><br><span class="line">Events:</span><br><span class="line">  Type     Reason            Age        From               Message</span><br><span class="line">  ----     ------            ----       ----               -------</span><br><span class="line">  Warning  FailedScheduling  &lt;unknown&gt;  default-scheduler  0/3 nodes are available: 2 node(s) didn&#x27;t match pod affinity rules, 1 node(s) had taints that the pod didn&#x27;t tolerate.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来修改  values: [<span class="string">&quot;xxx&quot;</span>,<span class="string">&quot;yyy&quot;</span>]-----&gt;values:[<span class="string">&quot;pro&quot;</span>,<span class="string">&quot;yyy&quot;</span>]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">意思是：新Pod必须要与拥有标签nodeenv=xxx或者nodeenv=yyy的pod在同一Node上</span></span><br><span class="line">[root@k8s-master01 ~]# vim pod-podaffinity-required.yaml</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后重新创建pod，查看效果</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl delete -f  pod-podaffinity-required.yaml</span><br><span class="line">pod &quot;pod-podaffinity-required&quot; deleted</span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podaffinity-required.yaml</span><br><span class="line">pod/pod-podaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现此时Pod运行正常</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podaffinity-required -n dev</span><br><span class="line">NAME                       READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">pod-podaffinity-required   1/1     Running   0          6s    &lt;none&gt;</span><br></pre></td></tr></table></figure><p>关于<code>PodAffinity</code>的 <code>preferredDuringSchedulingIgnoredDuringExecution</code>，这里不再演示。</p><p><strong>PodAntiAffinity</strong></p><p>PodAntiAffinity主要实现以运行的Pod为参照，让新创建的Pod跟参照pod不在一个区域中的功能。</p><p>它的配置方式和选项跟PodAffinty是一样的，这里不再做详细解释，直接做一个测试案例。</p><p>1）继续使用上个案例中目标pod</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide --show-labels</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE     IP            NODE    LABELS</span><br><span class="line">pod-podaffinity-required 1/1     Running   0          3m29s   10.244.1.38   node1   &lt;none&gt;     </span><br><span class="line">pod-podaffinity-target   1/1     Running   0          9m25s   10.244.1.37   node1   podenv=pro</span><br></pre></td></tr></table></figure><p>2）创建pod-podantiaffinity-required.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-podantiaffinity-required</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">affinity:</span>  <span class="comment">#亲和性设置</span></span><br><span class="line">    <span class="attr">podAntiAffinity:</span> <span class="comment">#设置pod亲和性</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span> <span class="comment"># 硬限制</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span> <span class="comment"># 匹配podenv的值在[&quot;pro&quot;]中的标签</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">podenv</span></span><br><span class="line">            <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">            <span class="attr">values:</span> [<span class="string">&quot;pro&quot;</span>]</span><br><span class="line">        <span class="attr">topologyKey:</span> <span class="string">kubernetes.io/hostname</span></span><br></pre></td></tr></table></figure><p>上面配置表达的意思是：新Pod必须要与拥有标签nodeenv&#x3D;pro的pod不在同一Node上，运行测试一下。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl create -f pod-podantiaffinity-required.yaml</span><br><span class="line">pod/pod-podantiaffinity-required created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看pod</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">发现调度到了node2上</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods pod-podantiaffinity-required -n dev -o wide</span><br><span class="line">NAME                           READY   STATUS    RESTARTS   AGE   IP            NODE   .. </span><br><span class="line">pod-podantiaffinity-required   1/1     Running   0          30s   10.244.1.96   node2  ..</span><br></pre></td></tr></table></figure><h3 id="5-4-3-污点和容忍"><a href="#5-4-3-污点和容忍" class="headerlink" title="5.4.3 污点和容忍"></a>5.4.3 污点和容忍</h3><p><strong>污点（Taints）</strong></p><p>前面的调度方式都是站在Pod的角度上，通过在Pod上添加属性，来确定Pod是否要调度到指定的Node上，其实我们也可以站在Node的角度上，通过在Node上添加<strong>污点</strong>属性，来决定是否允许Pod调度过来。</p><p>Node被设置上污点之后就和Pod之间存在了一种相斥的关系，进而拒绝Pod调度进来，甚至可以将已经存在的Pod驱逐出去。</p><p>污点的格式为：<code>key=value:effect</code>, key和value是污点的标签，effect描述污点的作用，支持如下三个选项：</p><ul><li>PreferNoSchedule：kubernetes将尽量避免把Pod调度到具有该污点的Node上，除非没有其他节点可调度</li><li>NoSchedule：kubernetes将不会把Pod调度到具有该污点的Node上，但不会影响当前Node上已存在的Pod</li><li>NoExecute：kubernetes将不会把Pod调度到具有该污点的Node上，同时也会将Node上已存在的Pod驱离</li></ul><p><img src="https://s2.loli.net/2022/12/29/VsDHXZoldcvuNEm.png" alt="image-20200605021606508"></p><p>使用kubectl设置和去除污点的命令示例如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置污点</span></span><br><span class="line">kubectl taint nodes node1 key=value:effect</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去除污点</span></span><br><span class="line">kubectl taint nodes node1 key:effect-</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去除所有污点</span></span><br><span class="line">kubectl taint nodes node1 key-</span><br></pre></td></tr></table></figure><p>接下来，演示下污点的效果：</p><ol><li>准备节点node1（为了演示效果更加明显，暂时停止node2节点）</li><li>为node1节点设置一个污点: <code>tag=heima:PreferNoSchedule</code>；然后创建pod1( pod1 可以 )</li><li>修改为node1节点设置一个污点: <code>tag=heima:NoSchedule</code>；然后创建pod2( pod1 正常 pod2 失败 )</li><li>修改为node1节点设置一个污点: <code>tag=heima:NoExecute</code>；然后创建pod3 ( 3个pod都失败 )</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(PreferNoSchedule)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:PreferNoSchedule</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod1</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint1 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE     IP           NODE   </span><br><span class="line">taint1-7665f7fd85-574h4   1/1     Running   0          2m24s   10.244.1.59   node1    </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(取消PreferNoSchedule，设置NoSchedule)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag:PreferNoSchedule-</span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:NoSchedule</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod2</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint2 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods taint2 -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE     IP            NODE</span><br><span class="line">taint1-7665f7fd85-574h4   1/1     Running   0          2m24s   10.244.1.59   node1 </span><br><span class="line">taint2-544694789-6zmlf    0/1     Pending   0          21s     &lt;none&gt;        &lt;none&gt;   </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为node1设置污点(取消NoSchedule，设置NoExecute)</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag:NoSchedule-</span><br><span class="line">[root@k8s-master01 ~]# kubectl taint nodes node1 tag=heima:NoExecute</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建pod3</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl run taint3 --image=nginx:1.17.1 -n dev</span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME                      READY   STATUS    RESTARTS   AGE   IP       NODE     NOMINATED </span><br><span class="line">taint1-7665f7fd85-htkmp   0/1     Pending   0          35s   &lt;none&gt;   &lt;none&gt;   &lt;none&gt;    </span><br><span class="line">taint2-544694789-bn7wb    0/1     Pending   0          35s   &lt;none&gt;   &lt;none&gt;   &lt;none&gt;     </span><br><span class="line">taint3-6d78dbd749-tktkq   0/1     Pending   0          6s    &lt;none&gt;   &lt;none&gt;   &lt;none&gt;     </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">小提示：</span><br><span class="line">    使用kubeadm搭建的集群，默认就会给master节点添加一个污点标记,所以pod就不会调度到master节点上.</span><br></pre></td></tr></table></figure><p><strong>容忍（Toleration）</strong></p><p>上面介绍了污点的作用，我们可以在node上添加污点用于拒绝pod调度上来，但是如果就是想将一个pod调度到一个有污点的node上去，这时候应该怎么做呢？这就要使用到<strong>容忍</strong>。</p><p><img src="D:\学习笔记\k8s\Kubenetes.assets\image-20200514095913741.png" alt="image-20200514095913741"></p><blockquote><p>污点就是拒绝，容忍就是忽略，Node通过污点拒绝pod调度上去，Pod通过容忍忽略拒绝</p></blockquote><p>下面先通过一个案例看下效果：</p><ol><li>上一小节，已经在node1节点上打上了<code>NoExecute</code>的污点，此时pod是调度不上去的</li><li>本小节，可以通过给pod添加容忍，然后将其调度上去</li></ol><p>创建pod-toleration.yaml,内容如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-toleration</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.17.1</span></span><br><span class="line">  <span class="attr">tolerations:</span>      <span class="comment"># 添加容忍</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&quot;tag&quot;</span>        <span class="comment"># 要容忍的污点的key</span></span><br><span class="line">    <span class="attr">operator:</span> <span class="string">&quot;Equal&quot;</span> <span class="comment"># 操作符</span></span><br><span class="line">    <span class="attr">value:</span> <span class="string">&quot;heima&quot;</span>    <span class="comment"># 容忍的污点的value</span></span><br><span class="line">    <span class="attr">effect:</span> <span class="string">&quot;NoExecute&quot;</span>   <span class="comment"># 添加容忍的规则，这里必须和标记的污点规则相同</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加容忍之前的pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME             READY   STATUS    RESTARTS   AGE   IP       NODE     NOMINATED </span><br><span class="line">pod-toleration   0/1     Pending   0          3s    &lt;none&gt;   &lt;none&gt;   &lt;none&gt;           </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加容忍之后的pod</span></span><br><span class="line">[root@k8s-master01 ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME             READY   STATUS    RESTARTS   AGE   IP            NODE    NOMINATED</span><br><span class="line">pod-toleration   1/1     Running   0          3s    10.244.1.62   node1   &lt;none&gt;        </span><br></pre></td></tr></table></figure><p>下面看一下容忍的详细配置:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master01 ~]# kubectl explain pod.spec.tolerations</span><br><span class="line">......</span><br><span class="line">FIELDS:</span><br><span class="line">   key       # 对应着要容忍的污点的键，空意味着匹配所有的键</span><br><span class="line">   value     # 对应着要容忍的污点的值</span><br><span class="line">   operator  # key-value的运算符，支持Equal和Exists（默认）</span><br><span class="line">   effect    # 对应污点的effect，空意味着匹配所有影响</span><br><span class="line">   tolerationSeconds   # 容忍时间, 当effect为NoExecute时生效，表示pod在Node上的停留时间</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4. 实战入门</title>
      <link href="/posts/9807228d.html"/>
      <url>/posts/9807228d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="4-实战入门"><a href="#4-实战入门" class="headerlink" title="4. 实战入门"></a>4. 实战入门</h1><p>本章节将介绍如何在kubernetes集群中部署一个nginx服务，并且能够对其进行访问。</p><h2 id="4-1-Namespace"><a href="#4-1-Namespace" class="headerlink" title="4.1 Namespace"></a>4.1 Namespace</h2><p>Namespace是kubernetes系统中的一种非常重要资源，它的主要作用是用来实现<strong>多套环境的资源隔离</strong>或者<strong>多租户的资源隔离</strong>。</p><p>默认情况下，kubernetes集群中的所有的Pod都是可以相互访问的。但是在实际中，可能不想让两个Pod之间进行互相的访问，那此时就可以将两个Pod划分到不同的namespace下。kubernetes通过将集群内部的资源分配到不同的Namespace中，可以形成逻辑上的”组”，以方便不同的组的资源进行隔离使用和管理。</p><p>可以通过kubernetes的授权机制，将不同的namespace交给不同租户进行管理，这样就实现了多租户的资源隔离。此时还能结合kubernetes的资源配额机制，限定不同租户能占用的资源，例如CPU使用量、内存使用量等等，来实现租户可用资源的管理。</p><p><img src="https://s2.loli.net/2022/12/29/IgcZJfKCYOzAGFU.png" alt="image-20200407100850484"></p><p>kubernetes在集群启动之后，会默认创建几个namespace</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl  get namespace</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   45h     #  所有未指定Namespace的对象都会被分配在default命名空间</span><br><span class="line">kube-node-lease   Active   45h     #  集群节点之间的心跳维护，v1.13开始引入</span><br><span class="line">kube-public       Active   45h     #  此命名空间下的资源可以被所有人访问（包括未认证用户）</span><br><span class="line">kube-system       Active   45h     #  所有由Kubernetes系统创建的资源都处于这个命名空间</span><br></pre></td></tr></table></figure><p>下面来看namespace资源的具体操作：</p><p><strong>查看</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 查看所有的ns  命令：kubectl get ns</span></span><br><span class="line">[root@master ~]# kubectl get ns</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   45h</span><br><span class="line">kube-node-lease   Active   45h</span><br><span class="line">kube-public       Active   45h     </span><br><span class="line">kube-system       Active   45h     </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 查看指定的ns   命令：kubectl get ns ns名称</span></span><br><span class="line">[root@master ~]# kubectl get ns default</span><br><span class="line">NAME      STATUS   AGE</span><br><span class="line">default   Active   45h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3 指定输出格式  命令：kubectl get ns ns名称  -o 格式参数</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">kubernetes支持的格式有很多，比较常见的是wide、json、yaml</span></span><br><span class="line">[root@master ~]# kubectl get ns default -o yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  creationTimestamp: &quot;2021-05-08T04:44:16Z&quot;</span><br><span class="line">  name: default</span><br><span class="line">  resourceVersion: &quot;151&quot;</span><br><span class="line">  selfLink: /api/v1/namespaces/default</span><br><span class="line">  uid: 7405f73a-e486-43d4-9db6-145f1409f090</span><br><span class="line">spec:</span><br><span class="line">  finalizers:</span><br><span class="line">  - kubernetes</span><br><span class="line">status:</span><br><span class="line">  phase: Active</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4 查看ns详情  命令：kubectl describe ns ns名称</span></span><br><span class="line">[root@master ~]# kubectl describe ns default</span><br><span class="line">Name:         default</span><br><span class="line">Labels:       &lt;none&gt;</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Status:       Active  # Active 命名空间正在使用中  Terminating 正在删除命名空间</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ResourceQuota 针对namespace做的资源限制</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">LimitRange针对namespace中的每个组件做的资源限制</span></span><br><span class="line">No resource quota.</span><br><span class="line">No LimitRange resource.</span><br></pre></td></tr></table></figure><p><strong>创建</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建namespace</span></span><br><span class="line">[root@master ~]# kubectl create ns dev</span><br><span class="line">namespace/dev created</span><br></pre></td></tr></table></figure><p><strong>删除</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除namespace</span></span><br><span class="line">[root@master ~]# kubectl delete ns dev</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><p>首先准备一个yaml文件：ns-dev.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f ns-dev.yaml</p><p>删除：kubectl delete -f ns-dev.yaml</p><h2 id="4-2-Pod"><a href="#4-2-Pod" class="headerlink" title="4.2 Pod"></a>4.2 Pod</h2><p>Pod是kubernetes集群进行管理的最小单元，程序要运行必须部署在容器中，而容器必须存在于Pod中。</p><p>Pod可以认为是容器的封装，一个Pod中可以存在一个或者多个容器。</p><p><img src="https://s2.loli.net/2022/12/29/ebiY6jCs7yO3ao9.png" alt="image-20200407121501907"></p><p>kubernetes在集群启动之后，集群中的各个组件也都是以Pod方式运行的。可以通过下面命令查看：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl get pod -n kube-system</span><br><span class="line">NAMESPACE     NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-6955765f44-68g6v         1/1     Running   0          2d1h</span><br><span class="line">kube-system   coredns-6955765f44-cs5r8         1/1     Running   0          2d1h</span><br><span class="line">kube-system   etcd-master                      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-apiserver-master            1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-controller-manager-master   1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-flannel-ds-amd64-47r25      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-flannel-ds-amd64-ls5lh      1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-proxy-685tk                 1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-proxy-87spt                 1/1     Running   0          2d1h</span><br><span class="line">kube-system   kube-scheduler-master            1/1     Running   0          2d1h</span><br></pre></td></tr></table></figure><p><strong>创建并运行</strong></p><p>kubernetes没有提供单独运行Pod的命令，都是通过Pod控制器来实现的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令格式： kubectl run (pod控制器名称) [参数]</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--image  指定Pod的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--port   指定端口</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--namespace  指定namespace</span></span><br><span class="line">[root@master ~]# kubectl run nginx --image=nginx:latest --port=80 --namespace dev </span><br><span class="line">deployment.apps/nginx created</span><br></pre></td></tr></table></figure><p><strong>查看pod信息</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod基本信息</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx   1/1     Running   0          43s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看Pod的详细信息</span></span><br><span class="line">[root@master ~]# kubectl describe pod nginx -n dev</span><br><span class="line">Name:         nginx</span><br><span class="line">Namespace:    dev</span><br><span class="line">Priority:     0</span><br><span class="line">Node:         node1/192.168.5.4</span><br><span class="line">Start Time:   Wed, 08 May 2021 09:29:24 +0800</span><br><span class="line">Labels:       pod-template-hash=5ff7956ff6</span><br><span class="line">              run=nginx</span><br><span class="line">Annotations:  &lt;none&gt;</span><br><span class="line">Status:       Running</span><br><span class="line">IP:           10.244.1.23</span><br><span class="line">IPs:</span><br><span class="line">  IP:           10.244.1.23</span><br><span class="line">Controlled By:  ReplicaSet/nginx</span><br><span class="line">Containers:</span><br><span class="line">  nginx:</span><br><span class="line">    Container ID:   docker://4c62b8c0648d2512380f4ffa5da2c99d16e05634979973449c98e9b829f6253c</span><br><span class="line">    Image:          nginx:latest</span><br><span class="line">    Image ID:       docker-pullable://nginx@sha256:485b610fefec7ff6c463ced9623314a04ed67e3945b9c08d7e53a47f6d108dc7</span><br><span class="line">    Port:           80/TCP</span><br><span class="line">    Host Port:      0/TCP</span><br><span class="line">    State:          Running</span><br><span class="line">      Started:      Wed, 08 May 2021 09:30:01 +0800</span><br><span class="line">    Ready:          True</span><br><span class="line">    Restart Count:  0</span><br><span class="line">    Environment:    &lt;none&gt;</span><br><span class="line">    Mounts:</span><br><span class="line">      /var/run/secrets/kubernetes.io/serviceaccount from default-token-hwvvw (ro)</span><br><span class="line">Conditions:</span><br><span class="line">  Type              Status</span><br><span class="line">  Initialized       True</span><br><span class="line">  Ready             True</span><br><span class="line">  ContainersReady   True</span><br><span class="line">  PodScheduled      True</span><br><span class="line">Volumes:</span><br><span class="line">  default-token-hwvvw:</span><br><span class="line">    Type:        Secret (a volume populated by a Secret)</span><br><span class="line">    SecretName:  default-token-hwvvw</span><br><span class="line">    Optional:    false</span><br><span class="line">QoS Class:       BestEffort</span><br><span class="line">Node-Selectors:  &lt;none&gt;</span><br><span class="line">Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s</span><br><span class="line">                 node.kubernetes.io/unreachable:NoExecute for 300s</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason     Age        From               Message</span><br><span class="line">  ----    ------     ----       ----               -------</span><br><span class="line">  Normal  Scheduled  &lt;unknown&gt;  default-scheduler  Successfully assigned dev/nginx-5ff7956ff6-fg2db to node1</span><br><span class="line">  Normal  Pulling    4m11s      kubelet, node1     Pulling image &quot;nginx:latest&quot;</span><br><span class="line">  Normal  Pulled     3m36s      kubelet, node1     Successfully pulled image &quot;nginx:latest&quot;</span><br><span class="line">  Normal  Created    3m36s      kubelet, node1     Created container nginx</span><br><span class="line">  Normal  Started    3m36s      kubelet, node1     Started container nginx</span><br></pre></td></tr></table></figure><p><strong>访问Pod</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取podIP</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev -o wide</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE    IP             NODE    ... </span><br><span class="line">nginx   1/1     Running   0          190s   10.244.1.23   node1   ...</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">访问POD</span></span><br><span class="line">[root@master ~]# curl http://10.244.1.23:80</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>删除指定Pod</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定Pod</span></span><br><span class="line">[root@master ~]# kubectl delete pod nginx -n dev</span><br><span class="line">pod &quot;nginx&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时，显示删除Pod成功，但是再查询，发现又新产生了一个</span> </span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME    READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx   1/1     Running   0          21s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这是因为当前Pod是由Pod控制器创建的，控制器会监控Pod状况，一旦发现Pod死亡，会立即重建</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时要想删除Pod，必须删除Pod控制器</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">先来查询一下当前namespace下的Pod控制器</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n  dev</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   1/1     1            1           9m7s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来，删除此PodPod控制器</span></span><br><span class="line">[root@master ~]# kubectl delete deploy nginx -n dev</span><br><span class="line">deployment.apps &quot;nginx&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">稍等片刻，再查询Pod，发现Pod被删除了</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">No resources found in dev namespace.</span><br></pre></td></tr></table></figure><p><strong>配置操作</strong></p><p>创建一个pod-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f pod-nginx.yaml</p><p>删除：kubectl delete -f pod-nginx.yaml</p><h2 id="4-3-Label"><a href="#4-3-Label" class="headerlink" title="4.3 Label"></a>4.3 Label</h2><p>Label是kubernetes系统中的一个重要概念。它的作用就是在资源上添加标识，用来对它们进行区分和选择。</p><p>Label的特点：</p><ul><li>一个Label会以key&#x2F;value键值对的形式附加到各种对象上，如Node、Pod、Service等等</li><li>一个资源对象可以定义任意数量的Label ，同一个Label也可以被添加到任意数量的资源对象上去</li><li>Label通常在资源对象定义时确定，当然也可以在对象创建后动态添加或者删除</li></ul><p>可以通过Label实现资源的多维度分组，以便灵活、方便地进行资源分配、调度、配置、部署等管理工作。</p><blockquote><p>一些常用的Label 示例如下：</p><ul><li>版本标签：”version”:”release”, “version”:”stable”……</li><li>环境标签：”environment”:”dev”，”environment”:”test”，”environment”:”pro”</li><li>架构标签：”tier”:”frontend”，”tier”:”backend”</li></ul></blockquote><p>标签定义完毕之后，还要考虑到标签的选择，这就要使用到Label Selector，即：</p><p>Label用于给某个资源对象定义标识</p><p>Label Selector用于查询和筛选拥有某些标签的资源对象</p><p>当前有两种Label Selector：</p><ul><li><p>基于等式的Label Selector</p><p>  name &#x3D; slave: 选择所有包含Label中key&#x3D;”name”且value&#x3D;”slave”的对象</p><p>  env !&#x3D; production: 选择所有包括Label中的key&#x3D;”env”且value不等于”production”的对象</p></li><li><p>基于集合的Label Selector</p><p>  name in (master, slave): 选择所有包含Label中的key&#x3D;”name”且value&#x3D;”master”或”slave”的对象</p><p>  name not in (frontend): 选择所有包含Label中的key&#x3D;”name”且value不等于”frontend”的对象</p></li></ul><p>标签的选择条件可以使用多个，此时将多个Label Selector进行组合，使用逗号”,”进行分隔即可。例如：</p><p>name&#x3D;slave，env!&#x3D;production</p><p>name not in (frontend)，env!&#x3D;production</p><p><strong>命令方式</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为pod资源打标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version=1.0 -n dev</span><br><span class="line">pod/nginx-pod labeled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">为pod资源更新标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version=2.0 -n dev --overwrite</span><br><span class="line">pod/nginx-pod labeled</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看标签</span></span><br><span class="line">[root@master ~]# kubectl get pod nginx-pod  -n dev --show-labels</span><br><span class="line">NAME        READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">nginx-pod   1/1     Running   0          10m   version=2.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">筛选标签</span></span><br><span class="line">[root@master ~]# kubectl get pod -n dev -l version=2.0  --show-labels</span><br><span class="line">NAME        READY   STATUS    RESTARTS   AGE   LABELS</span><br><span class="line">nginx-pod   1/1     Running   0          17m   version=2.0</span><br><span class="line">[root@master ~]# kubectl get pod -n dev -l version!=2.0 --show-labels</span><br><span class="line">No resources found in dev namespace.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">删除标签</span></span><br><span class="line">[root@master ~]# kubectl label pod nginx-pod version- -n dev</span><br><span class="line">pod/nginx-pod labeled</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">version:</span> <span class="string">&quot;3.0&quot;</span> </span><br><span class="line">    <span class="attr">env:</span> <span class="string">&quot;test&quot;</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">pod</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-port</span></span><br><span class="line">      <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的更新命令了：kubectl apply -f pod-nginx.yaml</p><h2 id="4-4-Deployment"><a href="#4-4-Deployment" class="headerlink" title="4.4 Deployment"></a>4.4 Deployment</h2><p>在kubernetes中，Pod是最小的控制单元，但是kubernetes很少直接控制Pod，一般都是通过Pod控制器来完成的。Pod控制器用于pod的管理，确保pod资源符合预期的状态，当pod的资源出现故障时，会尝试进行重启或重建pod。</p><p>在kubernetes中Pod控制器的种类有很多，本章节只介绍一种：Deployment。</p><p><img src="https://s2.loli.net/2022/12/29/BHQ8UNDwJbojSp1.png" alt="image-20200408193950807"></p><p><strong>命令操作</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令格式: kubectl create deployment 名称  [参数]</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--image  指定pod的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--port   指定端口</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--replicas  指定创建pod数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--namespace  指定namespace</span></span><br><span class="line">[root@master ~]# kubectl create deploy nginx --image=nginx:latest --port=80 --replicas=3 -n dev</span><br><span class="line">deployment.apps/nginx created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看创建的Pod</span></span><br><span class="line">[root@master ~]# kubectl get pods -n dev</span><br><span class="line">NAME                     READY   STATUS    RESTARTS   AGE</span><br><span class="line">nginx-5ff7956ff6-6k8cb   1/1     Running   0          19s</span><br><span class="line">nginx-5ff7956ff6-jxfjt   1/1     Running   0          19s</span><br><span class="line">nginx-5ff7956ff6-v6jqw   1/1     Running   0          19s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment的信息</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n dev</span><br><span class="line">NAME    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">nginx   3/3     3            3           2m42s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UP-TO-DATE：成功升级的副本数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">AVAILABLE：可用副本的数量</span></span><br><span class="line">[root@master ~]# kubectl get deploy -n dev -o wide</span><br><span class="line">NAME    READY UP-TO-DATE  AVAILABLE   AGE     CONTAINERS   IMAGES              SELECTOR</span><br><span class="line">nginx   3/3     3         3           2m51s   nginx        nginx:latest        run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看deployment的详细信息</span></span><br><span class="line">[root@master ~]# kubectl describe deploy nginx -n dev</span><br><span class="line">Name:                   nginx</span><br><span class="line">Namespace:              dev</span><br><span class="line">CreationTimestamp:      Wed, 08 May 2021 11:14:14 +0800</span><br><span class="line">Labels:                 run=nginx</span><br><span class="line">Annotations:            deployment.kubernetes.io/revision: 1</span><br><span class="line">Selector:               run=nginx</span><br><span class="line">Replicas:               3 desired | 3 updated | 3 total | 3 available | 0 unavailable</span><br><span class="line">StrategyType:           RollingUpdate</span><br><span class="line">MinReadySeconds:        0</span><br><span class="line">RollingUpdateStrategy:  25% max unavailable, 25% max surge</span><br><span class="line">Pod Template:</span><br><span class="line">  Labels:  run=nginx</span><br><span class="line">  Containers:</span><br><span class="line">   nginx:</span><br><span class="line">    Image:        nginx:latest</span><br><span class="line">    Port:         80/TCP</span><br><span class="line">    Host Port:    0/TCP</span><br><span class="line">    Environment:  &lt;none&gt;</span><br><span class="line">    Mounts:       &lt;none&gt;</span><br><span class="line">  Volumes:        &lt;none&gt;</span><br><span class="line">Conditions:</span><br><span class="line">  Type           Status  Reason</span><br><span class="line">  ----           ------  ------</span><br><span class="line">  Available      True    MinimumReplicasAvailable</span><br><span class="line">  Progressing    True    NewReplicaSetAvailable</span><br><span class="line">OldReplicaSets:  &lt;none&gt;</span><br><span class="line">NewReplicaSet:   nginx-5ff7956ff6 (3/3 replicas created)</span><br><span class="line">Events:</span><br><span class="line">  Type    Reason             Age    From                   Message</span><br><span class="line">  ----    ------             ----   ----                   -------</span><br><span class="line">  Normal  ScalingReplicaSet  5m43s  deployment-controller  Scaled up replicaset nginx-5ff7956ff6 to 3</span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除</span> </span><br><span class="line">[root@master ~]# kubectl delete deploy nginx -n dev</span><br><span class="line">deployment.apps &quot;nginx&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置操作</strong></p><p>创建一个deploy-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f deploy-nginx.yaml</p><p>删除：kubectl delete -f deploy-nginx.yaml</p><h2 id="4-5-Service"><a href="#4-5-Service" class="headerlink" title="4.5 Service"></a>4.5 Service</h2><p>通过上节课的学习，已经能够利用Deployment来创建一组Pod来提供具有高可用性的服务。</p><p>虽然每个Pod都会分配一个单独的Pod IP，然而却存在如下两问题：</p><ul><li>Pod IP 会随着Pod的重建产生变化</li><li>Pod IP 仅仅是集群内可见的虚拟IP，外部无法访问</li></ul><p>这样对于访问这个服务带来了难度。因此，kubernetes设计了Service来解决这个问题。</p><p>Service可以看作是一组同类Pod<strong>对外的访问接口</strong>。借助Service，应用可以方便地实现服务发现和负载均衡。</p><p><img src="https://s2.loli.net/2022/12/29/EptgkjrqOf1GTDS.png" alt="image-20200408194716912"></p><p><strong>操作一：创建集群内部可访问的Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">暴露Service</span></span><br><span class="line">[root@master ~]# kubectl expose deploy nginx --name=svc-nginx1 --type=ClusterIP --port=80 --target-port=80 -n dev</span><br><span class="line">service/svc-nginx1 exposed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看service</span></span><br><span class="line">[root@master ~]# kubectl get svc svc-nginx1 -n dev -o wide</span><br><span class="line">NAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)   AGE     SELECTOR</span><br><span class="line">svc-nginx1   ClusterIP   10.109.179.231   &lt;none&gt;        80/TCP    3m51s   run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里产生了一个CLUSTER-IP，这就是service的IP，在Service的生命周期中，这个地址是不会变动的</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以通过这个IP访问当前service对应的POD</span></span><br><span class="line">[root@master ~]# curl 10.109.179.231:80</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;</span><br><span class="line">.......</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>操作二：创建集群外部也可访问的Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">上面创建的Service的<span class="built_in">type</span>类型为ClusterIP，这个ip地址只用集群内部可访问</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果需要创建外部也可以访问的Service，需要修改<span class="built_in">type</span>为NodePort</span></span><br><span class="line">[root@master ~]# kubectl expose deploy nginx --name=svc-nginx2 --type=NodePort --port=80 --target-port=80 -n dev</span><br><span class="line">service/svc-nginx2 exposed</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时查看，会发现出现了NodePort类型的Service，而且有一对Port（80:31928/TC）</span></span><br><span class="line">[root@master ~]# kubectl get svc  svc-nginx2  -n dev -o wide</span><br><span class="line">NAME          TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE    SELECTOR</span><br><span class="line">svc-nginx2    NodePort    10.100.94.0      &lt;none&gt;        80:31928/TCP   9s     run=nginx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接下来就可以通过集群外的主机访问 节点IP:31928访问服务了</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如在的电脑主机上通过浏览器访问下面的地址</span></span><br><span class="line">http://192.168.5.4:31928/</span><br></pre></td></tr></table></figure><p><strong>删除Service</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl delete svc svc-nginx-1 -n dev service &quot;svc-nginx-1&quot; deleted</span><br></pre></td></tr></table></figure><p><strong>配置方式</strong></p><p>创建一个svc-nginx.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">svc-nginx</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">clusterIP:</span> <span class="number">10.109</span><span class="number">.179</span><span class="number">.231</span> <span class="comment">#固定svc的内网ip</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">targetPort:</span> <span class="number">80</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ClusterIP</span></span><br></pre></td></tr></table></figure><p>然后就可以执行对应的创建和删除命令了：</p><p>创建：kubectl create -f svc-nginx.yaml</p><p>删除：kubectl delete -f svc-nginx.yaml</p><blockquote><p><strong>小结</strong></p><p>至此，已经掌握了Namespace、Pod、Deployment、Service资源的基本操作，有了这些操作，就可以在kubernetes集群中实现一个服务的简单部署和访问了，但是如果想要更好的使用kubernetes，就需要深入学习这几种资源的细节和原理。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.资源管理器</title>
      <link href="/posts/85665ba2.html"/>
      <url>/posts/85665ba2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="3-资源管理"><a href="#3-资源管理" class="headerlink" title="3. 资源管理"></a>3. 资源管理</h1><h2 id="3-1-资源管理介绍"><a href="#3-1-资源管理介绍" class="headerlink" title="3.1 资源管理介绍"></a>3.1 资源管理介绍</h2><p>在kubernetes中，所有的内容都抽象为资源，用户需要通过操作资源来管理kubernetes。</p><blockquote><p>kubernetes的本质上就是一个集群系统，用户可以在集群中部署各种服务，所谓的部署服务，其实就是在kubernetes集群中运行一个个的容器，并将指定的程序跑在容器中。</p><p>kubernetes的最小管理单元是pod而不是容器，所以只能将容器放在<code>Pod</code>中，而kubernetes一般也不会直接管理Pod，而是通过<code>Pod控制器</code>来管理Pod的。</p><p>Pod可以提供服务之后，就要考虑如何访问Pod中服务，kubernetes提供了<code>Service</code>资源实现这个功能。</p><p>当然，如果Pod中程序的数据需要持久化，kubernetes还提供了各种<code>存储</code>系统。</p></blockquote><p><img src="https://s2.loli.net/2022/12/29/qzVupFjrBQkb3X5.png" alt="image-20200406225334627"></p><blockquote><p>学习kubernetes的核心，就是学习如何对集群上的<code>Pod、Pod控制器、Service、存储</code>等各种资源进行操作</p></blockquote><h2 id="3-2-YAML语言介绍"><a href="#3-2-YAML语言介绍" class="headerlink" title="3.2 YAML语言介绍"></a>3.2 YAML语言介绍</h2><p>YAML是一个类似 XML、JSON 的标记性语言。它强调以<strong>数据</strong>为中心，并不是以标识语言为重点。因而YAML本身的定义比较简单，号称”一种人性化的数据格式语言”。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;heima&gt;</span><br><span class="line">    &lt;age&gt;15&lt;/age&gt;</span><br><span class="line">    &lt;address&gt;Beijing&lt;/address&gt;</span><br><span class="line">&lt;/heima&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">heima:</span><br><span class="line">  age: 15</span><br><span class="line">  address: Beijing</span><br></pre></td></tr></table></figure><p>YAML的语法比较简单，主要有下面几个：</p><ul><li>大小写敏感</li><li>使用缩进表示层级关系</li><li>缩进不允许使用tab，只允许空格( 低版本限制 )</li><li>缩进的空格数不重要，只要相同层级的元素左对齐即可</li><li>‘#’表示注释</li></ul><p>YAML支持以下几种数据类型：</p><ul><li>纯量：单个的、不可再分的值</li><li>对象：键值对的集合，又称为映射（mapping）&#x2F; 哈希（hash） &#x2F; 字典（dictionary）</li><li>数组：一组按次序排列的值，又称为序列（sequence） &#x2F; 列表（list）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 纯量, 就是指的一个简单的值，字符串、布尔值、整数、浮点数、Null、时间、日期</span><br><span class="line"># 1 布尔类型</span><br><span class="line">c1: true (或者True)</span><br><span class="line"># 2 整型</span><br><span class="line">c2: 234</span><br><span class="line"># 3 浮点型</span><br><span class="line">c3: 3.14</span><br><span class="line"># 4 null类型 </span><br><span class="line">c4: ~  # 使用~表示null</span><br><span class="line"># 5 日期类型</span><br><span class="line">c5: 2018-02-17    # 日期必须使用ISO 8601格式，即yyyy-MM-dd</span><br><span class="line"># 6 时间类型</span><br><span class="line">c6: 2018-02-17T15:02:31+08:00  # 时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区</span><br><span class="line"># 7 字符串类型</span><br><span class="line">c7: heima     # 简单写法，直接写值 , 如果字符串中间有特殊字符，必须使用双引号或者单引号包裹 </span><br><span class="line">c8: line1</span><br><span class="line">    line2     # 字符串过多的情况可以拆成多行，每一行会被转化成一个空格</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 对象</span><br><span class="line"># 形式一(推荐):</span><br><span class="line">heima:</span><br><span class="line">  age: 15</span><br><span class="line">  address: Beijing</span><br><span class="line"># 形式二(了解):</span><br><span class="line">heima: &#123;age: 15,address: Beijing&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 数组</span><br><span class="line"># 形式一(推荐):</span><br><span class="line">address:</span><br><span class="line">  - 顺义</span><br><span class="line">  - 昌平  </span><br><span class="line"># 形式二(了解):</span><br><span class="line">address: [顺义,昌平]</span><br></pre></td></tr></table></figure><blockquote><p>小提示：</p><p>1 书写yaml切记<code>:</code> 后面要加一个空格</p><p>2 如果需要将多段yaml配置放在一个文件中，中间要使用<code>---</code>分隔</p><p>3 下面是一个yaml转json的网站，可以通过它验证yaml是否书写正确</p><p><a href="https://www.json2yaml.com/convert-yaml-to-json">https://www.json2yaml.com/convert-yaml-to-json</a></p></blockquote><h2 id="3-3-资源管理方式"><a href="#3-3-资源管理方式" class="headerlink" title="3.3 资源管理方式"></a>3.3 资源管理方式</h2><ul><li><p>命令式对象管理：直接使用命令去操作kubernetes资源</p><p>  <code>kubectl run nginx-pod --image=nginx:1.17.1 --port=80</code></p></li><li><p>命令式对象配置：通过命令配置和配置文件去操作kubernetes资源</p><p>  <code>kubectl create/patch -f nginx-pod.yaml</code></p></li><li><p>声明式对象配置：通过apply命令和配置文件去操作kubernetes资源</p><p>  <code>kubectl apply -f nginx-pod.yaml</code></p></li></ul><table><thead><tr><th align="left">类型</th><th align="left">操作对象</th><th align="left">适用环境</th><th align="left">优点</th><th align="left">缺点</th></tr></thead><tbody><tr><td align="left">命令式对象管理</td><td align="left">对象</td><td align="left">测试</td><td align="left">简单</td><td align="left">只能操作活动对象，无法审计、跟踪</td></tr><tr><td align="left">命令式对象配置</td><td align="left">文件</td><td align="left">开发</td><td align="left">可以审计、跟踪</td><td align="left">项目大时，配置文件多，操作麻烦</td></tr><tr><td align="left">声明式对象配置</td><td align="left">目录</td><td align="left">开发</td><td align="left">支持目录操作</td><td align="left">意外情况下难以调试</td></tr></tbody></table><h3 id="3-3-1-命令式对象管理"><a href="#3-3-1-命令式对象管理" class="headerlink" title="3.3.1 命令式对象管理"></a>3.3.1 命令式对象管理</h3><p><strong>kubectl命令</strong></p><p>kubectl是kubernetes集群的命令行工具，通过它能够对集群本身进行管理，并能够在集群上进行容器化应用的安装部署。kubectl命令的语法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl [command] [type] [name] [flags]</span><br></pre></td></tr></table></figure><p><strong>comand</strong>：指定要对资源执行的操作，例如create、get、delete</p><p><strong>type</strong>：指定资源类型，比如deployment、pod、service</p><p><strong>name</strong>：指定资源的名称，名称大小写敏感</p><p><strong>flags</strong>：指定额外的可选参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有pod</span></span><br><span class="line">kubectl get pod </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看某个pod</span></span><br><span class="line">kubectl get pod pod_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看某个pod,以yaml格式展示结果</span></span><br><span class="line">kubectl get pod pod_name -o yaml</span><br></pre></td></tr></table></figure><p><strong>资源类型</strong></p><p>kubernetes中所有的内容都抽象为资源，可以通过下面的命令进行查看:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl api-resources</span><br></pre></td></tr></table></figure><p>经常使用的资源有下面这些：</p><table><thead><tr><th align="left">资源分类</th><th align="left">资源名称</th><th align="left">缩写</th><th align="left">资源作用</th></tr></thead><tbody><tr><td align="left">集群级别资源</td><td align="left">nodes</td><td align="left">no</td><td align="left">集群组成部分</td></tr><tr><td align="left">namespaces</td><td align="left">ns</td><td align="left">隔离Pod</td><td align="left"></td></tr><tr><td align="left">pod资源</td><td align="left">pods</td><td align="left">po</td><td align="left">装载容器</td></tr><tr><td align="left">pod资源控制器</td><td align="left">replicationcontrollers</td><td align="left">rc</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">replicasets</td><td align="left">rs</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">deployments</td><td align="left">deploy</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">daemonsets</td><td align="left">ds</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">jobs</td><td align="left"></td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">cronjobs</td><td align="left">cj</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">horizontalpodautoscalers</td><td align="left">hpa</td><td align="left">控制pod资源</td></tr><tr><td align="left"></td><td align="left">statefulsets</td><td align="left">sts</td><td align="left">控制pod资源</td></tr><tr><td align="left">服务发现资源</td><td align="left">services</td><td align="left">svc</td><td align="left">统一pod对外接口</td></tr><tr><td align="left"></td><td align="left">ingress</td><td align="left">ing</td><td align="left">统一pod对外接口</td></tr><tr><td align="left">存储资源</td><td align="left">volumeattachments</td><td align="left"></td><td align="left">存储</td></tr><tr><td align="left"></td><td align="left">persistentvolumes</td><td align="left">pv</td><td align="left">存储</td></tr><tr><td align="left"></td><td align="left">persistentvolumeclaims</td><td align="left">pvc</td><td align="left">存储</td></tr><tr><td align="left">配置资源</td><td align="left">configmaps</td><td align="left">cm</td><td align="left">配置</td></tr><tr><td align="left"></td><td align="left">secrets</td><td align="left"></td><td align="left">配置</td></tr></tbody></table><p><strong>操作</strong></p><p>kubernetes允许对资源进行多种操作，可以通过–help查看详细的操作命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl --help</span><br></pre></td></tr></table></figure><p>经常使用的操作有下面这些：</p><table><thead><tr><th align="left">命令分类</th><th align="left">命令</th><th align="left">翻译</th><th align="left">命令作用</th></tr></thead><tbody><tr><td align="left">基本命令</td><td align="left">create</td><td align="left">创建</td><td align="left">创建一个资源</td></tr><tr><td align="left"></td><td align="left">edit</td><td align="left">编辑</td><td align="left">编辑一个资源</td></tr><tr><td align="left"></td><td align="left">get</td><td align="left">获取</td><td align="left">获取一个资源</td></tr><tr><td align="left"></td><td align="left">patch</td><td align="left">更新</td><td align="left">更新一个资源</td></tr><tr><td align="left"></td><td align="left">delete</td><td align="left">删除</td><td align="left">删除一个资源</td></tr><tr><td align="left"></td><td align="left">explain</td><td align="left">解释</td><td align="left">展示资源文档</td></tr><tr><td align="left">运行和调试</td><td align="left">run</td><td align="left">运行</td><td align="left">在集群中运行一个指定的镜像</td></tr><tr><td align="left"></td><td align="left">expose</td><td align="left">暴露</td><td align="left">暴露资源为Service</td></tr><tr><td align="left"></td><td align="left">describe</td><td align="left">描述</td><td align="left">显示资源内部信息</td></tr><tr><td align="left"></td><td align="left">logs</td><td align="left">日志输出容器在 pod 中的日志</td><td align="left">输出容器在 pod 中的日志</td></tr><tr><td align="left"></td><td align="left">attach</td><td align="left">缠绕进入运行中的容器</td><td align="left">进入运行中的容器</td></tr><tr><td align="left"></td><td align="left">exec</td><td align="left">执行容器中的一个命令</td><td align="left">执行容器中的一个命令</td></tr><tr><td align="left"></td><td align="left">cp</td><td align="left">复制</td><td align="left">在Pod内外复制文件</td></tr><tr><td align="left"></td><td align="left">rollout</td><td align="left">首次展示</td><td align="left">管理资源的发布</td></tr><tr><td align="left"></td><td align="left">scale</td><td align="left">规模</td><td align="left">扩(缩)容Pod的数量</td></tr><tr><td align="left"></td><td align="left">autoscale</td><td align="left">自动调整</td><td align="left">自动调整Pod的数量</td></tr><tr><td align="left">高级命令</td><td align="left">apply</td><td align="left">rc</td><td align="left">通过文件对资源进行配置</td></tr><tr><td align="left"></td><td align="left">label</td><td align="left">标签</td><td align="left">更新资源上的标签</td></tr><tr><td align="left">其他命令</td><td align="left">cluster-info</td><td align="left">集群信息</td><td align="left">显示集群信息</td></tr><tr><td align="left"></td><td align="left">version</td><td align="left">版本</td><td align="left">显示当前Server和Client的版本</td></tr></tbody></table><p>下面以一个namespace &#x2F; pod的创建和删除简单演示下命令的使用：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建一个namespace</span></span><br><span class="line">[root@master ~]# kubectl create namespace dev</span><br><span class="line">namespace/dev created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取namespace</span></span><br><span class="line">[root@master ~]# kubectl get ns</span><br><span class="line">NAME              STATUS   AGE</span><br><span class="line">default           Active   21h</span><br><span class="line">dev               Active   21s</span><br><span class="line">kube-node-lease   Active   21h</span><br><span class="line">kube-public       Active   21h</span><br><span class="line">kube-system       Active   21h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在此namespace下创建并运行一个nginx的Pod</span></span><br><span class="line">[root@master ~]# kubectl run pod --image=nginx:latest -n dev</span><br><span class="line">kubectl run --generator=deployment/apps.v1 is DEPRECATED and will be removed in a future version. Use kubectl run --generator=run-pod/v1 or kubectl create instead.</span><br><span class="line">deployment.apps/pod created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看新创建的pod</span></span><br><span class="line">[root@master ~]# kubectl get pod -n dev</span><br><span class="line">NAME  READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod   1/1     Running   0          21s</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定的pod</span></span><br><span class="line">[root@master ~]# kubectl delete pod pod-864f9875b9-pcw7x</span><br><span class="line">pod &quot;pod&quot; deleted</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除指定的namespace</span></span><br><span class="line">[root@master ~]# kubectl delete ns dev</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br></pre></td></tr></table></figure><h3 id="3-3-2-命令式对象配置"><a href="#3-3-2-命令式对象配置" class="headerlink" title="3.3.2 命令式对象配置"></a>3.3.2 命令式对象配置</h3><p>命令式对象配置就是使用命令配合配置文件一起来操作kubernetes资源。</p><p>1） 创建一个nginxpod.yaml，内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Namespace</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginxpod</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx-containers</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br></pre></td></tr></table></figure><p>2）执行create命令，创建资源：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@master</span> <span class="string">~</span>]<span class="comment"># kubectl create -f nginxpod.yaml</span></span><br><span class="line"><span class="string">namespace/dev</span> <span class="string">created</span></span><br><span class="line"><span class="string">pod/nginxpod</span> <span class="string">created</span></span><br></pre></td></tr></table></figure><p>此时发现创建了两个资源对象，分别是namespace和pod</p><p>3）执行get命令，查看资源：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]#  kubectl get -f nginxpod.yaml</span><br><span class="line">NAME            STATUS   AGE</span><br><span class="line">namespace/dev   Active   18s</span><br><span class="line"></span><br><span class="line">NAME            READY   STATUS    RESTARTS   AGE</span><br><span class="line">pod/nginxpod    1/1     Running   0          17s</span><br></pre></td></tr></table></figure><p>这样就显示了两个资源对象的信息</p><p>4）执行delete命令，删除资源：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl delete -f nginxpod.yaml</span><br><span class="line">namespace &quot;dev&quot; deleted</span><br><span class="line">pod &quot;nginxpod&quot; deleted</span><br></pre></td></tr></table></figure><p>此时发现两个资源对象被删除了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">总结:</span><br><span class="line">    命令式对象配置的方式操作资源，可以简单的认为：命令  +  yaml配置文件（里面是命令需要的各种参数）</span><br></pre></td></tr></table></figure><h3 id="3-3-3-声明式对象配置"><a href="#3-3-3-声明式对象配置" class="headerlink" title="3.3.3 声明式对象配置"></a>3.3.3 声明式对象配置</h3><p>声明式对象配置跟命令式对象配置很相似，但是它只有一个命令apply。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">首先执行一次kubectl apply -f yaml文件，发现创建了资源</span></span><br><span class="line">[root@master ~]#  kubectl apply -f nginxpod.yaml</span><br><span class="line">namespace/dev created</span><br><span class="line">pod/nginxpod created</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次执行一次kubectl apply -f yaml文件，发现说资源没有变动</span></span><br><span class="line">[root@master ~]#  kubectl apply -f nginxpod.yaml</span><br><span class="line">namespace/dev unchanged</span><br><span class="line">pod/nginxpod unchanged</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">总结:</span><br><span class="line">    其实声明式对象配置就是使用apply描述一个资源最终的状态（在yaml中定义状态）</span><br><span class="line">    使用apply操作资源：</span><br><span class="line">        如果资源不存在，就创建，相当于 kubectl create</span><br><span class="line">        如果资源已存在，就更新，相当于 kubectl patch</span><br></pre></td></tr></table></figure><blockquote><p>扩展：kubectl可以在node节点上运行吗 ?</p></blockquote><p>kubectl的运行是需要进行配置的，它的配置文件是$HOME&#x2F;.kube，如果想要在node节点运行此命令，需要将master上的.kube文件复制到node节点上，即在master节点上执行下面操作：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp  -r  HOME/.kube   node1: HOME/</span><br></pre></td></tr></table></figure><blockquote><p>使用推荐: 三种方式应该怎么用 ?</p></blockquote><p>创建&#x2F;更新资源 使用声明式对象配置 kubectl apply -f XXX.yaml</p><p>删除资源 使用命令式对象配置 kubectl delete -f XXX.yaml</p><p>查询资源 使用命令式对象管理 kubectl get(describe) 资源名称</p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.k8s安装部署</title>
      <link href="/posts/91b35ad8.html"/>
      <url>/posts/91b35ad8.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="2-2-kubeadm-部署方式介绍"><a href="#2-2-kubeadm-部署方式介绍" class="headerlink" title="2.2 kubeadm 部署方式介绍"></a>2.2 kubeadm 部署方式介绍</h4><p>kubeadm 是官方社区推出的一个用于快速部署kubernetes 集群的工具，这个工具能通过两条指令完成一个kubernetes 集群的部署：</p><ul><li>创建一个Master 节点kubeadm init</li><li>将Node 节点加入到当前集群中$ kubeadm join &lt;Master 节点的IP 和端口&gt;</li></ul><h4 id="2-3-安装要求"><a href="#2-3-安装要求" class="headerlink" title="2.3 安装要求"></a>2.3 安装要求</h4><p>在开始之前，部署Kubernetes 集群机器需要满足以下几个条件：</p><ul><li>一台或多台机器，操作系统CentOS7.x-86_x64</li><li>硬件配置：2GB 或更多RAM，2 个CPU 或更多CPU，硬盘30GB 或更多</li><li>集群中所有机器之间网络互通</li><li>可以访问外网，需要拉取镜像</li><li>禁止swap 分区</li></ul><h4 id="2-4-最终目标"><a href="#2-4-最终目标" class="headerlink" title="2.4 最终目标"></a>2.4 最终目标</h4><ul><li>在所有节点上安装Docker 和kubeadm</li><li>部署Kubernetes Master</li><li>部署容器网络插件</li><li>部署Kubernetes Node，将节点加入Kubernetes 集群中</li><li>部署Dashboard Web 页面，可视化查看Kubernetes 资源</li></ul><h4 id="2-5-准备环境"><a href="#2-5-准备环境" class="headerlink" title="2.5 准备环境"></a>2.5 准备环境</h4><p><img src="https://s2.loli.net/2023/01/20/agvFUDi65RBun1V.png" alt="image-20210609000002940"></p><table><thead><tr><th align="left">角色</th><th align="left">IP地址</th><th align="left">组件</th></tr></thead><tbody><tr><td align="left">master01</td><td align="left">192.168.5.3</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr><tr><td align="left">node01</td><td align="left">192.168.5.4</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr><tr><td align="left">node02</td><td align="left">192.168.5.5</td><td align="left">docker，kubectl，kubeadm，kubelet</td></tr></tbody></table><h4 id="2-6-环境初始化"><a href="#2-6-环境初始化" class="headerlink" title="2.6 环境初始化"></a>2.6 环境初始化</h4><h5 id="2-6-1-检查操作系统的版本"><a href="#2-6-1-检查操作系统的版本" class="headerlink" title="2.6.1 检查操作系统的版本"></a>2.6.1 检查操作系统的版本</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此方式下安装kubernetes集群要求Centos版本要在7.5或之上</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">Centos Linux <span class="number">7.5</span>.<span class="number">1804</span> (Core)</span><br></pre></td></tr></table></figure><h5 id="2-6-2-主机名解析"><a href="#2-6-2-主机名解析" class="headerlink" title="2.6.2 主机名解析"></a>2.6.2 主机名解析</h5><p>为了方便集群节点间的直接调用，在这个配置一下主机名解析，企业中推荐使用内部DNS服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主机名成解析 编辑三台服务器的/etc/hosts文件，添加下面内容</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.100</span> master</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.106</span> node1</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.107</span> node2</span><br></pre></td></tr></table></figure><h5 id="2-6-3-时间同步"><a href="#2-6-3-时间同步" class="headerlink" title="2.6.3 时间同步"></a>2.6.3 时间同步</h5><p>kubernetes要求集群中的节点时间必须精确一直，这里使用chronyd服务从网络同步时间</p><p>企业中建议配置内部的会见同步服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动chronyd服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl start chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># date</span></span><br></pre></td></tr></table></figure><h5 id="2-6-4-禁用iptable和firewalld服务"><a href="#2-6-4-禁用iptable和firewalld服务" class="headerlink" title="2.6.4  禁用iptable和firewalld服务"></a>2.6.4  禁用iptable和firewalld服务</h5><p>kubernetes和docker 在运行的中会产生大量的iptables规则，为了不让系统规则跟它们混淆，直接关闭系统的规则</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 关闭firewalld服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop firewalld</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable firewalld</span></span><br><span class="line"><span class="comment"># 2 关闭iptables服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop iptables</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable iptables</span></span><br></pre></td></tr></table></figure><h5 id="2-6-5-禁用selinux"><a href="#2-6-5-禁用selinux" class="headerlink" title="2.6.5 禁用selinux"></a>2.6.5 禁用selinux</h5><p>selinux是linux系统下的一个安全服务，如果不关闭它，在安装集群中会产生各种各样的奇葩问题</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 /etc/selinux/config 文件，修改SELINUX的值为disable</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><h5 id="2-6-6-禁用swap分区"><a href="#2-6-6-禁用swap分区" class="headerlink" title="2.6.6 禁用swap分区"></a>2.6.6 禁用swap分区</h5><p>swap分区指的是虚拟内存分区，它的作用是物理内存使用完，之后将磁盘空间虚拟成内存来使用，启用swap设备会对系统的性能产生非常负面的影响，因此kubernetes要求每个节点都要禁用swap设备，但是如果因为某些原因确实不能关闭swap分区，就需要在集群安装过程中通过明确的参数进行配置说明</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑分区配置文件/etc/fstab，注释掉swap分区一行</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">注释掉 /dev/mapper/centos<span class="literal">-swap</span> swap</span><br><span class="line"><span class="comment"># /dev/mapper/centos-swap swap</span></span><br></pre></td></tr></table></figure><h5 id="2-6-7-修改linux的内核参数"><a href="#2-6-7-修改linux的内核参数" class="headerlink" title="2.6.7 修改linux的内核参数"></a>2.6.7 修改linux的内核参数</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改linux的内核采纳数，添加网桥过滤和地址转发功能</span></span><br><span class="line"><span class="comment"># 编辑/etc/sysctl.d/kubernetes.conf文件，添加如下配置：</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-ip6tables</span> = <span class="number">1</span></span><br><span class="line">net.bridge.bridge<span class="literal">-nf-call-iptables</span> = <span class="number">1</span></span><br><span class="line">net.ipv4.ip_forward = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载配置</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sysctl -p</span></span><br><span class="line"><span class="comment"># 加载网桥过滤模块</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># modprobe br_netfilter</span></span><br><span class="line"><span class="comment"># 查看网桥过滤模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep br_netfilter</span></span><br></pre></td></tr></table></figure><h5 id="2-6-8-配置ipvs功能"><a href="#2-6-8-配置ipvs功能" class="headerlink" title="2.6.8 配置ipvs功能"></a>2.6.8 配置ipvs功能</h5><p>在Kubernetes中Service有两种带来模型，一种是基于iptables的，一种是基于ipvs的两者比较的话，ipvs的性能明显要高一些，但是如果要使用它，需要手动载入ipvs模块</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1.安装ipset和ipvsadm</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install ipset ipvsadm -y</span></span><br><span class="line"><span class="comment"># 2.添加需要加载的模块写入脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">modprobe <span class="literal">--</span> ip_vs</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_rr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_wrr</span><br><span class="line">modprobe <span class="literal">--</span> ip_vs_sh</span><br><span class="line">modprobe <span class="literal">--</span> nf_conntrack_ipv4</span><br><span class="line">EOF</span><br><span class="line"><span class="comment"># 3.为脚本添加执行权限</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># chmod +x /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 4.执行脚本文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># /bin/bash /etc/sysconfig/modules/ipvs.modules</span></span><br><span class="line"><span class="comment"># 5.查看对应的模块是否加载成功</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># lsmod | grep -e ip_vs -e nf_conntrack_ipv4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-9-安装docker"><a href="#2-6-9-安装docker" class="headerlink" title="2.6.9 安装docker"></a>2.6.9 安装docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、切换镜像源</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、查看当前镜像源中支持的docker版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum list docker-ce --showduplicates</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装特定版本的docker-ce</span></span><br><span class="line"><span class="comment"># 必须制定--setopt=obsoletes=0，否则yum会自动安装更高版本</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 docker-ce-18.06.3.ce-3.el7 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、添加一个配置文件</span></span><br><span class="line"><span class="comment">#Docker 在默认情况下使用Vgroup Driver为cgroupfs，而Kubernetes推荐使用systemd来替代cgroupfs</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir /etc/docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># cat &lt;&lt;EOF&gt; /etc/docker/daemon.json</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line"><span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://kn0t2bca.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、启动dokcer</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl restart docker</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable docker</span></span><br></pre></td></tr></table></figure><h5 id="2-6-10-安装Kubernetes组件"><a href="#2-6-10-安装Kubernetes组件" class="headerlink" title="2.6.10 安装Kubernetes组件"></a>2.6.10 安装Kubernetes组件</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、由于kubernetes的镜像在国外，速度比较慢，这里切换成国内的镜像源</span></span><br><span class="line"><span class="comment"># 2、编辑/etc/yum.repos.d/kubernetes.repo,添加下面的配置</span></span><br><span class="line">[<span class="type">kubernetes</span>]</span><br><span class="line">name=Kubernetes</span><br><span class="line">baseurl=http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes<span class="literal">-el7-x86_64</span></span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgchech=<span class="number">0</span></span><br><span class="line">repo_gpgcheck=<span class="number">0</span></span><br><span class="line">gpgkey=http://mirrors.aliyun.com/kubernetes/yum/doc/yum<span class="literal">-key</span>.gpg</span><br><span class="line">http://mirrors.aliyun.com/kubernetes/yum/doc/rpm<span class="literal">-package-key</span>.gpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装kubeadm、kubelet和kubectl</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># yum install --setopt=obsoletes=0 kubeadm-1.17.4-0 kubelet-1.17.4-0 kubectl-1.17.4-0 -y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、配置kubelet的cgroup</span></span><br><span class="line"><span class="comment">#编辑/etc/sysconfig/kubelet, 添加下面的配置</span></span><br><span class="line">KUBELET_CGROUP_ARGS=<span class="string">&quot;--cgroup-driver=systemd&quot;</span></span><br><span class="line">KUBE_PROXY_MODE=<span class="string">&quot;ipvs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、设置kubelet开机自启</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable kubelet</span></span><br></pre></td></tr></table></figure><h5 id="2-6-11-准备集群镜像"><a href="#2-6-11-准备集群镜像" class="headerlink" title="2.6.11 准备集群镜像"></a>2.6.11 准备集群镜像</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在安装kubernetes集群之前，必须要提前准备好集群需要的镜像，所需镜像可以通过下面命令查看</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm config images list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载镜像</span></span><br><span class="line"><span class="comment"># 此镜像kubernetes的仓库中，由于网络原因，无法连接，下面提供了一种替换方案</span></span><br><span class="line">images=(</span><br><span class="line">kube<span class="literal">-apiserver</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-controller-manager</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-scheduler</span>:v1.<span class="number">17.4</span></span><br><span class="line">kube<span class="literal">-proxy</span>:v1.<span class="number">17.4</span></span><br><span class="line">pause:<span class="number">3.1</span></span><br><span class="line">etcd:<span class="number">3.4</span>.<span class="number">3</span><span class="literal">-0</span></span><br><span class="line">coredns:<span class="number">1.6</span>.<span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> imageName <span class="keyword">in</span> <span class="variable">$</span>&#123;images[<span class="selector-tag">@</span>]&#125;;<span class="keyword">do</span></span><br><span class="line">docker pull registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span></span><br><span class="line">docker tag registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> k8s.gcr.io/<span class="variable">$imageName</span></span><br><span class="line">docker rmi registry.cn<span class="literal">-hangzhou</span>.aliyuncs.com/google_containers/<span class="variable">$imageName</span> </span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-11-集群初始化"><a href="#2-6-11-集群初始化" class="headerlink" title="2.6.11 集群初始化"></a>2.6.11 集群初始化</h5><blockquote><p>下面的操作只需要在master节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建集群</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm init \</span></span><br><span class="line"><span class="literal">--apiserver-advertise-address</span>=<span class="number">192.168</span>.<span class="number">169.100</span> \</span><br><span class="line"><span class="literal">--image-repository</span> registry.aliyuncs.com/google_containers \</span><br><span class="line"><span class="literal">--kubernetes-version</span>=v1.<span class="number">17.4</span> \</span><br><span class="line"><span class="literal">--service-cidr</span>=<span class="number">10.96</span>.<span class="number">0.0</span>/<span class="number">12</span> \</span><br><span class="line"><span class="literal">--pod-network-cidr</span>=<span class="number">10.244</span>.<span class="number">0.0</span>/<span class="number">16</span></span><br><span class="line"><span class="comment"># 创建必要文件</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># mkdir -p $HOME/.kube</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># sudo chown $(id -u):$(id -g) $HOME/.kube/config</span></span><br></pre></td></tr></table></figure><blockquote><p>下面的操作只需要在node节点上执行即可</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join <span class="number">192.168</span>.<span class="number">0.100</span>:<span class="number">6443</span> <span class="literal">--token</span> awk15p.t6bamck54w69u4s8 \</span><br><span class="line">    <span class="literal">--discovery-token-ca-cert-hash</span> sha256:a94fa09562466d32d29523ab6cff122186f1127599fa4dcd5fa0152694f17117 </span><br></pre></td></tr></table></figure><p>在master上查看节点信息</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubectl get nodes</span></span><br><span class="line">NAME    STATUS   ROLES     AGE   VERSION</span><br><span class="line">master  NotReady  master   <span class="number">6</span>m    v1.<span class="number">17.4</span></span><br><span class="line">node1   NotReady   &lt;none&gt;  <span class="number">22</span>s   v1.<span class="number">17.4</span></span><br><span class="line">node2   NotReady   &lt;none&gt;  <span class="number">19</span>s   v1.<span class="number">17.4</span></span><br></pre></td></tr></table></figure><h5 id="2-6-13-安装网络插件，只在master节点操作即可"><a href="#2-6-13-安装网络插件，只在master节点操作即可" class="headerlink" title="2.6.13 安装网络插件，只在master节点操作即可"></a>2.6.13 安装网络插件，只在master节点操作即可</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wget</span> https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>由于外网不好访问，如果出现无法访问的情况，可以直接用下面的 记得文件名是kube-flannel.yml，位置：&#x2F;root&#x2F;kube-flannel.yml内容：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/flannel<span class="literal">-io</span>/flannel/tree/master/Documentation/kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>也可手动拉取指定版本<br>docker pull quay.io&#x2F;coreos&#x2F;flannel:v0.14.0              #拉取flannel网络，三台主机<br>docker images                  #查看仓库是否拉去下来</p><p><code>个人笔记</code><br>若是集群状态一直是 notready,用下面语句查看原因，<br>journalctl -f -u kubelet.service<br>若原因是： cni.go:237] Unable to update cni config: no networks found in &#x2F;etc&#x2F;cni&#x2F;net.d<br>mkdir -p &#x2F;etc&#x2F;cni&#x2F;net.d                    #创建目录给flannel做配置文件<br>vim &#x2F;etc&#x2F;cni&#x2F;net.d&#x2F;10-flannel.conf         #编写配置文件</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">&quot;name&quot;</span>:<span class="string">&quot;cbr0&quot;</span>,</span><br><span class="line"> <span class="string">&quot;cniVersion&quot;</span>:<span class="string">&quot;0.3.1&quot;</span>,</span><br><span class="line"> <span class="string">&quot;type&quot;</span>:<span class="string">&quot;flannel&quot;</span>,</span><br><span class="line"> <span class="string">&quot;deledate&quot;</span>:&#123;</span><br><span class="line">    <span class="string">&quot;hairpinMode&quot;</span>:true,</span><br><span class="line">    <span class="string">&quot;isDefaultGateway&quot;</span>:true</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-6-14-使用kubeadm-reset重置集群"><a href="#2-6-14-使用kubeadm-reset重置集群" class="headerlink" title="2.6.14 使用kubeadm reset重置集群"></a>2.6.14 使用kubeadm reset重置集群</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#在master节点之外的节点进行操作</span><br><span class="line">kubeadm reset</span><br><span class="line">systemctl stop kubelet</span><br><span class="line">systemctl stop docker</span><br><span class="line">rm -rf /var/lib/cni/</span><br><span class="line">rm -rf /var/lib/kubelet/*</span><br><span class="line">rm -rf /etc/cni/</span><br><span class="line">ifconfig cni0 down</span><br><span class="line">ifconfig flannel.1 down</span><br><span class="line">ifconfig docker0 down</span><br><span class="line">ip link delete cni0</span><br><span class="line">ip link delete flannel.1</span><br><span class="line">##重启kubelet</span><br><span class="line">systemctl restart kubelet</span><br><span class="line">##重启docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h5 id="2-6-15-重启kubelet和docker"><a href="#2-6-15-重启kubelet和docker" class="headerlink" title="2.6.15 重启kubelet和docker"></a>2.6.15 重启kubelet和docker</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重启kubelet</span></span><br><span class="line">systemctl restart kubelet</span><br><span class="line"><span class="comment"># 重启docker</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>使用配置文件启动fannel</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply <span class="operator">-f</span> kube<span class="literal">-flannel</span>.yml</span><br></pre></td></tr></table></figure><p>等待它安装完毕 发现已经是 集群的状态已经是Ready</p><p><img src="https://s2.loli.net/2023/01/20/NX47UjpanZ5AruM.png" alt="img"></p><h5 id="2-6-16-kubeadm中的命令"><a href="#2-6-16-kubeadm中的命令" class="headerlink" title="2.6.16 kubeadm中的命令"></a>2.6.16 kubeadm中的命令</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成 新的token</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># kubeadm token create --print-join-command</span></span><br></pre></td></tr></table></figure><h4 id="2-7-集群测试"><a href="#2-7-集群测试" class="headerlink" title="2.7 集群测试"></a>2.7 集群测试</h4><h5 id="2-7-1-创建一个nginx服务"><a href="#2-7-1-创建一个nginx服务" class="headerlink" title="2.7.1 创建一个nginx服务"></a>2.7.1 创建一个nginx服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create deployment nginx  <span class="literal">--image</span>=nginx:<span class="number">1.14</span><span class="literal">-alpine</span></span><br></pre></td></tr></table></figure><h5 id="2-7-2-暴露端口"><a href="#2-7-2-暴露端口" class="headerlink" title="2.7.2 暴露端口"></a>2.7.2 暴露端口</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl expose deploy nginx  <span class="literal">--port</span>=<span class="number">80</span> <span class="literal">--target-port</span>=<span class="number">80</span>  <span class="literal">--type</span>=NodePort</span><br></pre></td></tr></table></figure><h5 id="2-7-3-查看服务"><a href="#2-7-3-查看服务" class="headerlink" title="2.7.3 查看服务"></a>2.7.3 查看服务</h5><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod,svc</span><br></pre></td></tr></table></figure><h5 id="2-7-4-查看pod"><a href="#2-7-4-查看pod" class="headerlink" title="2.7.4 查看pod"></a>2.7.4 查看pod</h5><p><img src="https://s2.loli.net/2023/01/20/pdK6OJnImvZGNR1.png" alt="img"></p><p>浏览器测试结果：</p><p><img src="https://s2.loli.net/2023/01/20/lZzMhoHsP1qUjNY.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.用户管理</title>
      <link href="/posts/e0ed1ab3.html"/>
      <url>/posts/e0ed1ab3.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="6-1-MySQL用户管理-用户介绍"><a href="#6-1-MySQL用户管理-用户介绍" class="headerlink" title="6-1 MySQL用户管理 - 用户介绍"></a>6-1 MySQL用户管理 - 用户介绍</h1><ul><li>用户的作用</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- 登录MySQL</span><br><span class="line">- 管理mysql </span><br></pre></td></tr></table></figure><ul><li>用户的定义(用户长啥样)</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MySQL中的用户： 用户名@&#x27;白名单&#x27;</span><br><span class="line">白名单：允许白名单的IP登录MySQL和管理MySQL</span><br><span class="line"></span><br><span class="line">eg：</span><br><span class="line">test@&#x27;localhost&#x27;:test用户只能通过本地登录MySQL</span><br><span class="line">test@&#x27;10.0.0.10&#x27;:test用户能够通过ip-10.0.0.10远程登录MySQL服务器</span><br><span class="line">test@&#x27;10.0.0.%&#x27;:test用户能够通过某个网段登录到MySQL服务器</span><br><span class="line">test@&#x27;%&#x27;：test用户可以通过所有IP登录MySQL服务器   </span><br></pre></td></tr></table></figure><h1 id="6-2-MySQL用户管理-用户的增删改查操作"><a href="#6-2-MySQL用户管理-用户的增删改查操作" class="headerlink" title="6-2 MySQL用户管理 - 用户的增删改查操作"></a>6-2 MySQL用户管理 - 用户的增删改查操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 查</span><br><span class="line">-- 查看当前MySQL中所有的用户</span><br><span class="line">select * from mysql.user \G;</span><br><span class="line"></span><br><span class="line">-- 查看MySQL中用户和对应的白名单</span><br><span class="line">select concat(user,&#x27;@&#x27;,host) from mysql.user;</span><br><span class="line"></span><br><span class="line">-- 增</span><br><span class="line">create user test@&#x27;10.0.0.%&#x27;;  -- 创建test用户可以通过10.0.0.%网段登录MySQL，并且不需要密码</span><br><span class="line">create user zxw@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;; -- 创建zxw@&#x27;10.0.0.%&#x27;用户，密码是123</span><br><span class="line"></span><br><span class="line">-- 改</span><br><span class="line">alter user test@&#x27;10.0.0.%&#x27; identified by &#x27;456&#x27;; -- test@&#x27;10.0.0.%&#x27;用户修改密码</span><br><span class="line">update user set host=&#x27;10.0.0.8&#x27; where user=&#x27;test&#x27;;  -- 修改test用户的白名单 </span><br><span class="line"></span><br><span class="line">-- 删</span><br><span class="line">drop user test@&#x27;10.0.0.%&#x27;;  -- 删除test@&#x27;10.0.0.%&#x27;用户</span><br><span class="line"></span><br><span class="line">-- 刷新</span><br><span class="line">flush priv</span><br></pre></td></tr></table></figure><h1 id="6-3-MySQL权限管理-权限介绍"><a href="#6-3-MySQL权限管理-权限介绍" class="headerlink" title="6-3 MySQL权限管理 - 权限介绍"></a>6-3 MySQL权限管理 - 权限介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 权限的作用</span><br><span class="line">用户对数据库中的数据有哪些管理能力</span><br><span class="line">-- 如何查看权限</span><br><span class="line"></span><br><span class="line">可以通过show privileges;查看都有哪些权限</span><br><span class="line">总体权限分为四种就是增删改查</span><br><span class="line"></span><br><span class="line">-- 查看某个用户的权限</span><br><span class="line">show grants for 用户;</span><br><span class="line">show grants for test@&#x27;localhost&#x27;；</span><br></pre></td></tr></table></figure><h1 id="6-4-MySQL权限管理-授权-x2F-回收权限"><a href="#6-4-MySQL权限管理-授权-x2F-回收权限" class="headerlink" title="6-4 MySQL权限管理 - 授权&#x2F;回收权限"></a>6-4 MySQL权限管理 - 授权&#x2F;回收权限</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- 授权</span><br><span class="line">grant 权限 on 对象 to 用户 identified by &#x27;密码&#x27;;  -- (8.0版本前，创建用户并赋予权限)</span><br><span class="line"></span><br><span class="line">-- 8.0+版本授权操作，如果用户不存在需要先创建用户再授权</span><br><span class="line">create user 用户 identified by &#x27;密码&#x27;;</span><br><span class="line">grant 权限1， 权限2..., all privileges(所有权限) on 对象(库表) to 用户 (with grant option);</span><br><span class="line"></span><br><span class="line">-- 权限</span><br><span class="line">all  -- 所有的权限</span><br><span class="line">with grant option -- 可以给其他的用户授予自己有的权限</span><br><span class="line">权限1, 权限2...  -- 指定一个或者几个权限</span><br><span class="line"></span><br><span class="line">-- 权限的作用范围</span><br><span class="line">*.*  -- 所有的库</span><br><span class="line">库名.*  -- 指定库名的所有表</span><br><span class="line">库名.表名  -- 某个库下的某张表</span><br><span class="line"></span><br><span class="line">-- 授权举例 grant</span><br><span class="line">- 创建并授权管理员用户zhang,能够通过10.0.0.%网段登录并管理数据库</span><br><span class="line">  create user zhang@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;;</span><br><span class="line">  grant all(所有的权限) on *.*(所有库下的所有表) to zhang@&#x27;10.0.0.%&#x27;(用户) with grant option;   (超级管理员)</span><br><span class="line">- 查看用户的权限</span><br><span class="line">show grants for 用户;</span><br><span class="line">show grants for zhang@&#x27;10.0.0.%&#x27;;</span><br><span class="line">- 创建并授权一个app@&#x27;10.0.0.%&#x27;用户，能够对app库下的所有表进行select, update, insert, delete操作</span><br><span class="line">grant select ,update,insert,delete, create on app.* to app@&#x27;10.0.0.%&#x27; identified by &#x27;123&#x27;;</span><br><span class="line"></span><br><span class="line">-- 回收权限 revoke</span><br><span class="line">revoke create(权限) on app.*(对象) from app@&#x27;10.0.0.%&#x27;(用户); # ✔️，用户的权限修改成功，回收了用户的create权限</span><br></pre></td></tr></table></figure><h1 id="6-5-MySQL配置文件介绍"><a href="#6-5-MySQL配置文件介绍" class="headerlink" title="6-5 MySQL配置文件介绍"></a>6-5 MySQL配置文件介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 服务端</span><br><span class="line">[mysqld]</span><br><span class="line">port=3306  # 端口设置</span><br><span class="line">basedir=D:\mysql-8.0.27-winx64   # 设置mysql的安装目录</span><br><span class="line">datadir=D:\mysql-8.0.27-winx64\Data   # 设置mysql数据库的数据的存放目录</span><br><span class="line">max_connections=200  # 允许最大连接数</span><br><span class="line">max_connect_errors=10  # 最大允许连接错误的次数</span><br><span class="line">character-set-server=utf8  # 服务端使用的字符集默认为UTF8</span><br><span class="line">default-storage-engine=INNODB  # 创建新表时将使用的默认存储引擎</span><br><span class="line">default_authentication_plugin=mysql_native_password  # 默认使用“mysql_native_password”插件认证</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line"># 设置mysql客户端连接服务端时默认使用的端口</span><br><span class="line">port=3306</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.MySQL介绍与安装</title>
      <link href="/posts/f9356eaa.html"/>
      <url>/posts/f9356eaa.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="数据库介绍"><a href="#数据库介绍" class="headerlink" title="数据库介绍"></a>数据库介绍</h1><h2 id="数据库定义和分类"><a href="#数据库定义和分类" class="headerlink" title="数据库定义和分类"></a>数据库定义和分类</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">数据库定义：</span><br><span class="line">数据库数据库是结构化信息或数据（一般以电子形式存储在计算机系统中）的有组织的集合，通常由数据库管理系统 (DBMS) 来控制。</span><br><span class="line"></span><br><span class="line">数据库管理系统定义：</span><br><span class="line">充当数据库与其用户或程序之间的接口，允许用户检索、更新和管理信息的组织和优化方式。</span><br><span class="line">还有助于监督和控制数据库，提供各种管理操作，例如性能监视、调优、备份和恢复。</span><br><span class="line">常见的数据库软件或 DBMS 有 MySQL、Microsoft <span class="keyword">SQL</span> Server、Oracle Database等。</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库分类：</span><br><span class="line"><span class="operator">-</span> 关系型数据库：关系型数据库模型是把复杂的数据结构归结为简单的二元关系（即二维表格形式）。常用关系型数据库： oracle、 MySQL、 MariaDB、<span class="keyword">SQL</span> Server</span><br><span class="line"></span><br><span class="line"><span class="operator">-</span> 非关系型数据库：非关系型数据库也被称为NoSQL数据库，NoSQL的本意是“<span class="keyword">Not</span> <span class="keyword">Only</span> <span class="keyword">SQL</span>”，指的是非关系型数据库。NoSQL的产生并不是要彻底否定关系型数据库，而是作为传统数据库的一个有效补充。NoSQL数据存储不需要固定的表结构，通常也不存在连续操作。常用非关系型数据库：redis、MongoDB、Memcached</span><br></pre></td></tr></table></figure><h2 id="数据库发展历程"><a href="#数据库发展历程" class="headerlink" title="数据库发展历程"></a>数据库发展历程</h2><p>自 20 世纪 60 年代初诞生至今，数据库已经发生了翻天覆地的变化。最初，人们使用分层数据库（树形模型，仅支持一对多关系）和网络数据库（更加灵活，支持多种关系）这样的导航数据库来存储和操作数据。这些早期系统虽然简单，但缺乏灵活性。20 世纪 80 年代，<a href="https://www.oracle.com/cn/database/what-is-database/#relational">关系数据库</a>开始兴起；20 世纪 90 年代，<a href="https://www.oracle.com/cn/database/what-is-database/#object-oriented">面向对象的数据库</a>开始成为主流。最近，随着互联网的快速发展，为了更快速地处理非结构化数据，<a href="https://www.oracle.com/cn/database/what-is-database/#nosql">NoSQL 数据库</a>应运而生。现在，<a href="https://www.oracle.com/cn/database/what-is-database/#cloud">云数据库</a>和<a href="https://www.oracle.com/cn/database/what-is-database/#autonomous">自治驾驶数据库</a>在数据收集、存储、管理和利用方面正不断取得新的突破。</p><h2 id="数据库和电子表格的区别"><a href="#数据库和电子表格的区别" class="headerlink" title="数据库和电子表格的区别"></a>数据库和电子表格的区别</h2><p>主要体现在三个方面：存储和操作数据的方式、谁可以访问数据、可以存储多少数据</p><p>从一开始，电子表格就是专门针对单一用户而设计的，其特性也反映了这一点。电子表格非常适合不需要执行太多高度复杂的数据操作的单一用户或少数用户。另一方面，数据库的设计是为了保存大量有组织的信息，有时是海量的。数据库允许多个用户同时使用高度复杂的逻辑和语言，快速、安全地访问和查询数据。</p><h2 id="MySQL介绍"><a href="#MySQL介绍" class="headerlink" title="MySQL介绍"></a>MySQL介绍</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">什么是MySQL：MySQL是一种开源的基于<span class="keyword">SQL</span>的关系型数据库管理系统，关于<span class="keyword">SQL</span>我们会在后续课程中进行讲解，简单来讲MySQL就是一个关系型的数据库</span><br><span class="line"></span><br><span class="line">为什么使用MySQL：使用MySQL的比较主要的原因就是MySQL是开源的免费的，并且是轻量级的一款数据库，包括Facebook、Twitter、Booking.com 和 Verizon 在内的许多公司和组织都在使用MySQL</span><br><span class="line"></span><br><span class="line">版本选择：MySQL8<span class="number">.0</span><span class="number">.27</span>是目前MySQL官方发行的最新版本(课程准备阶段<span class="number">8.0</span><span class="number">.27</span>是最新版本，目前MySQL最新版本是<span class="number">8.0</span><span class="number">.28</span>)，由于MySQL已经呗Oracle收购，对每个版本的MySQLOracle会提供<span class="number">5</span>年的基本维护期限，对<span class="number">5.7</span>版本的维护期限已经到期，在我要自学网中也已经有了MySQL5<span class="number">.7</span><span class="number">.20</span>版本的教程，并且相对<span class="number">5.7</span>版本的MySQL，<span class="number">8.0</span>版本有了一些新的功能和特性，因此本课程选择MySQL官方发布最新版本进行讲解，有兴趣的同学可以去MySQL的官网上查看MySQL8<span class="number">.0</span>最新特性。</span><br></pre></td></tr></table></figure><h1 id="MySQL安装"><a href="#MySQL安装" class="headerlink" title="MySQL安装"></a>MySQL安装</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">安装环境： windows10</span><br><span class="line"><span class="number">1</span> <span class="operator">-</span> 下载MySQL8<span class="number">.0</span><span class="number">.27</span>安装包，下载地址：https:<span class="operator">/</span><span class="operator">/</span>downloads.mysql.com<span class="operator">/</span>archives<span class="operator">/</span><span class="keyword">get</span><span class="operator">/</span>p<span class="operator">/</span><span class="number">23</span><span class="operator">/</span>file<span class="operator">/</span>mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64.zip</span><br><span class="line"><span class="number">2</span> <span class="operator">-</span> 解压zip压缩包至想要安装的目录，比如E:\software\mysql\mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64</span><br><span class="line"><span class="number">3</span> <span class="operator">-</span> 在解压目录E:\software\mysql\mysql<span class="number">-8.0</span><span class="number">.27</span><span class="operator">-</span>winx64中创建MySQL配置文件my.ini（my.ini文件在课程资源中可以下载）</span><br><span class="line"><span class="number">4</span> <span class="operator">-</span> 以管理员身份打开命令行，切换到安装MySQL的目录下，再切换到bin目录下</span><br><span class="line"><span class="number">5</span> <span class="operator">-</span> 执行MySQL初始化命令 mysqld <span class="comment">--initialize --console</span></span><br><span class="line"><span class="number">6</span> <span class="operator">-</span> 记录初始化完成后生成的用户名和密码，即root用户和生成的密码(如果万一手抖关了命令行没记住密码也没关系，就删掉我们MySQL安装根目录下的data目录然后再执行一遍初始化命令会重新生成的。)</span><br><span class="line"><span class="number">7</span> <span class="operator">-</span> 安装MySQL的服务mysqld，同样在bin目录下，执行MySQL服务安装命令 mysqld <span class="comment">--install 服务名(不写的话默认服务名是mysql)</span></span><br><span class="line"><span class="number">8</span> <span class="operator">-</span> 启动MySQL服务，net <span class="keyword">start</span> mysql(停止服务：net stop mysql  卸载服务：sc <span class="keyword">delete</span> 服务名)</span><br><span class="line"><span class="number">9</span> <span class="operator">-</span> 将mysql.exe和mysqld.exe所在的路径添加到环境变量中，然后重启MySQL服务</span><br><span class="line"><span class="number">10</span> <span class="operator">-</span> 使用root用户和密码通过命令行(无需管理员身份)登录MySQL验证是否安装成功</span><br></pre></td></tr></table></figure><h1 id="MySQL-C-x2F-S架构模型"><a href="#MySQL-C-x2F-S架构模型" class="headerlink" title="MySQL C&#x2F;S架构模型"></a>MySQL C&#x2F;S架构模型</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MySQL是C<span class="operator">/</span>S架构模型，即client(客户端)和sever(服务端)架构模型。</span><br></pre></td></tr></table></figure><h1 id="MySQL体系结构-工作原理"><a href="#MySQL体系结构-工作原理" class="headerlink" title="MySQL体系结构(工作原理)"></a>MySQL体系结构(工作原理)</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysqld分为server层（连接层+SQL层）和存储引擎层</span><br><span class="line">SQL执行顺序：</span><br><span class="line"><span class="number">1.</span>连接层：客户端输入mysql -u root -p xxx -h <span class="number">127.0</span><span class="number">.0</span><span class="number">.0</span> -P <span class="number">3306</span>,连接到server端的连接层，连接层共有三个作用：</span><br><span class="line">   - 提供连接协议：tcp/ip socket</span><br><span class="line">   - 提供验证：验证用户名密码 IP 端口</span><br><span class="line">   - 提供专用连接线程，接受用户的SQL语句，以及返回结果</span><br><span class="line">   （可以通过show processlist产看连接线程的基本情况）</span><br><span class="line"><span class="number">2.</span>SQL层：连接成功后，客户端会输入SQL语句后回车发送给服务端，由SQL层执行SQL语句，SQL层主要负责：</span><br><span class="line">   - 接收上层传送的SQL语句</span><br><span class="line">   - 通过语法验证模块验证SQL语句是否符合语法规则</span><br><span class="line">   - 进行语义检查，判断SQL语句的类型（DDL DCL DML DQL）</span><br><span class="line">   - 进行权限检查，判断当前登录用户对当前表有没有权限进行操作</span><br><span class="line">   - 通过解析器，对语句执行前进行预处理，生成多种执行计划</span><br><span class="line">   - 优化器会根据解析器得到的多种执行计划进行评估，选择最优的执行计划</span><br><span class="line">   - 执行器会根据优化器选择的执行计划执行SQL语句，产生执行结果：在磁盘的某个位置（xxx段xxx区xxx页）</span><br><span class="line">   - 提供查询缓存（query cache，比较鸡肋...），默认是没有开启的，会使用redis替代查询缓存功能</span><br><span class="line">   - 提供日志记录，binlog(二进制日志),默认是没开启的</span><br><span class="line"><span class="number">3.</span>存储引擎层(和磁盘进行交互的模块)：根据SQL层执行的记过从磁盘上获取数据，交由SQL结构化变成表，再通过连接层返回给客户端。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2.建库建表的简单操作</title>
      <link href="/posts/d07c5d5a.html"/>
      <url>/posts/d07c5d5a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="2-1-SQL介绍和分类"><a href="#2-1-SQL介绍和分类" class="headerlink" title="2-1 SQL介绍和分类"></a>2-1 SQL介绍和分类</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SQL介绍：</span><br><span class="line">结构化查询语言，关系型数据库通用的语言</span><br><span class="line"></span><br><span class="line">SQL分类：</span><br><span class="line">DDL：数据定义语言Data Definition; create/alter/drop</span><br><span class="line">    DCL：数据控制语言Data Contrl; grant</span><br><span class="line">    DML：数据操作语言Data Manipulation; insert/update/delete</span><br><span class="line">    DQL：数据的查询语言(非官方);</span><br></pre></td></tr></table></figure><h1 id="2-2-库的简单操作"><a href="#2-2-库的简单操作" class="headerlink" title="2-2 库的简单操作"></a>2-2 库的简单操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">字符集charset：</span><br><span class="line">常用的字符集有两种分别是utf8和utf8mb4，utf8的最大存储长度，单个字符最多支持3个字节，utf8mb4支持的编码比utf8更多，比如emoji表情字符，utf8不支持，emoji字符一个字符占4个字节，utf8存不下</span><br><span class="line"></span><br><span class="line">创建数据库的规范：</span><br><span class="line">库名不建议有大写字母</span><br><span class="line">    创建数据库时建议指定字符集</span><br><span class="line">    库名不能以数字开头</span><br><span class="line">    库名要和实际业务相关</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">增create - 创建数据库：</span><br><span class="line">语法：create database 库名(charset=字符集);</span><br><span class="line"></span><br><span class="line">查show：</span><br><span class="line">show databases;  -- 查看当前MySQL中所有的库</span><br><span class="line">show create database 库名; -- 查看指定数据库的创建规则</span><br><span class="line"></span><br><span class="line">改alter - 修改数据库的字符集：</span><br><span class="line">alter database 库名 charset 字符集; -- 修改后的字符集必须是原字符集的严格超集，当数据库为空的时候，可以修改，但是一旦当数据库中有了数据就必须遵循修改后的字符集必须是原字符集的严格超集这一原则。</span><br><span class="line"></span><br><span class="line">删drop：</span><br><span class="line">drop database 库名;</span><br></pre></td></tr></table></figure><h1 id="2-3-创建表的简单语法及步骤"><a href="#2-3-创建表的简单语法及步骤" class="headerlink" title="2-3 创建表的简单语法及步骤"></a>2-3 创建表的简单语法及步骤</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据库的逻辑关系 --- windows系统文件逻辑关系</span><br><span class="line">库 ---- 文件夹</span><br><span class="line">表 ---- 文件</span><br><span class="line">数据 ---- 文件中的数据</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建表的规范：</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建表的步骤和语法：</span><br><span class="line">    1.查看当前所有的库：show databases;</span><br><span class="line">    2.切换到需要创建表的库：use 目标数据库;</span><br><span class="line">    3.创建表(简单版)：create table 表名(字段1 数据类型(宽度), 字段2 数据类型(宽度), …)</span><br><span class="line">    例：create table stu_info(name char(4), age int);</span><br><span class="line">    4.查看当前库下所有的表：show tables;</span><br><span class="line">    5.补充：也可以使用绝对路径的方式创建表; create table 目标数据库.表名(字段 数据类型);</span><br></pre></td></tr></table></figure><h1 id="2-4-表的简单操作-插入数据"><a href="#2-4-表的简单操作-插入数据" class="headerlink" title="2-4 表的简单操作 - 插入数据"></a>2-4 表的简单操作 - 插入数据</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">标准的插入数据的SQL：</span><br><span class="line">insert into 表名(字段1, 字段2,...) values(值1, 值2, ...);  -- 注意字段需要和表中的字段相符，不能出现表中不存在的字段，字段也不能比表中实际的字段多，值和字段顺序相对应</span><br><span class="line"></span><br><span class="line">省略的插入数据的SQL：</span><br><span class="line">insert into 表名 values(值1, 值2, ...);  -- 值的个数必须和表中字段的数量一致，值和表中字段默认顺序相对应</span><br><span class="line"></span><br><span class="line">针对性的为某个字段插入数据：</span><br><span class="line">insert into 表名(指定字段1, 指定字段2, ...) values(值1, 值2)；</span><br><span class="line"></span><br><span class="line">同时插入多条数据：</span><br><span class="line">insert into 表名(字段1, 字段2,...) </span><br><span class="line">values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;  -- 指定字段或者全部字段插入多条数据</span><br><span class="line"></span><br><span class="line">insert into 表名 values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;   -- 所有字段插入多条数据</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 表中插入数据小练习</span><br><span class="line">create database info charset=utf8; -- 创建保存学生信息的数据库</span><br><span class="line">create table info.stu_info (id int, name char(5), QQ char(12));  -- 创建学生信息表</span><br><span class="line"></span><br><span class="line">-- 插入数据</span><br><span class="line">insert into info.stu_info(id, name, QQ) values(1, &#x27;lili&#x27;, &#x27;123456&#x27;);-- 标准语法 </span><br><span class="line">insert into info.stu_info values(2, &#x27;梨花&#x27;, &#x27;12222&#x27;);  -- 简略写法</span><br><span class="line">insert into info.stu_info(name, id, QQ) values(&#x27;丽丽&#x27;, 3, &#x27;789456&#x27;);  -- 针对性的插入数据</span><br><span class="line">insert into info.stu_info(id, name, QQ) values</span><br><span class="line">(4, &#x27;qq&#x27;, &#x27;12345&#x27;),</span><br><span class="line">(5, &#x27;wx&#x27;, &#x27;7894&#x27;)</span><br><span class="line">;  -- 同时插入多条数据</span><br></pre></td></tr></table></figure><h1 id="2-5-存储引擎"><a href="#2-5-存储引擎" class="headerlink" title="2-5 存储引擎"></a>2-5 存储引擎</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">存储引擎定义：不同的文件需要不同的存储格式和处理方式；数据库中的储存引擎就是对存储数据的处理机制。不同的存储引擎，对数据的处理方式不同。</span><br><span class="line"></span><br><span class="line">MySQL中主要的存储引擎：</span><br><span class="line">Innodb,，是MySQL5.5版本及之后默认的存储引擎，存储数据更加的安全(第八章会详细介绍该存储引擎)</span><br><span class="line">myisam，是MySQL5.5版本之前默认的存储引擎，速度要比Innodb更快，是我们更加注重的是数据的安全</span><br><span class="line">memory，内存引擎(数据全部存放在内存中) 断电数据丢失</span><br><span class="line">blackhole，无论存什么，都将数据丢失(黑洞)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 查看MySQL的存储引擎</span><br><span class="line">show engines;</span><br><span class="line"></span><br><span class="line">-- 验证不同存储引擎在硬盘上对应的数据文件也不相同</span><br><span class="line">create database test charset=utf8mb4;</span><br><span class="line">create table test.t1(id int) engine=innodb;</span><br><span class="line">create table test.t2(id int) engine=myisam;</span><br><span class="line">create table test.t3(id int) engine=blackhole;</span><br><span class="line">create table test.t4(id int) engine=memory;</span><br><span class="line"></span><br><span class="line">-- 在MySQL安装目录下的Data文件夹的test(创建的数据库)的目录下会分别出现t1 t2 t3 t4表对应的数据文件</span><br></pre></td></tr></table></figure><h1 id="2-6-创建表的完整语法"><a href="#2-6-创建表的完整语法" class="headerlink" title="2-6 创建表的完整语法"></a>2-6 创建表的完整语法</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">复习：创建表的规范</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">字段1 数据类型(宽度) 约束条件 COMMENT 字段1注释,</span><br><span class="line">字段2 数据类型(宽度) 约束条件 COMMENT 字段2注释,</span><br><span class="line">...</span><br><span class="line">) engine=存储引擎 charset=字符集 comment 表注释;</span><br><span class="line"></span><br><span class="line">-- 注意：</span><br><span class="line">-- 1. 在同一张表中字段名不能重复</span><br><span class="line">-- 2. 字段名、字段类型是必须的，宽度、约束条件是可选的，约束条件支持写多个</span><br><span class="line">-- 3. 最后一个字段不能以逗号结尾否则会报错</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">约束条件：null/not null</span><br><span class="line">null：表示该字段可以为空</span><br><span class="line">not null：表示该字段不能为空</span><br><span class="line">例：create table t1(id int,name char(4) not null);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">宽度和约束条件的关系：</span><br><span class="line">宽度可以理解为字符的个数，是用来限制数据的存储的，而约束条件是在款段的基础之上增加的额外的约束。</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 创建表的完整语法小练习</span><br><span class="line">create database info charset=utf8;  -- 创建库</span><br><span class="line">create table info.stu_info(</span><br><span class="line">id int not null comment &#x27;编号&#x27;,</span><br><span class="line">name char(4) not null comment &#x27;姓名&#x27;,</span><br><span class="line">age int not null comment &#x27;年龄&#x27;,</span><br><span class="line">sex char(1) null comment &#x27;性别&#x27;,</span><br><span class="line">qq char(12) not null comment &#x27;QQ号&#x27;</span><br><span class="line">) engine=innodb charset=utf8 comment &#x27;信息表&#x27;;</span><br><span class="line"></span><br><span class="line">-- 向表中写入数据</span><br><span class="line">use info;</span><br><span class="line">insert into stu_info(id, name, age, sex, qq) values(1, &#x27;lili&#x27;, 18, &#x27;男&#x27;, &#x27;123456789&#x27;);  -- 标准插入数据</span><br><span class="line">insert into stu_info values(2, &#x27;nini&#x27;, 18, &#x27;女&#x27;, &#x27;123456789&#x27;);  -- 省略插入数据</span><br><span class="line">insert into stu_info(id, name, age, qq) values(3, &#x27;wx&#x27;, 18, &#x27;123456789&#x27;);  -- 指定字段插入数据</span><br></pre></td></tr></table></figure><h1 id="2-7-查看表结构"><a href="#2-7-查看表结构" class="headerlink" title="2-7 查看表结构"></a>2-7 查看表结构</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">desc 表名；  -- 查看表结构</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(4) | NO   |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">-- Field：字段名</span><br><span class="line">-- Type：字段的数据类型</span><br><span class="line">-- Null：字段的约束条件是否接受空值</span><br><span class="line">-- Key：是否是key</span><br><span class="line">-- Default：默认值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">show create table 表名 \G; -- 查看创建表的完整语法，\G为了更加清楚的查看结果</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: t1</span><br><span class="line">Create Table: CREATE TABLE `t1` (</span><br><span class="line">  `id` int DEFAULT NULL,</span><br><span class="line">  `name` char(4) NOT NULL,</span><br><span class="line">  `age` int NOT NULL COMMENT &#x27;年龄&#x27;</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-8-MySQL数据类型-数字类型"><a href="#2-8-MySQL数据类型-数字类型" class="headerlink" title="2-8 MySQL数据类型 - 数字类型"></a>2-8 MySQL数据类型 - 数字类型</h1><p>MySQL 中定义数据字段的类型对你数据库的优化是非常重要的。</p><p>MySQL 支持多种类型，大致可以分为三类：数值、日期&#x2F;时间和字符串(字符)类型。</p><ul><li>常用的数字类型 - 整型，一般使用int就可以满足开发需求，除非涉及到极大的数据量使用bigint</li></ul><table><thead><tr><th align="center">类型</th><th align="center">范围(有符号)</th><th align="center">范围(无符号unsigned)</th><th align="center">用途</th></tr></thead><tbody><tr><td align="center">tinyint</td><td align="center">(-128，127)</td><td align="center">(0，2^8-1)</td><td align="center">小整数值</td></tr><tr><td align="center">int</td><td align="center">(-2^31 , 2^31-1)</td><td align="center">(0，2^32-1)</td><td align="center">大整数值</td></tr><tr><td align="center">bigint</td><td align="center">(-2^63, 2^63-1)</td><td align="center">(0,  2^64-1)</td><td align="center">极大整数值</td></tr></tbody></table><ul><li>常用的数字类型 - 浮点型，一般使用float就可以满足开发需求，除非是工程计算需要的精度就是非常高的了</li></ul><table><thead><tr><th align="center">类型</th><th align="center">用途</th><th>存储限制</th></tr></thead><tbody><tr><td align="center">float</td><td align="center">单精度，精度最小</td><td>float(255,30)  # 总共255位 小数部分占30位</td></tr><tr><td align="center">double</td><td align="center">双精度，精度高于float</td><td>double(255,30)  # 总共255位 小数部分占30位</td></tr><tr><td align="center">decimal</td><td align="center">小数值，精度高于doucle</td><td>decimal(65,30)  # 总共65位 小数部分占30位</td></tr></tbody></table><h1 id="2-9-MySQL数据类型-字符类型"><a href="#2-9-MySQL数据类型-字符类型" class="headerlink" title="2-9 MySQL数据类型 - 字符类型"></a>2-9 MySQL数据类型 - 字符类型</h1><table><thead><tr><th align="center">char(宽度)</th><th align="center">varchar(宽度)</th></tr></thead><tbody><tr><td align="center">宽度可省略，默认是1个宽度，宽度就是字符的个数</td><td align="center">宽度不能省略</td></tr><tr><td align="center">定长的字符串类型，在存储字符串时，比如char(11)，最大字符长度11个，立即分配11个字符长度的存储空间，如果存不满，就使用空格进行填充。</td><td align="center">在存储数据是会先判断字符长度，然后合理分配存储空间，char类型不会判断，立即分配空间，当然在固定长度的列中，选择char类型会更加合适。varchar类型除了会存储字符串之外还会额外使用1-2字节(bytes)来存储这个字符串的长度。</td></tr><tr><td align="center">查询速度快</td><td align="center">节省空间，但是查询速度慢</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">补充：</span><br><span class="line">1B(byte) = 8bit</span><br><span class="line">1KB = 1024Bytes</span><br><span class="line">1MB = 1024KB</span><br><span class="line">1GB = 1024MB</span><br><span class="line">1TB = 1024GB</span><br></pre></td></tr></table></figure><h1 id="2-10-MySQL数据类型-时间类型"><a href="#2-10-MySQL数据类型-时间类型" class="headerlink" title="2-10 MySQL数据类型 - 时间类型"></a>2-10 MySQL数据类型 - 时间类型</h1><table><thead><tr><th align="left">类型</th><th align="left">大小 ( bytes)</th><th align="left">范围</th><th align="left">格式</th><th align="left">用途</th></tr></thead><tbody><tr><td align="left">DATE</td><td align="left">3</td><td align="left">1000-01-01&#x2F;9999-12-31</td><td align="left">YYYY-MM-DD</td><td align="left">日期值</td></tr><tr><td align="left">TIME</td><td align="left">3</td><td align="left">‘-838:59:59’&#x2F;‘838:59:59’</td><td align="left">HH:MM:SS</td><td align="left">时间值或持续时间</td></tr><tr><td align="left">YEAR</td><td align="left">1</td><td align="left">1901&#x2F;2155</td><td align="left">YYYY</td><td align="left">年份值</td></tr><tr><td align="left">DATETIME</td><td align="left">8</td><td align="left">1000-01-01 00:00:00&#x2F;9999-12-31 23:59:59</td><td align="left">YYYY-MM-DD HH:MM:SS</td><td align="left">混合日期和时间值</td></tr><tr><td align="left">TIMESTAMP</td><td align="left">4</td><td align="left">1970-01-01 00:00:00&#x2F;2038结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td><td align="left">YYYYMMDD HHMMSS</td><td align="left">混合日期和时间值，时间戳</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 补充</span><br><span class="line">LOCALTIME() -- MySQL时间函数，返回当前时间的 年月日时分秒</span><br><span class="line">select LOCALTIME();  -- 查看当前时间的年月日时分秒</span><br><span class="line"></span><br><span class="line">-- 向表中写入当前时间的时分秒</span><br><span class="line">create table t1(curent_time datetime);</span><br><span class="line">insert into t1 values(LOCALTIME());</span><br><span class="line"></span><br><span class="line">-- SQL语句可以大写也可以小写，但是需要注意表名的大小写情况。</span><br></pre></td></tr></table></figure><h1 id="2-11-MySQL数据类型-枚举和集合"><a href="#2-11-MySQL数据类型-枚举和集合" class="headerlink" title="2-11 MySQL数据类型 - 枚举和集合"></a>2-11 MySQL数据类型 - 枚举和集合</h1><table><thead><tr><th align="center">enum(选项1, 选项2, …)</th><th align="center">set(选项1, 选项2, …)</th></tr></thead><tbody><tr><td align="center">枚举字段，向表中写入对应字段的数据时只能存所有选项中的某一个</td><td align="center">集合字段，向表中写入对应字段的数据时只能存所有选项中的一个或者多个</td></tr><tr><td align="center">不能存枚举中没有列出来的选项</td><td align="center">不能存集合中没有列出来的选项</td></tr><tr><td align="center">用途：比如性别、年级</td><td align="center">比如：爱好</td></tr></tbody></table><h1 id="2-12-MySQL数据类型总结"><a href="#2-12-MySQL数据类型总结" class="headerlink" title="2-12 MySQL数据类型总结"></a>2-12 MySQL数据类型总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 数字类型</span><br><span class="line">tinyint int(常用) bigint  -- 整数型</span><br><span class="line">float(常用) double decimal  -- 小数型</span><br><span class="line"></span><br><span class="line">-- 字符类型</span><br><span class="line">char(宽度)  -- 宽度可省略，查询速度快</span><br><span class="line">varchar(宽度)  -- 宽度不能省略，节省存储空间</span><br><span class="line"></span><br><span class="line">-- 时间类型</span><br><span class="line">date:年月日 2020-5-4</span><br><span class="line">    datetime:年月日时分秒  2020-5-4 11:11:11</span><br><span class="line">    time:时分秒11:11:11</span><br><span class="line">    Year:2020</span><br><span class="line">    </span><br><span class="line">-- 枚举(enum)和集合(set)类型</span><br><span class="line">enum(选项1, 选项2, ...) -- 多选一</span><br><span class="line">set(选项1, 选项2, ...)  -- 多选多</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">-- 课后练习</span><br><span class="line">mysql&gt; create database student charset=utf8;  -- 创建库</span><br><span class="line">mysql&gt; create table student.info(</span><br><span class="line">    id int unsigned, </span><br><span class="line">    name varchar(6) not null, </span><br><span class="line">    age int not null, </span><br><span class="line">    sex enum(&#x27;male&#x27;, &#x27;female&#x27;) not null default &#x27;male&#x27;, </span><br><span class="line">    QQ varchar(12), </span><br><span class="line">    hobby set(&#x27;read&#x27;, &#x27;play&#x27;, &#x27;sleep&#x27;), </span><br><span class="line">    create_time datetime not null default localtime()</span><br><span class="line">) engine=innodb charset=utf8 comment=&#x27;信息表&#x27;;</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into info(id, name, age, QQ, hobby) values(1, &#x27;丽丽&#x27;, 18, &#x27;1277770&#x27;, &#x27;read,sleep&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from info;</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">| id   | name   | age | sex  | QQ      | hobby      | create_time         |</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">|    1 | 丽丽   |  18 | male | 1277770 | read,sleep | 2022-02-28 09:34:06 |</span><br><span class="line">+------+--------+-----+------+---------+------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-13-约束条件-default"><a href="#2-13-约束条件-default" class="headerlink" title="2-13 约束条件 - default"></a>2-13 约束条件 - default</h1><p>补充：在创建库和表以及表的字段的时候不能使用MySQL的关键字(SQL语法中的除了库名、表名、字段外的)作为库名&#x2F;表名</p><p>约束条件：限制和约束字段的条件，如果字段值违反了字段的约束条件，MySQL就会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- default默认值，在创建表的时候可以为字段设定一个默认值</span><br><span class="line">-- ps：在创建表的规范时，最后一条建议字段设为非空，可以使用默认值进行填充。</span><br><span class="line">-- 注意：在使用简略的插入数据的SQL语法(insert into 表名 values(值1, ...))时必须所有字段都有值，即使是设定了默认值的情况下。</span><br><span class="line">mysql&gt; create table t1(id int, sex enum(&#x27;male&#x27;, &#x27;female&#x27;, &#x27;unkonwn&#x27;) not null default &#x27;unkonwn&#x27;);</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type                            | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">| id    | int                             | YES  |     | NULL    |       |</span><br><span class="line">| sex   | enum(&#x27;male&#x27;,&#x27;female&#x27;,&#x27;unkonwn&#x27;) | NO   |     | unkonwn |       |</span><br><span class="line">+-------+---------------------------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br></pre></td></tr></table></figure><h1 id="2-14-约束条件-unique"><a href="#2-14-约束条件-unique" class="headerlink" title="2-14 约束条件 - unique"></a>2-14 约束条件 - unique</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">-- unique 唯一约束条件(key)，插入数据唯一不能重复，比如说学生编号</span><br><span class="line">mysql&gt; create table t2(id int unique, name varchar(6));</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t2;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | YES  | UNI | NULL    |       |</span><br><span class="line">| name  | varchar(6) | YES  |     | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(1, &#x27;lili&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(2, &#x27;lili&#x27;);  -- name字段重复不会报错</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t2 values(2, &#x27;lili&#x27;);  -- id因为有了unique约束条件会提示用重复(Duplicate)的数据</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;2&#x27; for key &#x27;t2.id&#x27;</span><br><span class="line"></span><br><span class="line">-- 可以使用联合唯一，几个字段连在一起时是唯一的</span><br><span class="line">mysql&gt; create table t3(id int, name varchar(5), unique(id, name));  -- id+name唯一</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t3;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | YES  | MUL | NULL    |       |</span><br><span class="line">| name  | varchar(5) | YES  |     | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;lili&#x27;); </span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(2, &#x27;lili&#x27;);  -- name重复不会报错</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;qq&#x27;);  -- id重复也不会报错</span><br><span class="line">Query OK, 1 row affected (0.08 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; insert into t3 values(1, &#x27;lili&#x27;);  -- name+id重复就会报错提示重复了</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;1-lili&#x27; for key &#x27;t3.id&#x27;</span><br></pre></td></tr></table></figure><h1 id="2-15-约束条件-primary-key"><a href="#2-15-约束条件-primary-key" class="headerlink" title="2-15 约束条件 - primary key"></a>2-15 约束条件 - primary key</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">-- primary key，key的一种，主键效果等同于not null+unique，即非空且唯一</span><br><span class="line">mysql&gt; create table t4(id int primary key, name varchar(6) unique);</span><br><span class="line">Query OK, 0 rows affected (0.63 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t4;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    |       |</span><br><span class="line">| name  | varchar(6) | YES  | UNI | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 主键除了能够对字段进行约束之外，还是innodb存储引擎组织数据的依据，这个在详细介绍innodb时再详细介绍</span><br><span class="line">-- 使用innodb存储引擎创建表时必须要有主键，并且可以通过主键提升查询效率</span><br><span class="line">-- 在一张表中有且只有一个主键</span><br><span class="line">mysql&gt; create table t5(id int primary key, name char(6) primary key);</span><br><span class="line">ERROR 1068 (42000): Multiple primary key defined</span><br><span class="line"></span><br><span class="line">-- 如果没有设置主键，则按照创建表时的字段顺序第一个非空且唯一的字段将自动升级为主键。</span><br><span class="line">mysql&gt; create table t5(id int, name char(6) not null unique, age int not null unique);</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t5;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(6) | NO   | PRI | NULL    |       |</span><br><span class="line">| age   | int     | NO   | UNI | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 如果表中没有设置逐渐和非空且唯一的字段，则Innodb默认提供一个隐藏的主键，但是这个默认隐藏的主键无法提供快速查询的服务。</span><br><span class="line">mysql&gt; create table t6(id int, name char(6));</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t6;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| id    | int     | YES  |     | NULL    |       |</span><br><span class="line">| name  | char(6) | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 一般，表中的主键应该设置为id字段，id字段一般在创建表的时候是必须指定的，并且是主键字段</span><br><span class="line">-- 主键可以为一个字段，也可以是联合主键（多个字段联合起来作为表的主键，本质还是一个主键）</span><br><span class="line">mysql&gt; create table t7(id int, name varchar(5), primary key(id, name));</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t7;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    |       |</span><br><span class="line">| name  | varchar(5) | NO   | PRI | NULL    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-16-约束条件-auto-increment"><a href="#2-16-约束条件-auto-increment" class="headerlink" title="2-16 约束条件 - auto_increment"></a>2-16 约束条件 - auto_increment</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">-- auto_increment 自增约束条件，通常是主键字段使用，普通字段不使用该约束条件，可以标识当前数据是是表中d第几条数据</span><br><span class="line">-- 同一张表中只能有一个字段使用该约束条件。</span><br><span class="line">mysql&gt; create table t8(id int primary key auto_increment, cid int auto_increment);</span><br><span class="line">ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key  -- 提示只能有一个列是自增列</span><br><span class="line"></span><br><span class="line">-- 向表中写入数据时，可以省略主键，因为主键是非空唯一且自增的</span><br><span class="line">-- 主键的初始值是1，每向表中写入一条数据，主键值自动+1</span><br><span class="line">mysql&gt; create table t9(id int primary key auto_increment, name char(6));</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; desc t9;</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| id    | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | char(6) | YES  |     | NULL    |                |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t9 values(&#x27;lili&#x27;);  -- 当不手动写入主键字段时，不能使用简略的插入数据的sql语法</span><br><span class="line">ERROR 1136 (21S01): Column count doesn&#x27;t match value count at row 1</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t9(name) values(&#x27;lili&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t9;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | lili |</span><br><span class="line">+----+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-17-约束条件-总结"><a href="#2-17-约束条件-总结" class="headerlink" title="2-17 约束条件 - 总结"></a>2-17 约束条件 - 总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">null/not null：空/非空</span><br><span class="line"></span><br><span class="line">unsigned：无符号</span><br><span class="line"></span><br><span class="line">default：为字段设置默认值</span><br><span class="line"></span><br><span class="line">unique：唯一键(约束条件)，可以单列唯一，也可以联合唯一</span><br><span class="line"></span><br><span class="line">primary key：主键约束，非空且唯一(unique+not null)</span><br><span class="line">主键除了能够对字段进行约束之外，还是innodb存储引擎组织数据的依据</span><br><span class="line">用innodb存储引擎创建表时必须要有主键，并且可以通过主键提升查询效率</span><br><span class="line">在一张表中有且只有一个主键</span><br><span class="line">如果没有设置主键，则按照创建表时的字段顺序第一个非空且唯一的字段将自动升级为主键。</span><br><span class="line">如果表中没有设置逐渐和非空且唯一的字段，则Innodb默认提供一个隐藏的主键，但是这个默认隐藏的主键无法提供快速查询的服务。</span><br><span class="line">一般，表中的主键应该设置为id字段，id字段一般在创建表的时候是必须指定的，并且是主键字段</span><br><span class="line">主键可以为一个字段，也可以是联合主键（多个字段联合起来作为表的主键，本质还是一个主键）</span><br><span class="line"></span><br><span class="line">auto_increment：自增约束条件，通常和主键一起使用。</span><br><span class="line">同一张表中只能有一个字段使用该约束条件。</span><br><span class="line">主键的初始值是1，每向表中写入一条数据，主键值自动+1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 小练习</span><br><span class="line">mysql&gt; create database info charset=utf8mb4;  -- 创建库</span><br><span class="line">mysql&gt; create table student(</span><br><span class="line">    id int primary key auto_increment comment &#x27;主键&#x27;,</span><br><span class="line">    name varchar(6) not null unique,</span><br><span class="line">    age int unsigned not null,</span><br><span class="line">    sex enum(&#x27;male&#x27;, &#x27;female&#x27;) not null default &#x27;male&#x27;,</span><br><span class="line">    hobby set(&#x27;read&#x27;, &#x27;play&#x27;, &#x27;sleep&#x27;) null,</span><br><span class="line">    create_time datetime default localtime()</span><br><span class="line">    ) engine=innodb charset=utf8mb4;  -- 创建表</span><br><span class="line">mysql&gt; insert into student(name, age, hobby) values(&#x27;丽丽&#x27;, 18, &#x27;read,sleep&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">| id | name   | age | sex  | hobby      | create_time         |</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">|  1 | 丽丽   |  18 | male | read,sleep | 2022-03-01 09:27:00 |</span><br><span class="line">+----+--------+-----+------+------------+---------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-18-表增加字段"><a href="#2-18-表增加字段" class="headerlink" title="2-18 表增加字段"></a>2-18 表增加字段</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">mysql&gt; create database test;</span><br><span class="line">mysql&gt; create table test.t1(id int primary key auto_increment);</span><br><span class="line"></span><br><span class="line">-- 添加1个字段</span><br><span class="line">alter table 表名  add 字段名 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;;</span><br><span class="line">mysql&gt; alter table t1 add name varchar(5);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(5) | YES  |     | NULL    |                |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 添加多个字段</span><br><span class="line">alter table 表名  add (字段名1 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;, 字段名2 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;);</span><br><span class="line">mysql&gt; alter table t1 add (age int, sex enum(&#x27;male&#x27;, &#x27;female&#x27;) default &#x27;male&#x27;);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age   | int                   | YES  |     | NULL    |                |</span><br><span class="line">| sex   | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+-------+-----------------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 向指定位置添加列(在第一个字段的位置写入新的字段，只能添加一个字段)</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度)  约束条件 comment &#x27;字段注释&#x27; first;</span><br><span class="line">mysql&gt; alter table t1 add fir_name int unsigned first;</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| fir_name | int unsigned          | YES  |     | NULL    |                |</span><br><span class="line">| id       | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name     | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age      | int                   | YES  |     | NULL    |                |</span><br><span class="line">| sex      | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+----------+-----------------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 向指定位置添加列(在某个字段之后写入新的字段)</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度) 约束条件  comment &#x27;字段注释&#x27; after 字段名;</span><br><span class="line">mysql&gt; alter table t1 add after_name char(6) default &#x27;sss&#x27; after age;</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| Field      | Type                  | Null | Key | Default | Extra          |</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br><span class="line">| fir_name   | int unsigned          | YES  |     | NULL    |                |</span><br><span class="line">| id         | int                   | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name       | varchar(5)            | YES  |     | NULL    |                |</span><br><span class="line">| age        | int                   | YES  |     | NULL    |                |</span><br><span class="line">| after_name | char(6)               | YES  |     | sss     |                |</span><br><span class="line">| sex        | enum(&#x27;male&#x27;,&#x27;female&#x27;) | YES  |     | male    |                |</span><br><span class="line">+------------+-----------------------+------+-----+---------+----------------+</span><br></pre></td></tr></table></figure><h1 id="2-19-表的其他修改和删除操作"><a href="#2-19-表的其他修改和删除操作" class="headerlink" title="2-19 表的其他修改和删除操作"></a>2-19 表的其他修改和删除操作</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">create table t1(id int primary key auto_increment, name varchar(6) not null unique);</span><br><span class="line">desc t1;</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line">| id    | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(6) | NO   | UNI | NULL    |                |</span><br><span class="line">+-------+------------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 修改表名，不能修改库名但是可以修改表名</span><br><span class="line">alter table 表名 rename 新表名;</span><br><span class="line">alter table t1 rename t0;</span><br><span class="line">show tables;</span><br><span class="line"></span><br><span class="line">-- 修改字段数据类型、约束条件，需要将不需要修改的约束条件同时写上，否则约束条件可能会产生变化</span><br><span class="line">alter table 表名 modify 字段名 字段类型(宽度) 约束条件；</span><br><span class="line">mysql&gt; alter table t1 modify name char(6);  -- 只修改字段的数据类型，约束条件变化了</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line">| id    | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | char(6) | YES  | UNI | NULL    |                |</span><br><span class="line">+-------+---------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 修改字段名，如果约束条件不变的话也是需要同时写上修改前的约束条件，否则约束条件可能会产生变化</span><br><span class="line">alter table 表名 change 旧字段名 新字段名 字段类型(宽度) 约束条件;</span><br><span class="line">mysql&gt; alter table t1 change name new_name char(6);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line">| Field    | Type    | Null | Key | Default | Extra          |</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line">| id       | int     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| new_name | char(6) | YES  | UNI | NULL    |                |</span><br><span class="line">+----------+---------+------+-----+---------+----------------+</span><br><span class="line"></span><br><span class="line">-- 删除字段，删除字段后，如果表中有数据那么对应该字段的数据都会被删除。</span><br><span class="line">alter table 表名 drop 字段名;</span><br><span class="line">alter table t1 drop name;</span><br><span class="line">desc t1;</span><br><span class="line"></span><br><span class="line">-- 删除表</span><br><span class="line">drop table 表名;</span><br></pre></td></tr></table></figure><h1 id="2-20-数据的修改"><a href="#2-20-数据的修改" class="headerlink" title="2-20 数据的修改"></a>2-20 数据的修改</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">create table t1(id int primary key auto_increment, name char(6), age int);</span><br><span class="line">insert into t1(name, age) values</span><br><span class="line">(&#x27;lili&#x27;, 18),</span><br><span class="line">(&#x27;nini&#x27;, 19),</span><br><span class="line">(&#x27;nana&#x27;, 20);</span><br><span class="line"></span><br><span class="line">-- 数据的修改操作,如果不指明修改哪一行的话会将所有数据行的字段值都进行修改操作。</span><br><span class="line">update 表名 set 字段名=新字段值, 字段名=新字段值,... where 条件;</span><br></pre></td></tr></table></figure><h1 id="2-21-数据的删除"><a href="#2-21-数据的删除" class="headerlink" title="2-21 数据的删除"></a>2-21 数据的删除</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">-- 提示：删除操作非常危险，在实际开发中尽量不要执行删除操作</span><br><span class="line"></span><br><span class="line">-- 删除数据，删除一条数据</span><br><span class="line">delete from 表名 where 条件;</span><br><span class="line"></span><br><span class="line">-- 删除数据，删除表中所有数据</span><br><span class="line">drop table 表名;  -- 删除表就表示表中所有的数据都被删除</span><br><span class="line">delete from 表名; -- 清空表中所有数据</span><br><span class="line">truncate table 表名;  -- 清空表中所有数据</span><br><span class="line"></span><br><span class="line">-- delete和truncate的区别</span><br><span class="line">1.delete清空表之后向表中再写入数据主键的值是在已经删除的数据的基础上+1，而truncate清空表之后，再写入数据，主键值是从1开始的。</span><br><span class="line">2.delete是DML操作也就是数据库修改操作, 是逻辑性质删除,逐行进行删除,速度慢.并未真正在磁盘上删除，磁盘空间不会立即释放。</span><br><span class="line">3.truncate是DDL操作也就是数据库定义的操作,对表的数据进行清空,速度快.磁盘空间立即释放</span><br><span class="line"></span><br><span class="line">-- 补充小知识</span><br><span class="line">在实际开发场景中，通常使用一个字段来标识数据是否删除，而不是真正的将数据从我们的表中删除，比如说我们可以定义一个字段is_delete来表示该条数据是否被删除了，我们可以使用0表示数据被删除1表示数据没有被删除。</span><br><span class="line">像这种只有两种状态的数据我们都可以使用布尔类型进行定义。</span><br><span class="line">在MySQL中MySQL内置其实并没有布尔类型，但是MySQL支持在定义字段的时候将数据类型定义为布尔类型叫BOOLEAN或BOOL，布尔类型只有两种状态，一种是真一种是假。</span><br><span class="line">在MySQL中0被认为是假(FALSE/False/false)，非零值被认为是真(true/True/TRUE)，当然也可以使用布尔文本也就是FALSE/False/false和true/True/TRUE表示真假，但是在显示数据的时候布尔文本只显示0和1这两种状态</span><br><span class="line"></span><br><span class="line">alter table t1 add(is_delete bool default true);</span><br><span class="line">alter table t1 add(is_delete1 boolean default 1);</span><br><span class="line">mysql&gt; desc t1;</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">| Field      | Type       | Null | Key | Default | Extra          |</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">| id         | int        | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| new_name   | char(6)    | YES  | UNI | NULL    |                |</span><br><span class="line">| is_delete  | tinyint(1) | YES  |     | 1       |                |</span><br><span class="line">| is_delete1 | tinyint(1) | YES  |     | 1       |                |</span><br><span class="line">+------------+------------+------+-----+---------+----------------+</span><br><span class="line">mysql&gt; insert into t1(new_name, is_delete) values(&#x27;11&#x27;, FALSE);</span><br><span class="line">mysql&gt; select * from t1;</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line">| id | new_name | is_delete | is_delete1 |</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line">|  1 | 11       |         0 |          1 |</span><br><span class="line">+----+----------+-----------+------------+</span><br><span class="line"></span><br><span class="line">我们可以通过查看创建表的完整SQL看一下MySQL的布尔类型到底是什么类型。可以发现定义字段时使用的布尔类型变成了tinyint(1)。</span><br><span class="line">mysql&gt; show create table t1 \G;</span><br><span class="line">Table: t1</span><br><span class="line">Create Table: CREATE TABLE `t1` (</span><br><span class="line">  `id` int NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `new_name` char(6) DEFAULT NULL,</span><br><span class="line">  `is_delete` tinyint(1) DEFAULT &#x27;1&#x27;,</span><br><span class="line">  `is_delete1` tinyint(1) DEFAULT &#x27;1&#x27;,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  UNIQUE KEY `name` (`new_name`),</span><br><span class="line">  UNIQUE KEY `name_2` (`new_name`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="2-22-库的操作总结"><a href="#2-22-库的操作总结" class="headerlink" title="2-22 库的操作总结"></a>2-22 库的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">SQL：SQL语句对大小写不敏感，SQL语法大写小写都可以，但是库名、表名、字段名定义的时候是小写的话在SQL语句中也是小写。</span><br><span class="line"></span><br><span class="line">创建数据库的规范：</span><br><span class="line">库名不建议有大写字母</span><br><span class="line">    创建数据库时建议指定字符集</span><br><span class="line">    库名不能以数字开头</span><br><span class="line">    库名不能使用MySQL关键字命名</span><br><span class="line">    库名要和实际业务相关</span><br><span class="line"></span><br><span class="line">增create - 创建数据库：</span><br><span class="line">语法：create database 库名(charset=字符集);</span><br><span class="line"></span><br><span class="line">查show：</span><br><span class="line">show databases;  -- 查看当前MySQL中所有的库</span><br><span class="line">show create database 库名; -- 查看指定数据库的创建规则</span><br><span class="line"></span><br><span class="line">改alter - 修改数据库的字符集，不支持直接修改库名：</span><br><span class="line">alter database 库名 charset 字符集; </span><br><span class="line"></span><br><span class="line">删drop：</span><br><span class="line">drop database 库名;</span><br></pre></td></tr></table></figure><h1 id="2-23-表的操作总结"><a href="#2-23-表的操作总结" class="headerlink" title="2-23 表的操作总结"></a>2-23 表的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">创建表的规范：</span><br><span class="line">    表名小写(windows平台不区分大小写，Linux严格区分大小写，目的是为了平台兼容性)，不要过长</span><br><span class="line">    不建议以数字开头</span><br><span class="line">    不能使用MySQL关键字作为表名和字段名</span><br><span class="line">    必须设置字符集和存储引擎</span><br><span class="line">    表名和业务有关</span><br><span class="line">    为表中的字段选择合适的数据类型</span><br><span class="line">    建议每个列都有注释</span><br><span class="line">    建议每个列都设置为非空，不知道填什么可以先设定默认值</span><br><span class="line">    </span><br><span class="line">增 - 新建表</span><br><span class="line">create table 表名(</span><br><span class="line">字段1 数据类型(宽度) 约束条件 COMMENT 字段1注释,</span><br><span class="line">字段2 数据类型(宽度) 约束条件 COMMENT 字段2注释,</span><br><span class="line">...</span><br><span class="line">) engine=存储引擎 charset=字符集 comment 表注释;</span><br><span class="line"></span><br><span class="line">改 - 修改表</span><br><span class="line">alter table 表名  add 字段名 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;;  -- 新增1个字段</span><br><span class="line">alter table 表名  add (字段名1 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;, 字段名2 数据类型(宽度) 约束条件 comment &#x27;字段注释&#x27;);  -- 添加多个字段</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度)  约束条件 comment &#x27;字段注释&#x27; first;  -- 向指定位置添加字段，字段插入到表中第一个字段的位置，只能添加一个字段</span><br><span class="line">alter table 表名 add 字段名 字段类型(宽度) 约束条件  comment &#x27;字段注释&#x27; after 字段名;  -- 向指定位置添加字段，在指定字段之后添加字段，只能添加一个字段</span><br><span class="line">alter table 表名 rename 新表名;  -- 修改表名</span><br><span class="line">alter table 表名 modify 字段名 字段类型(宽度) 约束条件；  -- 修改字段属性</span><br><span class="line">alter table 表名 change 旧字段名 新字段名 字段类型(宽度) 约束条件;  -- 修改字段名</span><br><span class="line">alter table 表名 drop 字段名;  -- 删除表中的字段</span><br><span class="line"></span><br><span class="line">查 - 查询</span><br><span class="line">show tables;  -- 查看当前库中有哪些表</span><br><span class="line">desc 表名;  -- 查看表结构</span><br><span class="line">show create table 表名;  -- 查看创建表的完整语法</span><br><span class="line"></span><br><span class="line">删 - 删除</span><br><span class="line">drop table 表名;</span><br></pre></td></tr></table></figure><h1 id="2-24-数据的操作总结"><a href="#2-24-数据的操作总结" class="headerlink" title="2-24 数据的操作总结"></a>2-24 数据的操作总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">增 - 增加数据</span><br><span class="line">insert into 表名(字段1, 字段2,...) values(值1, 值2, ...);  -- 标准的插入数据的SQL</span><br><span class="line">insert into 表名 values(值1, 值2, ...);  -- 省略的插入数据的SQL</span><br><span class="line">insert into 表名(指定字段1, 指定字段2, ...) values(值1, 值2)；  -- 针对性的为某个字段插入数据</span><br><span class="line"></span><br><span class="line">-- 同时插入多条数据：</span><br><span class="line">insert into 表名(字段1, 字段2,...) </span><br><span class="line">values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;  -- 指定字段或者全部字段插入多条数据</span><br><span class="line"></span><br><span class="line">insert into 表名 values</span><br><span class="line">(值1, 值2, ...),(值1, 值2, ...),...;   -- 所有字段插入多条数据</span><br><span class="line"></span><br><span class="line">改 - 修改数据</span><br><span class="line">update 表名 set 字段名=新字段值, 字段名=新字段值,... where 条件; -- 数据的修改操作,如果不指明修改哪一行的话会将所有数据行的字段值都进行修改操作。</span><br><span class="line"></span><br><span class="line">删 - 删除数据</span><br><span class="line"></span><br><span class="line">delete from 表名 where 条件;  -- 删除数据，删除一条数据</span><br><span class="line">    -- 删除数据，删除表中所有数据</span><br><span class="line">    drop table 表名;  -- 删除表就表示表中所有的数据都被删除</span><br><span class="line">    delete from 表名; -- 清空表中所有数据</span><br><span class="line">    truncate table 表名;  -- 清空表中所有数据</span><br><span class="line">    </span><br><span class="line">查 - 查询数据</span><br><span class="line">select * from 表名;  -- 查询表中所有数据</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.多表关系</title>
      <link href="/posts/f1b10c2a.html"/>
      <url>/posts/f1b10c2a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="4-1-多表关系介绍"><a href="#4-1-多表关系介绍" class="headerlink" title="4-1 多表关系介绍"></a>4-1 多表关系介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 为什么有多表关系(把数据存在一张表的弊端)</span><br><span class="line">1. 组织结构不清晰</span><br><span class="line">2. 浪费硬盘空间</span><br><span class="line">3. 扩展性差</span><br><span class="line">-- 什么是多表关系</span><br><span class="line">把不同的数据存放在不同的表中时，需要将这些表通过某种方式建立关联，关联建好之后，这些表之间就存在关系了，在MySQL中表与表之间的关系是通过外键来建立的，表与表之间的关系共有三种，分别是一对一、一对多和多对多。</span><br><span class="line">-- 如何使用多表关系</span><br><span class="line">请大家看后续的笔记哦😊</span><br></pre></td></tr></table></figure><h1 id="4-2-如何确定表关系"><a href="#4-2-如何确定表关系" class="headerlink" title="4-2 如何确定表关系"></a>4-2 如何确定表关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 如何确定表和表之间的关系</span><br><span class="line">换位思考</span><br><span class="line">-- 案例</span><br><span class="line"> 图书 作者 出版社 作者信息 ？ 它们之间的关系是什么</span><br><span class="line">图书和出版社之间的关系：</span><br><span class="line">站在图书的角度，一本书只能由授权一个出版社出版，</span><br><span class="line">一个出版社可以出版多本书籍，</span><br><span class="line">所以图书和出版社是一对多的关系</span><br><span class="line">作者和作者信息之间的关系：</span><br><span class="line">站在作者的角度，一个作者只能有一个作者信息，</span><br><span class="line">一个作者信息只能对应一个作者，</span><br><span class="line">作者和作者信息是一对一的关系</span><br><span class="line">图书和作者之间的关系：</span><br><span class="line">站在图书的角度，一本书的作者可以有多个也可以有一个，</span><br><span class="line">站在作者的角度，一个作者可以写多本书</span><br><span class="line">所以图书和作者之间的关系就是多对多的关系</span><br><span class="line">    图书和作者信息：没有直接关系，需要通过作者对这两个表进行关联</span><br></pre></td></tr></table></figure><h1 id="4-3-创建多表关系-一对一关系"><a href="#4-3-创建多表关系-一对一关系" class="headerlink" title="4-3 创建多表关系 - 一对一关系"></a>4-3 创建多表关系 - 一对一关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-- foreign key</span><br><span class="line">在MySQL中表与表之间的关系是通过外键(foreign key)来建立的，外键也是属于约束条件的一种，外键就是将表和表之间的数据进行一个硬绑定。</span><br><span class="line"></span><br><span class="line">-- 如何建立表关系</span><br><span class="line">在建立表关系时，表和表之间的关联通常以主键id作为关联字段。</span><br><span class="line"></span><br><span class="line">-- 什么时候需要用到一对一的关系？</span><br><span class="line">如果一张表的字段特别多，每次查询数据时又不是所有的字段都能用的到，我们就可以将表一分为二，比如说用户信息表，用户的信息包括用户名 密码 用户的年龄 用户的性别 地址 电话等等，可能经常用的只有用户的用户名和密码，这种情况我们就可以将一张用户信息表拆分成用户基本信息表和用户详细信息表，同样判断这两张表的关系还是通过换位思考：</span><br><span class="line">首先看用户基本信息表：一个用户能否有多个详细信息？答案是不可以；</span><br><span class="line">    再看用户详情表：一个用户详情能否属于多个用户？答案是不可以;</span><br><span class="line">    单向的一对多都不成立，那么两者之间的表关系就是一对一或者没有关系。</span><br><span class="line">-- 使用SQL语句建立一对一的外键关系时需要遵循的规则</span><br><span class="line">外键建在任意一张表中都可以都可以，但是推荐将外键建在查询频率较高的表中，在创建表的时候需要先创建被关联表。</span><br><span class="line">在写入数据的时候需要先向被关联表中写入数据</span><br><span class="line">当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">-- 创建用户详情表</span><br><span class="line">create table authordetail(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">phone int,</span><br><span class="line">addr varchar(64)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">-- 用户基本信息表</span><br><span class="line">create table author(</span><br><span class="line">id int primary key auto_increment,</span><br><span class="line">    name varchar(32),</span><br><span class="line">    age int,</span><br><span class="line">    authordetail_id int,</span><br><span class="line">    foreign key(authordetail_id) references authordetail(id)  -- authordetail_id外键字段，authordetail(id)被关联字段</span><br><span class="line">    on update cascade  -- 级联更新</span><br><span class="line">    on delete cascade  -- 级联删除</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="4-4-创建多表关系-一对多"><a href="#4-4-创建多表关系-一对多" class="headerlink" title="4-4 创建多表关系 - 一对多"></a>4-4 创建多表关系 - 一对多</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">-- 在MySQL的关系在没有多对一的概念，一对多和多对一都是一对多以部门和员工关系为例：</span><br><span class="line">-- 分析员工和部门表的表关系</span><br><span class="line">员工可以属于多个部门吗？答案：不能</span><br><span class="line">一个部门可以有多个员工吗？ 答案：可以</span><br><span class="line">员工对部门表就是一对多的关系</span><br><span class="line">-- 在创建一对多表关系时需要遵循以下几点</span><br><span class="line">    第一，外键字段建立在多的一方，即员工表</span><br><span class="line">    第二，在创建表的时候，一定要先创建被关联一方，即部门表</span><br><span class="line">    第三，在录入数据的时候也必须先录入被关联表的数据，即部门表的数据</span><br><span class="line">    第四，当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line">    </span><br><span class="line">-- 创建表</span><br><span class="line">-- 创建被关联表，部门表</span><br><span class="line">mysql&gt; create table bm(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    bm_name varchar(10), </span><br><span class="line">    bm_desc char(64)</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">-- 创建外键所在的表，员工表</span><br><span class="line">mysql&gt; create table yg(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    yg_name varchar(6), </span><br><span class="line">    bm_id int, </span><br><span class="line">    foreign key(bm_id) references bm(id)  -- 表示bm_id是外键字段，关联到bm表中的id字段</span><br><span class="line">    on update cascade  # 级联更新</span><br><span class="line">    on delete cascade  # 级联删除</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.10 sec)</span><br></pre></td></tr></table></figure><h1 id="4-5-创建多表关系-多对多"><a href="#4-5-创建多表关系-多对多" class="headerlink" title="4-5 创建多表关系 - 多对多"></a>4-5 创建多表关系 - 多对多</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-- 分析作者和图书之间的关系</span><br><span class="line">    站在图书的角度，一本书的作者可以有多个也可以有一个，</span><br><span class="line">    站在作者的角度，一个作者可以写多本书</span><br><span class="line">    所以图书和作者之间的关系就是多对多的关系</span><br><span class="line">-- 多对多关系创建需要注意的点</span><br><span class="line">多对多的关系就是双向的一对多，多对多关系中的表每个表都会有外键，就会导致如果只创建两张表，是不可能创建成功的，因此在创建多对多关系的表时，需要创建第三张表，这第三张表用来专门存储多对多关系的两张表的关联。</span><br><span class="line">在第三章表中存储表关系</span><br><span class="line">-- 创建书籍表</span><br><span class="line">mysql&gt; create table book(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    name varchar(10), </span><br><span class="line">    price int</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">-- 创建作者表</span><br><span class="line">mysql&gt; create table author(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    name varchar(6), </span><br><span class="line">    age int</span><br><span class="line">);</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 创建第三章表，存储book和author表的关联关系</span><br><span class="line">mysql&gt; create table book2author(</span><br><span class="line">    id int primary key auto_increment, </span><br><span class="line">    author_id int, </span><br><span class="line">    book_id int, </span><br><span class="line">    foreign key(author_id) references author(id) </span><br><span class="line">    on update cascade </span><br><span class="line">    on delete cascade, </span><br><span class="line">    foreign key(book_id) references book(id) </span><br><span class="line">    on update cascade </span><br><span class="line">    on delete cascade);</span><br><span class="line">Query OK, 0 rows affected (0.02 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4-6-创建多表关系总结"><a href="#4-6-创建多表关系总结" class="headerlink" title="4-6 创建多表关系总结"></a>4-6 创建多表关系总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-- 为什么有多表关系(把数据存在一张表的弊端)</span><br><span class="line">1. 组织结构不清晰</span><br><span class="line">2. 浪费硬盘空间</span><br><span class="line">3. 扩展性差</span><br><span class="line">-- 如何判断和建立表与表之间的关系</span><br><span class="line">换位思考确定表与表之间的关系，表与表之间的关系有一对一 一对多 多对多</span><br><span class="line">在MySQL中表与表之间的关系是通过外键(foreign key)来建立的，外键也是属于约束条件的一种，外键就是将表和表之间的数据进行一个硬绑定。</span><br><span class="line">在建立表关系时，表和表之间的关联通常以主键id作为关联字段。</span><br><span class="line">当不同的表建立关系时，需要进行级联更新和删除也可以称为同步更新同步删除，如果不建立级联更新和删除的话，无法对被关联表中被关联的数据进行删除或者修改id的操作，因为两张表是相互关联的。</span><br><span class="line">-- 表与表之间的关系有哪些</span><br><span class="line">一对一：外键建在查询频率高的一方，需要先创建被关联的表，添加数据时也是先添加被关联表的数据</span><br><span class="line">一对多：外键建在多的一方，需要先创建被关联的表，添加数据时也是先添加被关联表的数据</span><br><span class="line">多对多：需要创建第三张表去存储多对多关系的表的外键关联</span><br></pre></td></tr></table></figure><h1 id="4-7-多表查询和笛卡尔乘积"><a href="#4-7-多表查询和笛卡尔乘积" class="headerlink" title="4-7 多表查询和笛卡尔乘积"></a>4-7 多表查询和笛卡尔乘积</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 什么是多表查询</span><br><span class="line">需要的数据来自于多张表，单表无法满足，实际上是将多张表有关联的数据合并成一张新表，在新表中做where group by/ having / limit / order by等子句等操作</span><br><span class="line"></span><br><span class="line">-- 多表查询的类型：连表查询和子查询</span><br><span class="line">连表查询</span><br><span class="line">        笛卡尔乘积join</span><br><span class="line">        内连接inner join</span><br><span class="line">        外连接left join/right join</span><br><span class="line">子查询</span><br><span class="line"></span><br><span class="line">-- 笛卡尔乘积join(join可以省略)</span><br><span class="line">select 表名.字段 from 表1 join 表2;</span><br><span class="line">将两张表中所有的数据进行一一对应然后生成一张大表，通常不建议使用使用笛卡尔乘积</span><br><span class="line">SELECT * from author join authordetail;  -- 两个表进行‘x’的操作得到一张大表</span><br><span class="line"></span><br><span class="line">SELECT * FROM author, authordetail WHERE author.authordetail_id = authordetail.id;  -- 找到两个表之间的对应关系</span><br><span class="line"></span><br><span class="line">-- 查询作者小明的电话号码</span><br><span class="line">SELECT author.name, authordetail.phone FROM author, authordetail </span><br><span class="line">    WHERE author.authordetail_id = authordetail.id AND author.NAME = &#x27;小明&#x27;;</span><br><span class="line"></span><br><span class="line">-- 查询电话号码是119的作者名字</span><br><span class="line">SELECT author.NAME, authordetail.phone FROM author JOIN authordetail </span><br><span class="line">WHERE author.authordetail_id = authordetail.id AND authordetail.phone = &#x27;119&#x27;;</span><br></pre></td></tr></table></figure><h1 id="4-8-多表查询-内连接"><a href="#4-8-多表查询-内连接" class="headerlink" title="4-8 多表查询 - 内连接"></a>4-8 多表查询 - 内连接</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- inner join: 应用最广泛，取两张表有关联部分的数据</span><br><span class="line">select 表名.字段 from 表1 inner join 表2 on 表1.表1外键字段=表2.id；</span><br><span class="line"></span><br><span class="line">-- 连表查询两张表有关的数据</span><br><span class="line">SELECT * FROM author INNER JOIN authordetail ON author.authordetail_id = authordetail.id;</span><br><span class="line"></span><br><span class="line">-- 连表之后进行其他操作</span><br><span class="line">-- 电话号码是119的作者名称和地址</span><br><span class="line">SELECT author.name, authordetail.addr </span><br><span class="line">FROM author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">WHERE authordetail.phone=&#x27;119&#x27;;</span><br><span class="line">-- 查看每个城市作者的数量以及作者的姓名</span><br><span class="line">SELECT</span><br><span class="line">authordetail.addr AS &#x27;城市&#x27;,</span><br><span class="line">GROUP_CONCAT( author.NAME ) AS &#x27;作者姓名&#x27; </span><br><span class="line">FROM</span><br><span class="line">author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">GROUP BY authordetail.addr;</span><br><span class="line"></span><br><span class="line">-- 将查询作者的姓名、年龄、地址并且按照作者的年龄从大到小进行排序</span><br><span class="line">SELECT</span><br><span class="line">author.NAME,</span><br><span class="line">authordetail.age,</span><br><span class="line">authordetail.addr </span><br><span class="line">FROM</span><br><span class="line">author INNER JOIN authordetail ON author.authordetail_id = authordetail.id </span><br><span class="line">ORDER BY</span><br><span class="line">authordetail.age DESC;</span><br></pre></td></tr></table></figure><h1 id="4-9-多表查询-外连接"><a href="#4-9-多表查询-外连接" class="headerlink" title="4-9 多表查询 - 外连接"></a>4-9 多表查询 - 外连接</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 外连接有两种分别是left join和right join</span><br><span class="line">-- left join：left join左边的表是主表，数据全部显示，left join右边的表是辅表,如果辅表的数据比主表中的数据多多的数据不会显示，如果少的话就使用null补全。right join和left join相反，通常使用left join的场景较多。</span><br><span class="line">SELECT * FROM bm LEFT JOIN yg ON bm.id = yg.bm_id;</span><br><span class="line"></span><br><span class="line">-- 表1 join 表2 on 关联条件 的原理：驱动表</span><br><span class="line">拿到其中一张表作为驱动表，使用关联条件(on之后的条件)去和另外一张表进行比对，如果符合就将这两张表的数据进行拼接。当两张表的行数差异较大时，将小表（查询得到的结果更少的结果集）作为驱动表，可以优化查询降低数据比对的次数，对于内连接来说，无法控制驱动表是谁，完全由优化器决定，如果需要人为干预驱动表，可以通过外连接实现。</span><br><span class="line">left join中驱动表就是左表，right join中驱动表就是右表</span><br></pre></td></tr></table></figure><h1 id="4-10-多表查询-子查询"><a href="#4-10-多表查询-子查询" class="headerlink" title="4-10 多表查询 - 子查询"></a>4-10 多表查询 - 子查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-- 子查询指一个查询语句嵌套在另一个查询语句内部的查询，在 SELECT 子句中先进行子查询，子查询结果作为外层另一个查询的过滤条件，查询可以基于一个表或者多个表</span><br><span class="line"></span><br><span class="line">-- 每个部门员工的人数</span><br><span class="line">SELECT (SELECT bm_name from bm WHERE id=bm_id) as &#x27;部门名称&#x27;, COUNT(id) from yg GROUP BY bm_id;</span><br><span class="line"></span><br><span class="line">-- 思路</span><br><span class="line">1. 首先先按照bm_id进行分组</span><br><span class="line">select bm_id, count(id) from yg group by bm_id;</span><br><span class="line"></span><br><span class="line">2. 通过子查询将select之后的bm_id替换成部门名称</span><br><span class="line">SELECT (SELECT bm_name from bm WHERE id=bm_id) as &#x27;部门名称&#x27;, COUNT(id) from yg GROUP BY bm_id;</span><br><span class="line"></span><br><span class="line">-- 查询小雨所在部门的部门信息和该部门的所有员工姓名</span><br><span class="line">SELECT id, bm_name, bm_desc, (select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=id) as &#x27;部门员工&#x27; from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;);</span><br><span class="line">-- 思路</span><br><span class="line">1. 查询小雨所在的部门id</span><br><span class="line">SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;;</span><br><span class="line"></span><br><span class="line">2. 根据上一条得到的id去bm表中查询部门信息</span><br><span class="line">SELECT id, bm_name, bm_desc from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;); </span><br><span class="line"></span><br><span class="line">3. 根据部门id进行分组，得到不同部门的员工的名字(列转行)，再进行筛选，筛选出部门是第一条的到部门id的数据</span><br><span class="line">select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=第一条查询所得到的id;</span><br><span class="line"></span><br><span class="line">4. 将上述查询组合一下</span><br><span class="line">SELECT id, bm_name, bm_desc, (select GROUP_CONCAT(yg_name) from yg group by bm_id HAVING bm_id=id) as &#x27;部门员工&#x27; from bm where id=(SELECT bm_id from yg where yg_name=&#x27;小雨&#x27;);</span><br></pre></td></tr></table></figure><h1 id="4-11-多表查询总结"><a href="#4-11-多表查询总结" class="headerlink" title="4-11 多表查询总结"></a>4-11 多表查询总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-- 什么是多表查询</span><br><span class="line">需要的数据来自于多张表，单表无法满足，实际上是将多张表有关联的数据合并成一张新表，在新表中做where group by/ having / limit / order by等子句等操作</span><br><span class="line"></span><br><span class="line">-- 多表查询的类型：连表查询和子查询</span><br><span class="line">多表查询</span><br><span class="line">        笛卡尔乘积join</span><br><span class="line">        内连接inner join</span><br><span class="line">        外连接left join/right join</span><br><span class="line">子查询</span><br><span class="line"></span><br><span class="line">-- 笛卡尔乘积join(join可以省略)</span><br><span class="line">select 表名.字段 from 表1 join 表2;</span><br><span class="line">将两张表中所有的数据进行一一对应然后生成一张大表，通常不建议使用使用笛卡尔乘积</span><br><span class="line"></span><br><span class="line">-- inner join: 应用最广泛，取两张表有关联部分的数据</span><br><span class="line">select 表名.字段 from 表1 inner join 表2 on 表1.表1外键字段=表2.id；</span><br><span class="line"></span><br><span class="line">-- 外连接有两种分别是left join和right join</span><br><span class="line">    -- left join：left join左边的表是主表，数据全部显示，left join右边的表是辅表,如果辅表的数据比主表中的数据多多的数据不会显示，如果少的话就使用null补全。right join和left join相反，通常使用left join的场景较多。</span><br><span class="line">    -- 表1 join 表2 on 关联条件 的原理：驱动表</span><br><span class="line">    拿到其中一张表作为驱动表，使用关联条件(on之后的条件)去和另外一张表进行比对，如果符合就将这两张表的数据进行拼接。当两张表的行数差异较大时，将小表（查询得到的结果更少的结果集）作为驱动表，可以优化查询降低数据比对的次数，对于内连接来说，无法控制驱动表是谁，完全由优化器决定，如果需要人为干预驱动表，可以通过外连接实现。</span><br><span class="line">    left join中驱动表就是左表，right join中驱动表就是右表</span><br><span class="line">    </span><br><span class="line">-- 子查询指一个查询语句嵌套在另一个查询语句内部的查询，在 SELECT 子句中先进行子查询，子查询结果作为外层另一个查询的过滤条件，查询可以基于一个表或者多个表</span><br></pre></td></tr></table></figure><h1 id="4-12-多表关系-增删改操作"><a href="#4-12-多表关系-增删改操作" class="headerlink" title="4-12 多表关系 - 增删改操作"></a>4-12 多表关系 - 增删改操作</h1><ul><li>一对一关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 一对一表关系：(作者/作者信息)</span><br><span class="line">-- 增加数据：先增加没有外键的表的数据，再增加另一张表的数据</span><br><span class="line">INSERT INTO authordetail ( phone, addr ) </span><br><span class="line">VALUES </span><br><span class="line">( &#x27;110&#x27;, &#x27;上海&#x27; ), </span><br><span class="line">( &#x27;119&#x27;, &#x27;北京&#x27; ),</span><br><span class="line">( &#x27;114&#x27;, &#x27;重庆&#x27; ),</span><br><span class="line">( &#x27;120&#x27;, &#x27;天津&#x27; );  -- 向被关联表中写入数据</span><br><span class="line">INSERT INTO author ( NAME, age, authordetail_id ) VALUES</span><br><span class="line">( &#x27;小明&#x27;, 27, 1 ),</span><br><span class="line">( &#x27;小红&#x27;, 28, 2 ),</span><br><span class="line">( &#x27;小鱼&#x27;, 29, 3 ),</span><br><span class="line">(&#x27;小雪&#x27;, 30, 4 );  -- 向另一张表中写入数据，关联字段的数据必须存在于被关联表中，否则会报错</span><br><span class="line"></span><br><span class="line">-- 修改数据：</span><br><span class="line">UPDATE authordetail INNER JOIN author ON authordetail.id = author.authordetail_id </span><br><span class="line">SET authordetail.addr = &#x27;天津&#x27; WHERE author.NAME = &#x27;小明&#x27;;-- 小明的地址修改为天津，使用的连表的方式</span><br><span class="line"></span><br><span class="line">-- 删除数据：</span><br><span class="line">DELETE FROM author WHERE authordetail_id = ( SELECT id FROM authordetail WHERE phone = &#x27;109&#x27; );-- 删除电话号码是109的作者，可以删除并且不会影响作者详情表</span><br><span class="line">delete from authordetail where phone=&#x27;117&#x27;; -- 删除电话号码是117的作者信息，作者表中对应的数据也会被删除</span><br><span class="line">-- 删除表</span><br><span class="line">必须先删除被关联表</span><br></pre></td></tr></table></figure><ul><li>一对多关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 增加数据：先增加没有外键的表的数据，再增加另一张表的数据</span><br><span class="line">-- 修改数据：</span><br><span class="line">UPDATE bm set bm_desc=&#x27;测试工作&#x27; WHERE id = (SELECT bm_id FROM yg WHERE yg_name=&#x27;小吴&#x27;); -- -- 把小吴所在的部门的部门描述修改成 测试工作，子查询的方式</span><br><span class="line"></span><br><span class="line">-- 删除数据</span><br><span class="line">delete from bm where bm_name=&#x27;测试&#x27;;-- 部门数据被删除，对应部门的yg数据肯定被删除</span><br><span class="line"></span><br><span class="line">    delete from yg WHERE bm_id = (SELECT id from bm WHERE bm_name=&#x27;测试&#x27;)-- 删除测试部门的所有同学，删除员工不会影响部门</span><br><span class="line">    </span><br><span class="line">-- 删除表</span><br><span class="line">必须先删除被关联表</span><br></pre></td></tr></table></figure><ul><li>多对多关系</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 增加数据：先增加两张没有外键约束的表，最后再增加第三张表的数据</span><br><span class="line">-- 修改数据</span><br><span class="line">   UPDATE book2author SET author_id =( SELECT id FROM author WHERE NAME = &#x27;小明&#x27; ) WHERE book_id =( SELECT id FROM book WHERE `name` = &#x27;西游&#x27; ); -- 将西游的作者修改成小明</span><br><span class="line"></span><br><span class="line">-- 删除数据</span><br><span class="line">-- 不管删除哪一方的表格最终影响的都是第三章表的数据，删除第三章表格的数据不会影响另两张表的数据</span><br><span class="line">-- 删除表，需要先删除第三张表</span><br></pre></td></tr></table></figure><h1 id="4-13-多表关系实战-设计表关系"><a href="#4-13-多表关系实战-设计表关系" class="headerlink" title="4-13 多表关系实战 - 设计表关系"></a>4-13 多表关系实战 - 设计表关系</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">设计一个简单的培训机构的管理系统，需求如下：</span><br><span class="line">1. 学校有以下培训班，比如python go DBA linux运维 软件测试</span><br><span class="line">2. 老师可以教不同班级</span><br><span class="line">3. 学生只能在班级中的一个里边上课</span><br><span class="line">根据上述的需求设计一个简单的数据库，以及表，关于表的字段可以随意发挥</span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">班级和学生一对多,外键建在多的一方即学生</span><br><span class="line">学生和学生信息一对一</span><br><span class="line">班级和老师多对多</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 创建库</span><br><span class="line">create database manage_sys charset=utf8mb4;</span><br><span class="line">-- 创建表</span><br><span class="line">-- 创建班级表</span><br><span class="line">CREATE TABLE bj (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">bj_name VARCHAR ( 10 ),</span><br><span class="line">bj_desc VARCHAR ( 36 )</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建学生表</span><br><span class="line">CREATE TABLE xs (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">xs_name VARCHAR ( 10 ),</span><br><span class="line">score FLOAT ( 5, 2 ) UNSIGNED,</span><br><span class="line">bj_id INT,</span><br><span class="line">    info_id INT,</span><br><span class="line">    FOREIGN KEY ( bj_id ) REFERENCES bj ( id ) ON UPDATE CASCADE ON DELETE CASCADE,</span><br><span class="line">    FOREIGN KEY ( info_id  ) REFERENCES stu_info ( id ) ON UPDATE CASCADE ON DELETE CASCADE</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建老师表</span><br><span class="line">CREATE TABLE teacher ( id INT PRIMARY KEY auto_increment, teacher_name VARCHAR ( 10 ), age INT UNSIGNED, sex enum ( &#x27;男&#x27;, &#x27;女&#x27; ) ) ENGINE = INNODB charset = utf8mb4;  </span><br><span class="line"></span><br><span class="line">-- 创建班级和老师的多对多关系表</span><br><span class="line">CREATE TABLE bj2teacher (</span><br><span class="line">id INT PRIMARY KEY auto_increment,</span><br><span class="line">bj_id INT,</span><br><span class="line">teacher_id INT,</span><br><span class="line">FOREIGN KEY ( bj_id ) REFERENCES bj ( id ) ON UPDATE CASCADE ON DELETE CASCADE,</span><br><span class="line">FOREIGN KEY ( teacher_id ) REFERENCES teacher ( id ) ON UPDATE CASCADE ON DELETE CASCADE </span><br><span class="line">) ENGINE = INNODB charset = utf8mb4; </span><br><span class="line"></span><br><span class="line">-- 创建学生信息表</span><br><span class="line">CREATE TABLE stu_info ( </span><br><span class="line">id INT PRIMARY KEY auto_increment, </span><br><span class="line">age INT, </span><br><span class="line">sex enum ( &#x27;男&#x27;, &#x27;女&#x27; ), </span><br><span class="line">employment bool DEFAULT ( TRUE )</span><br><span class="line">) ENGINE = INNODB charset = utf8mb4;</span><br></pre></td></tr></table></figure><h1 id="4-14-多表查询实战-连表查询"><a href="#4-14-多表查询实战-连表查询" class="headerlink" title="4-14 多表查询实战 - 连表查询"></a>4-14 多表查询实战 - 连表查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-- 查询每个班级的人数</span><br><span class="line">SELECT bj.bj_name, count( xs.id ) </span><br><span class="line">FROM xs INNER JOIN bj ON xs.bj_id = bj.id </span><br><span class="line">GROUP BY bj.bj_name;</span><br><span class="line"></span><br><span class="line">-- 查询DBA班级里学生的分数并按照从大到小的顺序排序</span><br><span class="line">SELECT xs.xs_name, xs.score </span><br><span class="line">FROM xs INNER JOIN bj ON xs.bj_id = bj.id </span><br><span class="line">WHERE bj.bj_name = &#x27;python&#x27; </span><br><span class="line">ORDER BY xs.score DESC;</span><br><span class="line"></span><br><span class="line">-- 查询python班级的就业信息，哪些同学就业哪些同学没就业</span><br><span class="line">select stu_info.employment, GROUP_CONCAT(xs.xs_name) </span><br><span class="line">from (xs inner join bj on xs.bj_id=bj.id) inner join stu_info on xs.info_id=stu_info.id</span><br><span class="line">where bj.bj_name=&#x27;python&#x27;</span><br><span class="line">group by stu_info.employment;</span><br></pre></td></tr></table></figure><h1 id="4-15-多表查询实战-子查询"><a href="#4-15-多表查询实战-子查询" class="headerlink" title="4-15 多表查询实战 - 子查询"></a>4-15 多表查询实战 - 子查询</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-- 查询每个班级的人数</span><br><span class="line">select (select bj_name from bj where id=bj_id) as 班级, count(id) as &#x27;学生人数&#x27; from xs group by bj_id;</span><br><span class="line">-- 思路</span><br><span class="line">1. 首先在学生表中根据班级id进行分类，得到班级id</span><br><span class="line">2. 得到班级id之后就可以去bj表里查询班级名称</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询DBA班级里学生的分数并按照从大到小的顺序排序</span><br><span class="line">select xs_name, score from xs where bj_id=(select id from bj where bj_name=&#x27;DBA&#x27;) order by score desc;</span><br><span class="line">-- 思路</span><br><span class="line">1. 首先确定从哪张表中查询数据</span><br><span class="line">2. 筛选条件班级id可以从班级表中查询得到</span><br><span class="line"></span><br><span class="line">-- 查询小雨所在班级的班级信息和班级所有学生的姓名</span><br><span class="line">select </span><br><span class="line">bj.bj_name,</span><br><span class="line">bj.bj_desc, </span><br><span class="line">(SELECT GROUP_CONCAT(xs_name) from xs group by bj_id having bj_id=id) as &#x27;学生姓名&#x27; </span><br><span class="line">from bj</span><br><span class="line">where id=(select bj_id from xs where xs_name=&#x27;小雨&#x27;);</span><br><span class="line">-- 思路</span><br><span class="line">1. 找到小雨所在的班级id</span><br><span class="line">select bj_id from xs where xs_name=&#x27;小雨&#x27;;</span><br><span class="line">2. 根据找到的班级id找到小雨所在的班级信息</span><br><span class="line">select * from bj where id=班级id;</span><br><span class="line">3. 在学生表中根据班级id进行分组筛选出班级id是小雨所在的班级id的学生姓名</span><br><span class="line">SELECT GROUP_CONCAT(xs_name) from xs group by bj_id having bj_id=小雨所在的班级id；</span><br><span class="line">4. 组合上述sql得到最终结果</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create view V_score as select student.学号,student.姓名,student.民族,student.性别,课程号,成绩 from student,score where student.学号=score.学号 and student.性别=&#x27;男&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select 学号,姓名,课程号,成绩 from v_score where 民族=&#x27;侗&#x27;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>select查询语句</title>
      <link href="/posts/24fbc361.html"/>
      <url>/posts/24fbc361.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="3-1-导入-x2F-导出sql文件"><a href="#3-1-导入-x2F-导出sql文件" class="headerlink" title="3-1 导入&#x2F;导出sql文件"></a>3-1 导入&#x2F;导出sql文件</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 将数据库中的数据导出，在命令行直接写命令，不需要进入MySQL</span><br><span class="line">mysqldump -u root -p --all-databases &gt; 本地路径  -- 将数据库中所有的库和库中数据全部导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p --all-databases &gt; F:\all_data.sql</span><br><span class="line"></span><br><span class="line">mysqldump -u root -p 库名 &gt; 本地路径  -- 将数据库中指定的库的数据导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p test &gt; F:\test.sql</span><br><span class="line"></span><br><span class="line">mysqldump -u 用户名 -p 数据库名 表名1 表名2 ...&gt; 本地路径  -- 将库中的一个表或者多个表和表中的数据导出到本地</span><br><span class="line">C:\Users\12801&gt;mysqldump -u root -p1026 test t1 t2 &gt; F:\many_tables.sql</span><br><span class="line"></span><br><span class="line">-- 向数据库中导入sql文件，需要登录mysql</span><br><span class="line">source sql文件  -- 导入所有库</span><br><span class="line">-- 导入一个库文件或者表需要先进入到库里</span><br><span class="line">    use 库;</span><br><span class="line">    source sql文件</span><br></pre></td></tr></table></figure><h1 id="3-2-select介绍"><a href="#3-2-select介绍" class="headerlink" title="3-2 select介绍"></a>3-2 select介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- DQL 数据查询语言，并不是官方定义的，只是因为数据查询非常重要而且知识点较多，所以就出现了DQL这个分类</span><br><span class="line">-- 功能</span><br><span class="line">获取表中的数据行，可以单独使用也可以配合其他子句使用，标准用法是配合其他子句使用</span><br><span class="line">-- 单独使用</span><br><span class="line">select localtime();  -- 配合内置函数使用，显示当前时间</span><br><span class="line">select concat(id, &#x27;@&#x27;, name) from t1;  -- concat拼接操作</span><br><span class="line"></span><br><span class="line">-- 标准用法：配合from /where /group by /having /order by /limit子句进行查询数据</span><br><span class="line">-- 上述子句的顺序就是SQL语法的书写顺序，需要注意语法书写顺序和执行顺序不一致</span><br></pre></td></tr></table></figure><h1 id="3-3-单表查询-from"><a href="#3-3-单表查询-from" class="headerlink" title="3-3 单表查询 - from"></a>3-3 单表查询 - from</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 表准备</span><br><span class="line">在我要自学网本课程的资源下载中下载课程中用到的sql文件</span><br><span class="line">-- 将数据导入到本地MySQL中</span><br><span class="line">source sql文件路径</span><br><span class="line"></span><br><span class="line">-- select配合from子句：select 想要查询的数据 from 表;</span><br><span class="line">select * from dql.info;   -- 查询info表中的所有数据，全表扫描</span><br><span class="line">select id, name from dql.info;  -- 查询city表中id和name的数据，查询部分列的值</span><br><span class="line">ps：通常不使用全表扫描的方式查询数据，在数据非常多的情况下全表扫描是非常慢的</span><br></pre></td></tr></table></figure><h1 id="3-4-单表查询-where"><a href="#3-4-单表查询-where" class="headerlink" title="3-4 单表查询 - where"></a>3-4 单表查询 - where</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：where字句后需要有筛选条件，根据条件筛选出满足的数据</span><br><span class="line">-- 配合= &gt; &lt; &lt;= &gt;= != 比较运算使用</span><br><span class="line">select * from info where teacher=&#x27;李老师&#x27;;  -- 查询李老师带的学生的所有信息</span><br><span class="line"></span><br><span class="line">-- 配合and or not 逻辑判断使用</span><br><span class="line">select * from info where score&gt;90 and age&lt;8; -- 查询成绩大于90分并且年龄小于8岁的学生信息</span><br><span class="line">select * from info where score&gt;90 or score&lt;60 -- 查询成绩大于90分或者小于60分的学生的信息</span><br><span class="line"></span><br><span class="line">-- 配合between and 范围使用</span><br><span class="line">select * from info where score between 80 and 100; -- 查询分数在80-100范围的学生信息</span><br><span class="line"></span><br><span class="line">-- 配合in、not in 成员运算使用</span><br><span class="line"> select * from info where teacher in(&#x27;张老师&#x27;, &#x27;李老师&#x27;); -- 查询张老师和李老师带的学生信息</span><br><span class="line"> select * from info where teacher not in (&#x27;李老师&#x27;, &#x27;刘老师&#x27;); -- 查询没有被李老师和刘老师带的学生的信息</span><br><span class="line"> </span><br><span class="line">-- 配合like 模糊查询使用</span><br><span class="line">-- % 匹配任意多个字符</span><br><span class="line">-- _匹配任意单个字符</span><br><span class="line">SELECT * FROM info WHERE name LIKE &#x27;小%&#x27;;  -- 查询&#x27;小&#x27;开头的学生信息</span><br><span class="line">SELECT * FROM city WHERE district LIKE &#x27;小_&#x27;;  -- 查询&#x27;小&#x27;开头的学生信息</span><br></pre></td></tr></table></figure><h1 id="3-5-单表查询-group-by"><a href="#3-5-单表查询-group-by" class="headerlink" title="3-5 单表查询 - group by"></a>3-5 单表查询 - group by</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：按照某种逻辑分类分组，然后以组为单位统计分析数据。根据情况判断是否需要where过滤</span><br><span class="line">-- 使用：分组后不能使用表内定义字段作为select后的查询字段，需要配合聚合函数使用；由于MySQL数据库中不允许一行数据与多行数据对应，因此需要使用聚合函数将多个数据整合为与分组依据对应的一个数据。</span><br><span class="line">-- max()/min()最大/最小</span><br><span class="line">select teacher, min(score) from info group by teacher; -- 每个老师所带的学生的最低分数</span><br><span class="line">-- avg() 平均数</span><br><span class="line">select grade, avg(score) from info group by grade; -- 每个年级的平均分</span><br><span class="line">-- count() 计数</span><br><span class="line">select teacher, count(id) from info group by teacher; -- 统计每个老师带的学生数量</span><br><span class="line">-- sum() 总和</span><br><span class="line">select grade, sum(score) from info group by grade; -- 统计每个年级学生的总分</span><br><span class="line">-- group_concat()，列转行，将group by产生的同一个分组中的值连接起来，返回一个字符串结果。group_concat函数首先根据group by指定的列进行分组，将同一组的列转换成行出来。</span><br><span class="line">select grade, avg(score)， group_concat(name) from info group by grade;-- 统计每个年级的平均分，并且列出每个年级学生的名字</span><br><span class="line"></span><br><span class="line">-- 补充：可以使用as给字段起别名，as可以省略</span><br><span class="line">select grade as &#x27;年级&#x27;, avg(score) as &#x27;平均分&#x27; from info group by grade; -- 每个年级的平均分</span><br><span class="line"></span><br><span class="line">-- 和where子句结合使用</span><br><span class="line">select grade, age, avg(score) as &#x27;平均分&#x27; from info where grade=1 group by age; -- 统计一年级中不同年龄的分数平均值</span><br><span class="line"></span><br><span class="line">-- 使用分组group by注意事项</span><br><span class="line">&lt;1&gt; 关键字where和group by同时出现的时候group by必须在where的后面</span><br><span class="line">&lt;2&gt; where先对整体数据进行过滤之后再分组操作</span><br><span class="line">&lt;3&gt; where后面的筛选条件不能使用聚合函数</span><br></pre></td></tr></table></figure><h1 id="3-6-单表查询-having"><a href="#3-6-单表查询-having" class="headerlink" title="3-6 单表查询 - having"></a>3-6 单表查询 - having</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：对分组之后的数据再次进行筛选，作用和where类似，但是在having之后可以直接使用聚合函数作为条件</span><br><span class="line">-- 使用</span><br><span class="line">select grade, avg(score) from info group by grade having avg(score)&gt;=80; -- 统计每个年级的平均分并且输出平均分大于等于80的年级</span><br><span class="line"></span><br><span class="line">-- from + where + group by + having结合使用</span><br><span class="line">select grade, age, avg(score) as &#x27;平均分&#x27; from info where grade=1 group by age having avg(score)&gt;85;-- 统计一年级中不同年龄学生的分数平均值并输出平均分大于85分的年龄和分数</span><br></pre></td></tr></table></figure><h1 id="3-7-单表查询-distinct"><a href="#3-7-单表查询-distinct" class="headerlink" title="3-7 单表查询 - distinct"></a>3-7 单表查询 - distinct</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：对跟在distinct之后的字段数据去重操作，数据必须完全一致才能去重，如果去重的数据包含主键是无法进行去重的操作的</span><br><span class="line">-- 使用：</span><br><span class="line">select distinct id, teacher from info;  -- 查询老师和id,无法去重</span><br><span class="line">select distinct teacher from info;  -- 只查询老师可以去重</span><br><span class="line">select distinct age from info; -- 查询学生年龄都有哪些</span><br><span class="line">-- 结合group by使用</span><br><span class="line">select grade, min(score) as &#x27;最低分数&#x27;, group_concat(distinct teacher) from info group by grade;-- 查询每个年级最低分数并且输出该年级所有老师</span><br></pre></td></tr></table></figure><h1 id="3-8-单表查询-order-by"><a href="#3-8-单表查询-order-by" class="headerlink" title="3-8 单表查询 - order by"></a>3-8 单表查询 - order by</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：按照指定顺序输出结果，默认是从小到大，desc是从大到小</span><br><span class="line">-- 使用：</span><br><span class="line">select * from info order by id desc; -- 将数据按照id从大到小的顺序排序</span><br><span class="line">select * from info order by name; -- 按照学生姓名进行排序，非数字的排序是按照ASCII码表的顺序进行排序</span><br><span class="line">select name, score from info where grade=1 order by score desc;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序</span><br></pre></td></tr></table></figure><h1 id="3-9-单表查询-limit"><a href="#3-9-单表查询-limit" class="headerlink" title="3-9 单表查询 - limit"></a>3-9 单表查询 - limit</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 作用：限制数据的展示条数，通常配合order by使用</span><br><span class="line">-- 使用</span><br><span class="line">-- limit后跟一个数字，表示从头开始展示的条数</span><br><span class="line">select * from info limit 5;  -- 展示前5条数据</span><br><span class="line">-- limit后跟两个数字，第一个参数是起始位置，第二个参数是展示的条数</span><br><span class="line">select * from info limit 5, 6; --  从第6条开始显示，共显示6条LIMIT N, M;  跳过N行，显示M行</span><br><span class="line">select * from info limit 6 offset 5; --  从第6条开始显示，共显示6条，LIMIT M OFFSET N; 跳过N行，显示M行</span><br><span class="line"></span><br><span class="line">-- 配合order by使用</span><br><span class="line">select * from info order by id desc limit 5; -- 将数据按照id从大到小的顺序排序，并展示前5条数据</span><br><span class="line">select name, score from info where grade=1 order by score desc limit 2, 4;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序，从第2条开始展示，展示4条</span><br><span class="line">select name, score from info where grade=1 order by score desc limit 4 offset 2;-- 查询1年级的学生的姓名和成绩，并按照学生成绩从大到小进行排序，从第2条开始展示，展示4条</span><br></pre></td></tr></table></figure><h1 id="3-10-单表查询总结"><a href="#3-10-单表查询总结" class="headerlink" title="3-10 单表查询总结"></a>3-10 单表查询总结</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-- 单表查询所有子句书写顺序</span><br><span class="line">SELECT DISTINCT field_list</span><br><span class="line">FROM table</span><br><span class="line">WHERE &lt;where_condition&gt;</span><br><span class="line">GROUP BY &lt;group_by_list&gt;</span><br><span class="line">HAVING &lt;having_condition&gt;</span><br><span class="line">ORDER BY &lt;order_by_condition&gt;</span><br><span class="line">LIMIT &lt;limit_number&gt;</span><br><span class="line"></span><br><span class="line">-- 执行顺序</span><br><span class="line">from# 找到表</span><br><span class="line">where# 筛选</span><br><span class="line">group by# 分组</span><br><span class="line">having# 再筛选</span><br><span class="line">select# 选择查看内容</span><br><span class="line">distinct# 内容去重</span><br><span class="line">order by# 内容排序</span><br><span class="line">limit# 限制内容条数</span><br><span class="line"></span><br><span class="line">-- 单表查询总结</span><br><span class="line"> where + 筛选条件; 可以配合= &gt; &lt; &lt;= &gt;= != 比较运算使用，也可以配合配合and or not 逻辑判断使用，也可以配合between and 范围使用，还有配合in、not in 成员运算使用以及配合like 模糊查询使用(% 匹配任意多个字符,_匹配任意单个字符)</span><br><span class="line"></span><br><span class="line"> group by 通常都是和聚合函数min()/max()/avg()/count()/sum()一起使用，分组后不能使用表内定义字段作为select后的查询字段，需要配合聚合函数使用；由于MySQL数据库中不允许一行数据与多行数据对应，因此需要使用聚合函数将多个数据整合为与分组依据对应的一个数据。</span><br><span class="line"> </span><br><span class="line"> having 对分组之后的数据再次进行筛选，作用和where类似，但是在having之后可以直接使用聚合函数作为条件,只能在分组之后使用，如果没有使用分组筛选条件只能使用where</span><br><span class="line"> </span><br><span class="line"> distinct 对跟在distinct之后的字段数据去重操作，数据必须完全一致才能去重，如果去重的数据包含主键是无法进行去重的操作的</span><br><span class="line"> </span><br><span class="line"> order by 按照指定顺序输出结果，默认是从小到大，desc是从大到小</span><br><span class="line"> </span><br><span class="line"> limit 限制数据的展示条数，通常配合order by使用，有三种写法</span><br><span class="line"> limit N; -- 展示结果的前N条数据</span><br><span class="line"> limit N, M; -- 跳过N条数据之后再展示M条数据</span><br><span class="line"> LIMIT M OFFSET N; 跳过N行，显示M行</span><br></pre></td></tr></table></figure><h1 id="3-11-单表查询综合实战-1"><a href="#3-11-单表查询综合实战-1" class="headerlink" title="3-11 单表查询综合实战(1)"></a>3-11 单表查询综合实战(1)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">数据准备：https://downloads.mysql.com/docs/world-db.zip</span><br><span class="line">或者在我要自学网上进行下载</span><br><span class="line">-- 查询中国所有城市信息</span><br><span class="line">select * from city where countrycode=&#x27;CHN&#x27;;</span><br><span class="line">-- 中国人口大于5000000的城市信息</span><br><span class="line">SELECT * FROM city WHERE countrycode=&#x27;CHN&#x27; AND population&gt;5000000;</span><br><span class="line">-- 查询中国省的名字前面带guang开头的</span><br><span class="line">SELECT * FROM city WHERE district LIKE &#x27;guang%&#x27;;</span><br><span class="line">-- 查询中国和美国所有城市信息</span><br><span class="line">SELECT * FROM city WHERE countrycode IN (&#x27;CHN&#x27; ,&#x27;USA&#x27;); </span><br><span class="line">-- 查询世界上人口数量大于100w小于200w的城市信息</span><br><span class="line">SELECT * FROM city WHERE population &gt;1000000 AND population &lt;2000000;  -- 第一种</span><br><span class="line">SELECT * FROM city WHERE population BETWEEN 1000000 AND 2000000;  -- 第二种</span><br><span class="line">-- 统计世界上每个国家的总人口数.</span><br><span class="line">SELECT countrycode ,SUM(population) FROM  city  GROUP BY countrycode;</span><br><span class="line">-- 统计中国每个省的人口数</span><br><span class="line">SELECT district,SUM(Population) FROM city  WHERE countrycode=&#x27;chn&#x27; GROUP BY district;</span><br></pre></td></tr></table></figure><h1 id="3-12-单表查询综合实战-2"><a href="#3-12-单表查询综合实战-2" class="headerlink" title="3-12 单表查询综合实战(2)"></a>3-12 单表查询综合实战(2)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">-- 统计中国每个省的名字，人数，城市个数，城市名字</span><br><span class="line">SELECT</span><br><span class="line">district AS &#x27;省份&#x27;,</span><br><span class="line">sum( population ) AS &#x27;总人数&#x27;,</span><br><span class="line">count( id ) AS &#x27;城市个数&#x27;,</span><br><span class="line">GROUP_CONCAT( NAME ) as &#x27;城市名称&#x27; </span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District;</span><br><span class="line">-- 统计中国每个省的总人口数，只打印总人口数小于1000000</span><br><span class="line">SELECT</span><br><span class="line">District AS &#x27;省份&#x27;,</span><br><span class="line">SUM( Population ) AS &#x27;总人口数&#x27;</span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District </span><br><span class="line">HAVING</span><br><span class="line">SUM( Population ) &lt; 1000000;</span><br><span class="line"></span><br><span class="line">-- 统计中国每个省的总人口数，只打印总人口数大于1000000,从大到小排列，只显示前6~11条。</span><br><span class="line">SELECT</span><br><span class="line">District AS &#x27;省份&#x27;,</span><br><span class="line">SUM( Population ) AS &#x27;总人口数&#x27; </span><br><span class="line">FROM</span><br><span class="line">city </span><br><span class="line">WHERE</span><br><span class="line">CountryCode = &#x27;CHN&#x27; </span><br><span class="line">GROUP BY</span><br><span class="line">District </span><br><span class="line">HAVING</span><br><span class="line">SUM( Population )&gt; 1000000 </span><br><span class="line">ORDER BY</span><br><span class="line">SUM( Population ) DESC </span><br><span class="line">LIMIT 5,</span><br><span class="line">6;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redis的安装</title>
      <link href="/posts/ee5d6723.html"/>
      <url>/posts/ee5d6723.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Redis安装说明"><a href="#Redis安装说明" class="headerlink" title="Redis安装说明"></a>Redis安装说明</h1><p>大多数企业都是基于Linux服务器来部署项目，而且Redis官方也没有提供Windows版本的安装包。因此课程中我们会基于Linux系统来安装Redis.</p><p>此处选择的Linux版本为CentOS 7.</p><p>Redis的官方网站地址：<a href="https://redis.io/">https://redis.io/</a></p><h1 id="1-单机安装Redis"><a href="#1-单机安装Redis" class="headerlink" title="1.单机安装Redis"></a>1.单机安装Redis</h1><h2 id="1-1-安装Redis依赖"><a href="#1-1-安装Redis依赖" class="headerlink" title="1.1.安装Redis依赖"></a>1.1.安装Redis依赖</h2><p>Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc tcl</span><br></pre></td></tr></table></figure><h2 id="1-2-上传安装包并解压"><a href="#1-2-上传安装包并解压" class="headerlink" title="1.2.上传安装包并解压"></a>1.2.上传安装包并解压</h2><p>然后将课前资料提供的Redis安装包上传到虚拟机的任意目录：</p><p><img src="https://s2.loli.net/2023/01/16/Ja8dPWHy4Rvcsbp.png" alt="image-20211211071712536"></p><p>例如，我放到了&#x2F;usr&#x2F;local&#x2F;src 目录：</p><p><img src="https://s2.loli.net/2023/01/16/NQSlt6T3AmXBp4F.png" alt="image-20211211080151539"></p><p>解压缩：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xzf redis-6.2.6.tar.gz</span><br></pre></td></tr></table></figure><p>解压后：</p><p><img src="https://s2.loli.net/2023/01/16/OUWYNnmTz28tQkg.png" alt="image-20211211080339076"></p><p>进入redis目录：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-6.2.6</span><br></pre></td></tr></table></figure><p>运行编译命令：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>如果没有出错，应该就安装成功了。</p><p>默认的安装路径是在 <code>/usr/local/bin</code>目录下：</p><p><img src="https://s2.loli.net/2023/01/16/xPGSKM7L4lgjdVZ.png" alt="image-20211211080603710"></p><p>该目录以及默认配置到环境变量，因此可以在任意目录下运行这些命令。其中：</p><ul><li>redis-cli：是redis提供的命令行客户端</li><li>redis-server：是redis的服务端启动脚本</li><li>redis-sentinel：是redis的哨兵启动脚本</li></ul><h2 id="1-3-启动"><a href="#1-3-启动" class="headerlink" title="1.3.启动"></a>1.3.启动</h2><p>redis的启动方式有很多种，例如：</p><ul><li>默认启动</li><li>指定配置启动</li><li>开机自启</li></ul><h3 id="1-3-1-默认启动"><a href="#1-3-1-默认启动" class="headerlink" title="1.3.1.默认启动"></a>1.3.1.默认启动</h3><p>安装完成后，在任意目录输入redis-server命令即可启动Redis：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></table></figure><p>如图：</p><p><img src="https://s2.loli.net/2023/01/16/wsHFY3bmj5eLvxJ.png" alt="image-20211211081716167"></p><p>这种启动属于<code>前台启动</code>，会阻塞整个会话窗口，窗口关闭或者按下<code>CTRL + C</code>则Redis停止。不推荐使用。</p><h3 id="1-3-2-指定配置启动"><a href="#1-3-2-指定配置启动" class="headerlink" title="1.3.2.指定配置启动"></a>1.3.2.指定配置启动</h3><p>如果要让Redis以<code>后台</code>方式启动，则必须修改Redis配置文件，就在我们之前解压的redis安装包下（<code>/usr/local/src/redis-6.2.6</code>），名字叫redis.conf：</p><p><img src="https://s2.loli.net/2023/01/16/rsK6fwt1gQMNhH3.png" alt="image-20211211082225509"></p><p>我们先将这个配置文件备份一份：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp redis.conf redis.conf.bck</span><br></pre></td></tr></table></figure><p>然后修改redis.conf文件中的一些配置：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0</span></span><br><span class="line"><span class="attr">bind</span> <span class="string">0.0.0.0</span></span><br><span class="line"><span class="comment"># 守护进程，修改为yes后即可后台运行</span></span><br><span class="line"><span class="attr">daemonize</span> <span class="string">yes </span></span><br><span class="line"><span class="comment"># 密码，设置后访问Redis必须输入密码</span></span><br><span class="line"><span class="attr">requirepass</span> <span class="string">123321</span></span><br></pre></td></tr></table></figure><p>Redis的其它常见配置：</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 监听的端口</span></span><br><span class="line"><span class="attr">port</span> <span class="string">6379</span></span><br><span class="line"><span class="comment"># 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录</span></span><br><span class="line"><span class="attr">dir</span> <span class="string">.</span></span><br><span class="line"><span class="comment"># 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15</span></span><br><span class="line"><span class="attr">databases</span> <span class="string">1</span></span><br><span class="line"><span class="comment"># 设置redis能够使用的最大内存</span></span><br><span class="line"><span class="attr">maxmemory</span> <span class="string">512mb</span></span><br><span class="line"><span class="comment"># 日志文件，默认为空，不记录日志，可以指定日志文件名</span></span><br><span class="line"><span class="attr">logfile</span> <span class="string">&quot;redis.log&quot;</span></span><br></pre></td></tr></table></figure><p>启动Redis：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入redis安装目录 </span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/src/redis-6.2.6</span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">redis-server redis.conf</span><br><span class="line"><span class="comment">#查看端口</span></span><br><span class="line">ps -ef | grep redis</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>停止服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，</span></span><br><span class="line"><span class="comment"># 因为之前配置了密码，因此需要通过 -u 来指定密码</span></span><br><span class="line">redis-cli -u 123321 shutdown</span><br></pre></td></tr></table></figure><h3 id="1-3-3-开机自启"><a href="#1-3-3-开机自启" class="headerlink" title="1.3.3.开机自启"></a>1.3.3.开机自启</h3><p>我们也可以通过配置来实现开机自启。</p><p>首先，新建一个系统服务文件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=redis-server</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf</span><br><span class="line">PrivateTmp=true</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>然后重载系统服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>现在，我们可以用下面这组命令来操作redis了：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">systemctl start redis</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">systemctl stop redis</span><br><span class="line"><span class="comment"># 重启</span></span><br><span class="line">systemctl restart redis</span><br><span class="line"><span class="comment"># 查看状态</span></span><br><span class="line">systemctl status redis</span><br></pre></td></tr></table></figure><p>执行下面的命令，可以让redis开机自启：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><h1 id="2-Redis客户端"><a href="#2-Redis客户端" class="headerlink" title="2.Redis客户端"></a>2.Redis客户端</h1><p>安装完成Redis，我们就可以操作Redis，实现数据的CRUD了。这需要用到Redis客户端，包括：</p><ul><li>命令行客户端</li><li>图形化桌面客户端</li><li>编程客户端</li></ul><h2 id="2-1-Redis命令行客户端"><a href="#2-1-Redis命令行客户端" class="headerlink" title="2.1.Redis命令行客户端"></a>2.1.Redis命令行客户端</h2><p>Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli [options] [commonds]</span><br></pre></td></tr></table></figure><p>其中常见的options有：</p><ul><li><code>-h 127.0.0.1</code>：指定要连接的redis节点的IP地址，默认是127.0.0.1</li><li><code>-p 6379</code>：指定要连接的redis节点的端口，默认是6379</li><li><code>-a 123321</code>：指定redis的访问密码</li></ul><p>其中的commonds就是Redis的操作命令，例如：</p><ul><li><code>ping</code>：与redis服务端做心跳测试，服务端正常会返回<code>pong</code></li></ul><p>不指定commond时，会进入<code>redis-cli</code>的交互控制台：</p><p><img src="https://s2.loli.net/2023/01/16/Tv6LYeOJ2fpku9q.png" alt="image-20211211110439353"></p><h2 id="2-2-图形化桌面客户端"><a href="#2-2-图形化桌面客户端" class="headerlink" title="2.2.图形化桌面客户端"></a>2.2.图形化桌面客户端</h2><p>GitHub上的大神编写了Redis的图形化桌面客户端，地址：<a href="https://github.com/uglide/RedisDesktopManager">https://github.com/uglide/RedisDesktopManager</a></p><p>不过该仓库提供的是RedisDesktopManager的源码，并未提供windows安装包。</p><p>在下面这个仓库可以找到安装包：<a href="https://github.com/lework/RedisDesktopManager-Windows/releases">https://github.com/lework/RedisDesktopManager-Windows/releases</a></p><p><img src="https://s2.loli.net/2023/01/16/q7urFMCLPn4DYXH.png" alt="image-20211211111351885"></p><h3 id="2-2-1-安装"><a href="#2-2-1-安装" class="headerlink" title="2.2.1.安装"></a>2.2.1.安装</h3><p>在课前资料中可以找到Redis的图形化桌面客户端：</p><p><img src="https://s2.loli.net/2023/01/16/j8ZSa3pINtdFc5e.png" alt="image-20211214154938770"></p><p>解压缩后，运行安装程序即可安装：</p><p><img src="https://s2.loli.net/2023/01/16/qGC1cTbVjvzoQlf.png" alt="image-20211214155123841"></p><p>此处略。</p><p>安装完成后，在安装目录下找到rdm.exe文件：</p><p><img src="https://s2.loli.net/2023/01/16/1SkoMUcuynrHtGW.png" alt="image-20211211110935819"></p><p>双击即可运行：</p><p><img src="https://s2.loli.net/2023/01/16/UkhqAgJpEt4yYST.png" alt="image-20211214155406692"></p><h3 id="2-2-2-建立连接"><a href="#2-2-2-建立连接" class="headerlink" title="2.2.2.建立连接"></a>2.2.2.建立连接</h3><p>点击左上角的<code>连接到Redis服务器</code>按钮：</p><p><img src="https://s2.loli.net/2023/01/16/PODfCFNWjpa3iMV.png" alt="image-20211214155424842"></p><p>在弹出的窗口中填写Redis服务信息：</p><p><img src="https://s2.loli.net/2023/01/16/gqDpbGrfRJkAhdC.png" alt="image-20211211111614483"></p><p>点击确定后，在左侧菜单会出现这个链接：</p><p><img src="/assets/image-20211214155804523.png" alt="image-20211214155804523"></p><p>点击即可建立连接了：</p><p><img src="https://s2.loli.net/2023/01/16/vqycs5CufFY32iQ.png" alt="image-20211214155849495"></p><p>Redis默认有16个仓库，编号从0至15.  通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名称。</p><p>如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择 0号库</span></span><br><span class="line">select 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nosql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql更改密码</title>
      <link href="/posts/37f0288c.html"/>
      <url>/posts/37f0288c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="mysql更改密码"><a href="#mysql更改密码" class="headerlink" title="mysql更改密码"></a>mysql更改密码</h3><p>进入到MySQL输入以下指令</p><img src="https://s2.loli.net/2023/01/07/WyHISEZt9JnGlQz.png" alt="image-20230107162204484" style="zoom:80%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; update mysql.user set authentication_string=password(&#x27;123456&#x27;) where user=&#x27;root&#x27; and Host =&#x27;localhost&#x27;;</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.04 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 1</span><br><span class="line"></span><br><span class="line">mysql&gt; update user set plugin=&quot;mysql_native_password&quot;; </span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line">Rows matched: 4  Changed: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line"></span><br><span class="line">ALTER USER “root”@“localhost” IDENTIFIED WITH mysql_native_password BY “your password”;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">show databases;  #查看数据库</span><br><span class="line">use mysql;       #使用数据库</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">update user set authentication_string=PASSWORD(&quot;123456&quot;) where user=&#x27;root&#x27;;  </span><br><span class="line"></span><br><span class="line">#修改密码，密码设置的是 123456</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">update user set plugin=&quot;mysql_native_password&quot;;</span><br><span class="line"></span><br><span class="line">flush privileges; #刷新</span><br><span class="line"></span><br><span class="line">exit;  #退出,密码已经修改成功</span><br><span class="line"></span><br><span class="line">/etc/init.d/mysql restart   #重启mysql</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">重置为新的密码，这里分为两个版本</span><br><span class="line"></span><br><span class="line">一直使用5.7的命令在8.0的版本中执行，一直报错，感到很诧异，后查找资料后发现，mysql 5.7.9以后废弃了password字段和password()函数；</span><br><span class="line"></span><br><span class="line">而且用于表示用户密码的authentication_string字段只能是mysql加密后的41位字符串密码。因此在修改密码时，5.7版本和8.0版本有所不同，需要使用不同的语句执行，其他版本也有可能不同。</span><br><span class="line"></span><br><span class="line">1、MySql5.7</span><br><span class="line"></span><br><span class="line">update user set authentication_string = password([&quot;your new password&quot;]) where user = &quot;your username&quot; [and Host=&quot;localhost&quot;];</span><br><span class="line"></span><br><span class="line">2、MySql8.0</span><br><span class="line"></span><br><span class="line">（1）检查authentication_string字段是否为空，不为空先置空，我比较懒，我就直接置空了。</span><br><span class="line"></span><br><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=&#x27;&#x27; where user=&#x27;root&#x27;;</span><br><span class="line">ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br><span class="line"></span><br><span class="line">（2）如果顺利执行，那么恭喜你已经修改密码成功了，如果报错则执行flush privileges;刷新MySQL的系统权限相关表后再次执行上一步。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql远程登录</title>
      <link href="/posts/c93102b7.html"/>
      <url>/posts/c93102b7.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-mysql开启远程登录"><a href="#1-mysql开启远程登录" class="headerlink" title="1. mysql开启远程登录"></a>1. mysql开启远程登录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#删除之前配置</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">#配置远程登录</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;123456&#x27;</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span>; </span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="2-刷新权限"><a href="#2-刷新权限" class="headerlink" title="2.刷新权限"></a>2.刷新权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br><span class="line">sudo yum<span class="operator">-</span>config<span class="operator">-</span>manager <span class="comment">--add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span><br><span class="line">sudo yum<span class="operator">-</span>config<span class="operator">-</span>manager <span class="comment">--add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据仓库基本概念</title>
      <link href="/posts/1d59ffb2.html"/>
      <url>/posts/1d59ffb2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-数据仓库基本概念"><a href="#一-数据仓库基本概念" class="headerlink" title="一.数据仓库基本概念"></a>一.数据仓库基本概念</h2><h3 id="1-1-数仓的概念"><a href="#1-1-数仓的概念" class="headerlink" title="1.1 数仓的概念"></a>1.1 数仓的概念</h3><ul><li>数据仓库（英语：Data Warehouse，简称数仓、DW）,是一个用于存储、分析、报告的数据系统。</li><li>数据仓库的目的是构建面向分析的集成化数据环境，分析结果为企业提供决策支持（Decision Support）。</li></ul><h3 id="1-2-数仓专注分析"><a href="#1-2-数仓专注分析" class="headerlink" title="1.2 数仓专注分析"></a>1.2 数仓专注分析</h3><ul><li>数据仓库本身并不“生产”任何数据，其数据来源于不同外部系统；</li><li>同时数据仓库自身也不需要“消费”任何的数据，其结果开放给各个外部应用使用； </li><li>这也是为什么叫“仓库”，而不叫“工厂”的原因。</li><li>联机事务处理系统（OLTP）正好可以满足上述业务需求开展, 其主要任务是执行联机事务处理。其基本特征是前台 接收的用户数据可以立即传送到后台进行处理，并在很短的时间内给出处理结果。</li></ul><p><img src="https://s2.loli.net/2023/01/10/jWScLwuIBsHQyKh.png" alt="image-20230110183603505"></p><ul><li>关系型数据库（RDBMS）是OLTP典型应用，比如：Oracle、MySQL、SQL Server等。</li></ul><p><img src="https://s2.loli.net/2023/01/10/eIlZCtndAuv9xLT.png" alt="image-20230110183658019"></p><ul><li><p>OLTP环境开展分析可行吗？</p><p>  可以，但是没必要 </p></li><li><p>OLTP系统的核心是面向业务，支持业务，支持事务。所有的业务操作可以分为读、写两种操作，一般来说读的压 力明显大于写的压力。如果在OLTP环境直接开展各种分析，有以下问题需要考虑：</p></li><li><p>数据分析也是对数据进行读取操作，会让读取压力倍增；</p></li><li><p>OLTP仅存储数周或数月的数据；</p></li><li><p>数据分散在不同系统不同表中，字段类型属性不统一；</p></li></ul><h3 id="1-3-数据仓库面世"><a href="#1-3-数据仓库面世" class="headerlink" title="1.3 数据仓库面世"></a>1.3 数据仓库面世</h3><ul><li>当分析所涉及数据规模较小的时候，在业务低峰期时可以在OLTP系统上开展直接分析。 </li><li>但为了更好的进行各种规模的数据分析，同时也不影响OLTP系统运行，此时需要构建一个集成统一的数据分析平 台。该平台的目的很简单：面向分析，支持分析，并且和OLTP系统解耦合。</li><li>基于这种需求，数据仓库的雏形开始在企业中出现了。</li></ul><h3 id="1-4-数据仓库的构建"><a href="#1-4-数据仓库的构建" class="headerlink" title="1.4 数据仓库的构建"></a>1.4 数据仓库的构建</h3><ul><li>如数仓定义所说,数仓是一个用于存储、分析、报告的数据系统，目的是构建面向分析的集成化数据环境。我们把 这种面向分析、支持分析的系统称之为OLAP（联机分析处理）系统。当然，数据仓库是OLAP系统的一种实现。 </li><li>中国人寿保险公司就可以基于分析决策需求，构建数仓平台。</li></ul><p><img src="https://s2.loli.net/2023/01/10/tgNlOMbUn287Bfe.png" alt="image-20230110184142713"></p><h3 id="1-5数据仓库的主要特征"><a href="#1-5数据仓库的主要特征" class="headerlink" title="1.5数据仓库的主要特征"></a>1.5数据仓库的主要特征</h3><ul><li>面向 主题</li></ul><p>​（Subject-Oriented）主题是一个抽象的概念，是较高层次上 数据综合、归类并进行分析利用的抽象</p><ul><li>集成 性</li></ul><p>​（Integrated）主题相关的数据通常会分布在多个操作型 系统中，彼此分散、独立、异构。需要集 成到数仓主题下。</p><ul><li>非易 失性</li></ul><p>​(Non-Volatile)也叫非易变性。数据仓库是分析数 据的平台，而不是创造数据的平台。</p><ul><li>时变 性</li></ul><p>​(Time-Variant)数据仓库的数据需要随着时间更新，以适 应决策的需要。</p><h4 id="1-5-1-面向主题性（Subject-Oriented）"><a href="#1-5-1-面向主题性（Subject-Oriented）" class="headerlink" title="1. 5.1 面向主题性（Subject-Oriented）"></a>1. 5.1 面向主题性（Subject-Oriented）</h4><ul><li>主题是一个抽象的概念，是较高层次上企业信息系统中的数据综合、归类并进行分析利用的抽象。在逻辑意义上， 它是对应企业中某一宏观分析领域所涉及的分析对象。</li><li>传统OLTP系统对数据的划分并不适用于决策分析。而基于主题组织的数据则不同，它们被划分为各自独立的领域 ，每个领域有各自的逻辑内涵但互不交叉，在抽象层次上对数据进行完整、一致和准确的描述。</li></ul><h4 id="1-5-2-集成性（Integrated）"><a href="#1-5-2-集成性（Integrated）" class="headerlink" title="1.5.2 集成性（Integrated）"></a>1.5.2 集成性（Integrated）</h4><ul><li>主题相关的数据通常会分布在多个操作型系统中，彼此分散、独立、异构。</li><li>因此在数据进入数据仓库之前，必然要经过统一与综合，对数据进行抽取、清理、转换和汇总，这一步是数据仓库 建设中最关键、最复杂的一步，所要完成的工作有：</li><li>要统一源数据中所有矛盾之处； 如字段的同名异义、异名同义、单位不统一、字长不一致等等。 </li><li>进行数据综合和计算。 数据仓库中的数据综合工作可以在从原有数据库抽取数据时生成，但许多是在数据仓库内部生成的，即进入数据仓库以 后进行综合生成的。</li></ul><h4 id="1-5-3-非易失性、非异变性（Non-Volatile）"><a href="#1-5-3-非易失性、非异变性（Non-Volatile）" class="headerlink" title="1.5.3 非易失性、非异变性（Non-Volatile）"></a>1.5.3 非易失性、非异变性（Non-Volatile）</h4><ul><li>数据仓库是分析数据的平台，而不是创造数据的平台。我们是通过数仓去分析数据中的规律，而不是去创造修改其 中的规律。因此数据进入数据仓库后，它便稳定且不会改变。 </li><li>数据仓库的数据反映的是一段相当长的时间内历史数据的内容，数据仓库的用户对数据的操作大多是数据查询或比 较复杂的挖掘，一旦数据进入数据仓库以后，一般情况下被较长时间保留。 </li><li>数据仓库中一般有大量的查询操作，但修改和删除操作很少。</li></ul><h4 id="1-5-4-时变性（Time-Variant"><a href="#1-5-4-时变性（Time-Variant" class="headerlink" title="1.5.4 时变性（Time-Variant)"></a>1.5.4 时变性（Time-Variant)</h4><ul><li>数据仓库包含各种粒度的历史数据，数据可能与某个特定日期、星期、月份、季度或者年份有关。 </li><li>当业务变化后会失去时效性。因此数据仓库的数据需要随着时间更新，以适应决策的需要。</li><li>从这个角度讲，数据仓库建设是一个项目，更是一个过程 。</li></ul><h2 id="二-数仓开发语言概述"><a href="#二-数仓开发语言概述" class="headerlink" title="二.数仓开发语言概述"></a>二.数仓开发语言概述</h2><h3 id="1-1-数据仓库开发语言概述"><a href="#1-1-数据仓库开发语言概述" class="headerlink" title="1.1 数据仓库开发语言概述"></a>1.1 数据仓库开发语言概述</h3><ul><li>数仓作为面向分析的数据平台，其主职工作就是对存储在其中的数据开展分析，那么如何读取数据分析呢？</li><li>理论上来说，任何一款编程语言只要具备读写数据、处理数据的能力，都可以用于数仓的开发。比如大家耳熟能详 的C、java、Python等；</li><li>关键在于编程语言是否易学、好用、功能是否强大。遗憾的是上面所列出的C、Python等编程语言都需要一定的时 间进行语法的学习，并且学习语法之后还需要结合分析的业务场景进行编码，跑通业务逻辑。</li><li>不管从学习成本还是开发效率来说，上述所说的编程语言都不是十分友好的。</li><li>在数据分析领域，不得不提的就是SQL编程语言，应该称之为分析领域主流开发语言。</li></ul><h3 id="1-2-SQL语言介绍"><a href="#1-2-SQL语言介绍" class="headerlink" title="1.2 SQL语言介绍"></a>1.2 SQL语言介绍</h3><ul><li>结构化查询语言（Structured Query Language）简称SQL，是一种数据库查询和程序设计语言，用于存取数据 以及查询、更新和管理数据。 </li><li>SQL语言使我们有能力访问数据库，并且SQL是一种ANSI（美国国家标准化组织）的标准计算机语言，各大数据库 厂商在生产数据库软件的时候，几乎都会去支持SQL的语法，以使得用户在使用软件时更加容易上手，以及在不同 厂商软件之间进行切换时更加适应，因为大家的SQL语法都差不多。 </li><li>SQL语言功能很强，十分简洁，核心功能只用了9个动词。语法接近英语口语，所以，用户很容易学习和使用。</li></ul><h3 id="1-3-数据仓库与SQL"><a href="#1-3-数据仓库与SQL" class="headerlink" title="1.3 数据仓库与SQL"></a>1.3 数据仓库与SQL</h3><ul><li>虽然SQL语言本身是针对数据库软件设计的，但是在数据仓库领域，尤其是大数据数仓领域，很多数仓软件都会去 支持SQL语法； </li><li>原因在于一是用户学习SQL成本低，二是SQL语言对于数据分析真的十分友好，爱不释手。</li></ul><h3 id="1-4-结构化数据"><a href="#1-4-结构化数据" class="headerlink" title="1.4 结构化数据"></a>1.4 结构化数据</h3><ul><li>结构化数据也称作行数据，是由二维表结构来逻辑表达和实现的数据，严格地遵循数据格式与长度规范，主要通过 关系型数据库进行存储和管理。 </li><li>与结构化数据相对的是不适于由数据库二维表来表现的非结构化数据，包括所有格式的办公文档、XML、HTML、 各类报表、图片和音频、视频信息等。 </li><li>通俗来说，结构化数据会有严格的行列对齐，便于解读与理解。</li></ul><p><img src="https://s2.loli.net/2023/01/11/GCN3SejQTUAlaxF.png" alt="image-20230111131756447"></p><h3 id="1-5-二维表结构"><a href="#1-5-二维表结构" class="headerlink" title="1.5 二维表结构"></a>1.5 二维表结构</h3><ul><li>表由一个名字标识（例如“客户”或者“订单”），叫做表名。表包含带有数据的记录（行）。</li><li>下面的例子是一个名为 “Persons” 的表，包含三条记录（每一条对应一个人）和五个列（Id、姓、名、地址和 城市）。</li></ul><p><img src="https://s2.loli.net/2023/01/11/MBToR7AHjYugsbk.png" alt="image-20230111131922847"></p><h3 id="1-6-SQL语法分类"><a href="#1-6-SQL语法分类" class="headerlink" title="1.6 SQL语法分类"></a>1.6 SQL语法分类</h3><p>​SQL主要语法分为两个部分：数据定义语言 (DDL)和数据操纵语言 (DML) 。</p><ul><li><p>DDL语法使我们有能力创建或删除表，以及数据库、索引等各种对象，但是不涉及表中具体数据操作：</p><ul><li><p>CREATE DATABASE - 创建新数据库</p></li><li><p>CREATE TABLE - 创建新表</p></li></ul></li><li><p>DML语法是我们有能力针对表中的数据进行插入、更新、删除、查询操作：</p><ul><li><p>SELECT - 从数据库表中获取数据 </p></li><li><p>UPDATE - 更新数据库表中的数据 </p></li><li><p>DELETE - 从数据库表中删除数据 </p></li><li><p>INSERT - 向数据库表中插入数据</p></li></ul></li></ul><h3 id="三-Apache-Hive-入门"><a href="#三-Apache-Hive-入门" class="headerlink" title="三 .Apache Hive 入门"></a>三 .Apache Hive 入门</h3><h3 id="1-1-什么是Hive"><a href="#1-1-什么是Hive" class="headerlink" title="1.1 什么是Hive"></a>1.1 什么是Hive</h3><ul><li>Apache Hive是一款建立在Hadoop之上的开源数据仓库系统，可以将存储在Hadoop文件中的结构化、半结构化 数据文件映射为一张数据库表，基于表提供了一种类似SQL的查询模型，称为Hive查询语言（HQL），用于访问和 分析存储在Hadoop文件中的大型数据集。</li><li>Hive核心是将HQL转换为MapReduce程序，然后将程序提交到Hadoop群集执行。</li><li>Hive由Facebook实现并开源。</li></ul><p><img src="https://s2.loli.net/2023/01/11/mgMXyZ3pdcC1NEr.png" alt="image-20230111132444336"></p><h3 id="1-2-为什么使用Hive"><a href="#1-2-为什么使用Hive" class="headerlink" title="1.2 为什么使用Hive"></a>1.2 为什么使用Hive</h3><ul><li><p>使用Hadoop MapReduce直接处理数据所面临的问题 </p><ul><li>人员学习成本太高 需要掌握java语言 </li><li>MapReduce实现复杂查询逻辑开发难度太大</li></ul></li><li><p>使用Hive处理数据的好处</p><ul><li>操作接口采用类SQL语法，提供快速开发的能力（简单、容易上手）</li><li>避免直接写MapReduce，减少开发人员的学习成本 支持自定义函数，功能扩展很方便</li><li>背靠Hadoop，擅长存储分析海量数据集</li></ul></li></ul><h3 id="1-3-Hive-和Hadoop关系"><a href="#1-3-Hive-和Hadoop关系" class="headerlink" title="1.3 Hive 和Hadoop关系"></a>1.3 Hive 和Hadoop关系</h3><ul><li>从功能来说，数据仓库软件，至少需要具备下述两种能力： 存储数据的能力、分析数据的能力</li><li>Apache Hive作为一款大数据时代的数据仓库软件，当然也具备上述两种能力。只不过Hive并不是自己实现了上述 两种能力，而是借助Hadoop。<ul><li>Hive利用HDFS存储数据，利用MapReduce查询分析数据。</li></ul></li><li>这样突然发现Hive没啥用，不过是套壳Hadoop罢了。其实不然，Hive的最大的魅力在于用户专注于编写HQL，<ul><li>Hive帮您转换成为MapReduce程序完成对数据的分析。</li></ul></li></ul><h3 id="1-4-Hive架构"><a href="#1-4-Hive架构" class="headerlink" title="1.4 Hive架构"></a>1.4 Hive架构</h3><p><img src="https://s2.loli.net/2023/01/11/KGpDYS2xMCEtm8P.png" alt="image-20230111134151513"></p><h3 id="1-5-Hive组件"><a href="#1-5-Hive组件" class="headerlink" title="1.5 Hive组件"></a>1.5 Hive组件</h3><ul><li><h4 id="用户接口"><a href="#用户接口" class="headerlink" title="用户接口"></a>用户接口</h4></li></ul><p>​包括 CLI、JDBC&#x2F;ODBC、WebGUI。其中，CLI(command line interface)为shell命令行；Hive中的Thrift服务器允许 外部客户端通过网络与Hive进行交互，类似于JDBC或ODBC协议。WebGUI是通过浏览器访问Hive。</p><ul><li><h4 id="元数据存储"><a href="#元数据存储" class="headerlink" title="元数据存储"></a>元数据存储</h4></li></ul><p>​通常是存储在关系数据库如 mysql&#x2F;derby中。Hive 中的元数据包括表的名字，表的列和分区及其属性，表的属性（是 否为外部表等），表的数据所在目录等。</p><ul><li><h4 id="Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器"><a href="#Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器" class="headerlink" title="Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器"></a>Driver驱动程序，包括语法解析器、计划编译器、优化器、执行器</h4></li></ul><p>​完成 HQL 查询语句从词法分析、语法分析、编译、优化以及查询计划的生成。生成的查询计划存储在 HDFS 中，并在 随后有执行引擎调用执行。</p><ul><li><h4 id="执行引擎"><a href="#执行引擎" class="headerlink" title="执行引擎"></a>执行引擎</h4></li></ul><p>​Hive本身并不直接处理数据文件。而是通过执行引擎处理。当下Hive支持MapReduce、Tez、Spark3种执行引擎。</p>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MapReduce</title>
      <link href="/posts/bc1fb66d.html"/>
      <url>/posts/bc1fb66d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-Hadoop-MapReduce"><a href="#一-Hadoop-MapReduce" class="headerlink" title="一.Hadoop MapReduce"></a>一.Hadoop MapReduce</h2><h3 id="1-1-理解Map-Reduce思想"><a href="#1-1-理解Map-Reduce思想" class="headerlink" title="1.1 理解Map Reduce思想"></a>1.1 理解Map Reduce思想</h3><ul><li><p>MapReduce的思想核心是“先分再合，分而治之”。</p></li><li><p>所谓“分而治之”就是把一个复杂的问题，按照一定的“分解”方法分为等价的规模较小的若干部分，然后逐个解 决，分别找出各部分的结果，然后把各部分的结果组成整个问题的最终结果。</p></li><li><p>这种思想来源于日常生活与工作时的经验。即使是发布过论文实现分布式计算的谷歌也只是实现了这种思想，而不 是自己原创。</p></li><li><p>Map表示第一阶段，负责“拆分”：即把复杂的任务分解为若干个“简单的子任务”来并行处理。可以进行拆分的 前提是这些小任务可以并行计算，彼此间几乎没有依赖关系。 </p></li><li><p>Reduce表示第二阶段，负责“合并”：即对map阶段的结果进行全局汇总。</p></li><li><p>这两个阶段合起来正是MapReduce思想的体现。</p></li></ul><p><img src="https://s2.loli.net/2023/01/10/pGRFJhL4Ede76fu.png" alt="image-20230110104953917"></p><ul><li>一个比较形象的语言解释MapReduce<ul><li>要数停车场中的所有停放车的总数量。 你数第一列，我数第二列…这就是Map阶段，人越多，能够同时数车的人就越多，速度就越快。 数完之后，聚到一起，把所有人的统计数加在一起。这就是Reduce合并汇总阶段。</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/10/DxVsmrvyncG83zX.png" alt="image-20230110105246494"></p><h3 id="1-2如何对付大数据处理常见"><a href="#1-2如何对付大数据处理常见" class="headerlink" title="1.2如何对付大数据处理常见"></a>1.2如何对付大数据处理常见</h3><ul><li>对相互间不具有计算依赖关系的大数据计算任务，实现并行最自然的办法就是采取MapReduce分而治之的策略。</li><li>首先Map阶段进行拆分，把大数据拆分成若干份小数据，多个程序同时并行计算产生中间结果；然后是Reduce聚 合阶段，通过程序对并行的结果进行最终的汇总计算，得出最终的结果。</li><li>不可拆分的计算任务或相互间有依赖关系的数据无法进行并行计算</li></ul><p><img src="https://s2.loli.net/2023/01/10/hXa3dki7MbOnFf8.png" alt="image-20230110120355470"></p><h3 id="1-4-构建抽象编程模型"><a href="#1-4-构建抽象编程模型" class="headerlink" title="1.4 构建抽象编程模型"></a>1.4 构建抽象编程模型</h3><ul><li><p>MapReduce借鉴了函数式语言中的思想，用Map和Reduce两个函数提供了高层的并行编程抽象模型。</p><ul><li>map: 对一组数据元素进行某种重复式的处理；</li><li>reduce: 对Map的中间结果进行某种进一步的结果整理。</li></ul></li><li><p>MapReduce中定义了如下的Map和Reduce两个抽象的编程接口，由用户去编程实现:</p><ul><li>map: (k1; v1) → (k2; v2) </li><li>reduce: (k2; [v2]) → (k3; v3)</li></ul></li><li><p>​通过以上两个编程接口，大家可以看出MapReduce处理的数据类型是键值对。</p></li></ul><h3 id="1-4-统一架构"><a href="#1-4-统一架构" class="headerlink" title="1.4 统一架构"></a>1.4 统一架构</h3><ul><li>如何提供统一的计算框架，如果没有统一封装底层细节，那么程序员则需要考虑诸如数据存储、划分、分发、结果 收集、错误恢复等诸多细节；为此，MapReduce设计并提供了统一的计算框架，为程序员隐藏了绝大多数系统层 面的处理细节。 </li><li>MapReduce最大的亮点在于通过抽象模型和计算框架把需要做什么(what need to do)与具体怎么做(how to  do)分开了，为程序员提供一个抽象和高层的编程接口和框架。</li><li>程序员仅需要关心其应用层的具体计算问题，仅需编写少量的处理应用本身计算问题的业务程序代码</li><li>至于如何具体完成这个并行计算任务所相关的诸多系统层细节被隐藏起来,交给计算框架去处理：从分布代码的执 行，到大到数千小到单个节点集群的自动调度使用。</li></ul><h3 id="1-5-分布式计算概念"><a href="#1-5-分布式计算概念" class="headerlink" title="1.5 分布式计算概念"></a>1.5 分布式计算概念</h3><ul><li>分布式计算是一种计算方法，和集中式计算是相对的。</li><li>随着计算技术的发展，有些应用需要非常巨大的计算能力才能完成，如果采用集中式计算，需要耗费相当长的时间 来完成。</li><li>分布式计算将该应用分解成许多小的部分，分配给多台计算机进行处理。这样可以节约整体计算时间，大大提高计 算效率。</li></ul><p><img src="https://s2.loli.net/2023/01/10/sMqNdI56r3fwUXL.png" alt="image-20230110123449590"></p><h3 id="1-6-MapReduce-介绍"><a href="#1-6-MapReduce-介绍" class="headerlink" title="1.6 MapReduce 介绍"></a>1.6 MapReduce 介绍</h3><ul><li>Hadoop MapReduce是一个分布式计算框架，用于轻松编写分布式应用程序，这些应用程序以可靠，容错的方式 并行处理大型硬件集群（数千个节点）上的大量数据（多TB数据集）。</li><li>MapReduce是一种面向海量数据处理的一种指导思想，也是一种用于对大规模数据进行分布式计算的编程模型。</li></ul><h3 id="1-7-MapReduce-产生背景"><a href="#1-7-MapReduce-产生背景" class="headerlink" title="1.7 MapReduce 产生背景"></a>1.7 MapReduce 产生背景</h3><ul><li>MapReduce最早由Google于2004年在一篇名为《MapReduce:Simplified Data Processingon Large Clusters 》的论文中提出。 </li><li>论文中谷歌把分布式数据处理的过程拆分为Map和Reduce两个操作函数（受到函数式编程语言的启发），随后被 Apache Hadoop参考并作为开源版本提供支持，叫做Hadoop MapReduce。</li><li>它的出现解决了人们在最初面临海量数据束手无策的问题，同时它还是易于使用和高度可扩展的，使得开发者无需 关系分布式系统底层的复杂性即可很容易的编写分布式数据处理程序，并在成千上万台普通的商用服务器中运行。</li></ul><p><img src="https://s2.loli.net/2023/01/10/NpveTs4IZnc2J7X.png" alt="image-20230110123955561"></p><h3 id="1-8-MapReduce的特点"><a href="#1-8-MapReduce的特点" class="headerlink" title="1.8 MapReduce的特点"></a>1.8 MapReduce的特点</h3><ul><li>易于编程</li></ul><p>Mapreduce框架提供了用于二次开发的接口；简单地实现一些接口，就可以完成一个分布式程序。任务计算交给计算 框架去处理，将分布式程序部署到hadoop集群上运行，集群节点可以扩展到成百上千个等。</p><ul><li>良好的扩展性</li></ul><p>当计算机资源不能得到满足的时候，可以通过增加机器来扩展它的计算能力。基于MapReduce的分布式计算得特点可 以随节点数目增长保持近似于线性的增长，这个特点是MapReduce处理海量数据的关键，通过将计算节点增至几百或 者几千可以很容易地处理数百TB甚至PB级别的离线数据。</p><ul><li>高容错性</li></ul><p>Hadoop集群是分布式搭建和部署得，任何单一机器节点宕机了，它可以把上面的计算任务转移到另一个节点上运行， 不影响整个作业任务得完成，过程完全是由Hadoop内部完成的。</p><ul><li>适合海量数据的离线处理</li></ul><p>可以处理GB、TB和PB级别得数据量</p><h3 id="1-9MapReduce-局限性"><a href="#1-9MapReduce-局限性" class="headerlink" title="1.9MapReduce 局限性"></a>1.9MapReduce 局限性</h3><p>​MapReduce虽然有很多的优势，也有相对得局限性，局限性不代表不能做，而是在有些场景下实现的效果比较差，并 不适合用MapReduce来处理，主要表现在以下结果方面：</p><ul><li>实时计算性能差</li></ul><p>​MapReduce主要应用于离线作业，无法作到秒级或者是亚秒级得数据响应。</p><ul><li>不能进行流式计算</li></ul><p>​流式计算特点是数据是源源不断得计算，并且数据是动态的；而MapReduce作为一个离线计算框架，主要是针对静态 数据集得，数据是不能动态变化得。</p><h3 id="2-0-MapReduce实例进程"><a href="#2-0-MapReduce实例进程" class="headerlink" title="2.0 MapReduce实例进程"></a>2.0 MapReduce实例进程</h3><p>一个完整的MapReduce程序在分布式运行时有三类</p><ul><li>MRAppMaster：负责整个MR程序的过程调度及状态协调</li><li>MapTask：负责map阶段的整个数据处理流程</li><li>ReduceTask：负责reduce阶段的整个数据处理流程</li></ul><h3 id="2-1-阶段组成"><a href="#2-1-阶段组成" class="headerlink" title="2.1 阶段组成"></a>2.1 阶段组成</h3><ul><li>一个MapReduce编程模型中只能包含一个Map阶段和一个Reduce阶段，或者只有Map阶段；</li><li>不能有诸如多个map阶段、多个reduce阶段的情景出现； </li><li>如果用户的业务逻辑非常复杂，那就只能多个MapReduce程序串行运行。</li></ul><p><img src="https://s2.loli.net/2023/01/10/sr8W4CMHNZRFI7J.png" alt="image-20230110125013189"></p><h3 id="2-2-MapRedece数据类型"><a href="#2-2-MapRedece数据类型" class="headerlink" title="2.2 MapRedece数据类型"></a>2.2 MapRedece数据类型</h3><ul><li>注意：整个MapReduce程序中，数据都是以kv键值对的形式流转的；</li><li>在实际编程解决各种业务问题中，需要考虑每个阶段的输入输出kv分别是什么；</li><li>MapReduce内置了很多默认属性，比如排序、分组等，都和数据的k有关，所以说kv的类型数据确定及其重要的</li></ul><h3 id="2-3-map阶段的执行过程"><a href="#2-3-map阶段的执行过程" class="headerlink" title="2.3 map阶段的执行过程"></a>2.3 map阶段的执行过程</h3><ul><li>第一阶段：把输入目录下文件按照一定的标准逐个进行逻辑切片，形成切片规划。 默认Split size &#x3D; Block size（128M），每一个切片由一个MapTask处理。（getSplits）</li><li>第二阶段：对切片中的数据按照一定的规则读取解析返回对。 默认是按行读取数据。key是每一行的起始位置偏移量，value是本行的文本内容。（TextInputFormat）</li><li>第三阶段：调用Mapper类中的map方法处理数据。 每读取解析出来的一个 ，调用一次map方法。</li><li>第四阶段：按照一定的规则对Map输出的键值对进行分区partition。默认不分区，因为只有一个reducetask。 分区的数量就是reducetask运行的数量。</li><li>第五阶段：Map输出数据写入内存缓冲区，达到比例溢出到磁盘上。溢出spill的时候根据key进行排序sort。 默认根据key字典序排序。 </li><li>第六阶段：对所有溢出文件进行最终的merge合并，成为一个文件。</li></ul><h3 id="2-4-reduce阶段的执行过程"><a href="#2-4-reduce阶段的执行过程" class="headerlink" title="2.4 reduce阶段的执行过程"></a>2.4 reduce阶段的执行过程</h3><ul><li>第一阶段：ReduceTask会主动从MapTask复制拉取属于需要自己处理的数据。</li><li>第二阶段：把拉取来数据，全部进行合并merge，即把分散的数据合并成一个大的数据。再对合并后的数据排序 。 </li><li>第三阶段是对排序后的键值对调用reduce方法。键相等的键值对调用一次reduce方法。最后把这些输出的键值对 写入到HDFS文件中。</li></ul><h2 id="二-shffle概念"><a href="#二-shffle概念" class="headerlink" title="二 .shffle概念"></a>二 .shffle概念</h2><h3 id="1-1-shffle概念"><a href="#1-1-shffle概念" class="headerlink" title="1.1 shffle概念"></a>1.1 shffle概念</h3><ul><li>Shuffle的本意是洗牌、混洗的意思，把一组有规则的数据尽量打乱成无规则的数据。</li><li>而在MapReduce中，Shuffle更像是洗牌的逆过程，指的是将map端的无规则输出按指定的规则“打乱”成具有一 定规则的数据，以便reduce端接收处理。</li><li>一般把从Map产生输出开始到Reduce取得数据作为输入之前的过程称作shuffle。</li></ul><h3 id="1-2-Map端Shuffle"><a href="#1-2-Map端Shuffle" class="headerlink" title="1.2 Map端Shuffle"></a>1.2 Map端Shuffle</h3><ul><li>Collect阶段：将MapTask的结果收集输出到默认大小为100M的环形缓冲区，保存之前会对key进行分区的计算， 默认Hash分区。 </li><li>Spill阶段：当内存中的数据量达到一定的阀值的时候，就会将数据写入本地磁盘，在将数据写入磁盘之前需要对数 据进行一次排序的操作，如果配置了combiner，还会将有相同分区号和key的数据进行排序。</li><li>Merge阶段：把所有溢出的临时文件进行一次合并操作，以确保一个MapTask最终只产生一个中间数据文件。</li></ul><h3 id="1-3-Reducer端shuffle"><a href="#1-3-Reducer端shuffle" class="headerlink" title="1.3 Reducer端shuffle"></a>1.3 Reducer端shuffle</h3><ul><li>Copy阶段： ReduceTask启动Fetcher线程到已经完成MapTask的节点上复制一份属于自己的数据。</li><li>Merge阶段：在ReduceTask远程复制数据的同时，会在后台开启两个线程对内存到本地的数据文件进行合并操作 。 </li><li>Sort阶段：在对数据进行合并的同时，会进行排序操作，由于MapTask阶段已经对数据进行了局部的排序， ReduceTask只需保证Copy的数据的最终整体有效性即可。</li></ul><h3 id="1-4-shuffle弊端"><a href="#1-4-shuffle弊端" class="headerlink" title="1.4 shuffle弊端"></a>1.4 shuffle弊端</h3><ul><li>Shuffle是MapReduce程序的核心与精髓，是MapReduce的灵魂所在。 </li><li>Shuffle也是MapReduce被诟病最多的地方所在。MapReduce相比较于Spark、Flink计算引擎慢的原因，跟 Shuffle机制有很大的关系。</li><li>Shuffle中频繁涉及到数据在内存、磁盘之间的多次往复。</li></ul><h2 id="三-Hadoop-YARN介绍"><a href="#三-Hadoop-YARN介绍" class="headerlink" title="三.Hadoop YARN介绍"></a>三.Hadoop YARN介绍</h2><h3 id="1-1-YARN简介"><a href="#1-1-YARN简介" class="headerlink" title="1.1 YARN简介"></a>1.1 YARN简介</h3><ul><li>Apache Hadoop YARN （Yet Another Resource Negotiator，另一种资源协调者）是一种新的Hadoop资源管 理器。</li><li>YARN是一个通用资源管理系统和调度平台，可为上层应用提供统一的资源管理和调度。 </li><li>它的引入为集群在利用率、资源统一管理和数据共享等方面带来了巨大好处。</li></ul><p><img src="https://s2.loli.net/2023/01/10/PwjcanVFeWY7CDq.png" alt="image-20230110155522061"></p><h3 id="1-2-YARN-功能"><a href="#1-2-YARN-功能" class="headerlink" title="1.2 YARN 功能"></a>1.2 YARN 功能</h3><ul><li>资源管理系统：集群的硬件资源，和程序运行相关，比如内存、CPU等。</li><li>调度平台：多个程序同时申请计算资源如何分配，调度的规则（算法）。</li><li>通用：不仅仅支持MapReduce程序，理论上支持各种计算程序。YARN不关心你干什么，只关心你要资源，在有 的情况下给你，用完之后还我。</li></ul><h3 id="1-3-YARW概述"><a href="#1-3-YARW概述" class="headerlink" title="1.3 YARW概述"></a>1.3 YARW概述</h3><ul><li>可以把Hadoop YARN理解为相当于一个分布式的操作系统平台，而MapReduce等计算程序则相当于运行于操作 系统之上的应用程序，YARN为这些程序提供运算所需的资源（内存、CPU等）。 </li><li>Hadoop能有今天这个地位，YARN可以说是功不可没。因为有了YARN ，更多计算框架可以接入到 HDFS中，而 不单单是 MapReduce，正是因为YARN的包容，使得其他计算框架能专注于计算性能的提升。</li><li>HDFS可能不是最优秀的大数据存储系统，但却是应用最广泛的大数据存储系统， YARN功不可没。</li></ul><h3 id="1-4-YARW3大组件"><a href="#1-4-YARW3大组件" class="headerlink" title="1.4 YARW3大组件"></a>1.4 YARW3大组件</h3><ul><li>ResourceManager（RM）</li></ul><p>​YARN集群中的主角色，决定系统中所有应用程序之间资源分配的最终权限，即最终仲裁者。 接收用户的作业提交，并通过NM分配、管理各个机器上的计算资源。</p><ul><li>NodeManager（NM）</li></ul><p>​YARN中的从角色，一台机器上一个，负责管理本机器上的计算资源。 根据RM命令，启动Container容器、监视容器的资源使用情况。并且向RM主角色汇报资源使用情况。</p><ul><li>ApplicationMaster（AM）</li></ul><p>​用户提交的每个应用程序均包含一个AM。 应用程序内的“老大”，负责程序内部各阶段的资源申请，监督程序的执行情况。</p><h3 id="1-5-调度器策略"><a href="#1-5-调度器策略" class="headerlink" title="1.5 调度器策略"></a>1.5 调度器策略</h3><ul><li>三种调度器 FIFO Scheduler（先进先出调度器）、Capacity Scheduler（容量调度器）、Fair Scheduler（公平调度器）。</li><li>Apache版本YARN默认使用Capacity Scheduler。</li><li>如果需要使用其他的调度器，可以在yarn-site.xml中的yarn.resourcemanager.scheduler.class进行配置。</li></ul><h3 id="1-6-FIFO-Scheduler概述"><a href="#1-6-FIFO-Scheduler概述" class="headerlink" title="1.6 FIFO Scheduler概述"></a>1.6 FIFO Scheduler概述</h3><ul><li>FIFO Scheduler是Hadoop1.x中JobTracker原有的调度器实现，此调度器在YARN中保留了下来。 </li><li>FIFO Scheduler是一个先进先出的思想，即先提交的应用先运行。调度工作不考虑优先级和范围，适用于负载较低 的小规模集群。当使用大型共享集群时，它的效率较低且会导致一些问题。 </li><li>FIFO Scheduler拥有一个控制全局的队列queue，默认queue名称为default，该调度器会获取当前集群上所有的 资源信息作用于这个全局的queue。</li></ul><h4 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h4><ul><li>优势： 无需配置、先到先得、易于执行</li><li>坏处： 任务的优先级不会变高，因此高优先级的作业需要等待 不适合共享集群</li></ul>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MapReduce </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hive搭建教程</title>
      <link href="/posts/70607de9.html"/>
      <url>/posts/70607de9.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Hive3安装"><a href="#Hive3安装" class="headerlink" title="Hive3安装"></a>Hive3安装</h3><hr><h4 id="Mysql安装"><a href="#Mysql安装" class="headerlink" title="Mysql安装"></a>Mysql安装</h4><ul><li><p>卸载Centos7自带的mariadb</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# rpm -qa|grep mariadb</span><br><span class="line">mariadb-libs-5.5.64-1.el7.x86_64</span><br><span class="line"></span><br><span class="line">[root@node3 ~]# rpm -e mariadb-libs-5.5.64-1.el7.x86_64 --nodeps</span><br><span class="line">[root@node3 ~]# rpm -qa|grep mariadb                            </span><br><span class="line">[root@node3 ~]# </span><br></pre></td></tr></table></figure>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -e mariadb-libs --nodeps</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>安装mysql</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mkdir /export/software/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">上传mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar 到上述文件夹下  解压</span></span><br><span class="line">tar xvf mysql-5.7.29-1.el7.x86_64.rpm-bundle.tar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行安装</span></span><br><span class="line">yum -y install libaio</span><br><span class="line"></span><br><span class="line">[root@node3 mysql]# rpm -ivh mysql-community-common-5.7.29-1.el7.x86_64.rpm mysql-community-libs-5.7.29-1.el7.x86_64.rpm mysql-community-client-5.7.29-1.el7.x86_64.rpm mysql-community-server-5.7.29-1.el7.x86_64.rpm </span><br><span class="line"></span><br><span class="line">warning: mysql-community-common-5.7.29-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY</span><br><span class="line">Preparing...                          ################################# [100%]</span><br><span class="line">Updating / installing...</span><br><span class="line">   1:mysql-community-common-5.7.29-1.e################################# [ 25%]</span><br><span class="line">   2:mysql-community-libs-5.7.29-1.el7################################# [ 50%]</span><br><span class="line">   3:mysql-community-client-5.7.29-1.e################################# [ 75%]</span><br><span class="line">   4:mysql-community-server-5.7.29-1.e################                  ( 49%)</span><br></pre></td></tr></table></figure></li><li><p>mysql初始化设置</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">初始化</span></span><br><span class="line">mysqld --initialize</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">更改所属组</span></span><br><span class="line">chown mysql:mysql /var/lib/mysql -R</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动mysql</span></span><br><span class="line">systemctl start mysqld.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看生成的临时root密码</span></span><br><span class="line">cat  /var/log/mysqld.log</span><br><span class="line"></span><br><span class="line">[Note] A temporary password is generated for root@localhost: o+TU+KDOm004</span><br></pre></td></tr></table></figure></li><li><p>修改root密码 授权远程访问 设置开机自启动</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@node2 ~]# mysql -u root -p</span><br><span class="line">Enter password:     #这里输入在日志中生成的临时密码</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.29</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">更新root密码  设置为hadoop</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">alter user user() identified by <span class="string">&quot;123456&quot;</span>;</span></span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">授权</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">use mysql;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED BY <span class="string">&#x27;12345&#x27;</span> WITH GRANT OPTION;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">FLUSH PRIVILEGES;</span> </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mysql的启动和关闭 状态查看 （这几个命令必须记住）</span></span><br><span class="line">systemctl stop mysqld</span><br><span class="line">systemctl status mysqld</span><br><span class="line">systemctl start mysqld</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">建议设置为开机自启动服务</span></span><br><span class="line">[root@node2 ~]# systemctl enable  mysqld                             </span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/mysqld.service to /usr/lib/systemd/system/mysqld.service.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看是否已经设置自启动成功</span></span><br><span class="line">[root@node2 ~]# systemctl list-unit-files | grep mysqld</span><br><span class="line">mysqld.service                                enabled </span><br></pre></td></tr></table></figure></li><li><p>Centos7 干净卸载mysql 5.7</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">关闭mysql服务</span></span><br><span class="line">systemctl stop mysqld.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查找安装mysql的rpm包</span></span><br><span class="line">[root@node3 ~]# rpm -qa | grep -i mysql      </span><br><span class="line">mysql-community-libs-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-common-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-client-5.7.29-1.el7.x86_64</span><br><span class="line">mysql-community-server-5.7.29-1.el7.x86_64</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">卸载</span></span><br><span class="line">[root@node3 ~]# yum remove mysql-community-libs-5.7.29-1.el7.x86_64 mysql-community-common-5.7.29-1.el7.x86_64 mysql-community-client-5.7.29-1.el7.x86_64 mysql-community-server-5.7.29-1.el7.x86_64</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看是否卸载干净</span></span><br><span class="line">rpm -qa | grep -i mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查找mysql相关目录 删除</span></span><br><span class="line">[root@node1 ~]# find / -name mysql</span><br><span class="line">/var/lib/mysql</span><br><span class="line">/var/lib/mysql/mysql</span><br><span class="line">/usr/share/mysql</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# rm -rf /var/lib/mysql</span><br><span class="line">[root@node1 ~]# rm -rf /var/lib/mysql/mysql</span><br><span class="line">[root@node1 ~]# rm -rf /usr/share/mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">删除默认配置 日志</span></span><br><span class="line">rm -rf /etc/my.cnf </span><br><span class="line">rm -rf /var/log/mysqld.log</span><br></pre></td></tr></table></figure></li></ul><hr><h4 id="Hive的安装"><a href="#Hive的安装" class="headerlink" title="Hive的安装"></a>Hive的安装</h4><ul><li><p>上传安装包 解压</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf apache-hive-3.1.2-bin.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>解决Hive与Hadoop之间guava版本差异</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/</span><br><span class="line">rm -rf lib/guava-19.0.jar</span><br><span class="line">cp /export/server/hadoop-3.3.0/share/hadoop/common/lib/guava-27.0-jre.jar ./lib/</span><br></pre></td></tr></table></figure></li><li><p>修改配置文件</p><ul><li><p>hive-env.sh</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/conf</span><br><span class="line">mv hive-env.sh.template hive-env.sh</span><br><span class="line"></span><br><span class="line">vim hive-env.sh</span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export HIVE_CONF_DIR=/export/server/apache-hive-3.1.2-bin/conf</span><br><span class="line">export HIVE_AUX_JARS_PATH=/export/server/apache-hive-3.1.2-bin/lib</span><br></pre></td></tr></table></figure></li><li><p>hive-site.xml</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hive-site.xml</span><br></pre></td></tr></table></figure>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 存储元数据mysql相关配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://node1:3306/hive3?createDatabaseIfNotExist=true<span class="symbol">&amp;amp;</span>useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- H2S运行绑定host --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.bind.host<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>node1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 远程模式部署metastore metastore地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.uris<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>thrift://node1:9083<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 关闭元数据存储授权  --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.event.db.notification.api.auth<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p>上传mysql jdbc驱动到hive安装包lib下</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql-connector-java-5.1.32.jar</span><br></pre></td></tr></table></figure></li><li><p>初始化元数据</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /export/server/apache-hive-3.1.2-bin/</span><br><span class="line"></span><br><span class="line">bin/schematool -initSchema -dbType mysql -verbos</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">初始化成功会在mysql中创建74张表</span></span><br></pre></td></tr></table></figure></li><li><p>在hdfs创建hive存储目录（如存在则不用操作）</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /tmp</span><br><span class="line">hadoop fs -mkdir -p /user/hive/warehouse</span><br><span class="line">hadoop fs -chmod g+w /tmp</span><br><span class="line">hadoop fs -chmod g+w /user/hive/warehouse</span><br></pre></td></tr></table></figure></li><li><p>&#x3D;&#x3D;启动hive&#x3D;&#x3D;</p><ul><li><p>1、启动metastore服务</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">前台启动  关闭ctrl+c</span></span><br><span class="line">/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">前台启动开启debug日志</span></span><br><span class="line">/export/server/apache-hive-3.1.2-bin/bin/hive --service metastore --hiveconf hive.root.logger=DEBUG,console  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">后台启动 进程挂起  关闭使用jps+ <span class="built_in">kill</span> -9</span></span><br><span class="line">nohup /export/server/apache-hive-3.1.2-bin/bin/hive --service metastore &amp;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>2、启动hiveserver2服务</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup /export/server/apache-hive-3.1.2-bin/bin/hive --service hiveserver2 &amp;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">注意 启动hiveserver2需要一定的时间  不要启动之后立即beeline连接 可能连接不上</span></span><br></pre></td></tr></table></figure></li><li><p>3、beeline客户端连接</p><ul><li><p>拷贝node1安装包到beeline客户端机器上（node3）</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r /export/server/apache-hive-3.1.2-bin/ node3:/export/server/</span><br></pre></td></tr></table></figure></li><li><p>错误</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Could not open client transport with JDBC Uri: jdbc:hive2://node1:10000: Failed to open new session: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.authorize.AuthorizationException): User: root is not allowed to impersonate root (state=08S01,code=0)</span><br></pre></td></tr></table></figure><ul><li><p>修改</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在hadoop的配置文件core-site.xml中添加如下属性：</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>连接访问</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/export/server/apache-hive-3.1.2-bin/bin/beeline</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">! connect jdbc:hive2://node1:10000</span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">root</span></span><br><span class="line"><span class="meta prompt_">beeline&gt; </span><span class="language-bash">直接回车</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p>错误解决：&#x3D;&#x3D;Hive3执行insert插入操作 statstask异常&#x3D;&#x3D;</p><ul><li><p>现象</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在执行insert + values操作的时候  虽然最终执行成功，结果正确。但是在执行日志中会出现如下的错误信息。</span><br></pre></td></tr></table></figure><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109144915808.png" alt="image-20201109144915808"></p></li><li><p>开启hiveserver2执行日志。查看详细信息</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2020-11-09 00:37:48,963 WARN  [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] metastore.RetryingMetaStoreClient: MetaStoreClient lost connection. Attempting to reconnect (1 of 1) after 1s. setPartitionColumnStatistics</span><br><span class="line"></span><br><span class="line">ERROR [5ce14c58-6b36-476a-bab8-89cba7dd1706 main] exec.StatsTask: Failed to run stats task</span><br></pre></td></tr></table></figure><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145136486.png" alt="image-20201109145136486"></p></li><li><p>但是 &#x3D;&#x3D;此错误并不影响最终的插入语句执行成功&#x3D;&#x3D;。</p></li><li><p>分析原因和解决</p><ul><li><p>statstask是一个hive中用于统计插入等操作的状态任务  其返回结果如下</p><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145304560.png" alt="image-20201109145304560"></p></li><li><p>此信息类似于计数器 用于告知用户插入数据的相关信息 但是不影响程序的正常执行。</p></li><li><p>Hive新版本中 这是一个issues  临时解决方式如下</p><p>  <a href="https://community.cloudera.com/t5/Support-Questions/Hive-Metastore-Connection-Failure-then-Retry/td-p/151661">https://community.cloudera.com/t5/Support-Questions/Hive-Metastore-Connection-Failure-then-Retry/td-p/151661</a></p><p>  <img src="/Hive3%E5%AE%89%E8%A3%85.assets/image-20201109145621381.png" alt="image-20201109145621381"></p></li><li><p>&#x3D;&#x3D;在mysql metastore中删除 PART_COL_STATS这张表即可&#x3D;&#x3D;。</p></li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hadoop搭建教程</title>
      <link href="/posts/51741172.html"/>
      <url>/posts/51741172.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-Hadoop基础环境搭建（3台机械同时配置）"><a href="#1-Hadoop基础环境搭建（3台机械同时配置）" class="headerlink" title="1. Hadoop基础环境搭建（3台机械同时配置）"></a>1. Hadoop基础环境搭建（3台机械同时配置）</h3><h5 id="1-1主机名解析"><a href="#1-1主机名解析" class="headerlink" title="1.1主机名解析"></a>1.1主机名解析</h5><p>为了方便集群节点间的直接调用，在这个配置一下主机名解析，企业中推荐使用内部DNS服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主机名成解析 编辑三台服务器的/etc/hosts文件，添加下面内容</span></span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.100</span> master</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.106</span> node1</span><br><span class="line"><span class="number">192.168</span>.<span class="number">90.107</span> node2</span><br></pre></td></tr></table></figure><h5 id="1-2-时间同步"><a href="#1-2-时间同步" class="headerlink" title="1.2 时间同步"></a>1.2 时间同步</h5><p>kubernetes要求集群中的节点时间必须精确一直，这里使用chronyd服务从网络同步时间</p><p>企业中建议配置内部的会见同步服务器</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动chronyd服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl start chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl enable chronyd</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># date</span></span><br></pre></td></tr></table></figure><h5 id="1-3-禁用iptable和firewalld服务"><a href="#1-3-禁用iptable和firewalld服务" class="headerlink" title="1.3  禁用iptable和firewalld服务"></a>1.3  禁用iptable和firewalld服务</h5><p>kubernetes和docker 在运行的中会产生大量的iptables规则，为了不让系统规则跟它们混淆，直接关闭系统的规则</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1 关闭firewalld服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop firewalld</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable firewalld</span></span><br><span class="line"><span class="comment"># 2 关闭iptables服务</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl stop iptables</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">master</span> ~]<span class="comment"># systemctl disable iptables</span></span><br></pre></td></tr></table></figure><h5 id="1-4-禁用selinux"><a href="#1-4-禁用selinux" class="headerlink" title="1.4 禁用selinux"></a>1.4 禁用selinux</h5><p>selinux是linux系统下的一个安全服务，如果不关闭它，在安装集群中会产生各种各样的奇葩问题</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑 /etc/selinux/config 文件，修改SELINUX的值为disable</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><h5 id="1-5-禁用swap分区"><a href="#1-5-禁用swap分区" class="headerlink" title="1.5 禁用swap分区"></a>1.5 禁用swap分区</h5><p>swap分区指的是虚拟内存分区，它的作用是物理内存使用完，之后将磁盘空间虚拟成内存来使用，启用swap设备会对系统的性能产生非常负面的影响，因此kubernetes要求每个节点都要禁用swap设备，但是如果因为某些原因确实不能关闭swap分区，就需要在集群安装过程中通过明确的参数进行配置说明</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编辑分区配置文件/etc/fstab，注释掉swap分区一行</span></span><br><span class="line"><span class="comment"># 注意修改完毕之后需要重启linux服务</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">注释掉 /dev/mapper/centos<span class="literal">-swap</span> swap</span><br><span class="line"><span class="comment"># /dev/mapper/centos-swap swap</span></span><br></pre></td></tr></table></figure><h5 id="1-6-关闭防火墙"><a href="#1-6-关闭防火墙" class="headerlink" title="1.6 关闭防火墙"></a>1.6 关闭防火墙</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">防火墙关闭</span></span><br><span class="line">firewall-cmd --state#查看防火墙状态</span><br><span class="line">systemctl stop firewalld.service  #停止firewalld服务</span><br><span class="line">systemctl disable firewalld.service  #开机禁用firewalld服务</span><br></pre></td></tr></table></figure><h5 id="1-7-ssh免密登录"><a href="#1-7-ssh免密登录" class="headerlink" title="1.7 ssh免密登录"></a>1.7 ssh免密登录</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ssh免密登录（只需要配置node1至node1、node2、node3即可）</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">node1生成公钥私钥 (一路回车)</span></span><br><span class="line">ssh-keygen  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">node1配置免密登录到node1 node2 node3</span></span><br><span class="line">ssh-copy-id node1</span><br><span class="line">ssh-copy-id node2</span><br><span class="line">ssh-copy-id node3</span><br></pre></td></tr></table></figure><h5 id="1-8-新建工作空间"><a href="#1-8-新建工作空间" class="headerlink" title="1.8 新建工作空间"></a>1.8 新建工作空间</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /export/server/</span><br><span class="line">mkdir /export/data/</span><br><span class="line">mkdir /export/text/</span><br></pre></td></tr></table></figure><h5 id="1-9-Java环境变量"><a href="#1-9-Java环境变量" class="headerlink" title="1.9 Java环境变量"></a>1.9 Java环境变量</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">JDK 1.8安装  上传 jdk-8u241-linux-x64.tar.gz到/export/server/目录下</span></span><br><span class="line">cd /export/server/</span><br><span class="line">tar zxvf jdk-8u241-linux-x64.tar.gz</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">重新加载环境变量文件</span></span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-部署（3台机械同时配置）"><a href="#2-部署（3台机械同时配置）" class="headerlink" title="2.部署（3台机械同时配置）"></a>2.部署（3台机械同时配置）</h3><h5 id="1-1上传Hadoop安装包到node1-x2F-export-x2F-server"><a href="#1-1上传Hadoop安装包到node1-x2F-export-x2F-server" class="headerlink" title="1.1上传Hadoop安装包到node1 &#x2F;export&#x2F;server"></a>1.1上传Hadoop安装包到node1 &#x2F;export&#x2F;server</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop-3.3.0-Centos7-64-with-snappy.tar.gz</span><br><span class="line"></span><br><span class="line">tar zxvf hadoop-3.3.0-Centos7-64-with-snappy.tar.gz</span><br></pre></td></tr></table></figure><h5 id="1-2修改配置文件-配置文件路径-hadoop-3-3-0-x2F-etc-x2F-hadoop"><a href="#1-2修改配置文件-配置文件路径-hadoop-3-3-0-x2F-etc-x2F-hadoop" class="headerlink" title="1.2修改配置文件(配置文件路径 hadoop-3.3.0&#x2F;etc&#x2F;hadoop)"></a>1.2修改配置文件(配置文件路径 hadoop-3.3.0&#x2F;etc&#x2F;hadoop)</h5><ul><li>hadoop-env.sh</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">文件最后添加</span></span><br><span class="line">export JAVA_HOME=/export/server/jdk1.8.0_241</span><br><span class="line"></span><br><span class="line">export HDFS_NAMENODE_USER=root</span><br><span class="line">export HDFS_DATANODE_USER=root</span><br><span class="line">export HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line">export YARN_RESOURCEMANAGER_USER=root</span><br><span class="line">export YARN_NODEMANAGER_USER=root </span><br></pre></td></tr></table></figure><ul><li><p>​core-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置默认使用的文件系统 Hadoop支持file、HDFS、GFS、ali|Amazon云等文件系统 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://node1:8020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置Hadoop本地保存数据路径 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>/export/data/hadoop-3.3.0<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置HDFS web UI用户身份 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.http.staticuser.user<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 整合hive 用户代理设置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.root.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 文件系统垃圾桶保存时间 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.trash.interval<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>1440<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>hdfs-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置SNN进程运行机器位置信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>node2:9868<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>mapred-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置MR程序默认运行模式： yarn集群模式 local本地模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- MR程序历史服务地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>node1:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- MR程序历史服务器web端地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>node1:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.app.mapreduce.am.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.map.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.reduce.env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>HADOOP_MAPRED_HOME=$&#123;HADOOP_HOME&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span>vi</span><br></pre></td></tr></table></figure></li><li><p>yarn-site.xml</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置YARN集群主角色运行机器位置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>node1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 是否将对容器实施物理内存限制 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.pmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 是否将对容器实施虚拟内存限制。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.vmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启日志聚集 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 设置yarn历史服务器地址 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log.server.url<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>http://node1:19888/jobhistory/logs<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 历史日志保存的时间 7天 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">value</span>&gt;</span>604800<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>workers</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node1.itcast.cn</span><br><span class="line">node2.itcast.cn</span><br><span class="line">node3.itcast.cn</span><br></pre></td></tr></table></figure></li><li><p>将hadoop添加到环境变量（3台机器）</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">export HADOOP_HOME=/export/server/hadoop-3.3.0</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br><span class="line"></span><br><span class="line">source /etc/profile</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">别忘了scp给其他两台机器哦</span></span><br></pre></td></tr></table></figure></li><li><h5 id="Hadoop集群启动（只在node1节点）"><a href="#Hadoop集群启动（只在node1节点）" class="headerlink" title="Hadoop集群启动（只在node1节点）"></a>Hadoop集群启动（只在node1节点）</h5><ul><li><p>（&#x3D;&#x3D;首次启动&#x3D;&#x3D;）格式化namenode</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure></li><li><p>脚本一键启动</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# start-dfs.sh </span><br><span class="line">Starting namenodes on [node1]</span><br><span class="line">Last login: Thu Nov  5 10:44:10 CST 2020 on pts/0</span><br><span class="line">Starting datanodes</span><br><span class="line">Last login: Thu Nov  5 10:45:02 CST 2020 on pts/0</span><br><span class="line">Starting secondary namenodes [node2]</span><br><span class="line">Last login: Thu Nov  5 10:45:04 CST 2020 on pts/0</span><br><span class="line"></span><br><span class="line">[root@node1 ~]# start-yarn.sh </span><br><span class="line">Starting resourcemanager</span><br><span class="line">Last login: Thu Nov  5 10:45:08 CST 2020 on pts/0</span><br><span class="line">Starting nodemanagers</span><br><span class="line">Last login: Thu Nov  5 10:45:44 CST 2020 on pts/0</span><br></pre></td></tr></table></figure></li><li><p>Web  UI页面</p><ul><li>HDFS集群：<a href="http://node1:9870/">http://node1:9870/</a></li><li>YARN集群：<a href="http://node1:8088/">http://node1:8088/</a></li></ul></li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop-1 hadoop]# start-dfs.sh</span><br><span class="line">Starting namenodes on [node1]</span><br><span class="line">上一次登录：二 12月 27 11:19:23 CST 2022从 192.168.169.1pts/0 上</span><br><span class="line">Starting datanodes</span><br><span class="line">上一次登录：二 12月 27 11:20:33 CST 2022pts/0 上</span><br><span class="line">Starting secondary namenodes [node2]</span><br><span class="line">上一次登录：二 12月 27 11:20:35 CST 2022pts/0 上</span><br><span class="line">[root@hadoop-1 hadoop]# jpa</span><br><span class="line">-bash: jpa: 未找到命令</span><br><span class="line">[root@hadoop-1 hadoop]# jps</span><br><span class="line">1793 NameNode</span><br><span class="line">1921 DataNode</span><br><span class="line">2218 Jps</span><br><span class="line">[root@hadoop-1 hadoop]# start-yarn.sh</span><br><span class="line">Starting resourcemanager</span><br><span class="line">上一次登录：二 12月 27 11:20:43 CST 2022pts/0 上</span><br><span class="line">Starting nodemanagers</span><br><span class="line">上一次登录：二 12月 27 11:24:29 CST 2022pts/0 上</span><br><span class="line">[root@hadoop-1 hadoop]#</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hadoop </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HDFS基础概念</title>
      <link href="/posts/40945b78.html"/>
      <url>/posts/40945b78.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-HDFS分布式文件系统基础"><a href="#一-HDFS分布式文件系统基础" class="headerlink" title="一.HDFS分布式文件系统基础"></a>一.HDFS分布式文件系统基础</h2><h3 id="1-1-文件系统-分布式文件系统"><a href="#1-1-文件系统-分布式文件系统" class="headerlink" title="1. 1 文件系统,分布式文件系统"></a>1. 1 文件系统,分布式文件系统</h3><h4 id="1-1-1-文件系统定义"><a href="#1-1-1-文件系统定义" class="headerlink" title="1.1.1 文件系统定义"></a>1.1.1 文件系统定义</h4><ul><li>文件系统是一种存储和组织数据的方法，实现了数据的存储、分级组织、访问和获取等操作，使得用户对文件访问和查找变得容易；</li><li>文件系统使用树形目录的抽象逻辑概念代替了硬盘等物理设备使用数据块的概念，用户不必关心数据底层存在硬盘哪里，只需要记住这个文件的所属目录和文件名即可；</li><li>文件系统通常使用硬盘和光盘这样的存储设备，并维护文件在设备中的物理位置。</li></ul><h4 id="1-1-2-传统的文件系统"><a href="#1-1-2-传统的文件系统" class="headerlink" title="1.1.2 传统的文件系统"></a>1.1.2 传统的文件系统</h4><ul><li>所谓传统常见的文件系统更多指的的单机的文件系统，也就是底层不会横跨多台机器实现。比如windows操作系统 上的文件系统、Linux上的文件系统、FTP文件系统等等。</li><li>这些文件系统的共同特征包括：</li></ul><ol><li>带有抽象的目录树结构，树都是从&#x2F;根目录开始往下蔓延；</li><li>树中节点分为两类：目录和文件； </li><li>从根目录开始，节点路径具有唯一性。</li></ol><h3 id="1-2-数据-元数据"><a href="#1-2-数据-元数据" class="headerlink" title="1.2 数据 .元数据"></a>1.2 数据 .元数据</h3><ul><li>数据</li></ul><p>​指存储的内容本身，比如文件、视频、图片等，这些数据底层最终是存储在磁盘等存储介质上的，一般用户无需关心， 只需要基于目录树进行增删改查即可，实际针对数据的操作由文件系统完成。</p><ul><li>元数据</li></ul><p>​元数据（metadata）又称之为解释性数据，记录数据的数据； 文件系统元数据一般指文件大小、最后修改时间、底层存储位置、属性、所属用户、权限等信息。</p><ol><li>大数据时代，面对海量数据，传统的文件存储系统 会面临哪些挑战呢？</li></ol><h4 id="1-2-1海量数据遇到数据的问题"><a href="#1-2-1海量数据遇到数据的问题" class="headerlink" title="1.2.1海量数据遇到数据的问题"></a>1.2.1海量数据遇到数据的问题</h4><ul><li>成本高</li></ul><p>​传统存储硬件通用性差，设备投资加上后期维护、升级扩容的成本非常高。</p><ul><li>如何支撑高效的计算分析</li></ul><p>​传统存储方式意味着数据：存储是存储，计算是计算，当需要处理数据的时候把数据移动过来。 程序和数据存储是属于不同的技术厂商实现，无法有机统一整合在一起。</p><ul><li>性能低</li></ul><p>​单节点I&#x2F;O性能瓶颈无法逾越，难以支撑海量数据的高并发高吞吐场景。</p><ul><li>可扩展性差</li></ul><p>​无法实现快速部署和弹性扩展，动态扩容、缩容成本高，技术实现难度大。</p><h4 id="1-2-2-思考"><a href="#1-2-2-思考" class="headerlink" title="1.2.2 思考"></a>1.2.2 思考</h4><ol><li><p>当遇到海量数据存储的场景，传统的文件系统如何 解决海量数据的存储问题？</p></li><li><p>一款能够支撑海量数据存储的系统需要追求什么？ 吞吐量？性能？安全？效率？</p></li><li><p>如果让你设计一款存储系统软件来支撑海量数据存 储，如何设计？</p></li></ol><h3 id="1-3-分布式存储的核心"><a href="#1-3-分布式存储的核心" class="headerlink" title="1.3 分布式存储的核心"></a>1.3 分布式存储的核心</h3><p>分布式存储系统核心属性 </p><ul><li>分布式存储 </li><li>元数据记录</li><li>分块存储 </li><li>副本机制</li></ul><h4 id="1-3-1-分布式存储的优点"><a href="#1-3-1-分布式存储的优点" class="headerlink" title="1.3.1 分布式存储的优点"></a>1.3.1 分布式存储的优点</h4><ul><li><p>问题：数据量大，单机存储遇到瓶颈</p></li><li><p>解决：</p><ul><li>单机纵向扩展：磁盘不够加磁盘，有上限瓶颈限制</li><li>多机横向扩展：机器不够加机器，理论上无限扩展</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/09/EPgkpVJT9GRMx1A.png" alt="image-20230109165359069"></p><h4 id="1-3-2-元数据记录功能"><a href="#1-3-2-元数据记录功能" class="headerlink" title="1.3.2 元数据记录功能"></a>1.3.2 元数据记录功能</h4><ul><li><p>问题：文件分布在不同机器上不利于寻找</p></li><li><p>解决：元数据记录下文件及其存储位置信息，快速定位文件位置</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/nQrbRLCYtAJ4UNu.png" alt="image-20230109165605074"></p><h4 id="1-3-3分块存储的好处"><a href="#1-3-3分块存储的好处" class="headerlink" title="1.3.3分块存储的好处"></a>1.3.3分块存储的好处</h4><ul><li><p>问题：文件过大导致单机存不下、上传下载效率低</p></li><li><p>解决：文件分块存储在不同机器，针对块并行操作提高效率</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/fDc9dr25J6MYQNF.png" alt="image-20230109165801026"></p><h4 id="1-3-4-副本机制的作用"><a href="#1-3-4-副本机制的作用" class="headerlink" title="1.3.4 副本机制的作用"></a>1.3.4 副本机制的作用</h4><ul><li>问题：硬件故障难以避免，数据易丢失</li><li>解决：不同机器设置备份，冗余存储，保障数据安全</li></ul><p><img src="https://s2.loli.net/2023/01/09/J5tIybMFz6BsRLm.png" alt="image-20230109170022677"></p><h4 id="1-3-5-总结"><a href="#1-3-5-总结" class="headerlink" title="1.3.5 总结"></a>1.3.5 总结</h4><ol><li>分布式存储的优点是什么？</li></ol><p>​无限扩展支撑海量数据存储</p><ol start="2"><li>元数据记录的功能是什么？</li></ol><p>​ 快速定位文件位置便于查找</p><ol start="3"><li>文件分块存储好处是什么？</li></ol><p>​ 针对块并行操作提高效率</p><ol start="4"><li>设置副本备份的作用是什么？</li></ol><p>​ 冗余存储保障数据安全</p><h2 id="二-HDFS简介"><a href="#二-HDFS简介" class="headerlink" title="二.HDFS简介"></a>二.HDFS简介</h2><h3 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h3><ul><li><p>HDFS（Hadoop Distributed File System ），意为：Hadoop分布式文件系统。</p></li><li><p>是Apache Hadoop核心组件之一，作为大数据生态圈最底层的分布式存储服务而存在。也可以说大数据首先要解 决的问题就是海量数据的存储问题。</p></li><li><p>HDFS主要是解决大数据如何存储问题的。分布式意味着是HDFS是横跨在多台计算机上的存储系统。</p></li><li><p>HDFS是一种能够在普通硬件上运行的分布式文件系统，它是高度容错的，适应于具有大数据集的应用程序，它非 常适于存储大型数据 (比如 TB 和 PB)。</p></li><li><p>HDFS使用多台计算机存储文件, 并且提供统一的访问接口, 像是访问一个普通文件系统一样使用分布式文件系统。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/SxWaynhL41I93ZC.png" alt="image-20230109171329731"></p><h3 id="1-2-HDFS起源"><a href="#1-2-HDFS起源" class="headerlink" title="1.2 HDFS起源"></a>1.2 HDFS起源</h3><ul><li>Doug Cutting领导Nutch项目研发，Nutch的设计目标是构建一个大型的全网搜索引擎，包括网页抓取、索引、 查询等功能。</li><li>随着爬虫抓取网页数量的增加，遇到了严重的可扩展性问题——如何解决数十亿网页的存储和索引问题。</li><li>2003年的时候, Google 发表的论文为该问题提供了可行的解决方案。 《分布式文件系统（GFS），可用于处理海量网页的存储》</li><li>Nutch的开发人员完成了相应的开源实现HDFS，并从Nutch中剥离和MapReduce成为独立项目HADOOP。</li></ul><p><img src="https://s2.loli.net/2023/01/09/A2gGm6BFkecvLi9.png" alt="image-20230109175045334"></p><h3 id="1-3-HDFS设计目标"><a href="#1-3-HDFS设计目标" class="headerlink" title="1.3 HDFS设计目标"></a>1.3 HDFS设计目标</h3><ul><li><p>硬件故障（Hardware Failure）是常态， HDFS可能有成百上千的服务器组成，每一个组件都有可能出现故障。因 此故障检测和自动快速恢复是HDFS的核心架构目标。</p></li><li><p>HDFS上的应用主要是以流式读取数据（Streaming Data Access）。HDFS被设计成用于批处理，而不是用户交互 式的。相较于数据访问的反应时间，更注重数据访问的高吞吐量。</p></li><li><p>典型的HDFS文件大小是GB到TB的级别。所以，HDFS被调整成支持大文件（Large Data Sets）。它应该提供很 高的聚合数据带宽，一个集群中支持数百个节点，一个集群中还应该支持千万级别的文件。</p></li><li><p>大部分HDFS应用对文件要求的是write-one-read-many访问模型。一个文件一旦创建、写入、关闭之后就不需 要修改了。这一假设简化了数据一致性问题，使高吞吐量的数据访问成为可能。</p></li><li><p>移动计算的代价比之移动数据的代价低。一个应用请求的计算，离它操作的数据越近就越高效。将计算移动到数据 附近，比之将数据移动到应用所在显然更好</p></li><li><p>HDFS被设计为可从一个平台轻松移植到另一个平台。这有助于将HDFS广泛用作大量应用程序的首选平台。</p></li></ul><h3 id="1-4-HDFS-适用场景"><a href="#1-4-HDFS-适用场景" class="headerlink" title="1.4 HDFS 适用场景"></a>1.4 HDFS 适用场景</h3><ul><li>大文件 </li><li>数据流式访问 </li><li>一次写入多次读取</li><li>低成本部署，廉价PC </li><li>高容错</li></ul><p>不适合</p><ul><li>小文件 </li><li>数据交互式访问 </li><li>频繁任意修改</li><li>低延迟处理</li></ul><h3 id="1-5-HDFS重要特性"><a href="#1-5-HDFS重要特性" class="headerlink" title="1.5 HDFS重要特性"></a>1.5 HDFS重要特性</h3><ul><li>主从架构 </li><li>分块存储</li><li>副本机制 </li><li>元数据记录</li><li>抽象统一的目录树结构（namespace）</li></ul><p><strong>主从架构</strong></p><ul><li>HDFS集群是标准的master&#x2F;slave主从架构集群。</li><li>一般一个HDFS集群是有一个Namenode和一定数目的Datanode组成。</li><li>Namenode是HDFS主节点，Datanode是HDFS从节点，两种角色各司其职，共同协调完成分布式的文件存储服 务。</li><li>官方架构图中是一主五从模式，其中五个从角色位于两个机架（Rack）的不同服务器上。</li></ul><p><img src="https://s2.loli.net/2023/01/09/sBgVK34RHdDjepT.png" alt="image-20230109175748914"></p><h3 id="1-6分块存储"><a href="#1-6分块存储" class="headerlink" title="1.6分块存储"></a>1.6分块存储</h3><ul><li>HDFS中的文件在物理上是分块存储（block）的，默认大小是128M（134217728），不足128M则本身就是一块 。</li><li>块的大小可以通过配置参数来规定，参数位于hdfs-default.xml中：dfs.blocksize。</li></ul><h4 id="1-7-副本机制"><a href="#1-7-副本机制" class="headerlink" title="1.7 副本机制"></a>1.7 副本机制</h4><ul><li>文件的所有block都会有副本。副本系数可以在文件创建的时候指定，也可以在之后通过命令改变。</li><li>副本数由参数dfs.replication控制，默认值是3，也就是会额外再复制2份，连同本身总共3份副本。</li></ul><h4 id="1-8-元数据管理"><a href="#1-8-元数据管理" class="headerlink" title="1.8 元数据管理"></a>1.8 元数据管理</h4><ul><li>文件自身属性信息<ul><li>文件名称、权限，修改时间，文件大小，复制因子，数据块大小。</li></ul></li><li>文件块位置映射信息<ul><li>记录文件块和DataNode之间的映射信息，即哪个块位于哪个节点上。</li></ul></li></ul><h4 id="1-9-namespace"><a href="#1-9-namespace" class="headerlink" title="1.9 namespace"></a>1.9 namespace</h4><ul><li>HDFS支持传统的层次型文件组织结构。用户可以创建目录，然后将文件保存在这些目录里。文件系统名字空间的 层次结构和大多数现有的文件系统类似：用户可以创建、删除、移动或重命名文件。</li><li>Namenode负责维护文件系统的namespace名称空间，任何对文件系统名称空间或属性的修改都将被Namenode 记录下来。</li><li>HDFS会给客户端提供一个统一的抽象目录树，客户端通过路径来访问文件，形如：hdfs:&#x2F;&#x2F;namenode:port&#x2F;dira&#x2F;dir-b&#x2F;dir-c&#x2F;file.data。</li></ul><p><img src="https://s2.loli.net/2023/01/09/tFfMh3Y2PHk9CWV.png" alt="image-20230109184727864"></p><h4 id="2-0-数据块存储"><a href="#2-0-数据块存储" class="headerlink" title="2.0 数据块存储"></a>2.0 数据块存储</h4><ul><li>文件的各个block的具体存储管理由DataNode节点承担。</li><li>每一个block都可以在多个DataNode上存储。</li></ul><p><img src="https://s2.loli.net/2023/01/09/dwC8YmfRIyuZcTn.png" alt="image-20230109184918014"></p><h2 id="三-HDFS命令行"><a href="#三-HDFS命令行" class="headerlink" title="三.HDFS命令行"></a>三.HDFS命令行</h2><h3 id="1-1-介绍"><a href="#1-1-介绍" class="headerlink" title="1.1 介绍"></a>1.1 介绍</h3><ul><li><p>命令行界面（英语：command-line interface，缩写：CLI），是指用户通过键盘输入指令，计算机接收到指令后 ，予以执行一种人际交互方式。</p></li><li><p>Hadoop提供了文件系统的shell命令行客户端: hadoop fs [generic options]</p></li></ul><p><img src="https://s2.loli.net/2023/01/10/Jlem2RcYWrf7yd3.png" alt="image-20230110093509194"></p><h3 id="1-2-文件系统协议"><a href="#1-2-文件系统协议" class="headerlink" title="1.2 文件系统协议"></a>1.2 文件系统协议</h3><ul><li><p>HDFS Shell CLI支持操作多种文件系统，包括本地文件系统（file:&#x2F;&#x2F;&#x2F;）、分布式文件系统（hdfs:&#x2F;&#x2F;nn:8020）等</p></li><li><p>具体操作的是什么文件系统取决于命令中文件路径URL中的前缀协议。</p></li><li><p>如果没有指定前缀，则将会读取环境变量中的fs.defaultFS属性，以该属性值作为默认文件系统。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -ls file:/// #操作本地文件系统</span><br><span class="line">hadoop fs -ls hdfs://node1:8020/ #操作HDFS分布式文件系统</span><br><span class="line">hadoop fs -ls / #直接根目录，没有指定协议 将加载读取fs.defaultFS值</span><br></pre></td></tr></table></figure><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul><li><p>hadoop dfs 只能操作HDFS文件系统（包括与Local FS间的操作），不过已经Deprecated； </p></li><li><p>hdfs dfs 只能操作HDFS文件系统相关（包括与Local FS间的操作）,常用； </p></li><li><p>hadoop fs 可操作任意文件系统，不仅仅是hdfs文件系统，使用范围更广；</p></li><li><p>目前版本来看，官方最终推荐使用的是hadoop fs。当然hdfs dfs在市面上的使用也比较多。</p></li><li><p>HDFS文件系统的操作命令很多和Linux类似，因此学习成本相对较低。</p></li><li><p>可以通过hadoop fs -help命令来查看每个命令的详细用法。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Usage: hadoop fs [generic options]</span><br><span class="line">[-appendToFile &lt;localsrc&gt; ... &lt;dst&gt;]</span><br><span class="line">[-cat [-ignoreCrc] &lt;src&gt; ...]</span><br><span class="line">……</span><br><span class="line">-appendToFile &lt;localsrc&gt; ... &lt;dst&gt; :</span><br><span class="line">Appends the contents of all the given local files to the given dst file. The dst</span><br><span class="line">file will be created if it does not exist. If &lt;localSrc&gt; is -, then the input is</span><br><span class="line">read from stdin.</span><br><span class="line">-cat [-ignoreCrc] &lt;src&gt; ... :</span><br><span class="line">Fetch all files that match the file pattern &lt;src&gt; and display their content on</span><br><span class="line">stdout</span><br></pre></td></tr></table></figure><h3 id="1-3-FDHS基础命令"><a href="#1-3-FDHS基础命令" class="headerlink" title="1.3 FDHS基础命令"></a>1.3 FDHS基础命令</h3><h4 id="1-3-1-创建文件夹"><a href="#1-3-1-创建文件夹" class="headerlink" title="1.3.1 创建文件夹"></a>1.3.1 创建文件夹</h4><ul><li>hadoop fs -mkdir [-p]  … <ul><li>path 为待创建的目录</li><li>-p选项的行为与Unix mkdir -p非常相似，它会沿着路径创建父目录。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -mkdir /itcast</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-2-查看指定目录下的内容"><a href="#1-3-2-查看指定目录下的内容" class="headerlink" title="1.3.2 查看指定目录下的内容"></a>1.3.2 查看指定目录下的内容</h4><ul><li>hadoop fs -ls [-h] [-R] [ …] <ul><li>path 指定目录路径</li><li>-h 人性化显示文件size</li><li>-R 递归查看指定目录及其子目录</li></ul></li></ul><p><img src="https://s2.loli.net/2023/01/10/YBip4EunMPGUOjc.png" alt="image-20230110094428899"></p><h4 id="1-3-3上传文件到HDFS指定目录下"><a href="#1-3-3上传文件到HDFS指定目录下" class="headerlink" title="1.3.3上传文件到HDFS指定目录下"></a>1.3.3上传文件到HDFS指定目录下</h4><ul><li>hadoop fs -put [-f] [-p]  … <ul><li>-f 覆盖目标文件（已存在下）</li><li>-p 保留访问和修改时间，所有权和权限。</li><li>lcalsrc 本地文件系统（客户端所在机器）</li><li>dst 目标文件系统（HDFS）</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -put zookeeper.out /itcast</span><br><span class="line">hadoop fs -put file:///etc/profile hdfs://node1:8020/itcast</span><br></pre></td></tr></table></figure><h4 id="1-3-4-查看HDFS文件内容"><a href="#1-3-4-查看HDFS文件内容" class="headerlink" title="1.3.4 查看HDFS文件内容"></a>1.3.4 查看HDFS文件内容</h4><ul><li>hadoop fs -cat  … <ul><li>读取指定文件全部内容，显示在标准输出控制台。</li><li>注意：对于大文件内容读取，慎重。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop fs -cat /itcast/zookeeper.out</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-5-下载HDFS文件"><a href="#1-3-5-下载HDFS文件" class="headerlink" title="1.3.5 下载HDFS文件"></a>1.3.5 下载HDFS文件</h4><ul><li>hadoop fs -get [-f] [-p]  … <ul><li>下载文件到本地文件系统指定目录，localhst必须是目录</li><li>-f 覆盖目标文件（已存在下）</li><li>-p 保留访问和修改时间，所有权和权限。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node2 ~]# mkdir test</span><br><span class="line">[root@node2 ~]# cd test/</span><br><span class="line">[root@node2 test]# ll</span><br><span class="line">total 0</span><br><span class="line">[root@node2 test]# hadoop fs -get /itcast/zookeeper.out ./</span><br><span class="line">[root@node2 test]# ll</span><br><span class="line">total 20</span><br><span class="line">-rw-r--r-- 1 root root 18213 Aug 18 17:54 zookeeper.out</span><br></pre></td></tr></table></figure><h4 id="1-3-6-拷贝HDFS文件"><a href="#1-3-6-拷贝HDFS文件" class="headerlink" title="1.3.6 拷贝HDFS文件"></a>1.3.6 拷贝HDFS文件</h4><ul><li>hadoop fs -cp [-f]  … <ul><li>-f 覆盖目标文件（已存在下）</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# hadoop fs -cp /small/1.txt /itcast</span><br><span class="line">[root@node3 ~]# hadoop fs -cp /small/1.txt /itcast/666.txt #重命令</span><br><span class="line">[root@node3 ~]# hadoop fs -ls /itcast</span><br><span class="line">Found 4 items</span><br><span class="line">-rw-r--r-- 3 root supergroup 2 2021-08-18 17:58 /itcast/1.txt</span><br><span class="line">-rw-r--r-- 3 root supergroup 2 2021-08-18 17:59 /itcast/666.txt</span><br></pre></td></tr></table></figure><h4 id="1-3-7-追加数据到HDFS文件种"><a href="#1-3-7-追加数据到HDFS文件种" class="headerlink" title="1.3.7 追加数据到HDFS文件种"></a>1.3.7 追加数据到HDFS文件种</h4><ul><li>hadoop fs -appendToFile  <localhost> … <dst><ul><li>将所有给定本地文件的内容追加到给定dst文件。</li><li>dst如果文件不存在，将创建该文件。</li><li>如果为-，则输入为从标准输入中读取。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@node3 ~]# echo 1 &gt;&gt; 1.txt</span><br><span class="line">[root@node3 ~]# echo 2 &gt;&gt; 2.txt </span><br><span class="line">[root@node3 ~]# echo 3 &gt;&gt; 3.txt </span><br><span class="line">[root@node3 ~]# hadoop fs -put 1.txt /</span><br><span class="line">[root@node3 ~]# hadoop fs -cat /1.txt</span><br><span class="line">1</span><br><span class="line">[root@node3 ~]# hadoop fs -appendToFile 2.txt 3.txt /1.txt</span><br><span class="line">[root@node3 ~]# hadoop fs -cat /1.txt</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-8-HDFS-数据移动操作"><a href="#1-3-8-HDFS-数据移动操作" class="headerlink" title="1.3.8 HDFS 数据移动操作"></a>1.3.8 HDFS 数据移动操作</h4><ul><li>hadoop fs -mv  &lt; src&gt; ..  <dst><ul><li>移动文件到指定文件夹下</li><li>可以使用该命令移动数据，重命名文件的名称</li></ul></li></ul><h4 id="1-3-9-指导文档"><a href="#1-3-9-指导文档" class="headerlink" title="1.3.9 指导文档"></a>1.3.9 指导文档</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://hadoop.apache.org/docs/r3.3.0/hadoop-project-dist/hadoop-common/FileSystemShell.htm</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 大数据 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webase搭建教程</title>
      <link href="/posts/fc6bbfe4.html"/>
      <url>/posts/fc6bbfe4.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="webase搭建教程"><a href="#webase搭建教程" class="headerlink" title="webase搭建教程"></a>webase搭建教程</h3><h4 id="1-前提条件"><a href="#1-前提条件" class="headerlink" title="1.前提条件"></a>1.前提条件</h4><ol><li><h5 id="mysql-的安装"><a href="#mysql-的安装" class="headerlink" title="mysql 的安装"></a>mysql 的安装</h5></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装完成之后进人mysql 密码为空</span></span><br><span class="line">sudo mysql -uroot -p </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">修改密码</span></span><br><span class="line">use mysql;</span><br><span class="line">update user set authentication_string=&#x27;&#x27; where user=&#x27;root&#x27;;//用户名</span><br><span class="line">ALTER user &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;;//密码</span><br><span class="line"> flush privileges;//刷新权限</span><br></pre></td></tr></table></figure><h5 id="2-Java的安装"><a href="#2-Java的安装" class="headerlink" title="2.Java的安装"></a>2.Java的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ubuntu系统安装java</span></span><br><span class="line">sudo apt install -y default-jdk</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装完成之后配置环境变量</span></span><br><span class="line">1.查看Java所在目录</span><br><span class="line">sudo ls /lib/jvm/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2，使用命令</span><br><span class="line">sudo vim /etc/profile</span><br><span class="line">3.添加环境变量</span><br><span class="line">sudo vim /etc/profile</span><br><span class="line">JAVA_HOME=/lib/jvm/java-11-openjdk-amd64</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.更新保存文件</span><br><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure><h5 id="3-python的安装"><a href="#3-python的安装" class="headerlink" title="3.python的安装"></a>3.python的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 添加仓库，回车继续</span><br><span class="line">sudo add-apt-repository ppa:deadsnakes/ppa</span><br><span class="line">// 安装python 3.6</span><br><span class="line">sudo apt-get install -y python3.6</span><br><span class="line">sudo apt-get install -y python3-pip</span><br></pre></td></tr></table></figure><h5 id="4-pymysql的安装"><a href="#4-pymysql的安装" class="headerlink" title="4 . pymysql的安装"></a>4 . pymysql的安装</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install pymysql</span><br></pre></td></tr></table></figure><h4 id="2-拉取部署脚本："><a href="#2-拉取部署脚本：" class="headerlink" title="2.拉取部署脚本："></a>2.拉取部署脚本：</h4><ul><li>获取部署安装包</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://osp-1257653870.cos.ap-guangzhou.myqcloud.com/WeBASE/releases/download/v1.5.4/webase-deploy.zip</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>解压安装包：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip webase-deploy.zip</span><br></pre></td></tr></table></figure><ul><li>进入目录：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd webase-deploy</span><br><span class="line">cat /etc/mysql/debian.cnf</span><br></pre></td></tr></table></figure><p>我们进入到mysql配置文件中debian.cnf复制用户名和密码</p><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>然后我们进入到webase-deploy这个目录里面</li></ul><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>使用命令sudo vim common.properties修改配置文件</li><li>然后启动</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 deploy.py installAll</span><br></pre></td></tr></table></figure><ul><li>如果Java的环境配置成功 还是报错，我们就使用临时配置</li></ul><p> <img src="https://s2.loli.net/2023/01/07/y81dnEvepC9qYQS.png" alt="image-20230107132531597"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/lib/jvm/java-11-openjdk-amd64</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib</span><br><span class="line">export PATH=.:$&#123;JAVA_HOME&#125;/bin:$PATH</span><br><span class="line">source  /etc/profile</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">common]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Webase Subsystem Version (v1.1.0 or above)</span></span><br><span class="line">webase.web.version=v1.5.4</span><br><span class="line">webase.mgr.version=v1.5.4</span><br><span class="line">webase.sign.version=v1.5.3</span><br><span class="line">webase.front.version=v1.5.4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####################################################################</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> use [installDockerAll] to install WeBASE by docker</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> use [installAll] or [installWeBASE], ignore configuration here</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1: <span class="built_in">enable</span> mysql <span class="keyword">in</span> docker</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0: mysql run <span class="keyword">in</span> host, required fill <span class="keyword">in</span> the configuration of webase-node-mgr and webase-sign</span></span><br><span class="line">docker.mysql=0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> [docker.mysql=1], mysql run <span class="keyword">in</span> host (only works <span class="keyword">in</span> [installDockerAll])</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">run mysql 5.6 by docker</span></span><br><span class="line">docker.mysql.port=23306</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">default user [root]</span></span><br><span class="line">docker.mysql.password=123456</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">####################################################################</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mysql database configuration of WeBASE-Node-Manager</span></span><br><span class="line">mysql.ip=localhost</span><br><span class="line">mysql.port=3306</span><br><span class="line">mysql.user=root //需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">mysql.password=00000000 //需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">mysql.database=webasenodemanager</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mysql database configuration of WeBASE-Sign</span></span><br><span class="line">sign.mysql.ip=localhost</span><br><span class="line">sign.mysql.port=3306</span><br><span class="line">sign.mysql.user=root//需要将/etc/mysql/debian.cnf数据库用户名复制到这里</span><br><span class="line">sign.mysql.password=00000000//需要将/etc/mysql/debian.cnf数据库密码复制到这里</span><br><span class="line">sign.mysql.database=webasesign</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> docker mysql disabled[docker.mysql=0] above</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">H2 database name of WeBASE-Front (docker mode ignore this)</span></span><br><span class="line">front.h2.name=webasefront</span><br><span class="line">front.org=fisco</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Web service port</span> </span><br><span class="line">web.port=5000</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">enable</span> WeBASE-Web overview pages <span class="keyword">for</span> mobile phone(docker mode not support h5 yet)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">(0: <span class="built_in">disable</span>, 1: <span class="built_in">enable</span>)</span></span><br><span class="line">web.h5.enable=1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Node-Manager service port</span></span><br><span class="line">mgr.port=5001</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Front service port</span></span><br><span class="line">front.port=5002</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">WeBASE-Sign service port</span></span><br><span class="line">sign.port=5004</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node listening IP</span></span><br><span class="line">node.listenIp=127.0.0.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node p2p service port</span></span><br><span class="line">node.p2pPort=30300//需要更改端口号</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node channel service port</span></span><br><span class="line">node.channelPort=20200//需要更改端口号</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node rpc service port</span></span><br><span class="line">node.rpcPort=8545//需要更改端口号</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Encrypt <span class="built_in">type</span> (0: standard, 1: guomi)</span></span><br><span class="line">encrypt.type=0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ssl encrypt <span class="built_in">type</span> (0: standard ssl, 1: guomi ssl)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">only guomi <span class="built_in">type</span> support guomi ssl</span></span><br><span class="line">encrypt.sslType=0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Use existing chain or not (<span class="built_in">yes</span>/no)</span></span><br><span class="line">if.exist.fisco=yes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## if build new chain, [if.exist.fisco=no]</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Configuration required when building a new chain</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Fisco-bcos version</span></span><br><span class="line">fisco.version=2.8.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Number of building nodes (default value: 2)</span></span><br><span class="line">node.counts=4  //需要将这里改为4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## if using exited chain, [if.exist.fisco=yes]</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">The path of the existing chain, the path of the start_all.sh script</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Under the path, there should be a <span class="string">&#x27;sdk&#x27;</span> directory <span class="built_in">where</span> the SDK certificates (ca.crt, sdk.crt, node.key and gm directory(gm ssl)) are stored</span></span><br><span class="line">fisco.dir=/root/fisco/nodes/127.0.0.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Node directory <span class="keyword">in</span> [fisco.dir] <span class="keyword">for</span> WeBASE-Front to connect</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">example: <span class="string">&#x27;node.dir=node0&#x27;</span> would auto change to <span class="string">&#x27;/data/app/nodes/127.0.0.1/node0&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Under the path, there is a conf directory <span class="built_in">where</span> node certificates (ca.crt, node.crt and node.key) are stored</span></span><br><span class="line">node.dir=node0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjUAAAGDCAYAAADTbuFtAAAAAXNSR0IArs4c6QAAIABJREFUeF7svQuQXcWZ5/mXwDxVSAUqNUZQEgLEQy8jmJFBWgkFDWLbqHk0Sy/Rcq+j7bXbbHR73b3u9YZ7htHGeGOiPb1eu2fxtMOecLTlJZqmLRjhCWSaEKqQQHhAWC9AAstFgdQeJCiJKiSDeWzkOSfPzcyTr3PuuY+69a8IIqi6eTK//OXrf77vy6spSz5xzUfo2p//Afd98SYMju3Bdzf8DZ6x2Llsxf+Dzy86K/tkBJu/82/xYBv6M/eOr+APFk/DoSfuww+2taFBrYmV+Mx9N2J29rfx3T/Atzb+Mvst+2x8N3701/+I4XabxvZIgARIgARIoEMEppQVNTMW34jV86SIyKx+Yxc2PjXS6MLc63DHJ2bixMEhbN59vImuBUTNwJ/gb+66BK889L/iW0eaaKbCo82ImuWfXY9r31KFSDkDxPM34Al8/ftDlgcpasrRZGkSIAESIIFeIVBa1JgdFyJnGZ5VxMsgVtx+GfAGcPa4+vcWILvqL/H9pcedXpwWtFhLlc2Jmotx+59/BjOe6YSHqJbusxISIAESIAESaAmBJkWNEDCz8drDT+PVzLw516/FFeNDeAbXGmKnnP1aWOn1x/HZTf9QqCApM/cXFURNKgwWTMuqfF3xeqz4HL5240VKWCkrCxnOUUM/49j3w2/g4YO6adKLI/8qQ1Tm3/On1PaDmNL2YQl7afVb69TDViiEqAwueA1Prv8etic2hZ51GZ7WOeeg6pkq/k1no7Yr6vXZFQTGAiRAAiRAApOEQFOipuClEWGn+ePY8tM9QMGDU41oIlz6t2ui5u6138WaC4v1ndjzPfzJtp8FG9LDN64DdjQ50A+J3Jl5By35KeKQX4ZjpqiZ93v40qf78WwuBormVPLUJPUuhtRhjVpNAQAkAuHcZwrhKX+7mXA4ZgtrmYx8ZYv9TexRGSZ9mYdXJbtESCIXUGZ5V3+CA80CJEACJEACk4pAE6ImDTONPfkEdh0TzPTfi2GpalxtokbWVM1TI8TIfLysig5xqC4b1YRLKgB24/jieUXhknsuXKJmMY57EogriZocn9tTI4v4RM0NMxwJxIaw0EbL9pkq3q77Eyz53EKcaQ7xyOPYsf6hzMvTYGXaJ3hctl8Np+mCMfXipCIz9RrxhwRIgARIgASKBCqLmiRheNrLjQThLDm40MSJ4cRzk+ieCj+1ixqXx6MQiknFw3TtZpHaAYenRhTJQlhJacstpE6JGjOMo97cKnhT1K5aRB8iPFJqFY0+A7f/+V3ARhm2M0NL8ik9tJd41zLvnH7bq8Kk4iMkQAIkQAI9SaCiqDG9NEU2XeupiTqMZTLuE8CN9vyVNMfE4qkxUCSHseEd6ZyoUYzLxF3uUbIJF1nc5qlR/xb01GRCT3jDNgK33QE8kl83L5v4HBKbPblO2SkSIAESIIEIApVETcFLY2moG0TN3ff9LdZcBIw8/gWs/3tpZDgfRPNaOMMycaLG5gHxekUA2O2W9lcPP+nDZNbjEwvmZ7bk39Bsy57BOI4/8w3tu33KhZeqtB2yjZ+TAAmQAAn0AoFKoqb1Hf+X+NK6z2Fxn9GScQsqlFPjFgfFkIcMaaQHLJRbTbJslpCrhpZy8xqhkuINp2Iib+E2j3FTqZqocYRx8rqN20tJZMz8rhyzjOf2U6kbWykon3gpcMvDdpZ+VWi79XOWLZAACZAACXSaQJeKmk5jYfutIMBbTK2gyjpJgARIgAQkAYoazoX2EDCvcbenVbZCAiRAAiQwiQhQ1Eyiwe5IV5XbZp35d7I60ms2SgIkQAIk0AECFDUdgM4mSYAESIAESIAE6idAUVM/U9ZIAiRAAiRAAiTQAQIUNR2AziZJgARIgARIgATqJ0BRUz9T1kgCJEACJEACJNABAhQ1HYDOJkmABEiABEiABOonQFFTP1PWSAIkQAIkQAIk0AECFDUdgM4mSYAESIAESIAE6idAUVM/U9ZIAiRAAiRAAiTQAQIUNR2AziZJgARIgARIgATqJ0BRUz9T1kgCJEACJEACJNABAhQ1HYDOJkmABEiABEiABOonQFFTP1PWSAIkQAIkQAIk0AECFDUdgM4mSYAESIAESIAE6idAUVM/U9ZIAiRAAiRAAiTQAQIUNR2AziZJgARIgARIgATqJ0BRUz9T1kgCJEACJEACJNABAhQ1HYDOJkmABEiABEiABOonQFFTP1PWSAIkQAIkQAIk0AECFDUdgM4mSYAESIAESIAE6idAUVM/U9ZIAiRAAiRAAiTQAQIUNR2AziZJgARIgARIgATqJ0BRUz9T1kgCJEACJEACJNABAhQ1HYDOJkmABEiABEiABOonQFHjYjqwHOvuWoBzXh/C/ZtespSaiZXr7sTCvuwjZzn10fSZ/p3fxSMvVB/MK9d+HqsvHMPehx7A0JFGPTNX3IO7F2UGBe2px5bqvajpyatuxb1LR/Hghu04WrnKK3DbF1di9ti+Juspa0B4DskxPbTVNWcy27Om397zY2zYVp1EfA86xSy1UJvrOIwt33kUL2bGh5nF97JbSqZrvsxe0y2W0w4SaC+B0qJmxuIbsXreWbqVb+zCxqdGsr8NYsXtSzCQ/HYUOx9+Gq9W7JNYyPN/ITZzsYFejVHtEBcHwk3A5gcwBCFA+vGcsrFBiJI1wGMbtgPisO9/3iFOHMYFRE2ycc4dKXkI1iMkXKJG9iSxLdjfemypOLT1PdYDosYnckMHdDIX4BLe9WEu1tSEqGl2zJK1OYgRQ9Rr839RH9xCsJVcWlt33NpurQ2snQS6mUBpUWN2RoicZXgWm3cfByAEzWUYe/IJ7DrWfLevXHsPBnYIb4TYQC/FAVW0QBzKn8SRDY/iRUXA5O+o4m+ffBMbNr2UvNXdgsdrfYMVh8k1o2XfitsjJOI2vvbY0vwsCNTQ7AHZcgN9DTQ7Bs0+36HONztmzT7foW7X0Wzc2q6jJdZBAhOTQJOiRoiY2Xgt88boAqcJIGLTWnWBtQLhXn8MNzXCLEapQ1t/jNGlSlhI+1x3U7ssVF29dnd+epgMDlcVNUPAqpWYnRig2FTYrA0PlfQemc8ZHXFvfHqoQjwW9zYrvWLPo/8ui91J+44wSGKz4UUTxUseTHq4QbE7q2fL8CBWZ6E3c8z0Z/WwnT9kl4nph0ZxjQhFCrtrDVH5RInKsxhqTIc8LQNnaMqzBrU1ptafhcSghOKysnKuBMOcxvrNx0Obv6ptcetSPuH2koaYGeE+I2wl6nfOs8Bn/t0uvH587ap1U9Q0ca7w0UlBoClRY4qYOdevxUXjwzh73lwkASotLFWWp+KdsR2AgfBSwzuDynksRW9MURSkvXIdOmaf5abaKK+FD0KiRlbnEgrZ5/aNzxRiZd7yTbvtdTVEnnrY2kKH5URNuuGPaXkTOVl5gMocouR3NMoOLMdtl+/HI1meietAtDOT4y0P3SZEhHX6x4yBhV+z4sAM35jMMrHUl+TnzHQKJzczM1RsdL6koJVPa3klSpXFFw/7nAsJgvA8U+ZVwqyvkNdm3+UC68fk76k71IeyuyzLk0CvEWhC1JihpulYcvNKzMMwtvx0D44h/b3vwCZsG66CrSFqjthyRBRRM2AJBTVEjdiUA5uswzx3iKlZT42S9KluaK0UNYW6Yw7U/N24IAy1zdUS/mt8ftSa+2QdU+s4BIRELLOAIIw9oKuFHV3zP2YMHKIwqbKayCqGYy12ZMJ5ZE8fFjrys3xCMBVEjoTliqImn43BfDaPqHGJYy9L+3pX54JdcMmXlyJffX0Uvb6ueUZRU+Us4TOTiUBlUZMkDE97WUkQBhJPzeGGiKkajnK9kaWhmh0YUG8dqaMlQgObgVtkqMAYybI3Q9oialSvS+wBXcVT00pR4woXZt4TmfC9/dxbsbwfGN3xKF64PDLPKZAUWgxjmQeaGXIQk6IY7phMosa1vsxQpNdzIcMxNsETCpN2SNSIkXeGlr3zzC4+4wVuWNSYyeIUNZPpGGZf6yRQUdTYE4J1odOkp0bZ+FyemPSGj/AEmNeklU3kiCOnI4JiW0SNusFPZFHjuVadegaex8jcS3Fk8yjmX74fB/rvzG62hQbC56mwhbH08skhNl3JD3EIwskmaoJJ7mqukuOWX4zXwCqMOihqGrMt9XI1PEq+eWbz1Oh/q9dT4/YExzAPrSh+TgK9TKCSqLF5aSQk4a1ZOiv97cTBoexWVAWEYuO75JXkGnbjanejHj1nJrvanX9ni0zMy657Z1e7y357R+tFjbF5abH1Yv5N3vsqnhrjTVRuwvGJwrpw1DdX84DQxzsdqxGM9b+JRzYBt627FEAfRsV1fOV7dlyzpCBM1IIBIahfeZZM6/TUeMYpOO1bHH4y842kPcF8EDWs1eQBW8jXAZKvW/BcyU4/X4BzHEnZ7kRh2cGAEE6KFfvlm2cFcWbrl3O8fZ6a9HamljPmqZuiJrioWGCSE6gkatrBzIw5u92ztpwZZVMbKPvlbPZkYD101VxOTf6FfQDMkJj6xndoq7gl1cgHSjc/+W1/chTkAW0LswBQvoRPfV60+1y0t8S/KaeWeG5WZYerFFBpH8vdeDHfhHMxFvJuGUm1h/bsQ98ieRsrxKx4ONqEruQaJxDV1eMRNdaQnpmQHpFvJG4R2r6IsVC/ngw9W30mK5vO1TTxXp3DSY+0RG315qI9iV6fy8ZcqCpqvMwsY23h4pxnhdtPsZcDGgJK3cNMcaLzcNdNUdOO04dtTGQCXStqJjJU2j7JCAQ9Hy4eMZ6aScaS3fUSoKjhBCEBPwGKGs4QEqhMQHqnyry1R3pqKtvEB3uZAEVNL48u+1YHAYqaOiiyDhKoRMAIiQT/va5KjfChHiCghcU4T3pgRNmFVhGgqGkVWdZLAiRAAiRAAiTQVgIUNW3FzcZIgARIgARIgARaRYCiplVkWS8JkAAJkAAJkEBbCVDUtBU3GyMBEiABEiABEmgVAYqaVpFlvSRAAiRAAiRAAm0lQFHTVtxsjARIgARIgARIoFUEKGpaRZb1kgAJkAAJkAAJtJUARU1bcbMxEiABEiABEiCBVhGgqGkVWdZLAiRAAiRAAiTQVgIUNW3FzcZIgARIgARIgARaRYCiplVkWS8JkAAJkAAJkEBbCVDUtBU3GyMBEiABEiABEmgVAYqaVpFlvSRAAiRAAiRAAm0lQFHTVtxsjARIgARIgARIoFUEKGpaRZb1kgAJkAAJkAAJtJUARU1bcbMxEiABEiABEiCBVhGgqKlMdiZWrrsTC/uyCl4fwv2bXspru3Lt57H6wjHsfegBDB2p3EjbH5yodjcH6grc9sWVmD22Dw9u2I6jzVXmfFqwvWb0x9iwrfkWZq64B3f3P6/NuRaZbVSbzvv+nd/FIy9Ub9E1z5J+LcoWlbGmiq3ZbZF1HNranI3Ve9crT9Yz1hyPXpkPE6MfpUXNjMU3YvW8s/TevbELG586jiU3r4T50ZGfb8K24WowxMY3/xdiYxKHztUYLSUQ/KKjmkWNp5KFOnfEeQh2pzgIb1LdaXezoxV6nqImREiZ+S0VNbKdONFGURM/blVKhveLmFopamIosUxdBEqLGrNhIXKW4Vls3n3c+Gg6ltx8LfCzJ7DrWDVzr1x7DwZ2CE+HOHQuxYHvPIoXo6rKDin1Te+qW3EbHm3q7VJtus637qgu1VKonk2qFlMmYSV1zpm4Q78VkNszh+L61x5bWkFxYtRJvhNjnGilSqBJUTOIFbfPxmsPP41XTa5zr8MdFxzCxqdGyhO/6lbcu+oC63Nv7wm770NeFCATPbIFLeyQCaiHRnHNXQtwjihTCEuki31w2GLLwHKsk8/hMLYUhJjRdmJDFqYauBX3Lh1VvD+Gh0pwEZ9vBm6RbWguesM7pdidemCKSHOeZe0uzcwzDYL90pkV5kBhvjS4Fw7HpJ/9eC4bF3+4o7GpH7hE8tNDitrzhfE2xgNAzPyFYWNOTnLasB3Iwk9bsDIfVz3c4mEm6rnkFTw4enUe6omyKzFEMhkCVq3E7ORvyjxXbEyDbMYcDs6ztLduUVNcP41+q5+ZoV9h903A5ufRf5fFbtGoZpukblvD9rmszwV76PmCD9/H4amn6hVEjIdrntmFclkxYs5T2efAWOfjK3kC0PYj33ikY3wLHsdz/Xc65nD5o4NPkEBToqaVXpp0M8y8M4WN0jdwHsGhbMoNQZIt6OMyJ0YuRLmw09+RxOdtgkQRJWrujONgSsQFsrayTXRMxv5DB0J+eGe2Jc8PYiQLy81ccSuu2v9olsNj4xCx2VntNusqwyxikXn7Zbatjoc8iBoMTEEQEjXSOvsh2tjs5aGvjV9iN3LhaopprSyAeE+NI9xqippFfblI0tsOMJO85QFk9MM/YpJJ49AuMPEJc1m5S7hln/vGw1y7xfweGz/TbvuczutOmPTF58QNLMdtl+/HI1m+lDkX+j76EF85cRS/++4YHj/tbHxl2vkNzKHx8MwzKW7VfL6G8IzJKTLXsjr6IWZiTt8KbJIedGNt5lXZ57MUanJthV9GI/YSFpn0BJoQNcJLcxnGnrSEl4SXZv44tvx0DypGnrI3vFTUHCmVFBkQNbYNXNtgiwuweBiFhJM8bBsegXSmmYveqCdK1KgbrV+kFA+GiqKmFmaetVY4QBQ7jyzHujXAY0oCr9qvwtjYPDFqQq3jMPWKmlzwAlDGaCDP+ZJ9U+YOdI+QKBEvaqRX4QEMKfWo68Ar1kQfPczUPli9Kd5t0TKH1PkRmsPNiJpC3a757BY1qgDSGBovCMW1WvKsUObZue+dxPoTb2DGhx/iralT8Sd952P/KafrosYjBBu5hZZ5Jry7l7ySJIw35tfM+BxEr6At8g2FBe1z3CNqItZmSfIsPskJVBY1ScLwtJct4SWRS7MSfQeaSxC2hUo0N7dz4CJEjbaBmAKklaLGeCsyN9LQgRDyWNnc55bwlPfmiu3Qt7VbWggGRI05JrK4KxSZ9asdosbOqxhaSk3OPBhNiZpUAIkk+e3n3orl/cDojkfxwuWpu17cnvKKmgCz2kWNOhdCc7hbRU32wtEnw9ulvFeiU8X5cNqvf4mL/8OPsOrdMbw7ZSq2f+ws/B9nz8K7U6boi8HLLGKeJQL2TSxfeymAV/DIJkTnIPq9IxGixjLXiqFMippJrjPa2v2KoqbVXpriG3GZq7CJO3y643qubbPS/tZKUZMeVqpg0zaA0IHgFTWpFyjflK15CTV6akoza0LUuASPzfvRAk+NT9Q4BaJFHMZ7amS+wfMYmXspjmwexfzL9+NA/53ZbUBLzolXWBjsQ/OsiqdGjlFs3VXCT6301FhESZkr4eaes/ysi/FXo0/j7HfewfiUqfg3Z8/CP512tp1shKhxv4hkYfqtwDXn7sBz/Z8EdoziGsNT5xxS754SEDVm+NzpjaSoaeupPskbqyRqWumlycdDLDbFrZpe7Y4crWyxQU0qzm8/mYe/Lf9Avz5eW/gpsJEnb9B5jkYxd6H4hq3ysOWaLMA5tu/PkTk9NpxWG+tgVlHUmG/QRjX6m6aZD5Ud/vnV++Lnsjpf+Ml1oKQ5AWOWZHBRqz4eZv5AaCanSZQjGOt/M33zXifewvswujn93iN/rlBR4GrtxQoPq5HmQWcJofrmcDOeGsOzKV8QiuKjQvgp5AUNDJjMK/rhf34BXzkxjt999wg+mjoVh6eciv+p7wIcnXqKu4bAeITn2aUY3QNgf+rNW94/htlIQ1LhH99ciRE1Sj5b5rWhpyZMnSVaR6CSqGmdOY2aG5v20Wrfi2GGYpxZ+baM/eqiRr+lIPvTuEFhu4WkbgLq54e2ihsmii2Bjde8IbF3Tx8WFr6gTU921pL05Jee5cOg3vwwkqQLPEPMqoqahkBIb9qkP42DTHXPj2Hv1hEMrlJzmXyfO1z7ed/Cnq3CeKu3wlTX/OtDyW0jGT4KrqHsWdnPdF7E3+oq3PBTmdUgavIvnbTc6PLNYf/6CI1HJuayeSrmrrg5k7/wWMNuMqE5FEqxtx3trRlYjn919cfw3296EGe9M4YPpk7Fz69dgn//ytvhr6GIGA/3PMvsRuaZtr3QBSebeQHCvP3UeKE0xbS2n43tw97jCzAov2DSOx4hYR40mgVIwEqga0VNT46XzQtSSFDsyZ63r1Mhb1j7LGFLE4mA7YUhMq/m9I8+whd+PYo/Ojma9Hhsyin44jkfx141GXgisaCtJDCBCVDUtHPwLJuk37XcTuN6pC2Kmh4ZyPZ2w5Yw683Ny8xb/P67WP/OG7j4g/cATMGzp56B/6Xv48Vk4PZ2h62RwKQlQFHT5qEvhp/iv9yrzaZOzOYoaibmuHXcakv4yfNvgZnemQ8wBd88ayY2nJF8XSd/SIAEOkSAoqZD4NksCZDAxCSge2eAN6eegnXnXIh/Nr8peGJ2j1aTwIQmQFEzoYePxpMACbSLgOmdEe0+/rFp+Erfb7XLBLZDAiQQIEBRwylCAiRAAgECpnfmfUzBv5k2gEdP6yM7EiCBLiJAUdNFg0FTSIAEuo/AH598C3+c3WwSycC/mnoq1p0z2//dM93XDVpEApOCAEXNpBhmdpIESKAsgYs/+E1ys2nx+7/OHp2Cjaf3Yf3ZA2WrYnkSIIE2EaCoaRNoNkMCJDBxCPzRyWPJd8+c/tGHidG/njIVfzFtFoY+5vinDiZO12gpCfQ0AYqanh5edo4ESKAMgaJ3Bhg+5TR8LvRPHZRphGVJgARaRoCipmVoWTEJkMBEIqB7Z9J/SfvBM87B/3XWzInUDdpKApOaAEXNpB5+dp4ESMCWO/MupuDPpp2P7aedSUAkQAITiABFzQQaLJpKAiRQLwEzd0bcbnrl1NPwx9M+zttN9aJmbSTQFgIUNW3BzEZIgAS6icDMDz/A+hNvYPl7JzSzNpw5A//+zPO6yVTaQgIkUIIARU0JWCxKAiQw8Qn87rtj+MqJo+jLbjYJ78xJAP/btI8z3DTxh5c9mOQEKGom+QRg90lgshAoememAFM+wgunnIE/nXY+w02TZSKwnz1NgKKmp4eXnSMBEhAEbN4Z4CP86Izp+PaZ5+HdKeltJ/6QAAlMbAIUNRN7/Gg9CZCAh4Ard+adKVPxl2fPwpbT+GV6nEAk0EsEKGp6aTTZFxIggZyA3TsD7Dn1dPzv034Lh6eeSlokQAI9RmASi5orcNsXV2L22D48uGE7jnbDwF51K+5dOto99nQDE2nDwHKsu2sBznl9CPdveqmbLKMtXUZAJAB/7cRR3PLuWMEyhpu6bLBoDgnUTKC0qJmx+EasnneWbsYbu7DxqREAg1hx+xLk/9xb/vdqVl+59vOY/4vv4pEXhAC5GqMPPYChIzF1ZYJFK3oYW77zKF7M/0ZRE0Oya8pQ1HTNUHSzIcvfO5lc1Z754fuKmVMwPmUK/hXDTd08dLSNBGohUFrUmK0KkbMMz2Lz7uOYc/1aXDE+lPw/MB1Lbr4W+NkT2HWsmq1Xrr0HAzuEkBEC5FIc0ESJr86yIqiafbU/RU9N7UhZ4eQgILwz4pq2CDmZP/tPOR1fnfZb+OUpH5scMNhLEpjEBJoUNcIzMxuvPfw0XgWQeHHOfwNbfroHx2YswpobpuGl7LNSjMXhvuoC6yNv7/kxNmwLBYv8ombmintw96K+tH5rOMPw9BRCVDOxct2dWJhVAeheIOFhWn2hNH8Me2M9TJmo2TI8iNWZfcX++mwL2R363DFKyXhA93QV/qbXrdmdeFn68dx3XsF8EfITzRhMtTEBcGir8NCl9qg8bePve1Z8dgsex3P9d+ZjotZdal6ycFcScHlnxO2mfzhjevJlerzd1JVDR6NIoHYCTYka1UuTWzb3OtzxiZnAieFU3FQ2WfHOlPZgxHlqksOw//lCjoY4RK8ZdYmnTNAct+d2JHXOHcnzYtIDd8wIffnEwwUNoZWIgUGM5KIoFQ59VmGX2jU4LO0u2unvl2+g0nahCA2dndm2UV6GjiAFnu1zIXrU8GDRHqv9prhKfu/LhaQUPFIMmeNTeXrywY4TsHtn0qvZY1Om4OtnDeCx06d13E4aQAIk0D4CTYga4aW5DGNPKuGlRNAAOx9+GseT3JsTyf8LL075n4aoOeIQH+46LTk1loRgn6hZPd2RQGzzWuSGFA9/ID3w+3c2PA9OuwviTRcL3gPZZlfuIUnFQuLxcPUrMEBFEXMTsDnLcRLtrAEeUxKutfKZqBkzvC+5cLR8bjOnKGpMMZU+pZYrjLHBpPy85BPdQMDnnWG4qRtGiDaQQGcIVBY1Sahp2stZgrAwXuTQrETfgU3YNpx2Rs+xie+gHr5RnzOTfV11NuepkUJEhpfUcIX/Td/WriFqcq+FtF3pk8UjpR7QCRc4bv/YvFmFA1wPm5UKw6h1mSLGFS6Uob0YIaHW4biR5hI1pmCkqIlfaxOt5OkffYSvnThizZ0RfWG4aaKNKO0lgXoJVBQ1Fi9NQcQURU4p05VDesAbDrLV2qyoUeo0vQjeUJjNU2P7m4OEw1MjD22XZympLSrvxdOv4OA0xNn2c9M8lTy3KRQejBE1Svsuj1Kcp8bi3VJDjCVtCWJhgbYRWPz+u1j/zhu4+IP3Cm2+O2Uqvn7WTPzn0/NEt7bZxYZIgAS6h0AlUVP00sgO6Ve6TxyUN6EqdFgclJe8kuS7NK52x9ZTo6iBKUp8eS3FEE+pHA5THJhCxRumMe2yh2YaBEuIreyhNOn2eYzMvRRHNhSvx9tzfQCUFBIuZracmkLOksGM4afYNdO95YR35gu/HsUfnRw1jBT5Mx/hl6echj+bdj5vN3XvENIyEmgbgUqiph3WNQ6jo/E5KblhPlFj3lzKHspvQRXzcYI3kLy3n2JDZtLbot76sjxrhq+0UI1hu3azK6ZfoZHN6oi5MabeYAqIGvP2kn6bzJLsXtC4AAAgAElEQVQfBUAdE/15/bYZRU1oTLv7c7t3Rv47TR8lnhmREMzbTd09jrSOBNpFoGtFTbsAsB0SIIHuIxDyzjDc1H1jRotIoBsIUNR0wyjQBhIggZyAL3dGFGK4iZOFBEjARYCihnODBEigKwi4vTMN8x5Lwk0zMTZlalfYTCNIgAS6iwBFTXeNB60hgUlJ4OIPfoN/N/7fcPkH7yr9b+TOiHCT+GbgfzjjnEnJh50mARKII0BRE8eJpUiABFpE4I9OHktuN53+0YeGoPko+V2Em746bRbEl+rxhwRIgAR8BChqOD9IgAQ6QkB4Z8T3zix+/9dG++lVbfHDcFNHhoaNksCEJUBRM2GHjoaTwMQlYPfONPrDcNPEHVtaTgKdJEBR00n6bJsEJhmBGO/M4amn4st95zPcNMnmBrtLAnUQoKipgyLrIAESCBJw5s5M+UhGm7DltLPxr8+exdtNQZosQAIkYCNAUcN5QQIk0FICMz/8AP/3+K+8uTMi3PTtM8/Fj86Y3lJbWDkJkEBvE6Co6e3xZe9IoKMEfvfdMXzlxFH0aTebdJNEuOmr087H7lN5u6mjg8XGSaAHCFDU9MAgsgsk0G0EhHdm/Yk3sPy9E17TGG7qtpGjPSQwsQlQ1Ezs8aP1JNB1BGK8M8Lob5w1k+Gmrhs9GkQCE5sARc3EHj9aTwJdQyDWO3N06qn4M4abumbcaAgJ9BIBippeGk32hQQ6RCDWO7P9tLPw1bN/i7ebOjRObJYEep0ARU2vjzD7RwItJBDrnREmfPvM8/CfzpzRQmtYNQmQwGQnQFEz2WcA+08CFQksf+9kkgw888P3vTUw3FQRMB8jARIoTYCipjQyPkACk5uAuJ4trmmLkFPo59mPnYkvTzuf4aYQKH5OAiRQCwGKmlowshISmBwEYr0zgsZ/PLMf//HMcycHGPaSBEigKwh0v6hZ8Tl87caLMljj2PfDb+Dhg9mv834PX/r0Ykx7/Ql8/ftDXQG080asxGfuuxGzx3fjR3/9jxjuvEG0oAcIlPHOiHDTV6fNwrOnntkDPWcXSIAEJhKB0qJmxuIbsXreWXof39iFjU+NAJiOJTevhPz4yM83YVtTp2p6QOOJ+/CDbRasFDUWKB0SNZf1Yesn5SH2G+z8L6P48pvxS+EvfnsWPvXxRvlXd7yBP3w58vkm245sZdIWK+OdEeEmcbvp6NRTJi0vdpwESKBzBEqLGtNUIXKW4Vls3n0cc65fiyvGh5L/Bwax4vbZeO3hp/Fq1f4loqUfz67/HrZXrYPPtYHAafi7T5+OvT8cw18B+P1/0Y97r3gfP8l+DxmQlJ/+Dlb903tp0USkIO75887ET37nDBzIRFTZtkO2TebPy3hnBCeGmybzbGHfSaA7CDQpalThIrw01wI/ewK7jqWdEyLnosNNeGuS0BPwpEXULP/setxwYdrO+O4f4Fsbf6kT1cJWljK+z6UHSNYYHd6yeZbMv12M2//8M1gwLatcrTsXcQdwmQghpZ3Twkhz7/gK/mCxfBg4pHixtM9sNvv6JXhcfgA/emtZXr+Va8y8NYRG6BHhpVl1/E186r9+kBZNnj8VWyNEUeLhwbGGIIIQWDOAMp6ekIGT8PPF77+b/COUoZtNAs3YlKn4ct/5DDdNwnnCLpNAtxFoStSoXhoZeuo7kImYGYuw5oa5eKdCCMo8uHNoloNaiJtr3zJFjRASy3BMzb9RySeCpl/Pz8k/N0VI+vt0m3CyjGYitqDk+BjeJv3zVODMOZjZn4sOmTtk2BLpuUr4nfuMkWcU6JcUeZKxR1AGJ3FJUZN6Zs5EGnI6Bd+84zwsHVOFiqvFtOx5e2WoKnt2GjD+kiKSggazgCRw+kcf4Qu/HsUfnRyNgrL71DOSbwdmuCkKFwuRAAm0mEATokZ4aS7D2JMNzwwyIZNk3JwYxsHxuehrkadGcnGLGpcQMYSEATgRBPMO6km24oBfNhqXeGsID1HfbXgo8yQJYTEfL6ueJ7XuTNQcV7wvWv8sn9vmh03UBPtV6KMqDO/C/O/fhMI9lvG92PWlv8FJzYgyokR9MPWwzBHOqWhB0hA1e+ekOTni2b/DOXo4q8WLqFeqF96Z9e+8gYs/yMKAgY79pzP78W3ebuqV4Wc/SKAnCFQWNUnC8LSXswRhG4tiOKo0sQhvgV3UANBCLa8pISx/8rHVy1FG1CAVTTOeEcnN4v/vAjZmN7bM8I8EIkNMMZ4YNWzmuOHkFDWm90btl1fUxI9cEg7qG8P9G0/i72MfSzw1p2bJxZm4GY+pw+6ZKYSzYu2YpOXKemdEuOmrZ5+P7afxdtMknTLsNgl0LYGKosbipTG6GBY9EUyaETVK9Wk4azQTNqroKNpg82hYvRwe83NRsWUAX7oDeERerQ6JltDnRptJKGtG8ep2rKdG61cNnpr0BtPJuATfvC+pMJn/uhouis+LKebUmCGpiHk2iYuU9c4w3DSJJwu7TgITgEAlUeMULHOvwx2fmJl2O7/m3QSFmkQNjHp0kWPYVwjx2D07d9/3t1hzETDy+Bew3nRJiDruAJ49OA+XHfmGch09SxI+5vhenZKixiW2rN6mUL+a9NTECBp5bVu/rm0JV2mem2x8kjydPkwzPThaPk7Jm1NNTM2J/mhZ74zoL8NNE33UaT8J9D6BSqKmbVicoib7LhbDkPy2jnGzCTC+tA+AmYys3fQxwkS2W0BeUQMgvZ2lhr2kscbtJ/X2VkDUFBOo1fqL9SYtFm5XLYa8O6X1qxlRIwWHOTH+WU/2tYsa8VAjnyatwvI9Ny5RI4pr31NT1lPUttncNQ1d/sG7+Hfj8bkzItz0r8+ehS2nnd01faAhJEACJGAj0N2ihmNGAiRQK4E/Onksud10+kcfRtUrwk1fnfZbODz11KjyLEQCJEACnSRAUdNJ+mybBNpE4OIPfpPcbFr8/q+jW/zRGdPx7TPPw7tTpkQ/w4IkQAIk0EkCFDWdpM+2SaANBMp6ZxhuasOgsAkSIIGWEKCoaQlWVkoCnSdQxTvDcFPnx40WkAAJVCdAUVOdHZ8kga4lUNY7IzryD2dMx79nuKlrx5SGkQAJhAlQ1IQZsQQJTBgCVbwzItz09bMG8NjpjX9TbMJ0mIaSAAmQgEKAoobTgQR6hMDvvjuGr504Gn2zSXR7/ymnJ7ebfnnKx3qEArtBAiQwmQlQ1Ezm0WffJwQB8UV5vhtIMz/8AOtPvIHl750o1R+Gm0rhYmESIIEJQICiZgIMEk2c3AT+9ORbzn84UnhnvnLiKPoiv3dGkGS4aXLPJ/aeBHqZAEVNL48u+zbhCYhv//3e24fx3/VfrPWlqnfml6echj+bdj7DTRN+ZrADJEACNgIUNZwXJNDFBP7Pd96A8Mb8zow5+bf6VvHOiC7+59P7koRgfpleFw84TSMBEmiKAEVNU/j4MAm0joDwxvzk+EiS+Pvlaedjz6lnVMqdeTe53TQzETX8IQESIIFeJkBR08ujy75NaAJ/8OvjSb6M+BFfinfxB++Vyp0RzzHcNKGnAI0nARIoSYCipiQwFieBdhHYePy1RMhU/WG4qSo5PkcCJDBRCVDUTNSRo909TWD5eyfx/44frtRHEW4S3wz8D2ecU+l5PkQCJEACE5UARc1EHTna3dMEvjn+K6x+753SfRThpq9Om5V8qR5/SIAESGCyEaComWwjzv52PQGRIPxPx4ZL2/lYcrtpZvI9NPwhARIggclIgKJmMo46+9zVBP745Fv445Oj0TYy3BSNigVJgAR6nABFTY8PMLs3sQiIfxJBXOOe+eH7UYYz3BSFiYVIgAQmCQGKmrIDfdWtuHfpKB7csB3pZdsu/BE2rrogM2wMex96AENH/HbOXHEP7u5/Hvdveql6hwaWY91dC3DO60NGPVfgti+uxOyk5gh7bIyddVc3t91PXrn287hm9MfYsM09c0QejcinifkRguZ/7rsAR6ee4i0eHNuEbT+e+86jeDGmYVmmwjwLVZ/Yuij7Pp3CPAo93crPS87hVppStm4xvmuAx7p5zyrbJ5YnAQeBSqJmzvVrsXSWrPEodj78NF7NflU/O/LzTdhWPjUgN1UcAvN/8V088oLYUK7GaMThLB4Wz62+UD08Z2LlujvRv1PU1eRc6HpRk26+2Fqur8GDLwZbUHhEjuMkFjXfGzuMa39zMoZ2KhGnTIXIpfn/Tp9u/6cPEuEBbPEJlkqipto8i+2Yez7WuJZjjdHKRc7hSnVXfEiuu+zxQ5a1n+yJMF82KrbHx0igiwmUFzVzr8Md88ex5ad7cAzAjMU3Yhmexebdx5P/Xz3tZWx8agTAIFbcfhnGnnwCu0TBCj9Xrr0HAzuEl0FsJJfiQOSbZPJGPH0MGH48eyuucSPsdlFT6YACahE1wTGOPBC6nXGwn/YCIU/NxR/8BhuPi7VT7ec/ndmPh04/J//nFIBI4VFlzlR5pkS3KGpiYYm97SZgc+aNTURsn8U7W+MeGGsay5FABwiUFzUzFmHNDbPwq0SsTMeSm1ei74DwyIj/vxb4WSZiknJzgYNDieAp9aO5tfUn397jd9+L0unhsQ9ji/ozIaQu6OLiVjdQ8f+3YARjixZgNg5jy1ZgtQjlSFd4duBuGR7E6sxNbtqkudBFHYoYkwfbY7gpd7Pb3qxcvFIvlPzUEsqJeTO3VC4ZbMHKvP6GXX5mkrm0yz1GblGjMxMuiH15iE/tc6Fu0d9LXsGDo1fnPM0yOrO08zHzKBUFl+LAQ6O4RoTVxIOKXWa/i6G1lNtC5V8n0NtVQxrANQ98E9ccDIeenv3YmYlwEf+l//8xRcg0BtcrVAtrTJ+nvjmctOCbZ0bd6vwu2OQQRzbbbeMYPZY2ewt/08cjX/PaerHP4XC/jLlgCa2lzBEVLnbvpx4h26MvC6XOFhbueQLlRU2CRHhhlmAAJ3Aw98SIv83GayIUJbw5nwAOHjwL52denPIkFe9MycWoCoflbz2AR14oJ2rSjeVxYM2dWIh9eHAzcIvMOZAbttyUkk15ECMyNGZslMlGNXekeEBnz5uf+ziZZdNNcCwRTUfUXAS1ksi8BHmI5Yeu1o+wqJFN+r0RDlFjHi6O8bbWbY6Hra48/JIdLMdj3fDykJMHvn5g+MZD5KaYLn/d/tSWweFUpJ/+0XxsPfkkzvh1I/Q0PGcO/tuxt/D8e37xYp8znjdzc86awsIzhxGcZ1fgtrXAIzI3y1aXmrtVQtSk/azqcSge9qYQuXLtrcAmmVfkEgfVRI0+F/Sxl+PXclGTiPT4MH75PZtPkEDnCVQQNamggciXOZZ6Y95JcmcyUfNzYGkWnoISmirf1YaoSQ7sEkms+eGx//IsQW4/rspzasKemrSto408nCNKImXhwNU3qEYekOyxvpEkm9v0hhcC0W582yZr2eCb9NQ0EoXV9lopahx9sCRjO0WNVtbCW8klKCMiU0+Nfgg0bJhpyV1S+qLOmWwqaPYbyZsi9HTH+XNx7sXv4f4d/4zDUxcm9fdFeCbta8t9gBU4GnMwNIeDnhqPZyPs0ciki3PNVxU1ZojVCNtYINoFehVRYwmfl3xRi90/C/uL9mB1drHtsxwJdJpAaVGj580AyHNsRjDn5pWYh+E830YkDV8xXj785HIzwwjluOCpm1Gal5N6XdJE4bpFjQx3iTduFMINqY2NMFEor8I9IWybaStFTbx3S7W5vKemtaJG9Wa9mL3lS+9IePGFRI351ltC1LhCrKpnTUsA1cNDQdtNb4zygF/UFENm5hwOiZri+m3M/06KGu0FwnYjyDImxTBlBVFjJPLmQ2GEMoNjGiigz3V74er7T7PW8XkSaA+B0qKmIWIaicIyOVhNGoaWe1OhM8qbzEDEVVjnwZrkXIxi7/QFLRI1/sPf7Hn1TcXmqbH8rVZPjTy0J66nJs39kNfbizkx/pkZEjXmLTNlPEKempJv6jEHlt6Xqp6ayLd5xzwr2qnb0VFRo4Sutp8rcufkRQIgFTwLMKbcHKrNUxPtja2wT2aPxIWuIse2uhl8kgQ6TqC8qAGgXek+0fDMAGni8Lyz0n41daU7SwAV4ZCiO9zPrZi7cBMG0YcxxVOTv60bORmNTTcy/GTLGcjyXGzf+VFd1GQ5GkroyhpKqUnU6HUbOQBmHovPC6ANlf2g1fIN5Fut5S22fPip2U3cJ2qOpjkzzvGw5N8s6lMSlNPPo8NLpcfV3Xd9bM28oSxM45nDPk+NPYfM8NTkOWbFtuV08SU5m7lKZXZRUe8teB4jcy/FkQ3K9/JYc+MusCSUezw1zn7F5XLFCZNib+OfY05NmbnCshOTQCVR046uWsVF5HfMmIefTILNb2Go7uCxfUhuMmU5O1GiRn3zt4TEZHs5J+MmT+gL2Hx8dde+JSRR+vBLW/PZnBTwMJNXh9Mv12v86EnHirckKaLe3JKHm/j7YWwRt43yLwtTP3PU7cmpKXhqkqaVnCbvZPaLGvGodzxUL9HrQ8kNLc07kF25Vrnlc7QQCon40kKjL+78ITXEJOp9Hv136V+ZEJwPznmmj9fbe8QtxEHlO6aMtreOYHCV/OI/R+jL+2WOsTfZJJzMPksCvTaWY/uw9/gCDMovS7SGC4vfhZXedBvDXq1fyQoL3ISTa7Ds7Sf7+rDO8ZLewXbs82yDBOom0LWipu6Osr7JSMDmrbDfPOlNOraQZW/2lL0KEWjWaxmqn5+TQHcQoKjpjnGgFS0hYDnULbkTLWm6Wyqt6LnrFvNpRz0EmgnZ1WMBayGB9hCgqGkPZ7bSKQKWsEGZLzvslNl1tuvLT6mzHdbVpQT4bz916cDQrFYQoKhpBVXWSQIkQAIkQAIk0HYCFDVtR84GSYAESIAESIAEWkGAoqYVVFknCZAACZAACZBA2wlQ1LQdORskARIgARIgARJoBQGKmlZQZZ0kQAIkQAIkQAJtJ0BR03bkbJAESIAESIAESKAVBChqWkGVdZIACZAACZAACbSdAEVN25GzQRIgARIgARIggVYQoKhpBVXWSQIkQAIkQAIk0HYCFDVtR84GSYAESIAESIAEWkGAoqYVVFknCZAACZAACZBA2wlQ1LQdORskARIgARIgARJoBQGKmlZQZZ0kQAIkQAIkQAJtJ0BR03bkbLAKga/dtz742NfX35eXiSlvVqg+Lz4TdZh1mmWCRlnqMZ8pY2tM+6bdIRvLlg/Vx89JgARIoFMEKGo6RZ7tNkWg7EFcRaDYnvEJIZ9NZT+zlY/tc0w5tUxM+aYGiw+TAAmQQJsITA5RM+/38KVP9+PZ9d/D9jaBZTMeAtf9CZZ8bjpe++y/xVu2Yr//l/jk9cex60t/gz+L8NCEPC5lvC6uwz5WFLkEQt2ixubdkV6cWJEiy8WW55wmARIggW4nUEnUzLl+LZbOkl07ip0PP41Xs19nLL4Rq+edBbyxCxufGumO/veSqFnxOXxt2Sh+9Nf/iOEW0f2L356FT30ceHXHG/jDl+tv5Nz7/hYXjX4fu779M0vl/xKzv/VZnP3UF3Dg74shIPlAjHioGtYxD3vX7zYyatkQOVWEhMrKz13hJ1OM2eqLeTbKjvPOxE9+pw/Txsdw/8aT+Puoh1iIBEiABFpPoLyomXsd7pg/ji0/3YNjAISIWYZnsXn3cQixc8X4EJ7BtVg97WWKmlaMX6tFzWV92LoQeBVnAntbIWruwvzvX4GjLi+N8OL8j8CBL/0NTir5KKpAEYezTTyofze9Mz5Pi+uzZkJArqGPrTO2nCnyQs+VEXqi7qIQOgXfvOM8nDd2EnP63qeoacUaZ50kQAKVCZQXNTMWYc0Ns/CrJ5/ArmPTseTmleg7sAnbFLdB4q1pStRcjNv//C5g4zOY8ekbMTvp3mt4Ug0fJd6XxZgmu/76E/j694caIMThf+NFChj1eVH/Z7BAPmw+G8RpPG/Ytvyz63HDhbKScez74Tfw8EHxe/rcjGfuww+2pZ/PveMr+INzn0ltFzZffgA/emsZ/mBxatz47h/gWxt/CZj9zW309MtkFuzXafi7T88AdryJNxeeh/NaIGrO/NNvYkn/duxY/5DVGr8Xp/FITMjElzcSk1NSRggF0WYFQqLDFClqvaEQlhQhsaEyX1umKJRlf/9f9OPeC3+N+/eeinsXUtTEjjvLkQAJtIdAeVGT2DWIFbcvwQBO4GAibnRj6xE1QnRIQZCKgTkHswMeK/GZ+24EnpDiIP19uiYA5uFVKSaM8FMiOiBFkFl3CHwmaI4ZIip7LBEp8w7m4aHk98WjmSCLEDVCiEmRlQgz6GLO46nRBFKoG5bPk7ATjmHVP32Qvo3XLmqEl2Y53vnel3HoaYsBnlybWE+NKQJiMdhCM7GiSAoA2ZbrxpQvZFbFTtPr4sqpCYmh6LBUEnY6Awf+yyi+fK7w6FHUxI4by5EACbSHQAVRkwoa/HwTth0TXpu5eEf8f+2eGrdHwxQOCSrlsJ/92fW49i0pgJB5OWSisBBA8/Gy6vUpE9KxCY18rEyxJT5QhUyEqNHyZUR9y3As9/To/TRzanQBZUygRDAsFEEl/Wfk8dRrkhxYp2LrD8fwV8hCDHWLGiUBWISWzJ+QF6fZJRHj3ZFtSMEgQ1q+tkPXvqsk5MbYGpNXJAVXjHAJeXiE6F11/E186r9+ACRhSoqaZucknycBEqiXQGlRU/DCGDk2wry6PDWuMI3VIxEralxhnPHdUcm3VkGliRpDhLRR1Agz1NBXHroKzhlTxLRC1OgJwEWT7F6csjkgot4YIWJDYno6qng4YoVGaEiaETWqkAnVEx1iM0UMRU1oCPk5CZBABwiUFjWwJAqb+TNtETVKiEdwU8WG11PT7E0or1fH5qlR/9ZaT40+f4yQnM9T8x9+kt5msU3Aum64lLjGbfPiqKaFDmpbN6rkspQJP6keHteX+LUi/BTywJQVZq4+yxtxNratuiXXgf2QTZIACUxwAuVFDZDccsqvdJ8Y1m5CJde5lZ8jRmgqjlfg8M+8LceNnBqZY6N7U9LDfXaeNOvPicnt+/2/xPdvugh47XF8VktqNcSC0aHEUzKj4fXRbTHyd2Qys5pDEwo/JX1X8oWcQMvmCqkV1e+pKXON2+xSGW+NKzdGenB84sPWbpX8GF84KlaQxZQLJTuH6mjqc3pq4rYyliIBEmgrgUqipvUWBkSNMMAII+mhFvV2kkg2Freo1Dwa8/aScstIds4pakQBKZRkYf1mln77yXNra3w3njw4Dzeot59CokZ6pbLbUY1bYcU+5QnHpQesblFTPUFYmO46vEM5ID5x1Ow/NxATZoop4xqakOBQufi8UC2zgaKm9KriAyRAAq0n0KWipvUdZwvtIxBKAA5d425W1KhJv6qnRv5/KIRjI1VFSJQhHitqTA+UKQJjfo/tXxn7WZYESIAEOkGAoqYT1NlmKQKhA14NT9m+pTfklSnjzbC15RIOoU7WldBsCjXf9fRYliFmob7xcxIgARLoBAGKmk5QZ5skQAIkQAIkQAK1E6CoqR0pKyQBEiABEiABEugEAYqaTlBnmyRAAiRAAiRAArUToKipHSkrJAESIAESIAES6AQBippOUGebJEACJEACJEACtROgqKkdKSskARIgARIgARLoBAGKmk5QZ5skQAIkQAIkQAK1E6CoqR0pKyQBEiABEiABEugEAYqaTlBnmyRAAiRAAiRAArUToKipHSkrJAESIAESIAES6AQBippOUGebJEACJEACJEACtROgqKkdKSskARIgARIgARLoBAGKmk5QZ5skQAIkQAIkQAK1E6CoqR0pKyQBEiABEiABEugEAYqaTlBnmyRAAiRAAiRAArUToKipHSkrJAESIAESIAES6AQBippOUGebJEACJEACJEACtROgqKkdKSskARIgARIgARLoBAGKmk5QZ5skQAIkQAIkQAK1E6CoqR0pKyQBEiABEiABEugEAYqaTlBnmyRAAiRAAiRAArUToKipHSkrJAESIAESIAES6AQBippOUGebJEACJEACJEACtROgqKkdKSskARIgARIgARLoBAGKmk5QZ5skQAIkQAIkQAK1E6CocSEdWI51dy3AOa8P4f5NL1lKzcTKdXdiYV/2kbNc7WOGK9d+HqsvHMPehx7A0JH6629VjTNX3IO7F/Xh0Nbv4pEXWtRKMm79eO47j+LFppu4Ard98WqMNsVZ1LESs8f24cEN23G0aZtiKwjPz/B4ZLZnTb6958fYsK0dPegUs7Sjkkv622FsUeZSmFns+EyUcvocaOnanShIaGdXE6gkauZcvxZLZ8l+HcXOh5/Gq+LXudfhjk/MzDt85OebsG24ev/F4T3/F+IAtB0uYtO+Cdj8AIZgOcjE4bYGeGzDdkAcpv3PO8SJw76AqEk2t7kjbT6oUlt7UtRcdSvuXTraPE+KmmxCp6Kmf6dbQIYO6GSewSXqq6/r8JNNiJpmxz95fhAjDiEbYhbu20QtEZ5PE7VntLu3CJQXNUK4zB/Hlp/uwTEAMxbfiGV4Fpt3H9fJzFiENTdMw0tS8FTgduXaezCwQ3gjxCZ3KQ5ob99ikX0SRzY8ihcVAZO/R4q/ffJNbNj0UvLmdQser/UtU2z414y26821AryJ9kjPippODUSzh1Czz3eo382KmrrmYYe637pmJ+h8aB0Q1tylBMqLmkSszMKvnnwCu45Nx5KbV6LvgMUjY4ifUv0XG8uqC6yPCBf4Y7gpCWPYfg5t/TFGlyphIa2Q7kp22ZR6QtJP7S73dIEPDpcVNcWNIXnzU71IRt+19qX3KLHM7Iv0XD2P/rtWYratjPa87H0cE8ATzshsbrims7KQIRfVhW2Ezaw2mf0LhEEK8yW2TxkDJ/PMQ7h1BIOrFuAcUdwII+mhCr1v2meF8GQm1B8axTUizGmpu9SaKRT2HUKe8cjrSedCeZwAACAASURBVMugSqhQ46kyMecFAGPu+JkJ4/S50BgP4+95P8qFad0e2DAzfS6gGGb1rO3gs67JkNQJLUSWMlX/Vm79+PY8n+evufnKp0mgHgLlRU3S7iBW3L4EAziBg4m4aRgjPDer550FWD4rZ7LinbG9PQXCSw3vDIJueJ+40b0xzW6cIVETmcNhfRuVokNu4qbwMn5PNr6+6LwcPRRRFHXppjyWbK5HnKE5T/+cb8hmW8Zha4YLyr6peznI8ZYiqdj2bZfvxyNZnonrQCwI12TCBeout1gspWPerC3jESUyPcaZ4+E4YPuS/JyZTuFkZ5aGXr0e0rLjn3VFfZFRe1c84B1zONSub56ZjEqtzaL49K9Vs3zknpO91FDUNL0wWUGLCVQQNamggciXOSa8NnPxji13RvPoVOlFQ9Qkh6SZE6OImgHLRtcQNWLjrJbs6d5AW+WpSTecdMP3JGR6RI266WgHQyFXoMybuCX8ZxEhKa99GFs06EiurSBqLKFFtV+FMQodLtpUDI1j0V7voepo2y1q9HkZPLBLLaOKoqZJT00x1GuxI+M0sqcPCx25bj5Rs3q6J+m61PgXgYZz5XyiZgHGrJ4t3zyzf6bOBbvganigdFaGfYH1I8V1cM+hqCm1+li4cwRKi5rEEzPtZWx8aiS12hlm8oSmAv11vTWlIZcdGFBvHal1idDAZuAW6c432il7e6P9ogaAN8SUdaiKqMk8A/nmZXNbu8bF9fZeuNETEmUVRI0rFJmFc5oTNSFhFxI1Rkgu4VcMfU0mUeNau+atGdWzZ7ul5hI1Zhi0cBunU6JGDL06V7W14ZtndvFZSuCqfRY2XPJK41JEYP0kUzZmz6Go6dwpzZZLESgtakwRUxA5svlmE4UVT4DLE5N6b45awkvKRnGk+hXfjogaZficG38lUVM8gKOvZ0YdFJL5ELDKlYtRUdR4bkU1J2pC3gy/qEkOcNVrQE9NODwkD/+lo9gyPIjVjhuEblGjLJDsMNa8I1Fz1b1HVvbUGFXqc8M3z2yeGv1vIU+NFHrCS3vgEnljNDOoZOKzW2yG1kqpc4eFSaBlBMqLGgDale4Tw9pNqDSfRvwoV72rmK+8cTSudjcq0nNmsqvd+Xe2yKTZ7Lp3drW77DdstErU5AnG8i3K9R03Lm9KFVFTcnPThywTRMfd13u1w8DpBfKImkJ4TFrg9/7oh5CZpxKeeH6PQYSoya88S9FYr6dGHmjRAjTvcswh5MunCHix5Nu96a0L5oOo9brDMlGiJvM+6snMFe3OuNUlasx6fPOs8FkZL6oc72R99+FtjCRfY9HY60LeU2ONONuOmU/h9cYSJNBqApVETauNEvU3NjWbJ0ZNGLTlzCib9UDZ7z+RB6PeSz10FcrF8BBSXb1j+9K3VZlXUHAVe27T5E3IQzSUhGwLlVhuaDhNLz4vmaSbMpSkY+OAt7rAi7dS9BsgqjgojknhplVyGU7UKW5/mdf//TNWb1e98RYIPxlhuUN79qFvkfziPztv5AI2FNpS3rRXXeC4hefrl+cQihqPJsRBoX490Xq2KuKzsulcSpP68y+0lN3TmMmbfemH1pCy1r7jtp3jyxCdoibAzJxDzjCkcmtTtV1/vtyNrZSET7x41k9gz1FeIytfuGjHecE2SEAS6FpRwyGqmYDNU1PljbBms1hdgIAtxBIFjW/WUZh6ppDP61ZHJzmf6qDIOlpPgKKm9Yy7ogXbG2ghJ6QrLKURKYGGp6d86KnxPK/gTo751Ppvf6aomRwzaeL3kqJm4o9hZA8s4ZC2/3tEkaayWA0EjPFu479NVoPxrCKSQJ5E3LK1rIeuqgnsyM6wGAnUQICipgaIrIIESIAESIAESKDzBChqOj8GtIAESIAESIAESKAGAhQ1NUBkFSRAAiRAAiRAAp0nQFHT+TGgBSRAAiRAAiRAAjUQoKipASKrIAESIAESIAES6DwBiprOjwEtIAESIAESIAESqIEARU0NEFkFCZAACZAACZBA5wlQ1HR+DGgBCZAACZAACZBADQQoamqAyCpIgARIgARIgAQ6T4CipvNjQAtIgARIgARIgARqIEBRUwNEVkECJEACJEACJNB5AhQ1nR8DWkACJEACJEACJFADAYqaGiCyChIgARIgARIggc4ToKjp/BjQAhIgARIgARIggRoIUNTUAJFVkAAJkAAJkAAJdJ4ARU3nx4AWkAAJkAAJkAAJ1EBgEoqamVi57k707/wuHnmhBoJtrGLmintwd//zuH/TSy1s9Qrc9sWVmJ218PaeH2PDtqPNtXfVrbh36Sge3LAdTdbUnB3Op7M+j+1rgY2trLsijlrGo1f7VZFpM4/VMh5hA5L9Y1FfVvAwtnznUbwYfsxTQsyBqzH60AMYOtJURZPq4SvXfh6rL0y7XNxf1f13DHvrZNumeVZ9MOvZUyqJmjnXr8XSWdL0o9j58NN4Ve3J3Otwxydm4sTBIWzefbxyH8Xgz/+FEB9lFk8qWhbKtau0nk4gdLeoGViOdXf14znLhtMOUZMsOAxVEE4esdjLiynYt3oWauVFZHswaHNMa53q18SdZ2JtXTNqeUmoZTwCY5bsK4MYqXBIOu1GmX05Zk6VLOPZK0vWZCne+pdfN1dhTgvYtmOeNQW+iT1FmQvlRY0QLPPHseWne3AMwIzFN2IZnlXEyyBW3H4Z8AZw9rj69/K9vXLtPRjYId4CRGcvxYGybxZiEFfBeCNp/WQt31PliY6KmmbYTNzDpqnx6vqNwtK7iWhz3o2JO886KmqaGHOKmqZ2COfDFDU1cm1K1MxYhDU3zMKvnnwCu45Nx5KbV6LvwCZsG04NFF6cK8aH8AyuNcROiQ4kYuQC6wOlwiFeUTMErJJhFtMVWz0EI7wpt+BxPNd/Z+5iPLRVDXUZnqQ85KG32eh8wwUpPTVbsNJRd8zb2gKcI4u9bnpkUhug2RseN9WdqpbOxyrbULcMD2J15v42x7Ep17g2X1SXbcYaSlgpKyvHRGu3wEO+MTXCcZDjlSwihWXe8cZc8tedCfWHRnGNrMcIf+lMsgasNtrHyHw+n4elx0N3g3v7Jeq+5BU8OHp1HuootWY90635eWasvRIsEdEvnbexbvOwj9JB2X7EePhXobF3WMKoiW1zR0qFV63zTxiSc8u8CVtHMLgqWwtm2861Gd5XUm+FZe2Zf8+r8sxT6J9JQfEYbsrnqVwfwXkWNN21x+sPtkbUeOZC0/PMjIIUQ5ihPefBzcAtcr9T1l/1vbJ4bpb31CTjIrwxSzCAEziYiJtssBQvDgoenOBMMAoo3pmqbxkeUbOwT07ydKAGh6Vb2Py93EEvB0c70BVv0cwVt+Kq/Y9mMWizLQAhT82ivjwOW26jMvuR/t4nQnL7Lw8e0OHRC7xBC5GqbuKqB80Yp1L9Mt3qhTFX+rltplO0uUJ7/o0HSA67QL6QvW65GOXGYIyP0a9ko50en/OTzsMxe96EPGhc4zGwHLddvh+PZLlUrvGw9itUd3giBUpUn2d6aNWy9nwtm/0y510EM6+nxrc+vETs+9fC4+kLS/MHNJI6rGGzXFzEzeFkrRQ85+7OBdeeL/wUGI+cS7YGinO8utc6uMdnXW6FqPHW2eTaDKU/RO05yOaKIxwat1f6z80KoiYVNPj5Jmw7Jrw2c/GO+P/hNOw0lomcYliq7G7WEDVHqibIRoafNJAC9hrgMSWpNTSYas+KZf2x0UL5kKhRE4VLxJStB1PhQC4n4PQRLRMW0Jk0cqdkjfHxZOkZayQzW+zIOI3s6cNCR6K1T9R4xURTokZPslQ3pMJ4lToQAuNoHXdPwqdjnjlFjSby4scyboeoOs8sIeyIscttKpQNHHoWZvHhpxLMbPPC0napFwVjIMqEn8w5LLzW3rUZ8sz5hHyJ/c98WSy8JBTqqi5qzC5Ve2EqMQeUBr0vP2XXvdERr2jJBK7Ty5/M0z4l8dnO1y1q9P3Jd26WFjVCrKye9jI2PjWSdll6Zw5Mw+pPzCxO0RPDef5N3KaVvhnI7HD9mZIZ+1VEjSv0FemqtosaJaRjC1uodbdS1JgHeleIGldid1zmv2uu6CE/wL8gs8+tgke3z6y3OU+NW9Skb7WNTaBUAncoKTS4udnGxOFqjppTdd6QqShq4AgXxt54c4ga08OrX1DQmbVM1Jiewi4RNbFr030uBNaeV9T453DQC4QmRE1oj2+hpwaZ3XIeavtVcN2HT2h1TLWwcuk9x95WKVGjhlObyqmxJAprIieztWlPjTIAA073Z2AQqoqaJq4f+z01aigkvdzcSU9N8e2tE56aJjYP+FzjytxQY8mOvIIob1y2WY2pOUcRb/uxC1XbaAsbYxlBH3jLC2xu4bfYlO2E8tQkosZ+qzC8ldvCjPq8jWHWMlFjhnQs+14nPDVh4RBFPi1kW3seURMaj7BtVfeliD2+paJGYWoyq0HUNGo3+1l2z6lB1DiiFqU9NcIU7Uq3wxNTi6i55JU8Lpxe7S6xCETRKqImc6MluSYVvp/F3Oj1xWXLm1iAczQvkFtYlBFABVKFTcHWTjOiJvOw2a6DBxZTyIviHfWCW9MsrfbJnUcRJWpsLtbQG4rr8Ldc2VQ32vCm618Lzbihda+QfOOt01Mj64zzxpk9dXqtvPMsazPLNSm5kxRyp8w5G8PMKSyaOmzMw8U+x5sRNe5niweZNm+Da7PMKJTbr0LjEbO+SnlH867E7PFpYb8NPpEQu34MW5qaZ+ZYFedZuT2nCVFjE7jK3lxJ1JSZilXLNg6Zo9W/V6aSqBEWyyTOhvWFsIOjY+lmp3xJjvdGy2HsteV5aCGw4u2n/Mv3ysSUlbcdefvJ9cVPZW8/meq98MV9EYspxC0sbNTbcnri4mxVNGZs1e8sKnynkXa7Q7l9Yf2yLBnaMr/UzBFWM2+OKN8b4vfUCAJlvDXFMK55+6nxZYjGBmp4iQ7t2Ye+RdLLEehXxFiLnsjxjl1X+vjr69O8Zefsl+GaF3VG38wqhKWNsfAyk9Yb7IzbT267Q7uosV9ZQuXNiBozpFG4/eSaw/mLpW1tluyTa6wce6X07Mi9Tp/DIUEhbXPMs4Dp+l5m7vHFs0Wbh9b0B1P8u0RNsW5tfkeuTYfcKH7/m2WemSFH956jthKzV+r7sHXfyNh1ragJTflu/Tzujb9bradd3ULA9hZX7c2xW3pk2FHrW3wb+hgRZmyDFWyCBCYhgXJJ0xQ1NU8RipqagU7K6mwhhGKsfmKikW+T1UJPHeszRU3H0LPhyU6AoqajM4CipqP4e6dxyw2K6FBJ71Donp5Q1HTPWHTQEvfNXGFUufBwB7sxwZqmqJlgA0ZzSYAESIAESIAE6iDA8FMdFFkHCZAACZAACZBAxwlQ1HR8CGgACZAACZAACZBAHQQoauqgyDpIgARIgARIgAQ6ToCipuNDQANIgARIgARIgATqIEBRUwdF1kECJEACJEACJNBxAhQ1HR8CGkACJEACJEACJFAHAYqaOiiyDhIgARIgARIggY4ToKjp+BDQABIgARIgARIggToIUNTUQZF1kAAJkAAJkAAJdJwARU3Hh4AGkAAJkAAJkAAJ1EGAoqYOiqyDBEiABEiABEig4wQoajo+BDSABEiABEiABEigDgIUNXVQZB0kQAIkQAIkQAIdJ0BR0/EhoAEkQAIkQAIkQAJ1EKCoqYMi6yABEiABEiABEug4AYqa4BDMxMp1d6J/53fxyAvBwi0tMHPFPbi7/3ncv+mllrZTe+VX3Yp7l47iwQ3bcbT2yv0VkpmNzxW47YsrMTv5aAx7H3oAQ0c8HMuMX5mybZ4LaXPpel54fKi5dTSwHOvu6sdz33kUL4paxdqcOxKY4zW1bWWcjenYvo6ss44MZeVGu2dPL9uFCbufle1oE+UriZo516/F0lmy1aPY+fDTeFX8Ovc63PGJmQ1zTgxjy0/34FhFA69c+3nM/4UQE2LBXo3R0OarbFqDwz/Ghm3yCE0nsf63WKPavACMzVK1srsntIdTqw+6CcusJiERO5UL5SLXVZnxK1O2st3NPFiTsKCoyQahzftjM0OfP9vlNndwPxNn7uoLFcivZ+JfrOtVF2j0396jnLGJzYMYyc/oTGTL52sZt7hKyosaIVzmj+diZcbiG7EMz2Lz7uOpqLngEDY+NRLXeqDUlWvvwcAO8RYpAF2KA9lbkf8xm4ChqKllQLyVUNTUyrgt4mDyippqLzjKCDchappuuy1zI3Y2d7lAsHajy23ukKjxehsTUQNskWdwYuMCQAobQ9Qk4ghNekNjp6BRrryombEIa26YhV89+QR2HZuOJTevRN+BTdg2nHlq6hA1FlUo7dbUoWfCuj01wMp1NwGbn0f/XdIFf7gxWEmdqns+beTQViX8pNlnuO/lhrMZuOWuBThHPBylVottpi036peemi1YmatpzS7pWu/LwES1m5YVdd+Cx/Fc/51xdStu7oK6z5rPxypjsmV4EKsXpcaFxzFmRreaWWPzO3CJfIPRxzsZk6xPgDmPQn0w7FdDBxHMdO6qXUWxIspeM6p6L+U8t3tA9X6JaRgZ1oiwu1ZmJeZ4aDQK697sc2Ffaoy3eSDIsdHXZ9gCVwnfeGifFXiE5zB8+5kwyOi3XLvBdS/Dcvn6sOyjIixt2SttB2xciC+z1xLubni6j2YpBUPAqrgzQNuvgnt85g0svQ/XsZ/pdcTvs4EXf1PU5PMiEzqqqBmomG7gmGfpmvD0KxeBr2D+F1eivKhJGhjEituXYAAncDARN9lSNMJPR36eiZ1Ka1nxzpR6Mwl5aoSouRML++QhYJa3/57n1JhuNnOw84HJNryCWy4AI6TSF/XlgsC6kebquJx3Sm6MmhBRlPnMFbfiqv2PZrkXbsbW3CPJRHNlKqq/0vxQHmoZs8bmpG3kkrEx9tGbbma6XWhkHwaYmW2l4zeWifMmRY1tTsfmRJl2B9ZLeWa3ApvSPBa50UF94WhiLnnHw+yHx1MzIN5Sp0eKwBh7I8fDHp4OzOGo/azPk3cV8NCqb/dJP5S6fHslzHBGif3MsR+Yoib+DEgP1HyeBfZ43UtRwm45FyrvZ2Zbht2BuVY4A9TyNlGjzp18vISzIDaqojRgzg3N1kC/Mq/ROZkDoIKoSQUNhGA5Jrw2c/GOTbxoHp2YlWuWaYiaI6USZONEjXr4aptBQUDpi1Z6NMx8nby+wuCUdHWGJrSaKKyVtYToSojB4oboD00Uy5cJP0WGPWKnTcuYWfIvFKbi8EpzvqSh5fqVbH6uw68wdmrdts1K5d+MqLGMY4l5lLzVawJIX4+NPLlqzMwp4RUisfNHEZmu8Si04xA1e48vwMI6BU3mfdVeFhzj4RU1amK08jwyD619P4s5kF3r3v6sxjGwV2plPWu8OMz2F2KxXlNvZfpi6zwDRFtrgMeUiw2FM0IVZ9oYNbcPJ32pup+F7I5ZD7lAMLyzNlGTeE8yT28iatLIRHnvZGCehfqV2TyWvdyUFjUih2b1tJcbeTNGjk2DmwhNXQv8TPHkxEAF4HJrxrn3WytqXLblA1nmALDxaGZCy3CXWm9k2MAuapS3E3Wyy/o1V/cEFDW2Pom+5cx8gtRwMefMI24T5WX1OgohTk0cmKLGDBt1q6hJ17N6mCyUbvkqzAohoLpCmcIY93hEiZpaQ6sSTrzI9Ika1+1N/34W86bvFzVmuwVR4/MAesWX7zARNokUgwdw5JO3Yj6AA5seBfKXkKLNRdGiJ8UmrameZpfdwT0l4hCsegZY1oZmd0TTjSJyLWQRh1hPzdYRDK5q3AqMazIwz0L9MniVFjVJMrCRKKyJHNmLJBSFxs2ouN41ShlvxMV8AHeFxbc3dRJHTGjLm6ZcnME3w46KmrKTSZnCBW9Y0TPQp2S794SnJvj2FxY1tV31N942ih6PkKdG3Ri6z1OTcirptTSXuMkoewEqszdEb0NGW1GiRlzpzvJD5FtjdHvOgq0XNW5+MeNVxlNjvHAG90o5jx8H1qQixfvVAwrD1CM4BCw9D9t39mM5dmB0qayj7BlgDI7P7uCeEjEjmhE1sWHiCDNSj1F2o0nkyaihxDxfKgt5K2VfuDzm6w1UAwLzLDRPmhY1ALQr3cq17cSLM++szFrlqncMQLOM6MglryTfJVF0WfsrLMTpNZUZmNBGjLmQ8OeN/bmT1OIRuFVrQUhog2kJlcQ3mn7PhhLa0kMjhk3ybcRISnRmvHtDKfobaSPOXcL4LInMllvRHDP/YtPzWMrYaytrids7PTWZN1MJc+hzXq/LHSu3h8u0cZRjHenxK4gx4w2vKWbG2pQJrPHJkGXGyMIw/x4ambToSBQO7RFlzJCea5nH5RmPKp6alKE7ZyZmvFzrvvCs+bYfOqzy7/8B3j7+PDaU+H6u5MwY3QdgPx7ZfznWfbIfYxciu0EbOAOy/UR9idOGzGt3c/tw2k7VMyB9zml3yXmnjZ9t7FZd0Ag12c7NEref/PMs0K86RE1JNpWKm0ldZd+I3TdDQhM6+yItxZUsbgRpuRMFd5hy6yVioQaBaPUXbz/lX75XUPTFkEjshi8Pvtw24xDTPz+MvXv6sLDwRYBys09rMW8/Nb58z36YyjbKx2TNGxp1MQu/qYa4ucdaZ6XxEr9ECEF9jhs3r9Q59PoQxI25/I3c6s41b08pt0IeGsU1Ro6Bs1++tZE9VJ2ZEZoe2weRwzJYuNUVXGGWAoHx0EJTgpWeEGm+SHmTLkubp9p2GFu08XCEQfMXjvAcNm83mWF+c7yKe4pj3RduPzluivq+lNPinYvBl9qMLME5YwSZvB0+A7w3YIN7fPV9OO9b5TOgOI/j9tPic9o8KKxrYyzNFw55Wyn2ZchyU06fZ55+TRRREzNxWaY+Ava3vPrqj6qp5jfcqDZZiARIoHsJ1BHO6d7e0bIWECifU9MCI1hl5wl0VtRIFV4mybbzzGgBCZBAKwkYOTitbIp19wwBipqeGcrmOtJZUdOc7XyaBEiglwgo4Ztav1yxlxixLy4CFDWcGyRAAiRAAiRAAj1BgKKmJ4aRnSABEiABEiABEqCo4RwgARIgARIgARLoCQIUNT0xjOwECZAACZAACZAARQ3nAAmQAAmQAAmQQE8QoKjpiWFkJ0iABEiABEiABChqOAdIgARIgARIgAR6ggBFTU8MIztBAiRAAiRAAiRAUcM5QAIkQAIkQAIk0BMEKGp6YhjZCRIgARIgARIgAYoazgESIAESIAESIIGeIEBR0xPDyE6QAAmQAAmQAAlQ1HAOkAAJkAAJkAAJ9AQBipqeGEZ2ggRIgARIgARIgKKGc4AESIAESIAESKAnCFDU9MQwshMkQAIkQAIkQALdL2pWfA5fu/GibKTGse+H38DDB7Nf5/0evvTpxZj2+hP4+veHunM0hf3LRvGjv/5HDOcWrsRn7rsRs8d3G3+vtwvn3ve3uGj0+9j17Z/VW3GztV33J1jyuel47bP/Fm9pdWVc5Gjv/gG+tfGX2W/tYebv2r/E7G99Fmc/9QUc+PtmIZjPX4zb//wzmPHMffjBtrrrBrp2LtTfVdZIAiQwiQlUEjVzrl+LpbMktaPY+fDTeDWHOIgVty/BQPK7+VlZ0ulBhiccGz1FjRuoUziUHYPY8vGHsuuAXf7Z9bgBLoHaBaLm9/8Sn7z+OHZ96W9wMhZLdLl4ftFVyoKOufD7/6If917xMby64w384ctqrafgm3ech6XTsr/98zGs+qf30l/OOxM/+Z0+yI/yp8bHcP/Gk4jSepf1Yesnz8we/Q12/pdRfPnN2F6dhr/79AzMkcL3pTfxqf/6QezDSbm/+O1Z+NTHy7ZbqgkWJgES6BCB8qJm7nW4Y/44tvx0D44BmLH4RizDs9i8+zgAIWguw9iTT2CX+LDZn0S09OPZ9d/D9mbr6tTzVk9N640580+/ifl4oI1emthD+S7M//4VOFrw0sQ+33p2rhaEGJv5Uiu8NKLF1vW/OBdS0TL/9TG8eUUfYIgaIXb+EG9nYiEVEed5xEMiEqAIH98QJaLoDBzIhEwqrN7HT344hr8KDq20OxMymcB6syDKXBWlfcFLYzjvioYNwWZZgARIYMIQKC9qZizCmhtm4VeJcJmOJTevRN+BTdg2bAqcGhgkoSfgSYuoSd7qL0zbGNfCFFm7WtjKUsb3ufQAyS6UDG/NveMr+IPFyrusEmbSPjPrzUXcAVwmwlNp5yqEqIRwWI53vvdlHHpadqJxaL58uWSnh/NMuw9pHjI9NKTapY6FOuq2cREH7JL+7dix/iFjgri9cl5mopbQWMNtO7yfKSbavB2i3csP4EdvLcvHW++zr11Rt/E5AI25L/QKwD9e0vbiXBBC4lPHRvGHL2eHfEAU+EWLqONsvBnpbSnWFWdD0pvEwwNNAJURVH/x2/34+POj+DJ0YVXDTsUqSIAEuoRAeVGTGC5DTCdwUPHKiLDURePDOHveXJwlir2xCxufGind1YIo8IgLcaBe+5aaeyEPi2U4pubfqFYkh0W/np+Tf24erunv023CydYzU4g5PDVJH899Rs8FysWUFBuB8JuDrF04pKJmwbSGwNPCPTa7c0bps3MOSs5ZXcfUUFGMp8EitkwBmffptYKYtTJLhIFnrDPhYB+/mH6lBllDZlJ0SHGqMQzVbf88z6lJuMzDq3IOm+MT6cV0i0jRqzhB4RMOiadl+juN8JR3taeelvP2ynBXI8w1HhFGMtuS4TOUCX0J+wxvUekNig+QAAl0LYEKoiYVNPj5Jmw7Jrw2c/GO+P/h1GszD8NZaEr34lQi4PHUyPrcosYlRMzDRLcsOTjnHdS9I9EhJMvBXkHUHFc8JGr/xME6f9AkeQKvaR4ZVzKrRYjktu3EJzTRkraRt33kxqLHrHCoRogab05KWMC5RY1bdFrHaYSo7wAAGn9JREFUUyK0zS+rWLB5vjIPkZYErgisCyxeRrXuwrzQ+Qm7b8NDSqK0wTcTg+pcKa6xUGJzhKhJvCOnOvJeynlpgIao2TtH5LUAQsz8Hc6JEka5qHn19DQnR4iZIeAPf+dUbI0KX2WEKGoqbcd8iAQmAoHSokbk0Kye9nLDA6Pk2EwXnprDaShK/Oj5NhVwVBY1ADQPgPrW7z88rQdnW0VNkzlETuHgEx32zzRRY97gKi1qQgdsVVHjG+tUmDmTj23jahE1Tm9H4XlD1PiYBUSNK6TnDE/ZwpTBxOaAqAnkrCQi48JfxycIZ6JGJCCrnhnhCVp1PJzwa/XMCNG18P0SNtBTU2En5iMkMGEIlBY1sCQKS5GjC55Oemos3pfFo1k4w+9RsL3Ze9/2tabq8NS4RU2Mp8Z9dTcsahrhJdEpxaNl89QUBGfAUxO8jdWEqFHGIA1dyrHO8k7MMJ/PU1Pol0eMhUSNmQ+m1h0haophVfe+koigGXr+Vfgat0fUZIIGzrBQhJfHYm4xlGWGpDx7pyWnplz4i56aCXMy0VASqEigvKgBoF3pPiHDTakF6mcnDg5lt6IqWteMp0Zt0qjHPPg06wpuffthe/d9f4s1FwEjj38B65V7rJpnQHqLLG/R7pyaJjw1XuEQIeYUMZAm38okbTOvyB7C83lFwgdsPaJGt7vhxbGHaSL65fN2+ETNwUDdRs6M9Mzknhhv3ldxPRWEd1BEijocwiQoaICgl0Ze21avg4sms7/n18gtQiW/Nl7Ilcmuc+d12u1Pr2zDclWdoqbiTszHSGDCEKgkatrWO6eoKd4aETblN0+M2zCA8aV9lpsj2q0VI3nVdovHJWr0Gy2v4ckfjuLaO4BHki/fayTragxlomlk8qeLvz8pNJzzoidom8wM5tYbYa4vz3PkpGgdcYmaALOIsdZDkeaNMn+/vGLMK2pE5/x1q7zFHHv23M/gsv3KdzIV+tYIoxaT6fXEau9c0L4npjEIUmhIUaDPM+V7XWKuUrtEjSJs0vpPFq9zy+/CsSYA699TU/yOHfk9NEVRk4evtI7x+2ratp+zIRJoA4HuFjVtANA7TcQIh8701i+2OmNTVKtR3o6omtpcqHvnQptBsDkSIIFJRoCiZpINOLtLAiRAAiRAAr1KgKKmV0eW/SIBEiABEiCBSUaAomaSDTi7SwIkQAIkQAK9SoCipldHlv0iARIgARIggUlGgKJmkg04u0sCJEACJEACvUqAoqZXR5b9IgESIAESIIFJRoCiZpINOLtLAiRAAiRAAr1KgKKmV0eW/SIBEiABEiCBSUaAomaSDTi7SwIkQAIkQAK9SoCipldHlv0iARIgARIggUlGgKJmkg04u0sCJEACJEACvUqAoqZXR5b9IgESIAESIIFJRoCiZpINOLtLAiRAAiRAAr1KgKKmV0eW/SIBEiABEiCBSUaAomaSDTi7SwIkQAIkQAK9SoCipldHlv0iARIgARIggUlGgKJmkg04u0sCJEACJEACvUqAoiY4sjOxct2d6N/5XTzyQrBw6QJXrv08rhn9MTZsO5o/O3PFPbh7UR8ObW1Nm6WN7IYHBpZj3V0LcM7rQ7h/00u1WiTGYPWFWZVj+/Dghu1ojEb6dzkm6W+HseU7j+LF7JH0+THsfegBDB2p1bSaKrPP4erz7Arc9sWVmJ1ZV22e6nW8vUdfAzV1nNWQAAlMMgKVRM2c69di6SxJ6ih2Pvw0XsV0LLl5JeadpRM88vNN2DZcjao4LOb/QhzsYgO8GqORh0bxkGlGmDTzbLjfXSVqrroV9y4dtR7q4Z60uESLRY0pLLXeJG0PYsQx/yafqJF0qq+NhBnqF6iuWWhbZ6JsY4/xz19d1IqyNhGb8ljYZ/tMF3GihlwMyrmtmaALZ591RduA9onE6nMg6VM37zkt3tKc1SfzoR/PKS9OnTJlIrZbXtTMvQ53zB/Hlp/uwTEAMxbfiGV4Fpt3Hzf6L0TOtcDPnsAuUbDCz5Vr78HADvH2KzaES3EgcpCTDWz6GDD8eOYBaWbhNfNsuNOuzTb8ZAtKTNINJjgGE55Lq+Zw1XqrPld9zrtEVClRM3ckF/yJkFB+TywTh9Ea4LnhQVwDufeID9L+Dg47vFFNHmKJLf3P1+7BjKPd5FhO+LUVR6lUqSbnQ6m2erBweVEzYxHW3DALv3pSiJXUO9N3wOKNEeLngkPY+NRIeWxioq+6wPpczBtIekjtw9ii/kwImQvPeGsqhBw8b1Xy7SK3r2zYQb7NNbrX6JParqVeuQFsBm4RoRhRhRaOMeq2hGrMt7rkbfFIFtopEFffFn3MGnwPXCJDOdJ+24Ye2OQNO9TwUGH8BZNLXsGDo1cnITvxEzNH1CZCosZ6gMlDTI6DEZJK6zfHuvj2bR2PLMzp+yy8qHxzuNl5JluveqCl7cMaXq06z/xE7Ae/f19Q51FhDlgOnryNHecl4uYxGcYMePoSMdTEm7lf1PjWZjZLs3C3JNgIJ4pnbwI2P4/+u2S4sTGHtbCtgj9q/Vm9U6ISZY2YZUqHnn1zKfTZpTjw0CiuketbOSME71vwOJ7rvzMPW+sh2Ir7cBKRaIR1G0jLnjHh3aGXS5QXNQmNQay4fQkGcAIHE3FjImreSwMo3pmSal4eUo/hJix/6wE88oK6eZkHajYBj0tXuP3zPKfG3KASAQYtx8I3Ycw3RvuB6gi35WIvW/iGLXrdReGQHpJjbludnOOYLexrCArVFvuB4A7nuPhZWUkmcsMrOR6iLV9oIs+18W3ajkMp9AbtHQ+zH8nvfZF5O4E5nPel2jxroCgpaoIHWXPzzLfu1LFoeGfkoS28wWbbuvAy53BxbFUWJld5yDkOpzaIGtfaTMI/6v6lzTPTbvcLSuWcQ+eeYwrf9Pe+6NwrX/nQPJPiQgosy1xY1Je/PJlzo+l9uMn50MuCJaZvFURNKmggcmWOCa/NXLxj5s0YIaoYQ4plGqLmSEn3an5I7b88e2Paj6tksi8sIkSdRIVFpm/cUqU3EntLbOyWyVpe1KgHm7mRGiE6rS++t+OMvmuDsQkFrS+mMDRj5fomHzrsS4saLQ+oXP6VT9Tk/ghbqEE10idqnCLSNx52T1bIo5SbFJjDDdN9osY1z9SOl5j72qA6+t70PPPsNDmTN7FcvA0nIvho5ol4AENIQ0e5d0Umh2dhnWLeiuF1M+aAL1dOWKl5M2xiz5GwbuuhLadG97bciYX5S5u6NtN90QyLNWxH4ZKEX8xV2Okde47VO1ri5dbpXRUmBudZcV2o41lgoI29JVWi7D5MUVNhIjUeKS1qRA7N6mkvN8JKBQHjCUlFmupya5q3TmIOvzQv53FgTXaDSYgaMxm2hKhx2RZ1A6QOUeNK5HW9BcvNMeQCl4vdVr9tM7GIGt/bmr5RCpd2+ZtCTk9Nl4oaKZikt6d4kLm8VXax0FZRE5Uw3gJR41ubWTivkldACd0uv/xNjM69FEc2vIL5MlfPFfLOPICFQ9LwnBUOOt8BbCa9Bw8xM4ypJBkb4qu4J/rGKDTPOixqzDyhEqLGm4ge3M+aEDV17MPB+RB5kE7SYqVFDSyJwn6RU5GsMvEGLNeefbVqm3+SczGKvdMXpNeybZ4aVbkH3nKjDxabgS0XNb6M+QgPRhlPjfa2E3G4KYfKLcYbcewMmYiiRveKqO5z33i43fzOZFMVYh2emk6JGjOUW3aeuSZTnsTbj4H9j+KFy+/B8reeB1Zl3s3AgVl88y+GtEWIR/9x50Jo9TV5iMXm1BS/kiI0zzosaoxEbK/3xSDvZWLz1Gh/a1bUNLkPNzkfYvfTXi1XXtQA0K50nxjOb0Ihu9ZtTRwuSzARI68kGf2xNxRkE/rhl8bNB9GHseS7ZsxYq7GwbXkqFypvRsYbWrlu+WOz+gFoucLu3XgtISDDuOTtZbr9e1iSok5vToBZ1Bt0xhljGNsp8pzKkZNej8LV6wKTCPFm4eK70h3cTKM2oeIB4huPQr6NbSPOE5GNwzM0h/P+e8JPnRA1SR6dKvxic4Mi5lLGBGNjeG7Do3gx2V+AQxciu0zgz9mwe2pkLp2Noz2EmFpqrNWo+ePuY3VRI79/ScmzC4hIW1ter0hoaFx7TubxGMuTySPC52pbhefVD0PzrAlRY46tpf/BfThbB/ZE+hBQfl5J1LQDW2PxiLh3uS+/M9/oZcy5ESKSiWBZT4ysejVGLUIGIss9/b6crHzBVR3/nRJpPDe72fX6UHJrR2TSJzk6Vhe4cmAF3a9FN7V5E8EMn5lhMz0+77n9ZLl1FQoLBBOVrRPLGKusTN6vDooaWy5DI0RaHAv9plraEd946PWX+14U7xxuep7JgYrw0HnGNOr2U4V5Zm3SDPlkB8dsLXelONfk+iiOdXhd5kJoZz/uNm9zqv2yhizi95RmRE0isbTbT+o8K46vvS2dW9TtJ2WQnHuOwaVsvelLWnZLVLTnG2ttnjUjahTRqnjuyu7D+lnA209lNEfXipoynWDZiUHAv/l2rg9NhRQ7Z3YXtFxV1HSB6TSBBEigJwlQ1PTksHZhp2ISlTtkNkVNVfAUNVXJ8TkSIIHWEKCoaQ1X1ioJKC7gqBtiHSCnhYBKXKXtgKld0qQebujWce0SWDSDBEigjQQoatoIm02RAAmQAAmQAAm0jgBFTevYsmYSIAESIAESIIE2EqCoaSNsNkUCJEACJEACJNA6AhQ1rWPLmkmABEiABEiABNpIgKKmjbDZFAmQAAmQAAmQQOsIUNS0ji1rJgESIAESIAESaCMBipo2wmZTJEACJEACJEACrSNAUdM6tqyZBEiABEiABEigjQQoatoIm02RAAmQAAmQAAm0jgBFTevYsmYSIAESIAESIIE2EqCoaSNsNkUCJEACJEACJNA6AhQ1rWPLmkmABEiABEiABNpIgKKmjbDZFAmQAAmQAAmQQOsIUNS0ji1rJgESIAESIAESaCMBipo2wmZTJEACJEACJEACrSNAUdM6tqyZBEiABEiABEigjQQoatoIWzQ1c8U9uHtRX9rq60O4f9NLbbbgCtz2xZXo2/NjbNh2tEVtz8TKdXeif+d38cgLdTdhr1tyPbS1FW3W04cr134e14zWyz3t9xi2fOdRvFiPmU3Wks6v2UktY9j70AMYOuKp8qpbce/SUTy4YTtaNRub7FANj7dyPdRgXoeriJvDAYYDy7Hurn4814l10Mk53Mq2J2jdlUTNnOvXYuksuRKOYufDT+PV5NdBrLh9CQbkR2/swsanRiovGXEIzP+FOKTERnk1RkMbZOWW2v9gspD7n6eoKY1+EokasamsuiAjZBcIcQdCacg1PBC5Zlu5cVp60QphGYY1sUVNq5lFzeHQPKkgaurpVyfHtsVth5iHJ76jhMvu7IVobF/xJcezF4pxXH1ho6nyombudbhj/ji2/HQPjgGYsfhGLMOz2Lz7OITYuWJ8KPl/YDqW3Hwt8LMnsEsUrPBz5dp7MLBDvOmJzl6KA51Q4RXsjnmk06IGLfVotHKxtbLumJGrXqbUJpps0oMYyYS8a+NP/j53pAs9HRQ1jZkycees6EOpeVthecTM4cYLrqOBToka0e4a4LFOeBpb3XarRI3N7kS0AHv39GFhYT/Tz/+QCC4vamYswpobZuFXTwqxIoTLSvQd2IRtw6nAWX3+G6ngScpNw0u5F6fEbNdUmf7c27FhE5eySyb/AkCpJ1V6hxUXvupCV8NEYnO6CRgew8JFFyThoy1YmahEGfYQwG/B43iu/85cPdpCIk5RE/F2XrS3BFuXdg7abTApqGnjczSYJE1G9MvdC1/dgXCHXJibgVvuWoBzRCPRYb9sMT00imvks0a/9bcE05uSHmYLs2ijaFqfv3q/1M+SeqGGJ9OyTYtR1+ZvbGDufhUPaPtcdosaLQQroNjezJyTwbU2szmmhbIaNrxwuRL2VetW50K2NyRzpNQ8kQ+41ohkNgSskqE5db8x14e+dsJ7SnF96KE/9zzz7RyFcbJxaZpZxN7lm7O5J1PUozPV7W+szah+wTPPFJPtgs9Y99r8DuwpYh1e8goeHL06T1NwnXnFtsP7ldl382zyr02jX4V9NHRGpOCsdq87D9s3bAdiXtKMFz5zBpUXNUkNMsx0AgcTcaNUKzw5n5gJnBjOvTkR09ZSRFFnZRWj2elMBeZ5B8nvfWm8fyBViGpOwpVrbwU2yRwF9TDJBhX78GB2SApx9BhuykNJclLkE9FsO+up9SAI2Z092ypRI3J9pN3621Pa78FhmQ+ScTguD13753lOTWS/7PMkUHf+kOMQzcVUtuEFFoRug1ykcrPUhYX5hmm+QZjCRF/MZr+K86yRk9TYTKJFvVcUWEK5yhozNxa9X02KGttaLJFT416bflEj83rcXgdTNKa/x+ee+crL8ZMHq2Xs1wKPyPw6g5G5p5jzTptnmcgYyz2xvnkWtzO3jlkT7Zvr2BQ+A8tx2+X78UiWN2jzBvk8UN55Js12iK2ZK27FVfsfzXLJ7Pxn5wLM+FzuV1IwuPYra9v+/Sp9sVTOOvUcFHlvgbWp72dmvyI9egGPWozXDt49/ApUEDWpoMHPN2HbMeGNmYt3xP8PA0gEDZIcm+PCazPvhJJvEzeBG6UaouZIyfwT+WbTSIR1bcQj2Dt9QTChtTH50UiAPdJITFPtK4oV+2FrEzUxdpelGFu+YI86+WzCzPxcO5h03k31qyBoffFYx2EtBWySsKo+b3vDVT0HxbFrzIWZFs+JUrcyP2QCr7aJWlywjTE4ms+zA5ek8WIhZlTxHDuuxXKZt3HzAxiCbQ7D368XmhE1lrEr+8JidEhjWqjLN356WrJ1My1hm38zjmWmenwac9m7NjOPQsODZxw23nkWd0nBdfg3yyxuDtv3z4JNofCT5fMyYTVbWae33eiYXq7YH+3zyP0u1jtqnl2NF1PTa6KcbfJyh2aL4mSQ/bN5d6db8mEUHiFmYVFjvlDrsMXzpUVNEmKa9nIjATjPsRnBHCUUJZrSc2ziprAoZSb+NJ40XLaOKl3P6642DxxL+Ct9Q64qaophA9vgxtkdz7FMyaCoMd+mS4iapvoVuciRbO5+D0T52zUhUWO2V0LUuEKsyRtaKmpE2MoMSdVxe0rmJ2w/91Ys7wdGdzwKEZ4RYdMN24RY8/Sr06LGuTaPpm+ajvBTyFNj3WxLiJpiuFBdfWFRU1wjRrhEvVSgHdDGPmb1ispkc8Wm6BCs+w28WWYx+5PrEAyLGiNUkjT2/7dz9rpVw1Ac9wt06MBaVaKCAfUVkHgCJMTISyImpoq+QIdyBxBCqKJdCqrgSswocZz48xz73iS06Le2uXb883H89/lwuH+Iokays76tcnjVehKGULcb5Mi7IGpcHknhexeKkVLf0vcqI1qCUJAianJj6sYWhNZC5mnahcBs4KSJmn6dFIWTPaQ2i5reGxMlCjuRkyYKT/k2NQYcPONN7qPGUtgaBW6fOTdXx8+9sIoxziAn962/qHcVNelmWxI1c2xazaxdqXnpw5nz1Ph/U4RHzXwU33lRUTO3p8YLYWieGmXDTDfJkoeqfbat5+zCXB2fmNv3d+bJ00/m8+Err9IwFuFSaGy4piCp5Mt9wPb01CShlWjD3VfURAmK2gc2kC2iN1kWNWF4L90wZU9NeggMQpQNwqxkSS2emhZmuuWWbV4TNcnm1+Kp0eyse/Ei1zQMObunRuw73GtkT43v1asRNQ0l8xmGZWaTJUj2Y4V/2bHhftsuagYPzFjSHeTOhCXdf766SijdfJMnuol7/KUveXYny+o7T+JYYdy4vyFnY7NT1YlLcN3VU1NSlsVTThAqyXPTJncH2vb+nOJpMF6oGRe3V6njTp2jUtfmo3/hOO9gGEU0P0nb42DX9tT8sB5F79QQLshM/o2Xs2RPekLOxnBSDBmGuV+7zHNPuhc1V2Z7+NO8fWfMyzcnxpgDc9eFpG6HTbI4LiUHQJmPQKy5019tonDBC5HPX8vbU/GjmXyE4xwbhXbuIz7+pELUeILK2nilp0YLu2h2VmFEizHT+hYEWW6tTXkqgw2PifbOFjKJxLnKQc3OghB2PIjIbpyNlzw1sd1EY04Fr3S4kcOtSVvRYVVem3LYJ53KeP3UHcpKtqbveVN/O4kazRbn+P+0yU75BdWixinpXGZ8vFmM4a7pIxK4grcb8/HXM3PUX5pW6alxl+t17yG450ZOvis4cXumylSf4PYZ0E6DbhO2l6qlFUR2wdgyn26T6aq/7B1Dw/PquAqiJrqwMGk7G8bxqpD2OqnqORlh2ECoaPl+3lc02BCPC4SlnqLAZRuMrS70WjXz0RrI2ZM4Lt8Vvd2Ys29H5oUTxNp8BFUlN+asqyxrKIktr03L1P//9Yeu2igfShsr0oTqp+ak7NhFP659LfwU2sHvy43Znh6N93JpazMNXclVdh2ntksqo1DOnMwEg5U9vP47dev9why+9q79iObi+nJjDk5jT0N5XKKd1SS7jnvAjS1THg+MLWu+gxOte7Fv/Xvlf6fTyzH9d8utzTSkN62RdFzB+hHfOxcq9PbOUujLs0P/gHlvRU3Vx/kePlSKAd/DV+WVIACBh04gt1nEnoaHOEbVA/XvBrVXOF3KxXGHcaEacL++HyqztvdG1LTxUp9G1KiIeAACEJiLQCbfLQ1ZzNUZ7exPQEmW3cuzvP/b/Q8tIGpmnkVEzcxAaQ4CEBAJpOGnGUOVsJ+ZAKJmZqBJc4iapQnTPgQgAAEIQAACqxBA1KyCmU4gAAEIQAACEFiaAKJmacK0DwEIQAACEIDAKgQQNatgphMIQAACEIAABJYmgKhZmjDtQwACEIAABCCwCgFEzSqY6QQCEIAABCAAgaUJIGqWJkz7EIAABCAAAQisQgBRswpmOoEABCAAAQhAYGkCiJqlCdM+BCAAAQhAAAKrEEDUrIKZTiAAAQhAAAIQWJoAomZpwrQPAQhAAAIQgMAqBBA1q2CmEwhAAAIQgAAEliaAqFmaMO1DAAIQgAAEILAKgb8YoN8itnaJxQAAAABJRU5ErkJggg==" alt="0"></p><ul><li>此处默认是2个节点，改成4ji</li><li>等待部署即可</li></ul><p>​    <img src="data:image/png;base64,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" alt="0"></p><ul><li>完成之后</li><li>打开浏览器输入127.0.0.1 ：5000</li></ul><p><strong>3.验证码报错解决办法</strong></p><p>​    <img src="data:image/png;base64,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" alt="0"></p><p>将url改成</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jdbc:mysql://localhost:3306/webasenodemanager?serverTimezone=GMT%2B8&amp;useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">默认账号为admin，默认密码为Abcd1234</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 区块链 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> webase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>openstack搭建</title>
      <link href="/posts/d0acfaca.html"/>
      <url>/posts/d0acfaca.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="一-OpenEuler镜像"><a href="#一-OpenEuler镜像" class="headerlink" title="一.OpenEuler镜像"></a>一.OpenEuler镜像</h2><h3 id="1-1-镜像"><a href="#1-1-镜像" class="headerlink" title="1.1 镜像"></a>1.1 镜像</h3><ul><li><p>下载j最新版的OpenEuler，在 <a href="https://repo.huaweicloud.com/openeuler/">https://repo.huaweicloud.com/openeuler/</a> 下载 <a href="https://repo.huaweicloud.com/openeuler/openEuler-22.03-LTS/ISO/x86_64/openEuler-22.03-LTS-x86_64-dvd.iso">openEuler-22.03-LTS-x86_64-dvd.iso</a></p></li><li><p>采用默认安装(最小化安装)即可，其中超级用户root的密码设置为 openeuler!23456 (系统要求用户密码长度至少8位，至少有3种字符)。</p></li></ul><table><thead><tr><th>控制节点 controller</th><th>IP:10.0.0.10</th><th>认证服务镜像服务监控服务计算服务网络服务Dashboard服务</th><th>httpd, mariadb, memcached, rabbitmq-server, etcd,  openstack-glance-api, openstack-nova-api, openstack-nova-scheduler, openstack-nova-conductor, openstack-nova-novncproxy,neutron-server,neutron-linuxbridge-agent,neutron-dhcp-agent,neutron-metadata-agent,neutron-l3-agent</th></tr></thead><tbody><tr><td>计算节点 compute-1</td><td>IP:10.0.0.11</td><td>计算服务网络服务</td><td>openstack-nova-compute,neutron-linuxbridge-agent</td></tr></tbody></table><h3 id="1-2控制节点"><a href="#1-2控制节点" class="headerlink" title="1.2控制节点"></a>1.2控制节点</h3><ul><li>设置网卡</li></ul><p><img src="https://s2.loli.net/2023/01/20/xGfeIinHTvBJjs9.png" alt="image-20230120154904058"></p><p><img src="https://s2.loli.net/2023/01/20/7yEXHURf6qsiO2l.png" alt="image-20230120154918889"></p><p><img src="https://s2.loli.net/2023/01/20/5SmXFCOJyz9kLfs.png" alt="image-20230120154934614"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname controller</span><br><span class="line">echo &quot;10.0.0.10 controller&quot; &gt;&gt; /etc/hosts</span><br><span class="line">echo &quot;10.0.0.11 compute-1&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line">sed -i &quot;s/BOOTPROTO=dhcp/BOOTPROTO=static/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">sed -i &quot;s/ONBOOT=no/ONBOOT=yes/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;IPADDR=10.0.0.10&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;NETMASK=255.255.255.0&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;PREFIX=24&quot;</span> &gt;&gt; /etc/sysconfig/netnwork-scripts/ifcfg-ens33</span></span><br><span class="line">echo &quot;GATEWAY=10.0.0.2&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS1=223.5.5.5&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS2=8.8.8.8&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">nmcli c reload</span><br><span class="line">nmcli c up ens33</span><br></pre></td></tr></table></figure><p>controller 为控制节点的域名，compute-1 为计算节点的域名</p><p>10.0.0.10为本地的IP址，255.255.255.0 为子网掩码，10.0.0.2 为网关地址， 223.5.5.5 &#x2F; 223.6.6.6 这是阿里云提供的DNS服务器，8.8.8.8 这是google提供的DNS服务器。nmcli 为网络服务的控制命令(network 服务不是默认，已经弃用，可以安装)</p><p>设置DNS的方法除了在网卡设置上DNS1&#x3D;x.x.x.x ，还可以编辑文件“&#x2F;etc&#x2F;resolv.conf” ，验证DNS </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;nameserver 223.5.5.5&quot; &gt;&gt; /etc/resolv.conf</span><br><span class="line">echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure><ul><li>验证dns</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig alidns.com</span><br></pre></td></tr></table></figure><h3 id="1-3-关闭swap分区，关闭SeLinux"><a href="#1-3-关闭swap分区，关闭SeLinux" class="headerlink" title="1.3 关闭swap分区，关闭SeLinux"></a>1.3 关闭swap分区，关闭SeLinux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br><span class="line">sed -i &#x27;/ swap / s/^\(.*\)$/#\1/g&#x27; /etc/fstab</span><br><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config</span><br><span class="line">systemctl disable firewalld &amp;&amp; systemctl stop firewalld</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-4-时间服务"><a href="#1-4-时间服务" class="headerlink" title="1.4 时间服务"></a>1.4 时间服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;/^pool/d&#x27; /etc/chrony.conf</span><br><span class="line">echo &quot;pool ntp.aliyun.com iburst&quot; &gt;&gt; /etc/chrony.conf</span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line">systemctl restart chronyd</span><br><span class="line">chronyc sources</span><br></pre></td></tr></table></figure><ul><li>ntp.aliyun.com 为阿里的NTP服务器，用于网络同步时间</li></ul><h3 id="1-5-修改内核参数"><a href="#1-5-修改内核参数" class="headerlink" title="1.5 修改内核参数"></a>1.5 修改内核参数</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.ipv4.ip_nonlocal_bind=1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.ip_forward=1&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p </span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><h3 id="1-6-软件源（CentOS-stream）"><a href="#1-6-软件源（CentOS-stream）" class="headerlink" title="1.6 软件源（CentOS-stream）"></a>1.6 软件源（CentOS-stream）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install centos-release-openstack-train -y 安装t版本openstack</span><br><span class="line">relese </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install python-openstackclient -y</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install openstack-selinux -y</span></span><br></pre></td></tr></table></figure><h3 id="1-7-基础组件"><a href="#1-7-基础组件" class="headerlink" title="1.7 基础组件"></a>1.7 基础组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-release-wallaby </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install openstack-selinux -y</span></span><br><span class="line">yum install -y openstack-release-wallaby</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s /usr/bin/python3 /usr/bin/python</span></span><br><span class="line">git clone https://github.com/pixelb/crudini.git</span><br><span class="line">cd crudini</span><br><span class="line">python3 setup.py install</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s ~/crudini /usr/bin/crudini</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum config-manager --set-enabled PowerTools</span></span><br></pre></td></tr></table></figure><p>crudini的工具，在OpenEuler的源上是没有这个工具的，可以下载其源代码进行安装使用，本地应用使用python38进行安装使用。若是在CentOS8的数据源，可以直接安装，不需要下载源代码进行安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y crudini</span><br></pre></td></tr></table></figure><h3 id="1-8-数据库Mariadb"><a href="#1-8-数据库Mariadb" class="headerlink" title="1.8 数据库Mariadb"></a>1.8 数据库Mariadb</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mariadb mariadb-server python3-PyMySQL</span><br><span class="line">tee /etc/my.cnf.d/openstack.cnf &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">[mysqld]</span><br><span class="line">default-storage-engine = innodb</span><br><span class="line">innodb_file_per_table = on</span><br><span class="line">max_connections = 4096</span><br><span class="line">collation-server = utf8_general_ci</span><br><span class="line">character-set-server = utf8</span><br><span class="line">EOF</span><br><span class="line">systemctl enable mariadb &amp;&amp; systemctl start mariadb</span><br><span class="line">echo -e &quot;Y\n123456\n123456\nY\nn\nY\nY\n&quot; | mysql_secure_installation</span><br></pre></td></tr></table></figure><p>设置mariadb的超级用户root的密码为123456</p><h3 id="1-9-队列服务RabbitMQ"><a href="#1-9-队列服务RabbitMQ" class="headerlink" title="1.9 队列服务RabbitMQ"></a>1.9 队列服务RabbitMQ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y rabbitmq-server</span><br><span class="line">systemctl enable rabbitmq-server &amp;&amp; systemctl start rabbitmq-server</span><br><span class="line">rabbitmqctl add_user openstack 123456</span><br><span class="line">rabbitmqctl set_permissions openstack &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</span><br><span class="line">rabbitmq-plugins list</span><br><span class="line"></span><br><span class="line">rabbitmq-plugins enable rabbitmq_management rabbitmq_management_agent</span><br><span class="line">ss -tnl</span><br></pre></td></tr></table></figure><p>​开启图形化管理(rabbitmq_management,rabbitmq_management_agent)</p><p>ss -tnl 查看当前端口的使用情况。</p><h3 id="2-0-缓存服务Memcached"><a href="#2-0-缓存服务Memcached" class="headerlink" title="2.0 缓存服务Memcached"></a>2.0 缓存服务Memcached</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y memcached python3-memcached</span><br><span class="line">sed -i &quot;s/-l 127.0.0.1,::1/-l 127.0.0.1,::1,controller/g&quot; /etc/sysconfig/memcached</span><br><span class="line">systemctl enable memcached &amp;&amp; systemctl start memcached</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-1-键值对存储服务Etcd"><a href="#2-1-键值对存储服务Etcd" class="headerlink" title="2.1 键值对存储服务Etcd"></a>2.1 键值对存储服务Etcd</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">yum install -y etcd</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/etcd/etcd.conf</span><br><span class="line">rm -f /etc/etcd/etcd.conf</span><br><span class="line">tee /etc/etcd/etcd.conf &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">[Member]</span></span><br><span class="line">ETCD_NAME=&quot;controller&quot;</span><br><span class="line">ETCD_DATA_DIR=&quot;/var/lib/etcd/default.etcd&quot;</span><br><span class="line">ETCD_LISTEN_PEER_URLS=&quot;http://0.0.0.0:2380&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ETCD_LISTEN_PEER_URLS=<span class="string">&quot;http://10.0.0.10:2380&quot;</span></span></span><br><span class="line">ETCD_LISTEN_CLIENT_URLS=&quot;http://192.168.169.200:2379&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">[Clustering]</span></span><br><span class="line">ETCD_INITIAL_ADVERTISE_PEER_URLS=&quot;http://192.168.169.200:2380&quot;</span><br><span class="line">ETCD_ADVERTISE_CLIENT_URLS=&quot;http://192.168.169.200:2379&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER=&quot;controller=http://192.168.169.200:2380&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER_TOKEN=&quot;etcd-cluster-01&quot;</span><br><span class="line">ETCD_INITIAL_CLUSTER_STATE=&quot;new&quot;</span><br><span class="line">EOF</span><br><span class="line">systemctl enable etcd </span><br><span class="line">systemctl start etcd</span><br></pre></td></tr></table></figure><h3 id="2-1认证服务keystone-Identity-Service"><a href="#2-1认证服务keystone-Identity-Service" class="headerlink" title="2.1认证服务keystone(Identity Service)"></a>2.1认证服务keystone(Identity Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE keystone&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#x27;keystone&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON keystone.* TO &#x27;keystone&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">yum install -y openstack-keystone httpd python3-mod_wsgi</span><br><span class="line"></span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/keystone/keystone.conf</span><br><span class="line">crudini --set /etc/keystone/keystone.conf database connection mysql+pymysql://keystone:123456@controller/keystone</span><br><span class="line">crudini --set /etc/keystone/keystone.conf token provider fernet</span><br><span class="line">su -s /bin/sh -c &quot;keystone-manage db_sync&quot; keystone</span><br><span class="line">keystone-manage fernet_setup --keystone-user keystone --keystone-group keystone</span><br><span class="line">keystone-manage credential_setup --keystone-user keystone --keystone-group keystone</span><br><span class="line">keystone-manage bootstrap --bootstrap-password 123456 \</span><br><span class="line"> --bootstrap-admin-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-internal-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-public-url http://controller:5000/v3/ \</span><br><span class="line"> --bootstrap-region-id RegionOne</span><br><span class="line"></span><br><span class="line">echo &quot;ServerName controller&quot; &gt;&gt; /etc/httpd/conf/httpd.conf</span><br><span class="line">ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/</span><br><span class="line">systemctl enable httpd &amp;&amp; systemctl start httpd</span><br><span class="line">echo &quot;export OS_USERNAME=admin&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PASSWORD=123456&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PROJECT_NAME=admin&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_USER_DOMAIN_NAME=Default&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_PROJECT_DOMAIN_NAME=Default&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_AUTH_URL=http://controller:5000/v3&quot; &gt;&gt; /etc/profile</span><br><span class="line">echo &quot;export OS_IDENTITY_API_VERSION=3&quot; &gt;&gt; /etc/profile</span><br><span class="line">source /etc/profile</span><br><span class="line">yum install -y python2-openstackclient</span><br><span class="line">openstack project create --domain default --description &quot;Service Project&quot; service</span><br></pre></td></tr></table></figure><h3 id="2-2核验身份"><a href="#2-2核验身份" class="headerlink" title="2.2核验身份"></a>2.2核验身份</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openstack token issue</span><br><span class="line"></span><br><span class="line">systemctl status httpd memcached etcd rabbitmq-server mariadb</span><br></pre></td></tr></table></figure><h3 id="2-3-镜像服务glance-Image-Service"><a href="#2-3-镜像服务glance-Image-Service" class="headerlink" title="2.3 镜像服务glance(Image Service)"></a>2.3 镜像服务glance(Image Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE glance&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#x27;glance&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON glance.* TO &#x27;glance&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 glance</span><br><span class="line">openstack role add --project service --user glance admin</span><br><span class="line">openstack service create --name glance --description &quot;OpenStack Image&quot; image</span><br><span class="line">openstack endpoint create --region RegionOne image public http://controller:9292</span><br><span class="line">openstack endpoint create --region RegionOne image internal http://controller:9292</span><br><span class="line">openstack endpoint create --region RegionOne image admin http://controller:9292</span><br><span class="line"></span><br><span class="line">yum install -y openstack-glance</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/glance/glance-api.conf</span><br><span class="line">crudini --set /etc/glance/glance-api.conf database connection mysql+pymysql://glance:123456@controller/glance</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken username glance</span><br><span class="line">crudini --set /etc/glance/glance-api.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/glance/glance-api.conf paste_deploy flavor keystone</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store stores file,http</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store default_store file</span><br><span class="line">crudini --set /etc/glance/glance-api.conf glance_store filesystem_store_datadir /var/lib/glance/images</span><br><span class="line">su -s /bin/sh -c &quot;glance-manage db_sync&quot; glance</span><br><span class="line">systemctl enable openstack-glance-api &amp;&amp; systemctl start openstack-glance-api</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-4-上传镜像"><a href="#2-4-上传镜像" class="headerlink" title="2.4 上传镜像"></a>2.4 上传镜像</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/cirros-dev/cirros/releases/download/0.6.0/cirros-0.6.0-x86_64-disk.img</span><br><span class="line">openstack image create &quot;cirros&quot; --file cirros-0.6.0-x86_64-disk.img --disk-format qcow2 --container-format bare --public</span><br><span class="line">openstack image list</span><br></pre></td></tr></table></figure><h3 id="2-5-资源监控服务-Placement-Service"><a href="#2-5-资源监控服务-Placement-Service" class="headerlink" title="2.5 资源监控服务(Placement Service)"></a>2.5 资源监控服务(Placement Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE placement&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON placement.* TO &#x27;placement&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON placement.* TO &#x27;placement&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 placement</span><br><span class="line">openstack role add --project service --user placement admin</span><br><span class="line">openstack service create --name placement --description &quot;Placement API&quot; placement</span><br><span class="line">openstack endpoint create --region RegionOne placement public http://controller:8778</span><br><span class="line">openstack endpoint create --region RegionOne placement internal http://controller:8778</span><br><span class="line">openstack endpoint create --region RegionOne placement admin http://controller:8778</span><br><span class="line"></span><br><span class="line">yum install -y openstack-placement-api</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/placement/placement.conf</span><br><span class="line">crudini --set /etc/placement/placement.conf placement_database connection mysql+pymysql://placement:123456@controller/placement</span><br><span class="line">crudini --set /etc/placement/placement.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken username placement</span><br><span class="line">crudini --set /etc/placement/placement.conf keystone_authtoken password 123456</span><br><span class="line">su -s /bin/sh -c &quot;placement-manage db sync&quot; placement</span><br><span class="line">systemctl restart httpd </span><br></pre></td></tr></table></figure><h3 id="2-6-检查Placement安装结果"><a href="#2-6-检查Placement安装结果" class="headerlink" title="2.6 检查Placement安装结果"></a>2.6 检查Placement安装结果</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">placement-status upgrade check</span><br><span class="line">pip3 install osc-placement</span><br><span class="line">openstack --os-placement-api-version 1.2 resource class list --sort-column name</span><br><span class="line">openstack --os-placement-api-version 1.6 trait list --sort-column name</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-7-管理UI界面Dashboard"><a href="#2-7-管理UI界面Dashboard" class="headerlink" title="2.7 管理UI界面Dashboard"></a>2.7 <strong>管理UI界面Dashboard</strong></h3><p>功能：web方式管理云平台，建云主机，分配网络，配安全组，加云盘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-dashboard</span><br><span class="line">sed -i &quot;39c ALLOWED_HOSTS = [&#x27;*&#x27;]&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;94c CACHES = &#123;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;95c &#x27;default&#x27;: &#123;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;96c &#x27;BACKEND&#x27;: &#x27;django.core.cache.backends.memcached.MemcachedCache&#x27;,&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;97c &#x27;LOCATION&#x27;: &#x27;controller:11211&#x27;,&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;98c &#125;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;99c &#125;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &quot;104c SESSION_ENGINE = &#x27;django.contrib.sessions.backends.cache&#x27;&quot; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;118c OPENSTACK_HOST = &quot;controller&quot;&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;119c OPENSTACK_KEYSTONE_URL = &quot;http://%s:5000/v3&quot; % OPENSTACK_HOST&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line">sed -i &#x27;123c TIME_ZONE = &quot;Asia/Shanghai&quot;&#x27; /etc/openstack-dashboard/local_settings</span><br><span class="line"></span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_API_VERSIONS = &#123;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;identity&quot;: 3,&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;image&quot;: 2,&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;  &quot;volume&quot;: 3&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;&#125;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = &quot;default&quot;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;OPENSTACK_KEYSTONE_DEFAULT_ROLE = &quot;user&quot;&#x27; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line"></span><br><span class="line">echo &quot;WEBROOT = &#x27;/dashboard/&#x27;&quot; &gt;&gt; /etc/openstack-dashboard/local_settings</span><br><span class="line">echo &#x27;WSGIApplicationGroup %&#123;GLOBAL&#125;&#x27; &gt;&gt; /etc/httpd/conf.d/openstack-dashboard.conf</span><br><span class="line">systemctl restart httpd memcached</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>安装完成，可访问 <a href="http://10.0.0.10/dashboard/">http://10.0.0.10/dashboard/</a> 查看 用户名 admin 密码 123456</p><hr><h3 id="2-8-计算服务-Nova-Service"><a href="#2-8-计算服务-Nova-Service" class="headerlink" title="2.8 计算服务(Nova Service)"></a>2.8 计算服务(Nova Service)</h3><p>功能：负责响应虚拟机创建请求、调度、销毁云主</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova_api&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE nova_cell0&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_api.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_cell0.* TO &#x27;nova&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON nova_cell0.* TO &#x27;nova&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 nova</span><br><span class="line">openstack role add --project service --user nova admin</span><br><span class="line">openstack service create --name nova --description &quot;OpenStack Compute&quot; compute</span><br><span class="line">openstack endpoint create --region RegionOne compute public http://controller:8774/v2.1</span><br><span class="line">openstack endpoint create --region RegionOne compute internal http://controller:8774/v2.1</span><br><span class="line">openstack endpoint create --region RegionOne compute admin http://controller:8774/v2.1</span><br><span class="line">yum install -y openstack-nova-api openstack-nova-conductor openstack-nova-novncproxy openstack-nova-scheduler</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/nova/nova.conf</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute,metadata</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT transport_url rabbit://openstack:123456@controller:5672/</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT my_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/nova/nova.conf api_database connection mysql+pymysql://nova:123456@controller/nova_api</span><br><span class="line">crudini --set /etc/nova/nova.conf database connection mysql+pymysql://nova:123456@controller/nova</span><br><span class="line">crudini --set /etc/nova/nova.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken www_authenticate_uri http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_url http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken username nova</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc enabled true</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_listen &#x27;$my_ip&#x27;</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_proxyclient_address &#x27;$my_ip&#x27;</span><br><span class="line">crudini --set /etc/nova/nova.conf glance api_servers http://controller:9292</span><br><span class="line">crudini --set /etc/nova/nova.conf oslo_concurrency lock_path /var/lib/nova/tmp</span><br><span class="line">crudini --set /etc/nova/nova.conf placement region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf placement user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/nova/nova.conf placement username placement</span><br><span class="line">crudini --set /etc/nova/nova.conf placement password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf scheduler discover_hosts_in_cells_interval 300</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage api_db sync&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 map_cell0&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 create_cell --name=cell1 --verbose&quot; nova</span><br><span class="line">su -s /bin/sh -c &quot;nova-manage db sync&quot; nova</span><br><span class="line">systemctl enable openstack-nova-api openstack-nova-scheduler openstack-nova-conductor openstack-nova-novncproxy </span><br><span class="line">systemctl start openstack-nova-api openstack-nova-scheduler openstack-nova-conductor openstack-nova-novncproxy</span><br></pre></td></tr></table></figure><h3 id="2-9-网络服务neutron-Networking-Service"><a href="#2-9-网络服务neutron-Networking-Service" class="headerlink" title="2.9 网络服务neutron(Networking Service)"></a>2.9 网络服务neutron(Networking Service)</h3><p>​功能：实现SDN（软件定义网络），提供一整套API,用户可以基于该API实现自己定义专属网络，不同厂商可以基于此API提供自己的产品实现.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE neutron&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#x27;neutron&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON neutron.* TO &#x27;neutron&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">openstack user create --domain default --password 123456 neutron</span><br><span class="line">openstack role add --project service --user neutron admin</span><br><span class="line">openstack service create --name neutron --description &quot;OpenStack Networking&quot; network</span><br><span class="line">openstack endpoint create --region RegionOne network public http://controller:9696</span><br><span class="line">openstack endpoint create --region RegionOne network internal http://controller:9696</span><br><span class="line">openstack endpoint create --region RegionOne network admin http://controller:9696</span><br><span class="line">yum install -y openstack-neutron openstack-neutron-ml2 openstack-neutron-linuxbridge ebtables</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-0配置服务器组件"><a href="#3-0配置服务器组件" class="headerlink" title="3.0配置服务器组件"></a>3.0配置服务器组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/neutron.conf</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT core_plugin ml2</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT service_plugins router</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT allow_overlapping_ips true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_status_changes true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT notify_nova_on_port_data_changes true</span><br><span class="line">crudini --set /etc/neutron/neutron.conf database connection mysql+pymysql://neutron:123456@controller/neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken username neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/neutron/neutron.conf oslo_concurrency lock_path /var/lib/neutron/tmp</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova region_name RegionOne</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova username nova</span><br><span class="line">crudini --set /etc/neutron/neutron.conf nova password 123456</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-1-配置Modular-Layer-2-ML2-plug-in"><a href="#3-1-配置Modular-Layer-2-ML2-plug-in" class="headerlink" title="3.1 配置Modular Layer 2 (ML2) plug-in"></a>3.1 配置Modular Layer 2 (ML2) plug-in</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 type_drivers flat,vlan,vxlan</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 tenant_network_types vxlan</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 mechanism_drivers linuxbridge,l2population</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2 extension_drivers port_security</span><br><span class="line"></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_flat flat_networks provider</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini ml2_type_vxlan vni_ranges 1:1000</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/ml2_conf.ini securitygroup enable_ipset true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置Linux bridge agent</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">eth1为另外第二张网卡</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini linux_bridge physical_interface_mappings provider:ens33</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan enable_vxlan true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">10.0.0.12为第二张网卡的IP</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan local_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup enable_security_group true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup firewall_driver neutron.agent.linux.iptables_firewall.IptablesFirewallDriver</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置layer-3 agent</span></span><br><span class="line">sed -i &quot;2c interface_driver = linuxbridge&quot; /etc/neutron/l3_agent.ini</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置DHCP agent</span></span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/dhcp_agent.ini</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT interface_driver linuxbridge</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT dhcp_driver neutron.agent.linux.dhcp.Dnsmasq</span><br><span class="line">crudini --set /etc/neutron/dhcp_agent.ini DEFAULT enable_isolated_metadata true</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置metadata agent</span></span><br><span class="line">crudini --set /etc/neutron/metadata_agent.ini DEFAULT nova_metadata_host controller</span><br><span class="line">crudini --set /etc/neutron/metadata_agent.ini DEFAULT metadata_proxy_shared_secret 123456</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置计算服务使用网络服务</span></span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron user_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron username neutron</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron service_metadata_proxy true</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron metadata_proxy_shared_secret 123456</span><br><span class="line">ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugin.ini</span><br><span class="line">su -s /bin/sh -c &quot;neutron-db-manage --config-file /etc/neutron/neutron.conf --config-file /etc/neutron/plugins/ml2/ml2_conf.ini upgrade head&quot; neutron</span><br><span class="line">systemctl restart openstack-nova-api</span><br><span class="line">systemctl enable neutron-server neutron-linuxbridge-agent neutron-dhcp-agent neutron-metadata-agent </span><br><span class="line">systemctl start neutron-server neutron-linuxbridge-agent neutron-dhcp-agent neutron-metadata-agent</span><br><span class="line">systemctl enable neutron-l3-agent &amp;&amp; systemctl start neutron-l3-agent</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>验证</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack network agent list</span><br></pre></td></tr></table></figure><h4 id="Linuxbridge-换-openvswitch"><a href="#Linuxbridge-换-openvswitch" class="headerlink" title="Linuxbridge 换 openvswitch"></a>Linuxbridge 换 openvswitch</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.cnblogs.com/fengjian2016/p/16476413.html</span><br></pre></td></tr></table></figure><h3 id="3-2-块存储服务"><a href="#3-2-块存储服务" class="headerlink" title="3.2 块存储服务"></a>3.2 块存储服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456 -e &quot;CREATE DATABASE cinder&quot;</span><br><span class="line"></span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON cinder.* TO &#x27;cinder&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line">mysql -uroot -p123456 -e &quot;GRANT ALL PRIVILEGES ON cinder.* TO &#x27;cinder&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cinder用户</span></span><br><span class="line">openstack user create --domain default --password-prompt cinder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将admin角色添加到cinder用户</span></span><br><span class="line">openstack role add --project service --user cinder admin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建cinderv2和cinderv3服务实体</span></span><br><span class="line">openstack service create --name cinderv2 --description &quot;OpenStack Block Storage&quot; volumev2  </span><br><span class="line">openstack service create --name cinderv3 --description &quot;OpenStack Block Storage&quot; volumev3</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建块存储服务API端点</span></span><br><span class="line">openstack endpoint create --region RegionOne volumev2 public http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev2 internal http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev2 admin http://controller:8776/v2/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 public http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 internal http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">openstack endpoint create --region RegionOne volumev3 admin http://controller:8776/v3/%\(project_id\)s</span><br><span class="line">yum -y install openstack-cinder</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/cinder/cinder.conf</span><br><span class="line">crudini --set /etc/cinder/cinder.conf database connection mysql+pymysql://cinder:123456@controller/cinder</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/cinder/cinder.conf DEFAULT my_ip 10.0.0.10</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken username cinder</span><br><span class="line">crudini --set /etc/cinder/cinder.conf keystone_authtoken password Mss123456</span><br><span class="line">crudini --set /etc/cinder/cinder.conf oslo_concurrency lock_path /var/lib/cinder/tmp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同步数据库</span></span><br><span class="line">su -s /bin/sh -c &quot;cinder-manage db sync&quot; cinder</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">计算配置为使用块存储</span></span><br><span class="line">crudini --set /etc/nova/nova.conf cinder os_region_name RegionOne  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开机启动和启动服务</span></span><br><span class="line">systemctl enable openstack-cinder-api openstack-cinder-scheduler</span><br><span class="line">systemctl start openstack-cinder-api openstack-cinder-scheduler</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二-计算节点"><a href="#二-计算节点" class="headerlink" title="二.计算节点"></a>二.计算节点</h2><h3 id="1-1-设置网卡"><a href="#1-1-设置网卡" class="headerlink" title="1.1 设置网卡"></a>1.1 设置网卡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname compute-1</span><br><span class="line">echo &quot;10.0.0.10 controller&quot; &gt;&gt; /etc/hosts</span><br><span class="line">echo &quot;10.0.0.11 compute-1&quot; &gt;&gt; /etc/hosts</span><br><span class="line"></span><br><span class="line">sed -i &quot;s/BOOTPROTO=dhcp/BOOTPROTO=static/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">sed -i &quot;s/ONBOOT=no/ONBOOT=yes/g&quot; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;IPADDR=10.0.0.11&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;NETMASK=255.255.255.0&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;GATEWAY=10.0.0.2&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS1=223.5.5.5&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">echo &quot;DNS2=8.8.8.8&quot; &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">nmcli c reload</span><br><span class="line">nmcli c up ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>controller 为控制节点的域名，compute-1 为计算节点的域名</p><p>10.0.0.11为本地的IP址，255.255.255.0 为子网掩码，10.0.0.2 为网关地址， 223.5.5.5&#x2F;223.6.6.6 这是阿里云提供的DNS服务器，8.8.8.8 这是google提供的DNS服务器。nmcli 为网络服务的控制命令(network 服务不是默认，已经弃用，可以安装)</p><p>设置DNS的方法除了在网卡设置上DNS1&#x3D;x.x.x.x ，还可以编辑文件“&#x2F;etc&#x2F;resolv.conf” ，验证DNS </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;nameserver 223.5.5.5&quot; &gt;&gt; /etc/resolv.conf</span><br><span class="line">echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf</span><br></pre></td></tr></table></figure><h3 id="1-2-验证DNs"><a href="#1-2-验证DNs" class="headerlink" title="1.2 验证DNs"></a>1.2 验证DNs</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig alidns.com</span><br></pre></td></tr></table></figure><h3 id="1-3-关闭swap分区，关闭SeLinux-1"><a href="#1-3-关闭swap分区，关闭SeLinux-1" class="headerlink" title="1.3 关闭swap分区，关闭SeLinux"></a>1.3 <strong>关闭swap分区，关闭SeLinux</strong></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br><span class="line">sed -i &#x27;/ swap / s/^\(.*\)$/#\1/g&#x27; /etc/fstab</span><br><span class="line">setenforce 0</span><br><span class="line">sed -i &#x27;s#SELINUX=enforcing#SELINUX=disabled#g&#x27; /etc/selinux/config</span><br><span class="line">systemctl disable firewalld &amp;&amp; systemctl stop firewalld</span><br></pre></td></tr></table></figure><h3 id="1-4-时间服务-1"><a href="#1-4-时间服务-1" class="headerlink" title="1.4 时间服务"></a>1.4 时间服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -y chrony</span><br><span class="line">sed -i &#x27;/^pool/d&#x27; /etc/chrony.conf</span><br><span class="line">sed -i &#x27;/^server/d&#x27; /etc/chrony.conf</span><br><span class="line">sed -i &#x27;2aserver controller iburst&#x27; /etc/chrony.conf</span><br><span class="line">echo &quot;pool ntp.aliyun.com iburst&quot; &gt;&gt; /etc/chrony.conf</span><br><span class="line">systemctl enable chronyd &amp;&amp; systemctl start chronyd</span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ntp.aliyun.com 为阿里的NTP服务器，用于网络同步时间</p><h3 id="1-5-基础组件"><a href="#1-5-基础组件" class="headerlink" title="1.5 基础组件"></a>1.5 基础组件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-release-wallaby </span><br><span class="line">yum install -y python3-openstackclient</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum install -y python38</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s /usr/bin/python3.8 /usr/bin/python</span></span><br><span class="line">git clone https://github.com/pixelb/crudini.git</span><br><span class="line">cd crudini</span><br><span class="line">python3 setup.py install</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">ln</span> -s ~/crudini /usr/bin/crudini</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">yum config-manager --set-enabled PowerTools</span></span><br></pre></td></tr></table></figure><p>crudini的工具，在OpenEuler的源上是没有这个工具的，可以下载其源代码进行安装使用，本地应用使用python38进行安装使用。若是在CentOS8的数据源，可以直接安装，不需要下载源代码进行安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y crudini</span><br></pre></td></tr></table></figure><h3 id="1-6-计算服务nova-Compute-Service"><a href="#1-6-计算服务nova-Compute-Service" class="headerlink" title="1.6 计算服务nova(Compute Service)"></a>1.6 计算服务nova(Compute Service)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-nova-compute</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/nova/nova.conf</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT enabled_apis osapi_compute,metadata</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT my_ip 10.0.0.11</span><br><span class="line">crudini --set /etc/nova/nova.conf api auth_strategy keystone</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken www_authenticate_uri http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_url http://controller:5000/</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken username nova</span><br><span class="line">crudini --set /etc/nova/nova.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc enabled true</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_listen 0.0.0.0</span><br><span class="line">crudini --set /etc/nova/nova.conf vnc server_proxyclient_address &#x27;$my_ip&#x27; </span><br><span class="line">crudini --set /etc/nova/nova.conf vnc novncproxy_base_url http://controller:6080/vnc_auto.html</span><br><span class="line">crudini --set /etc/nova/nova.conf glance api_servers http://controller:9292</span><br><span class="line">crudini --set /etc/nova/nova.conf oslo_concurrency lock_path /var/lib/nova/tmp</span><br><span class="line">crudini --set /etc/nova/nova.conf placement region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf placement user_domain_name Default</span><br><span class="line">crudini --set /etc/nova/nova.conf placement auth_url http://controller:5000/v3</span><br><span class="line">crudini --set /etc/nova/nova.conf placement username placement</span><br><span class="line">crudini --set /etc/nova/nova.conf placement password 123456</span><br><span class="line">crudini --set /etc/nova/nova.conf libvirt virt_type kvm</span><br><span class="line">systemctl enable libvirtd openstack-nova-compute</span><br><span class="line">systemctl start libvirtd openstack-nova-compute</span><br></pre></td></tr></table></figure><p>#执行命令，查看是否支持CPU虚拟化，如果大于0则支持</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egrep -c &#x27;(vmx|svm)&#x27; /proc/cpuinfo</span><br></pre></td></tr></table></figure><p>#如果不支持的话还需要执行下面的命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crudini --set /etc/nova/nova.conf libvirt virt_type qemu</span><br><span class="line">systemctl restart libvirtd openstack-nova-compute</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">OpenEuler 22.3版出现openstack-nova-compute启动不成功，如下解决</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/lib/python3.9/site-packages/instances</span><br><span class="line">crudini --set /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver</span><br></pre></td></tr></table></figure><p>#控制节点 计算节点从注册到发现会有延迟，根据discover_hosts_in_cells_interval 配置轮询发现时间，可以执行下面命令手动发现计算节点</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su -s /bin/sh -c &quot;nova-manage cell_v2 discover_hosts --verbose&quot; nova</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者</span></span><br><span class="line">openstack compute service list --service nova-compute</span><br></pre></td></tr></table></figure><h3 id="1-7-网络服务"><a href="#1-7-网络服务" class="headerlink" title="1.7 网络服务"></a>1.7 网络服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">yum install -y openstack-neutron-linuxbridge ebtables ipset</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/neutron.conf</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT transport_url rabbit://openstack:123456@controller</span><br><span class="line">crudini --set /etc/neutron/neutron.conf DEFAULT auth_strategy keystone</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken www_authenticate_uri http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken memcached_servers controller:11211</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken auth_type password</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken user_domain_name default</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken project_name service</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken username neutron</span><br><span class="line">crudini --set /etc/neutron/neutron.conf keystone_authtoken password 123456</span><br><span class="line">crudini --set /etc/neutron/neutron.conf oslo_concurrency lock_path /var/lib/neutron/tmp</span><br><span class="line">sed -i.default -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; /etc/neutron/plugins/ml2/linuxbridge_agent.ini</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自己的网卡</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini linux_bridge physical_interface_mappings provider:ens33</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan enable_vxlan true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自己的ip地址</span></span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan local_ip 10.0.0.11</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup enable_security_group true</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini securitygroup firewall_driver neutron.agent.linux.iptables_firewall.IptablesFirewallDriver</span><br><span class="line">crudini --set /etc/neutron/plugins/ml2/linuxbridge_agent.ini vxlan l2_population true</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">配置计算服务使用网络服务</span></span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_url http://controller:5000</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron auth_type password</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron user_domain_name default</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron region_name RegionOne</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron project_name service</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron username neutron</span><br><span class="line">crudini --set /etc/nova/nova.conf neutron password 123456</span><br><span class="line">systemctl restart openstack-nova-compute</span><br><span class="line">systemctl enable neutron-linuxbridge-agent </span><br><span class="line">systemctl start neutron-linuxbridge-agent</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三-创建虚拟机"><a href="#三-创建虚拟机" class="headerlink" title="三 .创建虚拟机"></a>三 .创建虚拟机</h2><h3 id="1-1-创建虚拟网络"><a href="#1-1-创建虚拟网络" class="headerlink" title="1.1 创建虚拟网络"></a>1.1 创建虚拟网络</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 创建网络</span></span><br><span class="line">openstack network create  --share  --provider-physical-network provider --provider-network-type flat provider</span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">2 查看</span></span><br><span class="line">openstack network list </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-2-创建子网"><a href="#1-2-创建子网" class="headerlink" title="1.2 创建子网"></a>1.2 创建子网</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 创建网络</span></span><br><span class="line">openstack subnet create --network provider \</span><br><span class="line">  --allocation-pool start=10.0.0.100,end=10.0.0.200 \</span><br><span class="line">  --dns-nameserver 10.0.0.2 --gateway 10.0.0.2 \</span><br><span class="line">  --subnet-range 10.0.0.0/24 provider-sub</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 查看</span></span><br><span class="line">openstack subnet list</span><br></pre></td></tr></table></figure><h3 id="1-3-创建主机规格"><a href="#1-3-创建主机规格" class="headerlink" title="1.3 创建主机规格"></a>1.3 创建主机规格</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">1 创建主机规格</span></span><br><span class="line">openstack flavor create --id 0 --vcpus 1 --ram 64 --disk 1 m1.nano</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">openstack flavor create 创建主机</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--<span class="built_in">id</span> 主机ID</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--vcpus cpu数量</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--ram 64（默认是MB，可以写成G）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--disk 磁盘（默认单位是G）</span></span><br></pre></td></tr></table></figure><h3 id="1-4-生成密钥对"><a href="#1-4-生成密钥对" class="headerlink" title="1.4 生成密钥对"></a>1.4 生成密钥对</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1 生成密钥</span></span><br><span class="line">ssh-keygen -q -N &quot;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2 上传密钥</span></span><br><span class="line">openstack keypair create --public-key ~/.ssh/id_rsa.pub mykey</span><br></pre></td></tr></table></figure><h3 id="1-5-添加安全组规则"><a href="#1-5-添加安全组规则" class="headerlink" title="1.5 添加安全组规则"></a>1.5 添加安全组规则</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许ICMP（ping）</span></span><br><span class="line">openstack security group rule create --proto icmp default</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">允许安全shell（SSH）访问</span></span><br><span class="line">openstack security group rule create --proto tcp --dst-port 22 default</span><br></pre></td></tr></table></figure><h3 id="1-6-查看创建实例需要的相关信息"><a href="#1-6-查看创建实例需要的相关信息" class="headerlink" title="1.6 查看创建实例需要的相关信息"></a>1.6 查看创建实例需要的相关信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">openstack flavor list</span><br><span class="line">openstack image list</span><br><span class="line">openstack network list</span><br><span class="line">openstack security group list</span><br><span class="line">openstack keypair list</span><br></pre></td></tr></table></figure><h3 id="1-7-使用镜像创建虚拟机系统"><a href="#1-7-使用镜像创建虚拟机系统" class="headerlink" title="1.7 使用镜像创建虚拟机系统"></a>1.7 使用镜像创建虚拟机系统</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openstack server create --flavor m1.nano --image cirros  --security-group default --key-name mykey hello-instance</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">还可加入网络(net-id 在上一步获取)--nic net-id=9e07c3d5-9a9e-496c-90b6-ba294f8b0699</span></span><br></pre></td></tr></table></figure><h3 id="1-8-查看实例"><a href="#1-8-查看实例" class="headerlink" title="1.8 查看实例"></a>1.8 查看实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openstack server list</span><br></pre></td></tr></table></figure><h3 id="1-9-登录"><a href="#1-9-登录" class="headerlink" title="1.9 登录"></a>1.9 登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ssh登录</span></span><br><span class="line">ping 10.0.0.x</span><br><span class="line">ssh cirros@10.0.0.x</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">web登录的url</span></span><br><span class="line">openstack console url show hello-instance</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> openstack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬虫</title>
      <link href="/posts/7ade1d5c.html"/>
      <url>/posts/7ade1d5c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><h4 id="1-1-爬虫的定义"><a href="#1-1-爬虫的定义" class="headerlink" title="1.1 爬虫的定义"></a>1.1 爬虫的定义</h4><ul><li>爬虫是指使用代码模拟用户批量发送网络请求，批量获取数据的行为。</li></ul><h4 id="1-2-urllib的基本使用"><a href="#1-2-urllib的基本使用" class="headerlink" title="1.2 urllib的基本使用"></a>1.2 urllib的基本使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用urllib来获取百度首页的源码</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="comment"># 1.定义一个url</span></span><br><span class="line">url = <span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求,response响应</span></span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 获取响应的源码，content内容 read()返回二进制的字节数据，要将二进制数据转化成字符，这个过程叫解码</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">#打印数据</span></span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="1-3-urllib-一个类型6个方法"><a href="#1-3-urllib-一个类型6个方法" class="headerlink" title="1.3 urllib 一个类型6个方法"></a>1.3 urllib 一个类型6个方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">coding: <span class="string">&#x27;utf8&#x27;</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求</span></span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 一个类型和6个方法 response是HTTPResponse的类型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(response))</span><br><span class="line"><span class="comment"># 按照字节形式去读</span></span><br><span class="line"><span class="comment"># content=response.read()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果read()方法里面有数字，代表返回多少个字节</span></span><br><span class="line"><span class="comment"># content=response.read(8)</span></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># content = response.readline()  # 按行读取,只能读一行，速度快</span></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># content = response.readlines()  #按行读取</span></span><br><span class="line"><span class="comment">#print(content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回状态码 200</span></span><br><span class="line"><span class="built_in">print</span>(response.getcode())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回url地址</span></span><br><span class="line"><span class="built_in">print</span>(response.geturl())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请求头信息</span></span><br><span class="line"><span class="built_in">print</span>(response.getheaders())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个类型 HTTPresponse</span></span><br><span class="line"><span class="comment"># 6个方法 read()  reline() relines() getcode() geturl() getheaders()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-4-请求对象定制"><a href="#1-4-请求对象定制" class="headerlink" title="1.4 请求对象定制"></a>1.4 请求对象定制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line">url = <span class="string">&#x27;https://www.baidu.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># url 组成部分</span></span><br><span class="line"><span class="comment"># https://www.baidu.com/s?wd=周杰伦</span></span><br><span class="line"><span class="comment"># http https   www.baidu.com  http:80  https:443   s         wd=周杰伦</span></span><br><span class="line"><span class="comment"># 协议          域名                 端口号             路径      参数       锚点</span></span><br><span class="line"><span class="comment"># 端口号  http:80  https:443</span></span><br><span class="line"><span class="comment">#查看更多内容</span></span><br><span class="line"><span class="comment">#简介：useragent一般指用户代理。 用户代理（User Agent，简称 UA），是一个特殊字符串头，</span></span><br><span class="line"><span class="comment"># 使得服务器能够识别客户使用的操作系统及版本、CPU 类型、浏览器及版本、浏览器渲染引擎、浏览器语言、浏览器插件等。</span></span><br><span class="line"></span><br><span class="line">headers=&#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 因为URLopen不能存放字典 所以headers不能传递进去，需要请求对象定制,可以存放request对象</span></span><br><span class="line"><span class="comment"># 请求对象的定制</span></span><br><span class="line"><span class="comment"># 注意 因为参数顺序问题 不能直接学URL 和headers 需要用变量来接受收</span></span><br><span class="line">request=urllib.request.Request(url=url,headers=headers)</span><br><span class="line"></span><br><span class="line">response=urllib.request.urlopen(request)</span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>扩展</li></ul><p><img src="https://s2.loli.net/2023/01/06/lU5sBAt68wkJjZ3.png" alt="image-20230106163723099"></p><h4 id="1-5-urllib-get请求方式-quote方法"><a href="#1-5-urllib-get请求方式-quote方法" class="headerlink" title="1.5 urllib_get请求方式 quote方法"></a>1.5 urllib_get请求方式 quote方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="comment"># https://www.baidu.com/s?wd=%E5%91%A8%E6%9D%B0%E4%BC%A6</span></span><br><span class="line">url=<span class="string">&#x27;https://www.baidu.com/s?wd=%E5%91%A8%E6%9D%B0%E4%BC%A6&#x27;</span></span><br><span class="line"><span class="comment"># 请求对象的定制，是为了解决反爬虫的第一种手段</span></span><br><span class="line">headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 将周杰伦变成unicode的格式</span></span><br><span class="line"><span class="comment"># 我们需要依赖与urllib.parse</span></span><br><span class="line">name=urllib.parse.quote(<span class="string">&#x27;周杰伦&#x27;</span>)</span><br><span class="line">url = url + name</span><br><span class="line">requst=urllib.request.Request(url=url,headers=headers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求</span></span><br><span class="line">response=urllib.request.urlopen(requst)</span><br><span class="line"><span class="comment"># 获取响应的内容</span></span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># 打印输出</span></span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="1-6urllib-get请求方式-urlencode方法"><a href="#1-6urllib-get请求方式-urlencode方法" class="headerlink" title="1.6urllib_get请求方式 urlencode方法"></a>1.6urllib_get请求方式 urlencode方法</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># urlencode的应用场景</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">base_url = <span class="string">&#x27;https://www.baidu.com/s?&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;wd&#x27;</span>: <span class="string">&#x27;周杰伦&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">new_data = urllib.parse.urlencode(data)</span><br><span class="line"><span class="comment"># 请求资源路径</span></span><br><span class="line">data = base_url + new_data</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 请求对象定制</span></span><br><span class="line">request = urllib.request.Request(url=data, headers=headers)</span><br><span class="line"><span class="comment"># 向浏览器发送请求</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment"># 获取响应内容</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-7post请求方式百度方式"><a href="#1-7post请求方式百度方式" class="headerlink" title="1.7post请求方式百度方式"></a>1.7post请求方式百度方式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="comment"># post请求</span></span><br><span class="line">url = <span class="string">&#x27;https://fanyi.baidu.com/sug&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;kw&#x27;</span>: <span class="string">&#x27;spider&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># post请求的方式必须就行编码</span></span><br><span class="line">data = urllib.parse.urlencode(data).encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># post的请求方式是不会拼接到URL后面的</span></span><br><span class="line"><span class="comment"># 请求对象定制</span></span><br><span class="line">request = urllib.request.Request(url=url, data=data, headers=headers)</span><br><span class="line"><span class="comment"># 向浏览器发送请求</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment"># 获取响应数据</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">#字符串变成json对象</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">obj=json.loads(content)</span><br><span class="line"><span class="built_in">print</span>(obj)</span><br><span class="line"><span class="comment"># post请求方式必须编码 data=urllib.parse.urlencode(data).encode(&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment"># 编码之后必须调用encode方法encode(&#x27;utf-8&#x27;)</span></span><br><span class="line"><span class="comment"># 请求参数是放在请求定制中的，request=urllib.request.Request(url=url,data=data,headers=headers)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-9-ajax-get请求-豆瓣电影的第一页数据"><a href="#1-9-ajax-get请求-豆瓣电影的第一页数据" class="headerlink" title="1.9 ajax   get请求 豆瓣电影的第一页数据"></a>1.9 ajax   get请求 豆瓣电影的第一页数据</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># get 请求 获取豆瓣电影第一页的数据 并且保存起来</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line">url=<span class="string">&#x27;https://movie.douban.com/j/chart/top_list?type=5&amp;interval_id=100%3A90&amp;action=&amp;start=0&amp;limit=20&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 请求对象的定制</span></span><br><span class="line">request = urllib.request.Request(url, headers=headers)</span><br><span class="line"><span class="comment">#向浏览器请求数据</span></span><br><span class="line">response = urllib.request.urlopen(request)</span><br><span class="line"><span class="comment">#获取响应数据</span></span><br><span class="line">content = response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(content)</span></span><br><span class="line"><span class="comment"># 将数据下载到本地,open方法默认使用gbk编码，文件中有中文使用decoding更改编码为utf-8</span></span><br><span class="line">fp = <span class="built_in">open</span>(<span class="string">&#x27;douban.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">fp.write(content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#with open(&#x27;douban1.json&#x27;,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fp:</span></span><br><span class="line"><span class="comment">#    fp.write(content)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-0-urllib异常处理"><a href="#2-0-urllib异常处理" class="headerlink" title="2.0 urllib异常处理"></a>2.0 urllib异常处理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.error</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;https://blog.csdn.net/nav/lang111&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    request = urllib.request.Request(url=url,headers=headers)</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(content)</span><br><span class="line"><span class="keyword">except</span> urllib.error.HTTPError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;系统在升级&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-1-handler处理器"><a href="#2-1-handler处理器" class="headerlink" title="2.1  handler处理器"></a>2.1  handler处理器</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">reqeust = urllib.request.Request(url=url,headers=headers)</span><br><span class="line"><span class="comment"># handler  build_opener   open</span></span><br><span class="line"><span class="comment"># 获取handler对象</span></span><br><span class="line">handler = urllib.request.HTTPHandler()</span><br><span class="line"><span class="comment"># 获取opener对象</span></span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line"><span class="comment">#调用open方法</span></span><br><span class="line">response = opener.<span class="built_in">open</span>(reqeust)</span><br><span class="line">content=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(content)</span><br></pre></td></tr></table></figure><h4 id="2-2-代理"><a href="#2-2-代理" class="headerlink" title="2.2 代理"></a>2.2 代理</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  urllib.request</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#请求对象定制</span></span><br><span class="line">request= urllib.request.Request(url=url,headers=headers)</span><br><span class="line">proxies=&#123;</span><br><span class="line">    <span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;183.64.239.19:8060&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># handler  build_opener    open</span></span><br><span class="line">handler = urllib.request.ProxyHandler(proxies=proxies)</span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line">response =opener.<span class="built_in">open</span>(request)</span><br><span class="line"></span><br><span class="line"><span class="comment">#向浏览器发送请求</span></span><br><span class="line"><span class="comment">#response = urllib.request.urlopen(request)</span></span><br><span class="line"><span class="comment">#获取响应数据</span></span><br><span class="line">context=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(context)</span><br></pre></td></tr></table></figure><h4 id="2-3-代理池"><a href="#2-3-代理池" class="headerlink" title="2.3 代理池"></a>2.3 代理池</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">proxies_pool =[</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;183.64.239.19:8060&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;222.66.202.6:80&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;222.66.202.6:80&#x27;</span>&#125;</span><br><span class="line">]</span><br><span class="line">posixs= random.choice(proxies_pool)</span><br><span class="line">url=<span class="string">&#x27;http://www.baidu.com/&#x27;</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:104.0) Gecko/20100101 Firefox/104.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">request= urllib.request.Request(url=url,headers=headers)</span><br><span class="line">handler= urllib.request.ProxyHandler(proxies=posixs)</span><br><span class="line">opener=urllib.request.build_opener(handler)</span><br><span class="line">response=opener.<span class="built_in">open</span>(request)</span><br><span class="line">context=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(context)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xpath基础语法</title>
      <link href="/posts/2ef385a5.html"/>
      <url>/posts/2ef385a5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-xpath语法"><a href="#1-1-xpath语法" class="headerlink" title="1.1 xpath语法"></a>1.1 xpath语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xpath基本语法：</span><br><span class="line"><span class="number">1.</span>路径查询</span><br><span class="line">    // :查找所有子孙节点，不考虑层级关系</span><br><span class="line">    /  :直接找子节点</span><br><span class="line">    <span class="number">2.</span>谓词查询</span><br><span class="line">    //div[@<span class="built_in">id</span>]</span><br><span class="line">    //div[@<span class="built_in">id</span>=<span class="string">&quot;hdj&quot;</span>]</span><br><span class="line">    <span class="number">3.</span>属性查询</span><br><span class="line">    //@<span class="keyword">class</span></span><br><span class="line">    <span class="number">4.</span>模糊查询</span><br><span class="line">    //div[contains(@<span class="built_in">id</span>,<span class="string">&quot;he&quot;</span>)]</span><br><span class="line">    <span class="number">5.</span>内容查询</span><br><span class="line">    //div/h1/text()</span><br><span class="line">    </span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;l1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;c1&quot;</span>&gt;</span>四川<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;l2&quot;</span>&gt;</span>重庆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>贵州<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>成都<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>湖南<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>白净<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">查找ul下面的li </span><br><span class="line"></span><br><span class="line">xpath   ://body/ul/li</span><br><span class="line"></span><br><span class="line">查找 li下面所有有id属性的li标签,text()获取标签中内容</span><br><span class="line">xpath   ://ul/li[@id]/text()</span><br><span class="line"></span><br><span class="line">找到标签为li的标签</span><br><span class="line">xpath   ://ul/li[@id=&quot;l1&quot;]</span><br><span class="line"></span><br><span class="line">查找到id 为l1的li标签的class的属性值</span><br><span class="line">//ul/li[@id=&quot;l1&quot;]/@clas</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bs4基础语法</title>
      <link href="/posts/8a8d0b38.html"/>
      <url>/posts/8a8d0b38.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-BeautifulSoup"><a href="#1-1-BeautifulSoup" class="headerlink" title="1.1 .BeautifulSoup"></a>1.1 .BeautifulSoup</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>BeautifulSoup简称:</span><br><span class="line"> bs4</span><br><span class="line"><span class="number">2.</span>什么是BeatifulSoup?</span><br><span class="line">Beautifulsoup，和lxml一样，是一个html的解析器，主要功能也是解析和提取数据</span><br><span class="line"><span class="number">3.</span>优缺点?</span><br><span class="line">缺点：效率没有lxml的效率高</span><br><span class="line">优点：接口设计人性化，使用方便</span><br></pre></td></tr></table></figure><h5 id="1-1-2安装以及创建"><a href="#1-1-2安装以及创建" class="headerlink" title="1.1.2安装以及创建"></a>1.1.2安装以及创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>安装</span><br><span class="line">pip install bs4</span><br><span class="line"><span class="number">2.</span>导入</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="number">3.</span>创建对象</span><br><span class="line">服务器响应的文件生成对象     </span><br><span class="line">soup = BeautifulSoup(response.read().decode()，<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">本地文件生成对象</span><br><span class="line">soup = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;1.html&#x27;</span>)，<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">注意：默认打开文件的编码格式gbk所以需要指定打开编码格式</span><br></pre></td></tr></table></figure><h5 id="1-1-3-节点查询"><a href="#1-1-3-节点查询" class="headerlink" title="1.1.3 节点查询"></a>1.1.3 节点查询</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>根据标签名查找节点</span><br><span class="line">soup.a 【注】只能找到第一个a</span><br><span class="line">soup.a.name</span><br><span class="line">soup.a.attrs</span><br><span class="line"><span class="number">2.</span>函数</span><br><span class="line">(<span class="number">1</span>).find(返回一个对象）</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>)：只找到第一个a标签</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>, title=<span class="string">&#x27;名字&#x27;</span>）</span><br><span class="line">find(<span class="string">&#x27;a&#x27;</span>,class_=<span class="string">&#x27;名字&#x27;</span>）</span><br><span class="line">（<span class="number">2</span>).find_all(返回一个列表）</span><br><span class="line">    find_all(<span class="string">&#x27;a&#x27;</span>) 查找到所有的a</span><br><span class="line">    find_all([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;span&#x27;</span>]) 返回所有的a和span</span><br><span class="line">    find_all(<span class="string">&#x27;a&#x27;</span>, limit=<span class="number">2</span>） 只找前两个a</span><br><span class="line">(<span class="number">3</span>).select(根据选择器得到节点对象）【推荐】</span><br><span class="line"><span class="number">1.</span>element</span><br><span class="line"> eg:p</span><br><span class="line"><span class="number">2.</span>.<span class="keyword">class</span></span><br><span class="line"><span class="title class_">eg</span>:.firstname</span><br><span class="line"><span class="number">3.</span><span class="comment">#id</span></span><br><span class="line"> eg:<span class="comment">#firstname</span></span><br><span class="line"><span class="number">4.</span>属性选择器</span><br><span class="line">[attribute]</span><br><span class="line">eg:li = soup.select(<span class="string">&#x27;li[class]&#x27;</span>）</span><br><span class="line">[attribute=value]</span><br><span class="line">eg:li = soup.select(<span class="string">&#x27;li[class=&quot;hengheng1&quot;]&#x27;</span>）</span><br><span class="line">                    <span class="number">5.</span>层级选择器</span><br><span class="line">element element</span><br><span class="line">div p</span><br><span class="line">element&gt;element</span><br><span class="line">div&gt;p</span><br><span class="line">element,element</span><br><span class="line">div,p</span><br><span class="line">eg：soup = soup.select(<span class="string">&#x27;a,span&#x27;</span>)</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h5 id="1-1-4节点信息"><a href="#1-1-4节点信息" class="headerlink" title="1.1.4节点信息"></a>1.1.4节点信息</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）.获取节点内容：适用于标签中嵌套标签的结构</span><br><span class="line">obj.string</span><br><span class="line">obj.get_text(）【推荐】</span><br><span class="line">（<span class="number">2</span>）.节点的属性</span><br><span class="line">tag.name 获取标签名</span><br><span class="line">eg:tag = find(<span class="string">&#x27;li)</span></span><br><span class="line"><span class="string">print(tag.name）</span></span><br><span class="line"><span class="string">tag.attrs将属性值作为一个字典返回</span></span><br><span class="line"><span class="string">（3）.获取节点属性</span></span><br><span class="line"><span class="string">obj.attrs.get(&#x27;</span>title<span class="string">&#x27;)【常用】</span></span><br><span class="line"><span class="string">obj.get(&#x27;</span>title<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">obj[&#x27;</span>title<span class="string">&#x27;]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认打开文件是gbk 需要指定编码</span></span><br><span class="line">soup = BeautifulSoup(<span class="built_in">open</span>(<span class="string">&#x27;static/test.html&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>), <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line"><span class="comment"># 根据标签内容找数据，找到的是第一个数据</span></span><br><span class="line"><span class="comment"># print(soup.table)</span></span><br><span class="line"><span class="comment"># 返回的标签的属性</span></span><br><span class="line"><span class="comment"># print(soup.a.attrs)</span></span><br><span class="line"><span class="comment"># bs4的一些函数方法</span></span><br><span class="line"><span class="comment"># (1) find</span></span><br><span class="line"><span class="comment"># 返回第一个符合条件的数据,根据属性值查找标签</span></span><br><span class="line"><span class="comment"># print(soup.find(&#x27;table&#x27;,width=&#x27;500&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (2) find_all 返回列表</span></span><br><span class="line"><span class="comment"># print(soup.find_all(&#x27;td&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果要多个标签的数据需要用[]</span></span><br><span class="line"><span class="comment"># print(soup.find_all([&#x27;a&#x27;,&#x27;td&#x27;]))</span></span><br><span class="line"><span class="comment">#limit 指定数据个数</span></span><br><span class="line"><span class="comment"># print(soup.find_all(&#x27;td&#x27;,limit=10))</span></span><br><span class="line"><span class="comment"># (3) select</span></span><br><span class="line"><span class="comment">#返回多个数据</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;td&#x27;))</span></span><br><span class="line"><span class="comment">#通过类选择器 class</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;.a1&#x27;))</span></span><br><span class="line"><span class="comment"># # 通过id</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;#a1&#x27;))</span></span><br><span class="line"><span class="comment"># 找到table中有id的数据</span></span><br><span class="line"><span class="comment"># print(soup.select(&#x27;table[id]&#x27;))</span></span><br><span class="line"><span class="comment">#层级选择器 后代选择器</span></span><br><span class="line"><span class="comment"># print( soup.select(&#x27;table tr td&#x27;))</span></span><br><span class="line"><span class="comment">#子代选择器</span></span><br><span class="line">obj= soup.select(<span class="string">&#x27;table &gt; tr &gt; td&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(obj.string)</span><br><span class="line"><span class="built_in">print</span>(obj.get_text())</span><br><span class="line"><span class="comment">#获取节点内容</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透教程</title>
      <link href="/posts/ebdb35ac.html"/>
      <url>/posts/ebdb35ac.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h3><ul><li>下载frp 传入到服务端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/frp</span><br><span class="line">tar -zxvf frp_0.45.0_linux_386.tar.gz</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/6KEXmNdQaDLFYsW.png" alt="image-20230107163046270"></p><ul><li>服务器端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">配置 frps.ini</span><br><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br><span class="line">bind_addr = 0.0.0.0</span><br><span class="line">token = 123456</span><br><span class="line"></span><br><span class="line">dashboard_port = 37500</span><br><span class="line">dashboard_user = admin</span><br><span class="line">dashboard_pwd = admin</span><br><span class="line">~</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动命令</span><br><span class="line"> ./frps -c frps.ini</span><br><span class="line"> 后台启动 </span><br><span class="line"> nohup ./frps -c frps.ini &amp;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/b8KHOdISPqMQk25.png" alt="image-20230107163200710"></p><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><ul><li>下载frp 传入到客户端</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/frp</span><br><span class="line">tar -zxvf frp_0.45.0_linux_386.tar.gz</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/6KEXmNdQaDLFYsW.png" alt="image-20230107163258297"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">配置 frpc.ini</span><br><span class="line">[common]</span><br><span class="line">server_addr = 1.12.224.79</span><br><span class="line">server_port = 7000</span><br><span class="line">token=123456</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 6000</span><br><span class="line"></span><br><span class="line">[fileServer]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 10000</span><br><span class="line">remote_port = 6001</span><br><span class="line"></span><br><span class="line">[wikijs]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 127.0.0.1</span><br><span class="line">local_port = 9000</span><br><span class="line">remote_port = 6002</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动命令</span><br><span class="line"> ./frpc  -c frps.ini</span><br><span class="line"> 后台启动 </span><br><span class="line"> nohup ./frpc  -c frps.ini &amp;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 内网穿透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux基础</title>
      <link href="/posts/a4a81253.html"/>
      <url>/posts/a4a81253.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linux文件系统基础命令"><a href="#Linux文件系统基础命令" class="headerlink" title="Linux文件系统基础命令"></a>Linux文件系统基础命令</h2><h3 id="1-1-Linux文件系统概念"><a href="#1-1-Linux文件系统概念" class="headerlink" title="1.1 Linux文件系统概念"></a>1.1 Linux文件系统概念</h3><ul><li><p>操作系统中负责管理和存储文件信息的软件机构称为文件管</p><p>  理系统，简称文件系统：</p></li><li><p>文件系统的结构通常叫做目录树结构，从斜杠&#x2F;根目录开始：</p></li><li><p>Liux号称”万物皆文件”，意味着针对Liux的操作，大多数时间是在针对Linux文件系统操作。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/E51mVpiokLIbzFG.png" alt="image-20230109132526566"></p><h3 id="1-2-文件系统的通用性"><a href="#1-2-文件系统的通用性" class="headerlink" title="1.2 文件系统的通用性"></a>1.2 文件系统的通用性</h3><ul><li>几乎主流的文件系统都是从&#x2F;根目录开始的，Liux也不例外，而windows,文件系统会以盘符来区分不同文件系统；</li><li>目录树中节点分为两个种类：目录(directory)、文件(file);</li><li>从根目录开始，路径具有唯一性：</li><li>只有在目录下才可以继续创建下一级目录，换句话说目录树到文件终止蔓延。</li></ul><h3 id="1-3-易混概念"><a href="#1-3-易混概念" class="headerlink" title="1.3 易混概念"></a>1.3 易混概念</h3><ul><li>当前路径：也叫当前工作目录，当下用户所属的位置：</li><li>相对路径：相对当前工作目录开始的路径，会随当前路径变化而变化：</li><li>绝对路径：不管工作目录在哪，绝对路径都是从&#x2F;根目录开始，唯一不重复。</li></ul><p><img src="https://s2.loli.net/2023/01/09/3aTXKNA1gBYVUqR.png" alt="image-20230109132856954"></p><h3 id="1-4-特殊符号"><a href="#1-4-特殊符号" class="headerlink" title="1.4 特殊符号"></a>1.4 特殊符号</h3><ul><li>. 目录或者文件名字以开始表示是隐藏的文件，如果路径以.开始表示当前路径</li><li>.. 当前目录的上一级目录</li><li>~ 当前用户的home目录，比如root用户home目录是&#x2F;root</li><li>&#x2F; 根目录</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录下的a</span></span><br><span class="line">cd ./a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入根目录下的a</span></span><br><span class="line">cd /a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录上一级下的a</span></span><br><span class="line">cd ../a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前操作用户home目录下的a</span></span><br><span class="line">cd ~/a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入当前目录下的a a是隐藏的</span></span><br><span class="line">cd .a</span><br></pre></td></tr></table></figure><h3 id="1-5-Linux-命令帮助手册"><a href="#1-5-Linux-命令帮助手册" class="headerlink" title="1.5 Linux 命令帮助手册"></a>1.5 Linux 命令帮助手册</h3><ul><li>help命令</li></ul><p><img src="https://s2.loli.net/2023/01/09/KkmGe3bH98jP5Zr.png" alt="image-20230109133251050"></p><ul><li>man命令</li></ul><p><img src="https://s2.loli.net/2023/01/09/LBSxMaoE52APIWb.png" alt="image-20230109133324255"></p><h2 id="Linux基础命令"><a href="#Linux基础命令" class="headerlink" title="Linux基础命令"></a>Linux基础命令</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><ul><li>命令属于死东西，属于多用多会，不用就忘的知识，孰能生巧；</li><li>Tab键可以实现自动补全和提示，要合理使用；</li><li>history命令可以显示历史执行记录，或者使用方向键来切换前后执行过的命令；</li></ul><h3 id="1-2-显示目录内容"><a href="#1-2-显示目录内容" class="headerlink" title="1.2 显示目录内容"></a>1.2 显示目录内容</h3><ul><li>Is (list files)命令：用于显示指定工作目录下之内容（列出目前工作目录所含之文件及子目录）。</li><li>-a 显示所有文件及目录（开头的隐藏文件也会列出）</li><li>-l 除文件名称外，亦将文件型态、权限、拥有者、文件大小等详细列出</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s path</span><br><span class="line">ls -a path # 查看所有文件 包括隐藏文件</span><br><span class="line">ls -l =ll # 查看文件详细信息 包括权限 类型 时间 大小等</span><br><span class="line">ll -h path # 表示以人性化的显示内容</span><br><span class="line">ll * # *通配符表示任意字符 ?表示有且只有一个字符</span><br></pre></td></tr></table></figure><h3 id="1-3-切换目录"><a href="#1-3-切换目录" class="headerlink" title="1.3 切换目录"></a>1.3 切换目录</h3><ul><li><p>cd（change directory）命令：用于切换当前工作目录。切换的路径可为绝对路径或相对路径。若路径省略，则 变换至使用者的home目录 。 </p></li><li><p>~ 也表示为home目录的意思</p></li><li><p>. 则是表示目前所在的目录 </p></li><li><p>. .则表示目前目录位置的上一层目录</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pwd #查看自己当前所在目录</span><br><span class="line">cd path #注意自己写的是相对还是绝对的 还可以结合特殊符</span><br><span class="line">号使用</span><br><span class="line">cd ./ </span><br><span class="line">cd /</span><br><span class="line">cd ../</span><br><span class="line">cd ~</span><br></pre></td></tr></table></figure><h3 id="1-4-创建-删除"><a href="#1-4-创建-删除" class="headerlink" title="1.4 创建 删除"></a>1.4 创建 删除</h3><ul><li>mkdir（make directory）命令：用于创建目录。<ul><li>-p 确保父目录名称存在，不存在的就建一个。</li></ul></li><li>touch 命令：创建一个空文件，无任何内容。</li><li>rm（remove）命令：用于删除一个文件或者目录。<ul><li>-f 强制直接删除，无需用户确认。</li><li>-r 将目录及以下所有递归逐一删除。</li></ul></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 ~]# mkdir /a/b/c</span><br><span class="line">mkdir: cannot create directory ‘/a/b/c’: No such file or directory</span><br><span class="line">[root@node1 ~]# mkdir -p /a/b/c</span><br><span class="line">[root@node1 ~]# rm -rf /a/b/c</span><br><span class="line">[root@node1 ~]# rm -rf /a</span><br><span class="line">-f #强制删除 不给与提示</span><br><span class="line">-r #递归删除 针对文件夹</span><br><span class="line">-rf #杀伤力极大 问问自己在干什么</span><br><span class="line">坐牢眼：rm -rf /*</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-5-复制与移动"><a href="#1-5-复制与移动" class="headerlink" title="1.5 复制与移动"></a>1.5 复制与移动</h3><ul><li>cp（copy file）命令：用于复制文件或目录。</li><li>-r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。</li><li>mv（move file）命令：用来为文件或目录改名、或将文件或目录移入其它位置</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp [options] source... directory</span><br><span class="line">mv source_file(文件) dest_file(文件) #将源文件名 source_file 改为目标文件名 dest_file</span><br><span class="line">mv source_file(文件) dest_directory(目录) #将文件 source_file 移动到目标目录 dest_directory中</span><br><span class="line">mv source_directory(目录) dest_directory(目录) #目录名 dest_directory 已存在，将source_directory 移动到目录名 dest_directory 中；目录名 dest_directory 不存在则source_directory 改名为目录名 dest_directory</span><br><span class="line">mv source_directory(目录) dest_file(文件) #出错</span><br></pre></td></tr></table></figure><h3 id="1-6-文件内容查看"><a href="#1-6-文件内容查看" class="headerlink" title="1.6 文件内容查看"></a>1.6 文件内容查看</h3><ul><li>cat（concatenate）命令：用于连接文件并打印到标准输出设备如console控制台上。适合小文件内容查看。</li><li>more 命令：类似cat，不过会以一页一页的形式显示，更方便使用者逐页阅读，翻页结束自动退出。适合大文件 查看。按space键翻下一页，按b往回（back）上一页 </li><li>tail 命令：用于查看文件的结尾部分的内容。<ul><li>-n 用于显示行数，默认为10，即显示 10 行的内容。</li><li>-f 用于实时显示文件动态追加的内容。会把文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 文件有更新，就可以看到最新的文件内容</li></ul></li></ul><h3 id="1-7-其他"><a href="#1-7-其他" class="headerlink" title="1.7 其他"></a>1.7 其他</h3><ul><li>| 管道命令：将前一个命令执行的结果作为内容交给下一个命令处理。可以形成多级管道操作。 命令1|命令2 可以将命令1的结果通过命令2作进一步的处理 </li><li>echo 命令：用于内容的输出，将内容输出到console控制台上。 echo string</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@node1 ~]# ls</span><br><span class="line">1.txt anaconda-ks.cfg hello lrzsz-0.12.20.tar.gz test test.file</span><br><span class="line">[root@node1 ~]# ls | grep ^t</span><br><span class="line">test</span><br><span class="line">test.file </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">相当于<span class="built_in">print</span> 将内容输出console控制台</span></span><br><span class="line">[root@node1 test]# echo 111</span><br><span class="line">111</span><br><span class="line">[root@node1 test]# echo &quot;hello &quot;</span><br><span class="line">hello </span><br></pre></td></tr></table></figure><ul><li><p>&gt; 输出重定向（覆盖）命令 command &gt; file 执行command然后将输出的内容存入file，file内已经存在的内容将被新内容覆盖替代</p></li><li><p>&gt;&gt; 输出重定向（追加）命令 command &gt;&gt; file 执行command然后将输出的内容存入file，新内容追加在文件末尾。</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 test]# echo 111 &gt; 4.txt</span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">111</span><br><span class="line">[root@node1 test]# echo 222 &gt; 4.txt </span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">222</span><br><span class="line">[root@node1 test]# echo 333 &gt;&gt; 4.txt</span><br><span class="line">[root@node1 test]# cat 4.txt </span><br><span class="line">222</span><br><span class="line">333</span><br></pre></td></tr></table></figure><h3 id="1-8-解压命令"><a href="#1-8-解压命令" class="headerlink" title="1.8 解压命令"></a>1.8 解压命令</h3><p>​tar（tape archive ）命令：常用于备份文件。是用来建立，还原备份文件的工具程序，它可以加入，解开备份文件内 的文件。</p><ul><li>-c 或–create 建立新的备份文件。</li><li>-x 或–extract或–get 从备份文件中还原文件。</li><li>-v 或–verbose 显示指令执行过程。</li><li>-f &lt;备份文件&gt;或–file&#x3D;&lt;备份文件&gt; 指定备份文件。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tar cvf 打包名.tar 文件或者目录</span></span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">[root@node1 test]# tar -cvf test.tar 1.txt 2.txt</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br><span class="line">[root@node1 test]# tar xvf test.tar </span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 20480 Aug 10 19:28 test.tar</span><br></pre></td></tr></table></figure><p>​在打包备份或者解包的过程中，可以通过指定压缩算法，对打包的文件进行压缩，解压的时候也需要指定相应的算法。</p><ul><li><p>-z 或–gzip或–ungzip 通过gzip指令处理备份文件</p></li><li><p>重要的搭配： tar -zxvf xxxxx.tar.gz</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">[root@node1 test]# tar zcvf test.tar.gz 1.txt 2.txt </span><br><span class="line">[root@node1 test]# tar zcvf test.tgz 1.txt 2.txt </span><br><span class="line">[root@node1 test]# ll</span><br><span class="line">-rw-r--r-- 1 root root 10240 Aug 10 19:28 1.txt</span><br><span class="line">-rw-r--r-- 1 root root 0 Aug 10 19:27 2.txt</span><br><span class="line">-rw-r--r-- 1 root root 142 Aug 10 19:35 test.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root 142 Aug 10 19:35 test.tgz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@node1 test]# tar zxvf test.tar.gz #解压到当前目录</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">[root@node1 test]# tar zxvf test.tar.gz -C /root/ #-C参数</span><br><span class="line">可以设定解压到指定目录</span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br></pre></td></tr></table></figure><h2 id="Linux系统常用命令"><a href="#Linux系统常用命令" class="headerlink" title="Linux系统常用命令"></a>Linux系统常用命令</h2><h3 id="1-1-时间日期查看"><a href="#1-1-时间日期查看" class="headerlink" title="1.1 时间日期查看"></a>1.1 时间日期查看</h3><ul><li>date命令：用来显示或设定系统的日期与时间，在显示方面，使用者可以设定欲显示的格式，格式设定为一个加号 后接数个标记。 </li><li>cal（calendar）命令：用于用于显示当前或者指定日期的公历。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 linux02]# date</span><br><span class="line">Tue May 18 14:44:13 CST 2021</span><br><span class="line">[root@node1 linux02]# date +&quot;%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2021-05-18 14:44:53</span><br><span class="line">[root@node1 linux02]# cal</span><br><span class="line">May 2021 </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">1</span><br><span class="line">2 3 4 5 6 7 8</span><br><span class="line">9 10 11 12 13 14 15</span><br><span class="line">16 17 18 19 20 21 22</span><br><span class="line">23 24 25 26 27 28 29</span><br><span class="line">30 31</span><br></pre></td></tr></table></figure><h3 id="1-2-内存、磁盘使用率查看"><a href="#1-2-内存、磁盘使用率查看" class="headerlink" title="1.2 内存、磁盘使用率查看"></a>1.2 内存、磁盘使用率查看</h3><ul><li>free命令：用于显示内存状态。会显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以 及系统核心使用的缓冲区等。 </li><li>df（英文全拼：disk free）命令：用于显示目前在 Linux 系统上的文件系统磁盘使用情况统计。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@node1 linux02]# df -h</span><br><span class="line">Filesystem Size Used Avail Use% Mounted on</span><br><span class="line">devtmpfs 1.9G 0 1.9G 0% /dev</span><br><span class="line">tmpfs 1.9G 0 1.9G 0% /dev/shm</span><br><span class="line">tmpfs 1.9G 12M 1.9G 1% /run</span><br><span class="line">tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root 38G 1.5G 36G 5% / #重点关注这一行</span><br><span class="line">/dev/sda1 1014M 152M 863M 15% /boot</span><br><span class="line">/dev/mapper/centos-home 19G 33M 19G 1% /home</span><br><span class="line">tmpfs 378M 0 378M 0% /run/user/0</span><br><span class="line">tmpfs 378M 0 378M 0% /run/user/1000</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">内存使用情况</span></span><br><span class="line">[root@node1 linux02]# free -h</span><br><span class="line">total used free shared buff/cache available</span><br><span class="line">Mem: 3.7G 257M 3.0G 11M 467M 3.2G</span><br><span class="line">Swap: 3.9G 0B 3.9G</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-3-vi-x2F-vim文本编辑器"><a href="#1-3-vi-x2F-vim文本编辑器" class="headerlink" title="1.3 vi&#x2F;vim文本编辑器"></a>1.3 vi&#x2F;vim文本编辑器</h3><h4 id="1-3-1-简介"><a href="#1-3-1-简介" class="headerlink" title="1.3.1 简介"></a>1.3.1 简介</h4><ul><li>vi是一款很多unix及其延伸系统内置的文本编辑器，具有强大的文本编辑能力。</li><li>vim是从vi发展出来的一个文本编辑器，可以理解为vi编辑器的增强版。vim中代码补完、编译及错误跳转等方便编 程的功能特别丰富</li><li>vi&#x2F;vim编辑器的核心设计思想：让程序员的手指始终保持在键盘的核心区域, 就能完成所有的编辑操作。</li><li>学习使用vi&#x2F;vim编辑器最大挑战：万物皆命令</li></ul><h4 id="1-3-2-打开与新建文件"><a href="#1-3-2-打开与新建文件" class="headerlink" title="1.3.2 打开与新建文件"></a>1.3.2 打开与新建文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /path/file</span><br></pre></td></tr></table></figure><ul><li>如果打开的文件不存在，此时就是新建文件，编辑器左下角会提示new file</li><li>如果文件已经存在，此时就打开这个文件，进入命令模式</li></ul><h4 id="1-3-3-vim编辑器的3种编辑器"><a href="#1-3-3-vim编辑器的3种编辑器" class="headerlink" title="1.3.3 vim编辑器的3种编辑器"></a>1.3.3 vim编辑器的3种编辑器</h4><ul><li><p>命令模式（Command mode） 命令模式下，所敲的按键编辑器都理解为命令，以命令驱动执行不同的功能。 此模型下，不能自由进行文本编辑。</p></li><li><p>输入模式（Insert mode） 也就是所谓的编辑模式、插入模式。 此模式下，才可以对文件内容进行自由编辑。</p></li><li><p>底线命令模式（Last line mode） 以：开始，通常用于文件的保存、退出。</p></li></ul><p><img src="https://s2.loli.net/2023/01/09/TqJVP4aFZG1hCDS.png" alt="image-20230109140922378"></p><h4 id="1-3-4-输入模式"><a href="#1-3-4-输入模式" class="headerlink" title="1.3.4 输入模式"></a>1.3.4 输入模式</h4><ul><li><p>i 进入到编辑输入模式后，定位到当前光标前面</p></li><li><p>o 进入到编辑输入模式后，在当前行的后面添加一行空行（当前行的下一行）</p></li><li><p>输入模式下按ESC退回到命令模式</p></li></ul><h3 id="1-3-5-底线模式"><a href="#1-3-5-底线模式" class="headerlink" title="1.3.5 底线模式"></a>1.3.5 底线模式</h3><ul><li><p>在命令模式下，输入:进入底线命令模式。</p></li><li><p>常用的底线命令有：</p><ul><li>:q 退出 :w 保存</li><li>:wq 保存退出 </li><li>:wq! 强制保存退出</li></ul></li><li><p>在命令模式下按下shift + zz，可以实现快速的保存退出。</p></li></ul><h4 id="1-3-6-光标移动"><a href="#1-3-6-光标移动" class="headerlink" title="1.3.6 光标移动"></a>1.3.6 光标移动</h4><ul><li>方向键控制移动 </li><li>翻页 pageup pagedown </li><li>行首（home 0） 行尾（end $）</li><li>跳到文件的最后一行 G </li><li>跳到文件的第一行 gg</li></ul><h4 id="1-3-7-复制-粘贴"><a href="#1-3-7-复制-粘贴" class="headerlink" title="1.3.7 复制 粘贴"></a>1.3.7 复制 粘贴</h4><ul><li><p>复制</p><ul><li><p>yy 复制光标当前所在行内容 </p></li><li><p>nyy 复制当前行往下n行</p></li></ul></li><li><p>粘贴</p><ul><li>p 当前行的下一行粘贴 </li><li>P 当前行的上一行粘贴</li></ul></li></ul><p>注意：使用鼠标从window或者其他地方复制内容到vim编辑器粘贴，一定一定要在输入模式下进行，否则数据会有丢 失的风险</p><h4 id="1-3-8-删除-撤销"><a href="#1-3-8-删除-撤销" class="headerlink" title="1.3.8 删除 撤销"></a>1.3.8 删除 撤销</h4><ul><li><p>删除命令</p><ul><li>dd 删除光标所在当前行内容</li><li>ndd 删除当前行往下n行</li></ul></li><li><p>撤销</p><ul><li>u 撤销上一步的操作（后悔药） </li><li>ctrl+r 反撤销</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux更新源</title>
      <link href="/posts/b7866dc2.html"/>
      <url>/posts/b7866dc2.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="Linux更新源"><a href="#Linux更新源" class="headerlink" title="Linux更新源"></a>Linux更新源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim </span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/lzXfgEcaWh1w6pZ.png" alt="image-20230107163536689"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wq保存退出</span><br><span class="line">更新 sudo apt-get update</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象</title>
      <link href="/posts/28239a8d.html"/>
      <url>/posts/28239a8d.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-5-1-面向对象"><a href="#1-5-1-面向对象" class="headerlink" title="1.5.1 面向对象"></a>1.5.1 面向对象</h3><h4 id="1-5-1-1-类与对象"><a href="#1-5-1-1-类与对象" class="headerlink" title="1.5.1.1 类与对象"></a>1.5.1.1 类与对象</h4><p>​类是一个模板，它描述一类对象的行为和状态。定义类就是定义类的属性与行为（方法）。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ 权限修饰符] [ 修饰符] class 类名&#123;</span><br><span class="line">    成员变量;</span><br><span class="line">    类方法;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    String employeeName;  <span class="comment">//类的属性</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">name</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(employeeName)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​对象是类的实例，定义对象和定义变量一样。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">类名 对象名</span><br><span class="line">在使用对象之前必须给他分配内存,必须通过<span class="keyword">new</span> 关键字来实现</span><br><span class="line">Empoyee =<span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Student</span> <span class="variable">s</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">Student 是一个引用数据类型</span><br><span class="line">s是一个变量名</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Student</span> 是一个学生对象</span><br><span class="line">读取数据：引用.变量名</span><br><span class="line">s.name</span><br><span class="line">修改数据：引用.变量名=值;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-2-封装"><a href="#1-5-1-2-封装" class="headerlink" title="1.5.1.2 封装"></a>1.5.1.2 封装</h4><pre><code> 封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。</code></pre><p>要访问该类的代码和数据，必须通过严格的接口控制。</p><p>优点：</p><ul><li><p>良好的封装能够减少耦合。</p></li><li><p>类内部的结构可以自由修改。</p></li><li><p>可以对成员变量进行更精确的控制。</p></li><li><p>隐藏信息，实现细节</p></li><li><p>安全性高</p></li><li><p>封装之后才可以成为对象，真正的独立体</p></li><li><p>封装之后可以重复使用</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="1-5-1-3-继承"><a href="#1-5-1-3-继承" class="headerlink" title="1.5.1.3 继承"></a>1.5.1.3 继承</h4><p>​继承就是子类继承父类的特征和行为，使得子类对象（实例）具有父类的实例域和方法，或子类从父类继承方法，使得子类具有父类相同的行为。</p><ul><li>子类拥有父类非 private 的属性、方法。</li><li>子类可以拥有自己的属性和方法，即子类可以对父类进行扩展。</li><li>子类可以用自己的方式实现父类的方法。</li><li>Java 的继承是单继承，但是可以多重继承，单继承就是一个子类只能继承一个父类，多重继承就是，例如 B 类继承 A 类，C 类继承 B 类，所以按照关系就是 B 类是 C 类的父类，A 类是 B 类的父类，这是 Java 继承区别于 C++ 继承的一个特性。</li><li>提高了类之间的耦合性（继承的缺点，耦合度高就会造成代码之间的联系越紧密，代码独立性越差）。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class 父类 &#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">class 子类 extends 父类 &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-4-多态"><a href="#1-5-1-4-多态" class="headerlink" title="1.5.1.4 多态"></a>1.5.1.4 多态</h4><p>​多态是同一个行为具有多个不同表现形式或形态的能力。</p><p>​优点</p><ul><li>消除类型之间的耦合关系</li><li>可替换性</li><li>可扩充性</li><li>接口性</li><li>灵活性</li><li>简化性</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test12</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    p.drink();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;water&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;tea&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>要有重写</li><li>有继承</li><li>父类引用指向子类对象</li></ol><h4 id="1-5-1-5构造方法"><a href="#1-5-1-5构造方法" class="headerlink" title="1.5.1.5构造方法"></a>1.5.1.5构造方法</h4><p>​构造方法包含初始化类的成员变量的代码，当类的对象在创建时，它自动执行，不管谁创建类对象，构造方法被激活，成员变量被初始化。</p><p>​特征：</p><ul><li><p>它具有与类相同的名称</p></li><li><p>不能有返回值，写上void就是普通方法</p></li><li><p>它不能在用return语句返回一个值</p></li><li><p>构造方法必须与类名一致        </p><p>  public class Employee {<br>  String EmployeeName;   &#x2F;&#x2F;姓名<br>  int EmployeeNo&#x3D;45;        &#x2F;&#x2F;编号<br>  double Salary;          &#x2F;&#x2F;薪水<br>  public Employee(){<br><br><br>  }</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">调用：</span><br><span class="line">普通方法有static：类名.方法名(实参);</span><br><span class="line">    普通方法没有static：引用.方法名（实参）;</span><br><span class="line">构造方法：在创建对象的时候被调用：new 构造方法（实参）</span><br></pre></td></tr></table></figure><h4 id="1-5-1-6-访问说明符和修饰符"><a href="#1-5-1-6-访问说明符和修饰符" class="headerlink" title="1.5.1.6  访问说明符和修饰符"></a>1.5.1.6  访问说明符和修饰符</h4><table><thead><tr><th align="left">修饰符</th><th align="left">当前类</th><th align="left">同一包内</th><th align="left">子孙类(同一包)</th><th align="left">子孙类(不同包)</th><th align="left">其他包</th></tr></thead><tbody><tr><td align="left"><code>public</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td></tr><tr><td align="left"><code>protected</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y&#x2F;N</td><td align="left">N</td></tr><tr><td align="left"><code>default</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">N</td><td align="left">N</td></tr><tr><td align="left"><code>private</code></td><td align="left">Y</td><td align="left">N</td><td align="left">N</td><td align="left">N</td><td align="left">N</td></tr></tbody></table><h5 id="1-final-修饰符："><a href="#1-final-修饰符：" class="headerlink" title="1.final 修饰符："></a>1.final 修饰符：</h5><ul><li>一个final 不能被继承</li><li>一个final 不能被子类重载</li><li>final 成员变量不能在被初始化后被改变</li><li>在final类里面所有的成员变量和方法都是final类型</li></ul><h5 id="2-abstract修饰符"><a href="#2-abstract修饰符" class="headerlink" title="2.abstract修饰符"></a>2.abstract修饰符</h5><ul><li>类中包含一个明确声明的抽象方法</li><li>类中的任何一个父类包含一个没有实现的抽象方法</li><li>抽象类必须有子类</li></ul><h4 id="1-5-1-7方法的重载"><a href="#1-5-1-7方法的重载" class="headerlink" title="1.5.1.7方法的重载"></a>1.5.1.7方法的重载</h4><ul><li>方法名一样，形式参数不一样</li><li>方法的参数类型，参数个不一样</li><li>方法的返回类型可以不相同</li><li>方法的修饰符可以不相同</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span> &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> x+y;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> z)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x+y+z;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> name)</span>&#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-8this关键字"><a href="#1-5-1-8this关键字" class="headerlink" title="1.5.1.8this关键字"></a>1.5.1.8this关键字</h4><p><img src="https://s2.loli.net/2022/12/29/wkF5CU4zEJtOBNu.png" alt="image-20221130155516527"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    String EmployeeName;   <span class="comment">//姓名</span></span><br><span class="line">    <span class="type">int</span> EmployeeNo=<span class="number">45</span>;        <span class="comment">//编号</span></span><br><span class="line">    <span class="type">double</span> Salary;          <span class="comment">//薪水</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String employeeName, <span class="type">int</span> employeeNo, <span class="type">double</span> salary)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.EmployeeName=EmployeeName;</span><br><span class="line">        <span class="built_in">this</span>.EmployeeNo=EmployeeNo;</span><br><span class="line">        <span class="built_in">this</span>.Salary=Salary;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-1-9super关键字"><a href="#1-5-1-9super关键字" class="headerlink" title="1.5.1.9super关键字"></a>1.5.1.9super关键字</h4><p>使用super调用父类的方法和属性，super 可以理解为是指向自己超（父）类对象的一个指针，而这个超类指的是离自己最近的一个父类。</p><ol><li>父类开始找，父类没有才开始找子类</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    String name=<span class="string">&quot;hdjk&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ect</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;在吃饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span> &#123;</span><br><span class="line">    <span class="keyword">public</span>  String name=<span class="string">&quot;金中豪&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        String name=<span class="string">&quot;wang&quot;</span>;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line"></span><br><span class="line">        son.run();</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-0-toString方法"><a href="#1-5-2-0-toString方法" class="headerlink" title="1.5.2.0 toString方法"></a>1.5.2.0 toString方法</h4><p>​toString() 方法用于返回以一个字符串表示的 Number 对象值。</p><p>如果方法使用了原生的数据类型作为参数，返回原生数据类型的 String 对象值。如果方法有两个参数， 返回用第二个参数指定基数表示的第一个参数的字符串表示形式</p><h4 id="1-5-2-1-对象转型"><a href="#1-5-2-1-对象转型" class="headerlink" title="1.5.2.1 对象转型"></a>1.5.2.1 对象转型</h4><ul><li>向上转型：子类对象转为父类，向上转型不需要显示转化。Father father &#x3D;son  向上转型会丢失子类原来有的特性。</li><li>向下转型：父类对象转为子类，向下转型需要强制类型转换。Son son&#x3D;(son)Father</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Father s=<span class="keyword">new</span> <span class="title class_">Son</span>();  <span class="comment">//自动类型转换</span></span><br><span class="line">        s.ect();</span><br><span class="line">        <span class="comment">//强制类型转换</span></span><br><span class="line">        Father s2=<span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">        <span class="type">Son</span> <span class="variable">s3</span> <span class="operator">=</span> (Son) s2;</span><br><span class="line">        s3.pary();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-2-抽象类"><a href="#1-5-2-2-抽象类" class="headerlink" title="1.5.2.2 抽象类"></a>1.5.2.2 抽象类</h4><p>​用abstract关键字来修饰一个类时这个类就是抽象类。</p><ul><li>抽象类必须使用abstract关键字来修饰，抽象方法也必须用abstract来修饰。</li><li>抽象类不能被实例化，不能使用new关键字生成对象。</li><li>抽象方法只需声明，不需实现</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">gh</span> &#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">M1</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>类和类叫继承，类和接口之间叫实现。</li><li>继承使用extends 关键字。</li><li>实现用implements 关键字。</li><li>抽象使用abstract。</li><li>当一个非抽象类实现接口的话，必须将接口里面的抽象方法全部重写。</li><li>当一个非抽象类实现接口的时候必须将接口中所有方法加以实现。</li><li>一个类可以实现多个接口</li><li>extends和implements可以共存，extends在前，implements在后。</li><li>使用接口，写接口的时候，可以使用多态（父类引用指向子类对象）</li></ol><h4 id="1-5-2-3接口"><a href="#1-5-2-3接口" class="headerlink" title="1.5.2.3接口"></a>1.5.2.3接口</h4><p>​接口是一种特殊的抽象类，这种抽象类中只包含常量和方法的定义。</p><ul><li>接口是完成抽象的</li><li>接口支持多继承</li><li>接口中只包含部分内容，常量，抽象方法</li><li>接口中所有的元素都是public</li><li>接口中不能有方法体</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> interface 接口名&#123;</span><br><span class="line">    <span class="comment">//常量</span></span><br><span class="line">    <span class="comment">//方法声明</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class 类名 extends 基类 implements 接口 接口&#123;</span><br><span class="line"><span class="comment">//成员定义</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-4代码块"><a href="#1-5-2-4代码块" class="headerlink" title="1.5.2.4代码块"></a>1.5.2.4代码块</h4><p>​代码块又称初始化块，属于类中的成员，它讲的是逻辑代码块封装在方法体中通过{}包裹，代码块没有方法名，返回值，只有方法体，而且不通过对象和类进行调用，他会在类加载的时候调用，或创建对象的时候隐式调用。</p><ol><li>静态代码块</li></ol><p>一个类在加载的时候调用，做一些全局初始化的工作</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​2.实例代码块</p><p>每次创建实例都会被调用一次</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.ydl.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">block</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;nihao&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;buhap1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">block</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-4-静态方法和成员方法"><a href="#1-5-2-4-静态方法和成员方法" class="headerlink" title="1.5.2.4 静态方法和成员方法"></a>1.5.2.4 静态方法和成员方法</h4><p>​静态方法的调用无论在那都是类名.方法名</p><p>​静态方法中调用实例方法必须new一个对象。</p><h4 id="1-5-2-4-内部类"><a href="#1-5-2-4-内部类" class="headerlink" title="1.5.2.4 内部类"></a>1.5.2.4 内部类</h4><p>​内部类就是在类里面定义了一个类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.xml.soap.Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Sperlinked</span> &#123;</span><br><span class="line">    Node head;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-5-2-5-Java-异常处理"><a href="#1-5-2-5-Java-异常处理" class="headerlink" title="1.5.2.5 Java 异常处理"></a>1.5.2.5 Java 异常处理</h4><p>​异常是程序中的一些错误，但并不是所有的错误都是异常，并且错误有时候是可以避免的。</p><p>比如说，你的代码少了一个分号，那么运行出来结果是提示是错误 java.lang.Error；如果你用System.out.println(11&#x2F;0)，那么你是因为你用0做了除数，会抛出 java.lang.ArithmeticException 的异常。</p><p>异常发生的原因有很多，通常包含以下几大类：</p><ul><li>用户输入了非法数据。</li><li>要打开的文件不存在。</li><li>网络通信时连接中断，或者JVM内存溢出。</li></ul><p>这些异常有的是因为用户错误引起，有的是程序错误引起的，还有其它一些是因为物理错误引起的。-</p><p>要理解Java异常处理是如何工作的，你需要掌握以下三种类型的异常：</p><ul><li><strong>检查性异常：</strong>最具代表的检查性异常是用户错误或问题引起的异常，这是程序员无法预见的。例如要打开一个不存在文件时，一个异常就发生了，这些异常在编译时不能被简单地忽略。</li><li><strong>运行时异常：</strong> 运行时异常是可能被程序员避免的异常。与检查性异常相反，运行时异常可以在编译时被忽略。</li><li><strong>错误：</strong> 错误不是异常，而是脱离程序员控制的问题。错误在代码中通常被忽略。例如，当栈溢出时，一个错误就发生了，它们在编译也检查不到的。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">捕获异常</span><br><span class="line">使用 <span class="keyword">try</span> 和 <span class="keyword">catch</span> 关键字可以捕获异常。<span class="keyword">try</span>/<span class="keyword">catch</span> 代码块放在异常可能发生的地方。</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>/<span class="keyword">catch</span>代码块中的代码称为保护代码，使用 <span class="keyword">try</span>/<span class="keyword">catch</span> 的语法如下：</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">// 程序代码</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(ExceptionName e1)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">//Catch 块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-5throws-x2F-throw-关键字"><a href="#1-5-2-5throws-x2F-throw-关键字" class="headerlink" title="1.5.2.5throws&#x2F;throw 关键字"></a>1.5.2.5throws&#x2F;throw 关键字</h4><p>​如果一个方法没有捕获到一个检查性异常，那么该方法必须使用 throws 关键字来声明。throws 关键字放在方法签名的尾部。</p><p>也可以使用 throw 关键字抛出一个异常，无论它是新实例化的还是刚捕获到的。</p><p>下面方法的声明抛出一个 RemoteException 异常：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">className</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amount)</span> <span class="keyword">throws</span> RemoteException</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// Method implementation</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RemoteException</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//Remainder of class definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例如，下面的方法声明抛出 RemoteException 和 InsufficientFundsException：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">className</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">(<span class="type">double</span> amount)</span> <span class="keyword">throws</span> RemoteException,</span><br><span class="line">                              InsufficientFundsException</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="comment">// Method implementation</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//Remainder of class definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-2-1-集合"><a href="#1-5-2-1-集合" class="headerlink" title="1.5.2.1 集合"></a>1.5.2.1 集合</h4><p>​数组就是一个集合。其实集合就是一个容器。可以用来容纳其他类型的数据，集合是一个容器，是一个载体，可以一个容纳多个数据。</p><p>​集合不能直接存储基本数据类型，也不能直接存储Java对象，集合中存储的Java对象的内存地址，也可以说是引用。</p><ol><li>集合在Java中本身就是一个容器，是一个对象，也有内存地址。</li><li>集合在任何时候存储的都是一个引用。</li><li>Java中每一个不同集合，底层都会对应不同的数据结构，往不同的集合中存储元素等于将数据放入了数据结构当中。不同的数据结构数据的存储方式不同。</li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>集合</title>
      <link href="/posts/d366874c.html"/>
      <url>/posts/d366874c.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-集合"><a href="#1-1-集合" class="headerlink" title="1.1 集合"></a>1.1 集合</h3><h4 id="1-1-2-集合的体系结构"><a href="#1-1-2-集合的体系结构" class="headerlink" title="1.1.2 集合的体系结构"></a>1.1.2 集合的体系结构</h4><p>集合框架被设计成要满足以下几个目标。</p><ul><li><p>该框架必须是高性能的。基本集合（动态数组，链表，树，哈希表）的实现也必须是高效的。</p></li><li><p>该框架允许不同类型的集合，以类似的方式工作，具有高度的互操作性。</p></li><li><p>对一个集合的扩展和适应必须是简单的。</p></li><li><p>list系列集合：添加的元素是有序，可重复，有索引。</p></li><li><p>set系列集合：添加元素是无序，不重复，无索引</p></li><li><p>collection是单列集合的祖宗接口，它的功能是全部单列集合都可以继承使用的。</p></li></ul><p>常见的方法</p><p><img src="https://s2.loli.net/2022/12/29/8Kzhlj4a1LI2fRO.png" alt="image-20221209153927894"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * public boolean add(E e)   添加</span></span><br><span class="line"><span class="comment"> * public void clear()       清空</span></span><br><span class="line"><span class="comment"> * public boolean remove(E e)  删除</span></span><br><span class="line"><span class="comment"> * public boolean contains（Object obj） 判断是否包含</span></span><br><span class="line"><span class="comment"> * public boolean isEmpty()  判断是否为空</span></span><br><span class="line"><span class="comment"> * public int size() 集合长度</span></span><br><span class="line"><span class="comment"> * 注意 ：</span></span><br><span class="line"><span class="comment"> * collection是一个接口 我们不能直接创建他的对象，</span></span><br><span class="line"><span class="comment"> * 我们学习他的方法的时候只能创建他的实现类的对象，</span></span><br><span class="line"><span class="comment"> * 实现类Arraylist</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        <span class="comment">//如果我们要往list集合中添加数据，那么方法返回true 因为list集合可以重复</span></span><br><span class="line">        coll.add(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line"><span class="comment">//        //清空</span></span><br><span class="line"><span class="comment">//        coll.clear();</span></span><br><span class="line">        <span class="comment">//删除  不能通过索引删除</span></span><br><span class="line">        coll.remove(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        System.out.println(coll);</span><br><span class="line">        <span class="comment">//判断</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">aaa</span> <span class="operator">=</span> coll.contains(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        System.out.println(aaa);</span><br><span class="line">        <span class="comment">//判断集合是否为空</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">empty</span> <span class="operator">=</span> coll.isEmpty();</span><br><span class="line">        System.out.println(empty);</span><br><span class="line">        <span class="comment">//判断长度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> coll.size();</span><br><span class="line">        System.out.println(size);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-1-3collection遍历方式"><a href="#1-1-3collection遍历方式" class="headerlink" title="1.1.3collection遍历方式"></a>1.1.3collection遍历方式</h4><h5 id="1-迭代器遍历"><a href="#1-迭代器遍历" class="headerlink" title="1.迭代器遍历"></a>1.迭代器遍历</h5><p>​迭代器在Java中的类是iterator ，迭代器是集合专用的遍历方式。</p><p><img src="https://s2.loli.net/2022/12/29/uS81aET7c9OYbCU.png" alt="image-20221209172523274"></p><p><img src="https://s2.loli.net/2022/12/29/32AErTN6unq9svj.png" alt="image-20221210103457393"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt;  coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">        <span class="comment">//2.获取迭代器对象,默认指向0索引处</span></span><br><span class="line">        Iterator&lt;String&gt; it= coll.iterator();</span><br><span class="line">        <span class="comment">//3.利用循环获取元素</span></span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            <span class="comment">//获取元素，并移动指针</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//当迭代器结束，指针指向最后一个元素，若在次调用it.next()</span></span><br><span class="line">        <span class="comment">//会报NoSuchElementException</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>报错NoSuchElementException</li><li>,迭代器遍历完毕，指针不会复位</li><li>循环中只能用一次next方法</li><li>迭代器遍历时，不能用集合的方法进行增加或者删除</li></ul><h5 id="2-增强for遍历"><a href="#2-增强for遍历" class="headerlink" title="2.增强for遍历"></a>2.增强for遍历</h5><ul><li>增强fo的底层就是迭代器，为了简化迭代器的代码书写的。</li><li>它是DK5之后出现的，其内部原理就是一个Iteratori迭代器。</li><li>所有的单列集合和数组才能用增强fo进行遍历。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">增强<span class="keyword">for</span>格式：</span><br><span class="line"><span class="keyword">for</span>(数据类型变量名：集合/数组)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">快速生成方式：</span><br><span class="line">    集合的名字+<span class="keyword">for</span> 回车</span><br><span class="line">        </span><br><span class="line">使用增强<span class="keyword">for</span>不会改变集合中原来的数据</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for遍历</span></span><br><span class="line">        <span class="keyword">for</span> (String s: coll) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-lambda表达式遍历"><a href="#3-lambda表达式遍历" class="headerlink" title="3.lambda表达式遍历"></a>3.lambda表达式遍历</h5><p>​得益于DK8开始的新技术Lambda表达式，提供了一种更简单、更直接的遍历集合的方式。</p><p><img src="https://s2.loli.net/2022/12/29/GtuJFi7oxwMsg9Z.png" alt="image-20221210113032495"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合并添加元素</span></span><br><span class="line">        Collection&lt;String&gt; coll= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        coll.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        coll.forEach((String s) -&gt;&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(s);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        );</span></span><br><span class="line">        coll.forEach(s -&gt; System.out.println(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-2-list集合"><a href="#1-2-list集合" class="headerlink" title="1.2 list集合"></a>1.2 list集合</h3><ul><li>collection的方法都继承了</li><li>list集合因为都有索引，所以多了很多索引操作的方法 ·</li></ul><p><img src="https://s2.loli.net/2022/12/29/pUTiWYylVnC1b3E.png" alt="image-20221210143014838"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">list_test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合</span></span><br><span class="line">        List&lt;String&gt; list= <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//在1索引处添加qqqqq</span></span><br><span class="line">        list.add(<span class="number">1</span>,<span class="string">&quot;qqqqq&quot;</span>);</span><br><span class="line">        <span class="comment">//删除指定索引</span></span><br><span class="line">        list.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.set(<span class="number">1</span>,<span class="string">&quot;56566&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        list.get(<span class="number">0</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-collection遍历方式"><a href="#1-collection遍历方式" class="headerlink" title="1.collection遍历方式"></a>1.collection遍历方式</h5><ul><li>迭代器遍历</li><li>列表迭代器遍历</li><li>增强for遍历</li><li>lambda表达式遍历</li><li>普通for遍历</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">list_test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建集合</span></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        <span class="comment">//迭代器遍历</span></span><br><span class="line">        Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">next</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.println(next);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for</span></span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//lambda表达式</span></span><br><span class="line">        list.forEach(s -&gt; System.out.println(s));</span><br><span class="line">        <span class="comment">//普通for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//列表迭代器</span></span><br><span class="line">        <span class="comment">//获取迭代器对象,默认指向0,在遍历的时候可以添加元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;+++++++++++++++++++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        ListIterator&lt;String&gt; ita = list.listIterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (ita.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> ita.next();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;1&quot;</span>.equals(str))&#123;</span><br><span class="line">                ita.add(<span class="string">&quot;748545&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/ym3eCKAZ49rNzOf.png" alt="image-20221210155011708"></p><h3 id="1-3set-集合"><a href="#1-3set-集合" class="headerlink" title="1.3set 集合"></a>1.3set 集合</h3><p>set集合实现类</p><ul><li>HashSet：无序、不重复、无索引</li><li>LinkedHashSet：有序、不重复、无索引</li><li>TreeSet:可排序、不重复、无索引</li></ul><p><img src="D:\学习笔记\图片\image-20221212102141001.png" alt="image-20221212102141001"></p><p>利用Set系列的集合，添加字符串，并使用多种方式遍历。</p><p>① 迭代器</p><p>② 增强for</p><p>③ Lambda表达式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Set_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建一个集合对象</span></span><br><span class="line">        Set&lt;String&gt; s= <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> s.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b2</span> <span class="operator">=</span> s.add(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b3</span> <span class="operator">=</span> s.add(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b4</span> <span class="operator">=</span> s.add(<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        <span class="comment">//无序，不重复</span></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        <span class="comment">//迭代器遍历</span></span><br><span class="line">        Iterator&lt;String&gt; iterator = s.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;++++++++++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//增强for</span></span><br><span class="line">        <span class="keyword">for</span> (String s1 : s) &#123;</span><br><span class="line">            System.out.println(s1);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;++++++++++++++++&quot;</span>);</span><br><span class="line">        <span class="comment">//lambda表达式</span></span><br><span class="line">        s.forEach(a -&gt; System.out.println(a));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>HashSet底层原理</p><ul><li>HashSet集合底层采取哈希表存储数据</li><li>哈希表是一种对于增删改查数据性能都较好的结构</li><li>哈希表组成</li><li>JDK8之前：数组+链表</li><li>JDK8开始：数组+链表+红黑树</li></ul><p>哈希值</p><ul><li>根据hashCode方法算出来的int类型的整数</li><li>该方法定义在Object类中，所有对象都可以调用，默认使用地址值进行计算</li><li>一般情况下，会重写hashCode方法，利用对象内部的属性值计算哈希值</li></ul><p>对象的哈希值特点</p><ul><li>如果没有重写hashCode方法，不同对象计算出的哈希值是不同的</li><li>如果已经重写hashcode方法，不同的对象只要属性值相同，计算出的哈希值就是一样的</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line">        HashSet&lt;Student&gt; hs= <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Student&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        hs.add(s);</span><br><span class="line">        hs.add(s3);</span><br><span class="line">        hs.add(s2);</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(hs);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>LinkedHashSet底层原理</p><ul><li>有序、不重复、无索引。</li><li>这里的有序指的是保证存储和取出的元素顺序一致</li><li>原理：底层数据结构是依然哈希表，只是每个元素又额外的多了一个双链表的机制记录存储的顺序</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hashset_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;李四&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        System.out.println(s.hashCode());</span><br><span class="line">        System.out.println(s3.hashCode());</span><br><span class="line">        System.out.println(s2.hashCode());</span><br><span class="line">        LinkedHashSet&lt;Student&gt; hs= <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>&lt;Student&gt;();</span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        System.out.println(hs.add(s));</span><br><span class="line">        System.out.println(hs.add(s3));</span><br><span class="line">        System.out.println(hs.add(s2));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>TreeSet的特点</p><ul><li><p>不重复、无索引、可排序</p></li><li><p>可排序：按照元素的默认规则（有小到大）排序。</p></li><li><p>TreeSet集合底层是基于红黑树的数据结构实现排序的，增删改查性能都较好。</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.Coolection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSet_Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        TreeSet&lt;Integer&gt; ts= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;Integer&gt;();</span><br><span class="line">        ts.add(<span class="number">8</span>);</span><br><span class="line">        ts.add(<span class="number">2</span>);</span><br><span class="line">        ts.add(<span class="number">7</span>);</span><br><span class="line">        ts.add(<span class="number">4</span>);</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">        <span class="keyword">for</span> (Integer t : ts) &#123;</span><br><span class="line">            System.out.println(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>泛型</title>
      <link href="/posts/7678a22a.html"/>
      <url>/posts/7678a22a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-5-2-泛型"><a href="#1-5-2-泛型" class="headerlink" title="1.5.2 泛型"></a>1.5.2 泛型</h3><h4 id="1-5-2-1泛型的定义"><a href="#1-5-2-1泛型的定义" class="headerlink" title="1.5.2.1泛型的定义"></a>1.5.2.1泛型的定义</h4><p>​看表面的意思是，泛型是广泛的，普通的类型，泛型可以帮助我们在【类型明确】的工作延迟到对象或方法的时候。意思就是我定义类不管他是什么类型，new这个对象或调用方法的时候才确定具体的类型。</p><p>​泛型类就是把泛型定义到类上，这样在用户使用类的时候才可以报类型确定下来。具体的方法就是&lt;&gt; 加一个未知数，通常用KTV大写字母表示，事实上是一个单词就行。</p><p><strong>java 中泛型标记符：</strong></p><ul><li><strong>E</strong> - Element (在集合中使用，因为集合中存放的是元素)</li><li><strong>T</strong> - Type（Java 类）</li><li><strong>K</strong> - Key（键）</li><li><strong>V</strong> - Value（值）</li><li><strong>N</strong> - Number（数值类型）</li><li><strong>？</strong> - 表示不确定的 java 类型</li></ul><p>​泛型方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.template;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt;  T <span class="title function_">show</span><span class="params">(T t)</span>&#123;</span><br><span class="line">        System.out.println(t);</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">show</span> <span class="operator">=</span> test.show(<span class="number">1425</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类型通配符感觉和泛型方法差不多，只是不能用在使用前进行定义。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericTest</span> &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; name = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        List&lt;Integer&gt; age = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        List&lt;Number&gt; number = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Number&gt;();</span><br><span class="line">        </span><br><span class="line">        name.add(<span class="string">&quot;icon&quot;</span>);</span><br><span class="line">        age.add(<span class="number">18</span>);</span><br><span class="line">        number.add(<span class="number">314</span>);</span><br><span class="line"> </span><br><span class="line">        getData(name);</span><br><span class="line">        getData(age);</span><br><span class="line">        getData(number);</span><br><span class="line">       </span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">getData</span><span class="params">(List&lt;?&gt; data)</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;data :&quot;</span> + data.get(<span class="number">0</span>));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-5-3-枚举enum"><a href="#1-5-3-枚举enum" class="headerlink" title="1.5.3 枚举enum"></a>1.5.3 枚举enum</h3><p>​在一些情况，一个类的对象有限且固定，比如说星期一到星期五，春夏秋冬等，这时候就可以使用。 </p><p>静态方法    </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season DEFAULT= <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;秋天&quot;</span>, <span class="number">4</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">WINTER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;冬天&quot;</span>, <span class="number">3</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING= <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;春天&quot;</span>, <span class="number">1</span>);</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Season</span> <span class="variable">SUMMER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Season</span>(<span class="string">&quot;夏天&quot;</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SeasonEnum</span> &#123;</span><br><span class="line">    JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SeasonEnum</span> &#123;</span><br><span class="line">    JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(SeasonEnum.JANUARY.name());<span class="comment">//姓名</span></span><br><span class="line">        System.out.println(SeasonEnum.JANUARY.ordinal()); <span class="comment">//序号</span></span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>​enum 定义的枚举类默认继承了 java.lang.Enum 类，并实现了 java.lang.Serializable 和 java.lang.Comparable 两个接口。values(), ordinal() 和 valueOf() 方法位于 java.lang.Enum 类中：</p><ul><li>values() 返回枚举类中所有的值。</li><li>ordinal()方法可以找到每个枚举常量的索引，就像数组索引一样。</li><li>valueOf()方法返回指定字符串值的枚举常量。</li></ul><h3 id="1-5-4-多线程"><a href="#1-5-4-多线程" class="headerlink" title="1.5.4 多线程"></a>1.5.4 多线程</h3><p>​Java 给多线程编程提供了内置的支持。 一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。</p><p>​多线程是多任务的一种特别的形式，但多线程使用了更小的资源开销。</p><p>​这里定义和线程相关的另一个术语 - 进程：一个进程包括由操作系统分配的内存空间，包含一个或多个线程。一个线程不能独立的存在，它必须是进程的一部分。一个进程一直运行，直到所有的非守护线程都结束运行后才能结束。</p><p>​多线程能满足程序员编写高效率的程序来达到充分利用 CPU 的目的。</p><p>线程是一个动态执行的过程，它也有一个从产生到死亡的过程。</p><p>下图显示了一个线程完整的生命周期。</p><p><img src="https://www.runoob.com/wp-content/uploads/2014/01/java-thread.jpg" alt="img"></p><ul><li><p>新建状态:</p><p>  使用 <strong>new</strong> 关键字和 <strong>Thread</strong> 类或其子类建立一个线程对象后，该线程对象就处于新建状态。它保持这个状态直到程序 <strong>start()</strong> 这个线程。</p></li><li><p>就绪状态:</p><p>  当线程对象调用了start()方法之后，该线程就进入就绪状态。就绪状态的线程处于就绪队列中，要等待JVM里线程调度器的调度。</p></li><li><p>运行状态:</p><p>  如果就绪状态的线程获取 CPU 资源，就可以执行 **run()**，此时线程便处于运行状态。处于运行状态的线程最为复杂，它可以变为阻塞状态、就绪状态和死亡状态。</p></li><li><p>阻塞状态:</p><p>  如果一个线程执行了sleep（睡眠）、suspend（挂起）等方法，失去所占用资源之后，该线程就从运行状态进入阻塞状态。在睡眠时间已到或获得设备资源后可以重新进入就绪状态。可以分为三种：</p><ul><li>等待阻塞：运行状态中的线程执行 wait() 方法，使线程进入到等待阻塞状态。</li><li>同步阻塞：线程在获取 synchronized 同步锁失败(因为同步锁被其他线程占用)。</li><li>其他阻塞：通过调用线程的 sleep() 或 join() 发出了 I&#x2F;O 请求时，线程就会进入到阻塞状态。当sleep() 状态超时，join() 等待线程终止或超时，或者 I&#x2F;O 处理完毕，线程重新转入就绪状态。</li></ul></li><li><p>死亡状态:</p><p>  一个运行状态的线程完成任务或者其他终止条件发生时，该线程就切换到终止状态。</p></li></ul><hr><h5 id="1-5-4-1线程的优先级"><a href="#1-5-4-1线程的优先级" class="headerlink" title="1.5.4.1线程的优先级"></a>1.5.4.1线程的优先级</h5><p>​每一个 Java 线程都有一个优先级，这样有助于操作系统确定线程的调度顺序。</p><p>Java 线程的优先级是一个整数，其取值范围是 1 （Thread.MIN_PRIORITY ） - 10 （Thread.MAX_PRIORITY ）。</p><p>默认情况下，每一个线程都会分配一个优先级 NORM_PRIORITY（5）。</p><p>具有较高优先级的线程对程序更重要，并且应该在低优先级的线程之前分配处理器资源。但是，线程优先级不能保证线程执行的顺序，而且非常依赖于平台。</p><hr><h5 id="1-5-4-2创建一个线程"><a href="#1-5-4-2创建一个线程" class="headerlink" title="1.5.4.2创建一个线程"></a>1.5.4.2创建一个线程</h5><p>Java 提供了三种创建线程的方法：</p><ul><li>通过实现 Runnable 接口；</li><li>通过继承 Thread 类本身；</li><li>通过 Callable 和 Future 创建线程。</li></ul><p>（1） 继承Thread重写run方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">UseThread</span>().start();  <span class="comment">//开启线程</span></span><br><span class="line">        System.out.println(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（2） Runnable  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        System.out.println(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">UseRunnable</span>()).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">UseRunnable</span>()).sleep(<span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3） 通过 Callable 和 Future 创建线程。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Formattable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseCallable</span>  <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">        <span class="comment">// futureTask 保存返回值</span></span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>(<span class="keyword">new</span> <span class="title class_">UseCallable</span>());</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(futureTask).start(); <span class="comment">//开启线程</span></span><br><span class="line">        System.out.println(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> futureTask.get(); <span class="comment">//等待线程获取返回值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        System.out.println(integer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Formattable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UseCallable</span>  <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> from;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> to;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UseCallable</span><span class="params">(<span class="type">int</span> from, <span class="type">int</span> to)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.from = from;</span><br><span class="line">        <span class="built_in">this</span>.to = to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UseCallable</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i= from; i &lt; to; i++) &#123;</span><br><span class="line">            res +=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ExecutionException, InterruptedException &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">int</span> res= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">100000</span> ; i++) &#123;</span><br><span class="line">            res+=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">        <span class="comment">//多线程</span></span><br><span class="line">        start = System.currentTimeMillis();</span><br><span class="line">        res= <span class="number">0</span>;</span><br><span class="line">        FutureTask[] futureTask = <span class="keyword">new</span> <span class="title class_">FutureTask</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">5</span> ; i++) &#123;</span><br><span class="line">            FutureTask&lt;Integer&gt; task = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">UseCallable</span>(i*<span class="number">20000</span>,(i+<span class="number">1</span>)*<span class="number">20000</span>));</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(task).start(); <span class="comment">//开启线程</span></span><br><span class="line">            futureTask[i]=task;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; futureTask.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> (<span class="type">int</span>)futureTask[i].get();</span><br><span class="line">            res+=sum;</span><br><span class="line">        &#125;</span><br><span class="line">        end = System.currentTimeMillis();</span><br><span class="line">        System.out.println(end-start);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下表列出了Thread类的一些重要方法：</p><table><thead><tr><th align="left"><strong>序号</strong></th><th align="left"><strong>方法描述</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>public void start()</strong> 使该线程开始执行；<strong>Java</strong> 虚拟机调用该线程的 run 方法。</td></tr><tr><td align="left">2</td><td align="left"><strong>public void run()</strong> 如果该线程是使用独立的 Runnable 运行对象构造的，则调用该 Runnable 对象的 run 方法；否则，该方法不执行任何操作并返回。</td></tr><tr><td align="left">3</td><td align="left"><strong>public final void setName(String name)</strong> 改变线程名称，使之与参数 name 相同。</td></tr><tr><td align="left">4</td><td align="left"><strong>public final void setPriority(int priority)</strong>  更改线程的优先级。</td></tr><tr><td align="left">5</td><td align="left"><strong>public final void setDaemon(boolean on)</strong> 将该线程标记为守护线程或用户线程。</td></tr><tr><td align="left">6</td><td align="left"><strong>public final void join(long millisec)</strong> 等待该线程终止的时间最长为 millis 毫秒。</td></tr><tr><td align="left">7</td><td align="left"><strong>public void interrupt()</strong> 中断线程。</td></tr><tr><td align="left">8</td><td align="left"><strong>public final boolean isAlive()</strong> 测试线程是否处于活动状态。</td></tr></tbody></table><p>上述方法是被 Thread 对象调用的，下面表格的方法是 Thread 类的静态方法。</p><table><thead><tr><th align="left"><strong>序号</strong></th><th align="left"><strong>方法描述</strong></th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>public static void yield()</strong> 暂停当前正在执行的线程对象，并执行其他线程。</td></tr><tr><td align="left">2</td><td align="left"><strong>public static void sleep(long millisec)</strong> 在指定的毫秒数内让当前正在执行的线程休眠（暂停执行），此操作受到系统计时器和调度程序精度和准确性的影响。</td></tr><tr><td align="left">3</td><td align="left"><strong>public static boolean holdsLock(Object x)</strong> 当且仅当当前线程在指定的对象上保持监视器锁时，才返回 true。</td></tr><tr><td align="left">4</td><td align="left"><strong>public static Thread currentThread()</strong> 返回对当前正在执行的线程对象的引用。</td></tr><tr><td align="left">5</td><td align="left"><strong>public static void dumpStack()</strong> 将当前线程的堆栈跟踪打印至标准错误流。</td></tr></tbody></table><h5 id="1-5-4-3-线程安全的实现方法"><a href="#1-5-4-3-线程安全的实现方法" class="headerlink" title="1.5.4.3 线程安全的实现方法"></a>1.5.4.3 线程安全的实现方法</h5><ol><li><p>数据不可变</p><p> 在Java当中，一切不可变的对象（immutable） 一定是线程安全的，无论是对象的方法实现还是方法的调用者。</p></li><li><p>互斥同步</p><p> 互斥同步是常见的一种正确性的保障手段，同步是指在多个线程并发访问共享数据，保证共享数据在同一时刻被同一线程使用。</p></li><li><p>非阻塞同步</p><p> 互斥同步面临的主要问题是，进行线程阻塞和唤醒带来的性能开销，因此这种同步也被称为阻塞同步，从解决问题的方式上来看互斥同步是一种【悲观的并发策略】，其总是认为，只要不去做正确的同步措施，那就肯定会出现问题，无论共享的数据是否真的出现，都会进行加锁。这<br> 将会导致用户态到内核态的转化、维护锁计数器和检查是否被阻塞的线程需要被唤醒等等开销。<br>     随看硬件指令级的发展，我们已经有了另外的选择，基于冲突检的乐观并发策略。通俗的说，就是不管有没有风险，先进行操作，如果没有其他线程征用共享数据，那就直接成功，如果共享数据确实被征用产生了冲突，就再进行补偿策略，常见的补偿策略就是不折的重试，直到<br> 出现设有竞争的共享数据为止，这种乐观并发策略的实现，不再需要把线程阻塞挂起，因此同步操作也被称为非阻塞同步，这种措施的代码也常常被称之为【无锁编程】。</p></li><li><p>无同步方案</p><p> ​在我们这个工作当中，还经常遇到这样一种情况，多个线程需要共享数据，但是这些数据又可以再单独的线程当中计算，得出结果，而不被其他的线程所影响，如果能保证这一点，我们就可以把共享数据的可见范国限制在一个线程之内，这样就无需同步，也能够保证个个线程之间不出现数据征用的问题，说人话就是数据拿过来，我用我的，你用你的，从而保证线程安全，比如说咱们的ThreadLocal。,<br> ​ThreadLoca提供了线程内存储变量的能力，这些变量不同之处在于每一个线程读取的变量是对应的互相独立的。通过ge和set方法就，可以得到当前线程对应的值。</p></li></ol><h3 id="1-5-5锁机制"><a href="#1-5-5锁机制" class="headerlink" title="1.5.5锁机制"></a>1.5.5锁机制</h3><h4 id="1-5-5-1-synchronized简介"><a href="#1-5-5-1-synchronized简介" class="headerlink" title="1.5.5.1 synchronized简介"></a>1.5.5.1 synchronized简介</h4><p>​在多线程并发编程中synchronized一直是元老级角色，很多人都会称呼它为重呈级锁。但是，随看Java SE 1.6对synchronized进行了各种优化之后，有些情况下它就并不那么重，JavaSE1.6中为了减少获得锁和释放锁带来的性能消耗而引入的偏向锁和轻量级锁。<br>synchronized有三种方式来加锁，分别是</p><ul><li>修饰实例方法，作用于当前实例加锁，进入同步代码前要获得当前实例的锁</li><li>静态方法，作用于当前类对象加锁，进入同步代码前要获得当前类对象的锁</li><li>修饰代码块，指定加锁对象，对给定对象加锁，进入同步代码库前要获得给定对象的锁。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">lock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">ray</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;word&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                say();</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-5-2-死锁"><a href="#1-5-5-2-死锁" class="headerlink" title="1.5.5.2 死锁"></a>1.5.5.2 死锁</h4><p>锁升级中涉及的四把锁：</p><ul><li><p>无锁：不加锁</p></li><li><p>偏向锁：不加锁，只有一个线程争夺时，偏心某一个线程，这个线程来了不加锁。</p></li><li><p>轻量级锁：少量量线程来了之后，先尝试自旋，不挂起线程</p><p>  注：挂起线程和恢复线程的操作都需要转入内核态中完成这些操作，给系统的并发性带来很大的压力。在许多应用上共享数据的锁定状态<br>  只会持续很短的一段时间，为了这段时间去挂机和恢复现场并不值得，我们就可以让后边请求的线程稍等一下，不要放弃处理器的执行时<br>  间，看看持有锁的线程是否很快就会释放，锁为了让线程等待，我们只需要让线程执行一个言循环也就是我们说的自旋，这项技术就是所调<br>  的【自旋锁】</p></li><li><p>重量级锁：排队挂起线程</p><p> 死锁</p></li></ul><p>​死锁是这样一种情形：多个线程同时被阻塞，它们中的一个或者全部部在等待某个资源被释放。由于线程被无限期地阻塞，因此程序不可能<br>正常终止。<br>java死锁产生的四个必要条件：</p><ul><li>互斥使用，即当资源被一个线程使用（占有）时，别的线程不能使用</li><li>不可抢占，资源清求者不能强制从资源占有者手中夺取资源，资源只能由资源占有者主动释放。</li><li>请求和保持，即当资源请求者在请求其他的资源的同时保持对原有资源的占有。</li><li>循环等待，即存在一个等待队列：P1占有P2的资源，P2占有P3的资源，P3占有P1的资源。这样就形成了一个等待环路。</li></ul><p>​当上述四个条件都成立的时候，便形成死锁。当然，死锁的情况下如果打破上述任何一个条件，便可让死锁消失。下面用java代码来模拟一下死锁的产生。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeadLock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">final</span> Object MONITOR1= <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">final</span> Object MONITOR2= <span class="string">&quot;12345&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR1) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取一号锁&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (MONITOR2) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取二号锁&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;thread1&quot;</span>).start();  <span class="comment">//开启线程</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR2) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取二号锁&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">synchronized</span> (MONITOR1) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;获取一号锁&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,<span class="string">&quot;thread1&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/12/29/BkiDUHdlQM25C9R.png" alt="image-20221208113445732"></p><p> wait和notify 等待和唤醒</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WaitTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Object MONITOR= <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">           <span class="keyword">synchronized</span> (MONITOR) &#123;</span><br><span class="line">               System.out.println(<span class="string">&quot;线程1开始&quot;</span>);</span><br><span class="line">               <span class="keyword">try</span> &#123;</span><br><span class="line">                   MONITOR.wait();</span><br><span class="line">               &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                   e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">               System.out.println(<span class="string">&quot;线程1结束 &quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (MONITOR) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;线程2开始&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">200</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                MONITOR.notify();</span><br><span class="line">                System.out.println(<span class="string">&quot;线程2结束&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-5-3-lock"><a href="#1-5-5-3-lock" class="headerlink" title="1.5.5.3 lock"></a>1.5.5.3 lock</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.rmi.runtime.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">lock</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">ray</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;word&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    say();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-5-4-线程池"><a href="#1-5-4-线程池" class="headerlink" title="1.5.4 线程池"></a>1.5.4 线程池</h4><p>Java通过Executors提供四种线程池，分别为：</p><ol><li>newCachedThreadPoo1创建一个可缓存线程池，如果线程池长度超过处理需要，可灵活回收空闲线程，若无可回收，则新建线程。</li><li>newFixedThreadPoo1创建一个定长线程池，可控制线程最大并发数，超出的线程会在队列中等待。</li><li>newScheduledThreadPool创建一个定长线程池，支持定时及周期性任务执行。</li><li>newsing1 eThreadExecutor创建一个单线程化的线程池，它只会用唯一的工作线程来执行任务，保证所有任务按照指定顺序执行。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ydl.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pool</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">5</span>);</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">task</span> <span class="operator">=</span>() -&gt;&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;__________&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;<span class="number">500</span> ; i++) &#123;</span><br><span class="line">            executorService.submit(task); <span class="comment">//提交任务</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式</title>
      <link href="/posts/2f57a694.html"/>
      <url>/posts/2f57a694.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h4 id="1-1-正则表达式"><a href="#1-1-正则表达式" class="headerlink" title="1.1 正则表达式"></a>1.1 正则表达式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[abc] <span class="comment">//只能是abc</span></span><br><span class="line">[^abc] <span class="comment">//除了abc之外的任何字符</span></span><br><span class="line">[a-zA-Z] <span class="comment">//a到zA到Z</span></span><br><span class="line">[a-d&#123;,-p&#125;] <span class="comment">//a到D 或</span></span><br><span class="line">[a-z] <span class="comment">// 匹配所有的小写字母 </span></span><br><span class="line">[A-Z] <span class="comment">// 匹配所有的大写字母 </span></span><br><span class="line">[a-zA-Z] <span class="comment">// 匹配所有的字母 </span></span><br><span class="line">[<span class="number">0</span>-<span class="number">9</span>] <span class="comment">// 匹配所有的数字 </span></span><br><span class="line">[<span class="number">0</span>-<span class="number">9</span>\.\-] <span class="comment">// 匹配所有的数字，句号和减号 </span></span><br><span class="line">[ \f\r\t\n] <span class="comment">// 匹配所有的白字符</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据结构</title>
      <link href="/posts/79666db.html"/>
      <url>/posts/79666db.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-数据结构"><a href="#1-1-数据结构" class="headerlink" title="1.1 数据结构"></a>1.1 数据结构</h3><h4 id="1-数据结构概述"><a href="#1-数据结构概述" class="headerlink" title="1.数据结构概述"></a>1.数据结构概述</h4><ul><li><p>数据结构是计算机底层存储、组织数据的方式。</p></li><li><p>是指数据相互之间是以什么方式排列在一起的。</p></li><li><p>数据结构是为了更加方便的管理和使用数据，需要结合具体的业务场景来进行选择。</p></li><li><p>一般情况下，精心选择的数据结构可以带来更高的运行或者存储效率。</p></li></ul><h4 id="2-栈"><a href="#2-栈" class="headerlink" title="2.栈"></a>2.栈</h4><p>​栈的特点：后进先出，先进后出</p><p>​数据进入到栈模型中叫：压栈&#x2F;进栈</p><p>​数据离开到栈模型中叫：弹栈&#x2F;出栈</p><p><img src="https://s2.loli.net/2022/12/29/pZ3GQi6Ez8cU1Pu.png" alt="image-20221210163543807"></p><h4 id="3-队列"><a href="#3-队列" class="headerlink" title="3.队列"></a>3.队列</h4><p>​栈的特点：先进先出，后进后出</p><p>​数据从后端进入队列模型的过程为入队列</p><p>​数据从前端离开队列模型的过程为出队列</p><p><img src="https://s2.loli.net/2022/12/29/P1UoIh5GDc8mXMY.png" alt="image-20221210164304062"></p><h4 id="4-数组"><a href="#4-数组" class="headerlink" title="4.数组"></a>4.数组</h4><p>​数组是一种查询快，增删慢的模型</p><ul><li>查询速度快：查询数据通过地址值和索引定位，查询任意数据耗时相同。（元素在内存中是连续存储的）</li><li>删除效率低：要将原始数据删除，同时后面每个数据前移。</li><li>添加效率极低：添加位置后的每个数据后移，再添加元素</li></ul><p><img src="https://s2.loli.net/2022/12/29/DTUVcwIORudGyM6.png" alt="image-20221210165235563"></p><h4 id="5-链表"><a href="#5-链表" class="headerlink" title="5.链表"></a>5.链表</h4><p>​链表中的结点是独立的对象，在内存中是不连续的，每个结点包含数据值和下一个结点的地址。<br>​链表查询慢，无论查询哪个数据都要从头开始找。</p><p>​链表增删快</p><p><img src="https://s2.loli.net/2022/12/29/ivdE3I9flWgRpVe.png" alt="image-20221210165852839"></p><p><img src="https://s2.loli.net/2022/12/29/8frJW4jblLydTUG.png" alt="image-20221210170548621"></p><h4 id="6-树"><a href="#6-树" class="headerlink" title="6.树"></a>6.树</h4><p><img src="https://s2.loli.net/2022/12/29/AamhUJ2N93tiRQZ.png" alt="image-20221210172134798"></p><h5 id="6-1-二叉查找树"><a href="#6-1-二叉查找树" class="headerlink" title="6.1 二叉查找树"></a>6.1 二叉查找树</h5><p>​二叉查找树，又称二叉排序树或者二叉搜索树。</p><p>特点：</p><ul><li>每一个节点上最多有两个子节点</li><li>任意节点左子树上的值都小于当前节点</li><li>岁任意节点右子树上的值都大于当前节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/Az5ZCWw4gQRed96.png" alt="image-20221210172634439"></p><p><img src="https://s2.loli.net/2022/12/29/LgdvOkmNbpMn2l6.png" alt="image-20221210172917347"></p><p>二叉树遍历方式</p><ol><li>前序遍历<ul><li>从根结点开始，然后按照当前结点，左子结点，右子结点的顺序遍历</li></ul></li><li>中序遍历<ul><li>从最左边的子节点开始，然后按照左子结点，当前结点，右子结点的顺序遍历</li></ul></li><li>后序遍历<ul><li>从最左边的子节点开始，然后按照左子结点，右子结点，当前结点的顺序遍历</li></ul></li><li>层序遍历<ul><li>从根节点开始一层一层的遍历</li></ul></li></ol><h5 id="6-3-平衡二叉树-左旋"><a href="#6-3-平衡二叉树-左旋" class="headerlink" title="6.3 平衡二叉树(左旋)"></a>6.3 平衡二叉树(左旋)</h5><p>​任意节点左右节点树高度不超过1</p><ul><li>确定支点：从添加的节点开始，不断的往父节点找不平衡的节点</li><li>以不平衡的点作为支点</li><li>把支点左旋降级，变成左子节点</li><li>晋升原来的右子节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/ESIYyTHR2DQPBaK.png" alt="image-20221211104451268"></p><h5 id="6-3-平衡二叉树-右旋"><a href="#6-3-平衡二叉树-右旋" class="headerlink" title="6.3 平衡二叉树(右旋)"></a>6.3 平衡二叉树(右旋)</h5><ul><li>确定支点：从添加的节点开始，不断的往父节点找不平衡的节点</li><li>以不平衡的点作为支点</li><li>把支点右旋降级，变成右子节点</li><li>引晋升原来的左子节点</li></ul><p><img src="https://s2.loli.net/2022/12/29/MweAU9WH8Xtfb61.png" alt="image-20221211105618418"></p><p><img src="https://s2.loli.net/2022/12/29/Cd9pUWqDevZxcVj.png" alt="image-20221211105800905"></p><h4 id="7-红黑树"><a href="#7-红黑树" class="headerlink" title="7.红黑树"></a>7.红黑树</h4><ul><li>红黑树是一种自平衡的二叉查找树，是计算机科学中用到的一种数据结构。</li><li>1972年出现，当时被称之为平衡二叉B树。后来，1978年被修改为如今的”红黑树”。</li><li>它是一种特殊的二叉查找树，红黑树的每一个节点上都有存储位表示节点的颜色，</li><li>每一个节点可以是红或者黑；红黑树不是高度平衡的，它的平衡是通过”红黑规则”进行实现的</li></ul><p><img src="https://s2.loli.net/2022/12/29/ZAdy9DFpcmjYkIW.png" alt="image-20221212100901253"></p><h5 id="7-1红黑规则"><a href="#7-1红黑规则" class="headerlink" title="7.1红黑规则"></a>7.1红黑规则</h5><p>① 每一个节点或是红色的，或者是黑色的</p><p>② 根节点必须是黑色</p><p>③如果一个节点没有子节点或者父节点，则该节点相应的指针属性值为Nil，这些Nil视为叶节点，每个叶节点(Nil)是黑色的</p><p>④ 如果某一个节点是红色，那么它的子节点必须是黑色(不能出现两个红色节点相连的情况)</p><p>③ 对每一个节点，从该节点到其所有后代叶节点的简单路径上，均包含相同数目的黑色节点;</p><p><img src="https://s2.loli.net/2022/12/29/gVAvj3Rsk5Jf4YW.png" alt="image-20221212101423432"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jdk安装教程</title>
      <link href="/posts/312ccbd4.html"/>
      <url>/posts/312ccbd4.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="JDK的安装"><a href="#JDK的安装" class="headerlink" title="JDK的安装"></a>JDK的安装</h3><ol><li>双击运行安装包</li></ol><p><img src="https://s2.loli.net/2023/01/22/in6mfaRuhPVoyTO.png" alt="image-20230122145808954"></p><ol start="2"><li>修改JDK安装目录</li></ol><p><img src="https://s2.loli.net/2023/01/22/tSH2Rmnps1CKxdA.png" alt="image-20230122145847137"></p><p>3.根据提示安装完成，这就完成jdk安装了，可以直接点关闭了。</p><p><img src="https://s2.loli.net/2023/01/22/WRHO1lANVSJfP4Q.png" alt="image-20230122145928487"></p><h3 id="JDK的环境配置"><a href="#JDK的环境配置" class="headerlink" title="JDK的环境配置"></a>JDK的环境配置</h3><p>4.“我的电脑”右键→属性→高级系统设置→环境变量</p><p><img src="https://s2.loli.net/2023/01/22/8IOwYbhc3PlMJ5D.png" alt="image-20230122150031496"></p><p><img src="https://s2.loli.net/2023/01/22/nI5Pp4OgYTjtiAH.png" alt="image-20230122150045537"></p><p><img src="https://s2.loli.net/2023/01/22/1ZuSLvBIWoGDxsi.png" alt="image-20230122150100978"></p><p>5.点击“新建”，新建系统变量JAVA_HOME，值为JDK安装根目录，安装目录是bin目录</p><p><img src="D:\学习笔记\图片\image-20230122150145610.png" alt="image-20230122150145610"></p><p><img src="https://s2.loli.net/2023/01/22/Q8EXyZHb7lSMGd6.png" alt="image-20230122150153933"></p><ol start="6"><li>复制刚才安装jdk的路径，bin目录下面是可执行环境</li></ol><p><img src="https://s2.loli.net/2023/01/22/daMTNluJcqKzCEv.png" alt="image-20230122150336223"></p><ol start="7"><li><p>安装好了之后点击保存即可</p></li><li><p>同时按住win + R，输入cmd，回车，进入命令提示符窗口</p></li></ol><p><img src="https://s2.loli.net/2023/01/22/IQ6dzf5qwbetZGA.png" alt="image-20230122150440646"></p><ol start="9"><li><img src="https://s2.loli.net/2023/01/22/NsiO27tyVWEnv3c.png" alt="image-20230122150500056"></li></ol>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jdk安装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java io流</title>
      <link href="/posts/385d07b8.html"/>
      <url>/posts/385d07b8.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-io流"><a href="#1-io流" class="headerlink" title="1. io流"></a>1. io流</h2><h3 id="1-1-oi流概念"><a href="#1-1-oi流概念" class="headerlink" title="1.1 oi流概念"></a>1.1 oi流概念</h3><p>​java的io是实现输入和输出的基础，可以方便的实现数据的输入和输出操作。</p><p>在java中把对于输入&#x2F;输入操作是以流的方式进行操作的。java.io 包下提供了大</p><p>量的供我们使用的操作【流】的方法和接口，用于进行各类数据的处理和输。</p><p>​计算机的输入和输出都是通过二进制来完成的。在网络中我们要传递数据就要将数据【流化】，换句话说就是讲文件、复杂的对象转化成能够在网络上传输的一个个的0和1。</p><h3 id="1-2-文件操作"><a href="#1-2-文件操作" class="headerlink" title="1.2 文件操作"></a>1.2 文件操作</h3><p>​在Java中，File类是java.io 包中唯一代表磁盘文件本身的对象。File 类定义了</p><p>一些与平台无关的方法来操作文件，File类主要用来获取或处理与磁盘文件相关</p><p>的信息，像文件名、文件路径、访问权限和修改日期等，还可以浏览子目录层</p><p>次结构。<br>    File类表示处理文件和文件系统的相关信息。也就是说，File类不具有从文件</p><p>读取信息和向文件写入信息的功能，它仅描述文件本身的属性。</p><h3 id="1-3-文件路径"><a href="#1-3-文件路径" class="headerlink" title="1.3 文件路径"></a>1.3 文件路径</h3><p>正斜杠，又称左斜杠，符号是”&#x2F;”；反斜杠，也称右斜杠，符号是””。</p><p>在Unix&#x2F;Linux中，路径的分隔采用正斜杠””，比如”&#x2F;home&#x2F;hutaow”；而在、、</p><p>Windows中，路径分隔采用反斜杠”，比如”C:1WindowsiSystem”</p><p>在java当中反斜杠代表的是转义:<br>        比如:制表符（也叫)的功能是在不使用表格的情况下在垂直方向按列对齐文本，就是咱们的tab键。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java简介</title>
      <link href="/posts/9c4b5cef.html"/>
      <url>/posts/9c4b5cef.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-Java-简介"><a href="#1-1-Java-简介" class="headerlink" title="1.1 Java 简介"></a>1.1 Java 简介</h3><p>Java 是由 Sun Microsystems 公司于 1995 年 5 月推出的 Java 面向对象程序设计语言和 Java 平台的总称。由  James Gosling和同事们共同研发，并在 1995 年正式推出。</p><p>后来 Sun 公司被 Oracle （甲骨文）公司收购，Java 也随之成为 Oracle 公司的产品。</p><p>Java分为三个体系：</p><ul><li>JavaSE（J2SE）（Java2 Platform Standard Edition，java平台标准版）</li><li>JavaEE(J2EE)(Java 2 Platform,Enterprise Edition，java平台企业版)</li><li>JavaME(J2ME)(Java 2 Platform Micro Edition，java平台微型版)。</li></ul><h3 id="1-2主要特性"><a href="#1-2主要特性" class="headerlink" title="1.2主要特性"></a><strong>1.2主要特性</strong></h3><ul><li>Java 语言是简单的：</li></ul><p>Java 语言的语法与 C 语言和 C++ 语言很接近，使得大多数程序员很容易学习和使用。另一方面，Java 丢弃了 C++ 中很少使用的、很难理解的、令人迷惑的那些特性，如操作符重载、多继承、自动的强制类型转换。特别地，Java 语言不使用指针，而是引用。并提供了自动分配和回收内存空间，使得程序员不必为内存管理而担忧。</p><ul><li>Java 语言是面向对象的：</li></ul><p>Java 语言提供类、接口和继承等面向对象的特性，为了简单起见，只支持类之间的单继承，但支持接口之间的多继承，并支持类与接口之间的实现机制（关键字为 implements）。Java 语言全面支持动态绑定，而 C++语言只对虚函数使用动态绑定。总之，Java语言是一个纯的面向对象程序设计语言。</p><ul><li>Java语言是分布式的：</li></ul><p>Java 语言支持 Internet 应用的开发，在基本的 Java 应用编程接口中有一个网络应用编程接口（java net），它提供了用于网络应用编程的类库，包括 URL、URLConnection、Socket、ServerSocket 等。Java 的 RMI（远程方法激活）机制也是开发分布式应用的重要手段。</p><ul><li>Java 语言是健壮的：</li></ul><p>Java 的强类型机制、异常处理、垃圾的自动收集等是 Java 程序健壮性的重要保证。对指针的丢弃是 Java 的明智选择。Java 的安全检查机制使得 Java 更具健壮性。</p><ul><li>Java语言是安全的：</li></ul><p>Java通常被用在网络环境中，为此，Java 提供了一个安全机制以防恶意代码的攻击。除了Java 语言具有的许多安全特性以外，Java 对通过网络下载的类具有一个安全防范机制（类 ClassLoader），如分配不同的名字空间以防替代本地的同名类、字节代码检查，并提供安全管理机制（类 SecurityManager）让 Java 应用设置安全哨兵。</p><ul><li>Java 语言是体系结构中立的</li></ul><p>Java 程序（后缀为 java 的文件）在 Java 平台上被编译为体系结构中立的字节码格式（后缀为 class 的文件），然后可以在实现这个 Java 平台的任何系统中运行。这种途径适合于异构的网络环境和软件的分发。</p><ul><li>Java 语言是可移植的：</li></ul><p>这种可移植性来源于体系结构中立性，另外，Java 还严格规定了各个基本数据类型的长度。Java  系统本身也具有很强的可移植性，Java 编译器是用 Java 实现的，Java 的运行环境是用 ANSI C 实现的。</p><ul><li>Java 语言是解释型的：</li></ul><p>如前所述，Java 程序在 Java 平台上被编译为字节码格式，然后可以在实现这个 Java 平台的任何系统中运行。在运行时，Java 平台中的 Java 解释器对这些字节码进行解释执行，执行过程中需要的类在联接阶段被载入到运行环境中。</p><ul><li>Java 是高性能的：</li></ul><p>与那些解释型的高级脚本语言相比，Java 的确是高性能的。事实上，Java 的运行速度随着 JIT(Just-In-Time）编译器技术的发展越来越接近于 C++。</p><ul><li>Java 语言是多线程的：</li></ul><p>在 Java 语言中，线程是一种特殊的对象，它必须由 Thread 类或其子（孙）类来创建。通常有两种方法来创建线程：其一，使用型构为 Thread(Runnable) 的构造子类将一个实现了 Runnable 接口的对象包装成一个线程，其二，从 Thread 类派生出子类并重写 run 方法，使用该子类创建的对象即为线程。值得注意的是 Thread 类已经实现了 Runnable 接口，因此，任何一个线程均有它的 run 方法，而 run 方法中包含了线程所要运行的代码。线程的活动由一组方法来控制。Java 语言支持多个线程的同时执行，并提供多线程之间的同步机制（关键字为 synchronized）。</p><ul><li>Java 语言是动态的：</li></ul><p>Java 语言的设计目标之一是适应于动态变化的环境。Java 程序需要的类能够动态地被载入到运行环境，也可以通过网络来载入所需要的类。这也有利于软件的升级。另外，Java 中的类有一个运行时刻的表示，能进行运行时刻的类型检查。</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基础语法</title>
      <link href="/posts/ea538f2a.html"/>
      <url>/posts/ea538f2a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-3-Java基础语法"><a href="#1-3-Java基础语法" class="headerlink" title="1.3 Java基础语法"></a>1.3 Java基础语法</h3><h4 id="1-1-基础数据类型"><a href="#1-1-基础数据类型" class="headerlink" title="1.1 基础数据类型"></a>1.1 基础数据类型</h4><ul><li>整型 int  byte short int long </li><li>浮点 类型float 单精度  double 双精度</li><li>char 字符型</li><li>布尔类型boolean</li></ul><h4 id="1-2-命名规范"><a href="#1-2-命名规范" class="headerlink" title="1.2 命名规范"></a>1.2 命名规范</h4><p>编写 Java 程序时，应注意以下几点：</p><ul><li><strong>大小写敏感</strong>：Java 是大小写敏感的，这就意味着标识符 Hello 与 hello 是不同的。</li><li><strong>类名</strong>：对于所有的类来说，类名的首字母应该大写。如果类名由若干单词组成，那么每个单词的首字母应该大写，例如 <strong>MyFirstJavaClass</strong> 。</li><li><strong>方法名</strong>：所有的方法名都应该以小写字母开头。如果方法名含有若干单词，则后面的每个单词首字母大写。</li><li><strong>源文件名</strong>：源文件名必须和类名相同。当保存文件的时候，你应该使用类名作为文件名保存（切记 Java 是大小写敏感的），文件名的后缀为 <strong>.java</strong>。（如果文件名和类名不相同则会导致编译错误）。</li></ul><h4 id="1-3Java-标识符"><a href="#1-3Java-标识符" class="headerlink" title="1.3Java 标识符"></a>1.3Java 标识符</h4><p>Java 所有的组成部分都需要名字。类名、变量名以及方法名都被称为标识符。</p><p>关于 Java 标识符，有以下几点需要注意：</p><ul><li>所有的标识符都应该以字母（A-Z 或者 a-z）,美元符（$）、或者下划线（_）开始</li><li>首字符之后可以是字母（A-Z 或者 a-z）,美元符（$）、下划线（_）或数字的任何字符组合</li><li>关键字不能用作标识符</li><li>标识符是大小写敏感的</li><li>合法标识符举例：age、$salary、_value、__1_value</li><li>非法标识符举例：123abc、-salary</li></ul><h4 id="1-4Java修饰符"><a href="#1-4Java修饰符" class="headerlink" title="1.4Java修饰符"></a>1.4Java修饰符</h4><ul><li>像其他语言一样，Java可以使用修饰符来修饰类中方法和属性。主要有两类修饰符：</li><li>访问控制修饰符 : default, public , protected, private</li><li>非访问控制修饰符 : final, abstract, static, synchronized</li></ul><h4 id="1-5Java-变量Java-中几种类型的变量"><a href="#1-5Java-变量Java-中几种类型的变量" class="headerlink" title="1.5Java 变量Java 中几种类型的变量"></a>1.5Java 变量Java 中几种类型的变量</h4><ul><li>局部变量</li><li>类变量（静态变量）</li><li>成员变量（非静态变量）</li></ul><h4 id="1-6-if-语句的语法如下："><a href="#1-6-if-语句的语法如下：" class="headerlink" title="1.6 if 语句的语法如下："></a>1.6 if 语句的语法如下：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(布尔表达式)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">//如果布尔表达式为true将执行的语句</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">      <span class="keyword">if</span>( x &lt; <span class="number">20</span> )&#123;</span><br><span class="line">         System.out.print(<span class="string">&quot;这是 if 语句&quot;</span>);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          System.out.println(<span class="string">&quot;0000000&quot;</span>)      </span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-7switch语句"><a href="#1-7switch语句" class="headerlink" title="1.7switch语句"></a>1.7switch语句</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression)&#123;</span><br><span class="line">    <span class="keyword">case</span> value :语句  <span class="keyword">break</span>; <span class="comment">//可选</span></span><br><span class="line">    <span class="keyword">case</span> value :语句<span class="keyword">break</span>; <span class="comment">//可选</span></span><br><span class="line">    <span class="keyword">default</span> : <span class="comment">//可选</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">      <span class="comment">//char grade = args[0].charAt(0);</span></span><br><span class="line"></span><br><span class="line">      <span class="type">char</span> <span class="variable">grade</span> <span class="operator">=</span> <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">switch</span>(grade)</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;优秀&quot;</span>); </span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span> :</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;良好&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;及格&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">case</span> <span class="string">&#x27;F&#x27;</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;你需要再努力努力&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         <span class="keyword">default</span> :</span><br><span class="line">            System.out.println(<span class="string">&quot;未知等级&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(<span class="string">&quot;你的等级是 &quot;</span> + grade);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-8-while"><a href="#1-8-while" class="headerlink" title="1.8 while"></a>1.8 while</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( 布尔表达式 ) &#123;</span><br><span class="line">  <span class="comment">//循环内容</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">      <span class="keyword">while</span>( x &lt; <span class="number">20</span> ) &#123;</span><br><span class="line">         System.out.print(<span class="string">&quot;value of x : &quot;</span> + x );</span><br><span class="line">         x++;</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-9-for循环"><a href="#1-9-for循环" class="headerlink" title="1.9 for循环"></a>1.9 for循环</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">or(初始化; 布尔表达式; 更新) &#123;</span><br><span class="line">    <span class="comment">//代码语句</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-0-break-关键字"><a href="#2-0-break-关键字" class="headerlink" title="2.0 break 关键字"></a>2.0 break 关键字</h4><p>​break 主要用在循环语句或者 switch 语句中，用来跳出整个语句块。</p><p>break 跳出最里层的循环，并且继续执行该循环下面的语句</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> [] numbers = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> x : numbers ) &#123;</span><br><span class="line">         <span class="comment">// x 等于 30 时跳出循环</span></span><br><span class="line">         <span class="keyword">if</span>( x == <span class="number">30</span> ) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.print( x );</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-1-continue"><a href="#2-1-continue" class="headerlink" title="2.1 continue"></a>2.1 continue</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> [] numbers = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> x : numbers ) &#123;</span><br><span class="line">         <span class="keyword">if</span>( x == <span class="number">30</span> ) &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.print( x );</span><br><span class="line">         System.out.print(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git连接到GitHub</title>
      <link href="/posts/db6bedc5.html"/>
      <url>/posts/db6bedc5.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-git连接到github"><a href="#1-git连接到github" class="headerlink" title="1. git连接到github"></a>1. git连接到github</h2><h3 id="1-1-安装git"><a href="#1-1-安装git" class="headerlink" title="1.1 安装git"></a>1.1 安装git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><h3 id="1-2-创建一个GitHub账号"><a href="#1-2-创建一个GitHub账号" class="headerlink" title="1.2 创建一个GitHub账号"></a>1.2 创建一个GitHub账号</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> https://github.com/</span><br></pre></td></tr></table></figure><h3 id="1-3-生成ssh-key"><a href="#1-3-生成ssh-key" class="headerlink" title="1.3 生成ssh key"></a>1.3 生成ssh key</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</span><br></pre></td></tr></table></figure><ul><li>一直点确定</li></ul><p><img src="https://s2.loli.net/2023/01/20/BCMZwDVQ4JjYmWG.png" alt="image-20230120105405140"></p><ul><li><p>默认在C:\Users\Administrator.ssh这个目录下</p></li><li><p><img src="https://s2.loli.net/2023/01/20/pZWTBFqoeCKH9rR.png" alt="image-20230120105639091"></p></li><li><p>点击设置</p></li></ul><p><img src="https://s2.loli.net/2023/01/20/IT2JykZONbnlCzq.png" alt="image-20230120105751375"></p><p><img src="https://s2.loli.net/2023/01/20/mUNdYM5ItGxJDO8.png" alt="image-20230120105846939"></p><p><img src="https://s2.loli.net/2023/01/20/YrQjWCUVicIvkH3.png" alt="image-20230120105952246"></p><ul><li>将密钥复制到GitHub里面</li></ul><p><img src="https://s2.loli.net/2023/01/20/LMVzlQU4itCONDx.png" alt="image-20230120110124613"></p><ul><li>点击保存</li></ul><h3 id="1-4-配置git"><a href="#1-4-配置git" class="headerlink" title="1.4 配置git"></a>1.4 配置git</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;你的用户名&quot;</span><br><span class="line">git config --global user.email &quot;你的邮箱&quot;</span><br></pre></td></tr></table></figure><h3 id="1-5-测试是否连接成功"><a href="#1-5-测试是否连接成功" class="headerlink" title="1.5 测试是否连接成功"></a>1.5 测试是否连接成功</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker的安装</title>
      <link href="/posts/c696c8e1.html"/>
      <url>/posts/c696c8e1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="docker安装教程"><a href="#docker安装教程" class="headerlink" title="docker安装教程"></a>docker安装教程</h3><ul><li>第一步：安装一组工具</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y yum-utils</span><br></pre></td></tr></table></figure><ul><li>第二步设置yum仓库地址</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/dockerce.reposudo yum-config-manager --add-repo</span><br><span class="line"> http://mirrors.aliyun.com/dockerce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><ul><li>第三步 更新yum缓存</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum makecache fast #yum 是包管理器</span><br></pre></td></tr></table></figure><ul><li>第四步 安装新版docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><ul><li>第5步 安装完成检测安装状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指令：</span><br><span class="line">docker info</span><br><span class="line">// 查看版本</span><br><span class="line">docker -v</span><br></pre></td></tr></table></figure><ul><li>第6步镜像加速</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//加速地址</span><br><span class="line">https://ol7717dv.mirror.aliyuncs.com</span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://ol7717dv.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/yfw7vDAOUFiGruP.png" alt="image-20230107164859228"></p>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算,docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker基础</title>
      <link href="/posts/5ae6092.html"/>
      <url>/posts/5ae6092.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-docker服务相关命令"><a href="#1-1-docker服务相关命令" class="headerlink" title="1.1 docker服务相关命令"></a>1.1 docker服务相关命令</h3><p>启动docker</p><ul><li>启动docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker  //启动docker</span><br></pre></td></tr></table></figure><ul><li>查看服务状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker   //查看服务状态</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/wYeCE19bdzgQDNI.png" alt="image-20230107125643054"></p><ul><li>停止服务</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker //停止服务</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/fnANZCYWFjXtdus.png" alt="image-20230107125809665"></p><ul><li>重启docker</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker   //重启docker</span><br></pre></td></tr></table></figure><ul><li>开机启动</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker  //开机自启</span><br></pre></td></tr></table></figure><h2 id="1-2-docker-镜像相关命令"><a href="#1-2-docker-镜像相关命令" class="headerlink" title="1.2 docker 镜像相关命令"></a>1.2 docker 镜像相关命令</h2><ul><li>查看命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker imges</span><br></pre></td></tr></table></figure><ul><li>搜索镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search redist</span><br></pre></td></tr></table></figure><ul><li>下载镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis  </span><br><span class="line">docker pull redis:5.0 //指定下载</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>docker 官网</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://hub.docker.com</span><br></pre></td></tr></table></figure><ul><li>删除镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rmi  c5da061a611a  //加上id</span><br><span class="line">docker rmi  名字：版本号 </span><br></pre></td></tr></table></figure><h3 id="1-3-容器相关命令"><a href="#1-3-容器相关命令" class="headerlink" title="1.3 容器相关命令"></a>1.3 容器相关命令</h3><ul><li>创建容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rmi  c5da061a611a  //加上id</span><br><span class="line">docker rmi  名字：版本号 </span><br></pre></td></tr></table></figure><ul><li>查看正在运行的容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker ps    //查看正在运行的容器</span><br><span class="line"> docker ps -a //查看所有容器</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/bqGJckvex7RDy9M.png" alt="image-20230107130500835"></p><ul><li>进入容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it cll /bin/bash</span><br></pre></td></tr></table></figure><ul><li>停止容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop 容器名称 </span><br></pre></td></tr></table></figure><ul><li>启动容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器名称</span><br></pre></td></tr></table></figure><ul><li>删除容器</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm 容器名称</span><br></pre></td></tr></table></figure><ul><li>查看容器信息</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect 容器名称</span><br></pre></td></tr></table></figure><h3 id="1-4-docker的数据卷"><a href="#1-4-docker的数据卷" class="headerlink" title="1.4 docker的数据卷"></a>1.4 docker的数据卷</h3><h4 id="1-4-1数据卷"><a href="#1-4-1数据卷" class="headerlink" title="1.4.1数据卷"></a>1.4.1数据卷</h4><ul><li>数据卷是宿主机的一个目录或文件</li><li>当容器目录和数据卷目录绑定后，双方的修改会立即同步</li><li>一个数据卷可以被多个容器同时挂载</li><li>一个容器也可以挂载多个数据卷</li></ul><p><img src="https://s2.loli.net/2023/01/07/n4opJqj2mZLcVEr.png" alt="image-20230107130856496"></p><h4 id="1-4-2-配置数据卷"><a href="#1-4-2-配置数据卷" class="headerlink" title="1.4.2 配置数据卷"></a>1.4.2 配置数据卷</h4><p><img src="https://s2.loli.net/2023/01/07/nhiLFR36IH2yPaw.png" alt="image-20230107131056438"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=centos -v /root/data:/root/data_container centos /bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="1-5-配置数据卷"><a href="#1-5-配置数据卷" class="headerlink" title="1.5 配置数据卷"></a>1.5 配置数据卷</h3><h4 id="1-5-1-数据卷容器"><a href="#1-5-1-数据卷容器" class="headerlink" title="1.5.1 数据卷容器"></a>1.5.1 数据卷容器</h4><p><img src="https://s2.loli.net/2023/01/07/ZQEopgIb1hVBDvl.png" alt="image-20230107131227158"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=c3 --volumes-from c2 centos</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2023/01/07/gmnTC7d41brvjPi.png" alt="image-20230107131254966"></p><h3 id="1-6-docker应用部署"><a href="#1-6-docker应用部署" class="headerlink" title="1.6 docker应用部署"></a>1.6 docker应用部署</h3><h4 id="1-6-1-mysql部署"><a href="#1-6-1-mysql部署" class="headerlink" title="1.6.1 mysql部署"></a>1.6.1 mysql部署</h4><p><img src="https://s2.loli.net/2023/01/07/bqvGSO32Fgef8Ct.png" alt="image-20230107131350040"></p><ul><li>搜索MySQL镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure><ul><li>拉取镜像</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker  pull mysql:5.7</span><br></pre></td></tr></table></figure><ul><li>创建容器</li></ul><p><img src="https://s2.loli.net/2023/01/07/kKwCYQjocNn83bT.png" alt="image-20230107131534454"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-20-13-centos mysql]# docker run -id -p 3306:3306 --name=c_mysql \</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">-v <span class="variable">$PWD</span>/conf:/etc/mysql/conf.d \</span></span><br><span class="line"><span class="language-bash">&gt; -v  <span class="variable">$PWD</span>/logs:/logs \</span></span><br><span class="line"><span class="language-bash">&gt; -v <span class="variable">$PWD</span>/dat:/var/lib/mysql \</span></span><br><span class="line"><span class="language-bash">&gt; -e MYSQL_ROOT_PASSWORD=123456 \</span></span><br><span class="line"><span class="language-bash">&gt; mysql:5.7</span></span><br><span class="line">2d4e596da3f959a75a50488ef8057fc9ebfaa37f5d2197616358ebd66aac804f</span><br><span class="line">[root@VM-20-13-centos mysql]# docker  exec -it c_mysql /bin/bash</span><br><span class="line">root@2d4e596da3f9:/# </span><br></pre></td></tr></table></figure><ul><li>操作容器中的mysql</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">root@2d4e596da3f9:/# mysql -uroot -p       </span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 3</span><br><span class="line">Server version: 5.7.36 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">4 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line">Bye</span><br><span class="line">root@2d4e596da3f9:/# </span><br><span class="line">root@2d4e596da3f9:/# </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run -it -d</span><br><span class="line"> --name nginx</span><br><span class="line">-v ~/software/nginx/:/etc/nginx/</span><br><span class="line">-v ~/software/nginx/logs:/var/log/nginx/ </span><br><span class="line">-v ~/software/nginx/www/:/usr/share/nginx/html/ -p 80:80 </span><br><span class="line">nginx</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 云计算 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 云计算,docker </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
